import{r as u,j as o}from"./iframe-BwUhuRm7.js";import{f as O,P as C,A as P}from"./PropsContextProvider-Cfu_dxW5.js";import{u as w}from"./DialogTriggerView-BL8MNJX8.js";import{a as A}from"./Option-Cy1DItbm.js";import{T as d}from"./Text-BBSS7FYM.js";import{$ as N}from"./useLocalizedStringFormatter-CNjvSUsH.js";import{$ as F}from"./useFilter-BCGAIRRH.js";import{b as I}from"./useFocusRing-UIPQHDoL.js";import{i as D}from"./OverlayArrow-CKENjgaB.js";import{s as M}from"./Dialog-uD5rPHFv.js";const R={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},S="flow--autocomplete--popover",T="flow--autocomplete--empty",i={popover:S,empty:T},W=O("Autocomplete",b=>{const{children:x,...h}=b,{contains:y}=F({sensitivity:"base"}),a=N(R),l=u.useRef(null),s=u.useRef(null),n=w("Popover",{reuseControllerFromContext:!1}),m=n.useIsOpen(),g=I({onBlurWithin:n.close}),f={onKeyDown:e=>{e.key==="Enter"&&m&&e.preventDefault()},ref:s},v=()=>o.jsx(d,{className:i.empty,children:a.format("autocomplete.empty")}),$={ContextMenu:{placement:"bottom start",controller:n,isNonModal:!0,renderEmptyState:()=>o.jsx(d,{className:i.empty,children:a.format("autocomplete.empty")}),onAction:e=>{var c;const t=s.current;if(t){const r=(c=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"))==null?void 0:c.set;r==null||r.call(t,String(e));const p=new Event("change",{bubbles:!0});t.dispatchEvent(p)}},triggerRef:s},SearchField:f,TextField:f,Option:{tunnelId:"options"},Popover:{className:i.popover}},j=e=>{e?m||n.open():n.close()},E=e=>{var c;const t=s.current;if(t){const r=(c=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:c.set;r==null||r.call(t,String(e));const p=new Event("change",{bubbles:!0});t.dispatchEvent(p)}n.close()};return o.jsx(C,{props:$,mergeInParentContext:!0,children:o.jsx("div",{...g.focusWithinProps,ref:l,children:o.jsx(D,{getContainer:()=>l.current,children:o.jsxs(M,{onInputChange:j,filter:y,disableAutoFocusFirst:!0,...h,children:[x,o.jsx(A,{onAction:E,triggerRef:s,controller:n,renderEmptyState:v,isNonModal:!0,placement:"bottom start",children:o.jsx(P,{id:"options"})})]})})})})});W.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{W as A};
