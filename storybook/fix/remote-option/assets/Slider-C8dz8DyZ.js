import{r as f,R as j,j as R}from"./iframe-BrFbgMdZ.js";import{f as Te,P as ye}from"./PropsContextProvider-DlKSdUnj.js";import{c as xe}from"./clsx-B-dksMZM.js";import{B as le}from"./Button-DrqjXTlc.js";import{q as we,d as De}from"./IconWarning-aBCbZP3e.js";import{$ as Ve}from"./useLocalizedStringFormatter-BeYnnAMh.js";import{$ as _,g as de,a as W,e as ce,c as Me}from"./utils-uGt6lEHy.js";import{$ as fe}from"./Label-Dtl4zIvG.js";import{c as ie,$ as A}from"./mergeRefs-CglpECzs.js";import{$ as me}from"./filterDOMProps-CghfNOdR.js";import{b as q,$ as ee,c as ke}from"./ProgressBar-CACYrIaY.js";import{$ as Re}from"./useControlledState-n0b34ryi.js";import{c as te,$ as be,a as Ke}from"./useFocusRing-Dpc6yEcL.js";import{D as Se,m as Fe}from"./useFocus-D9Wd5vZ-.js";import{g as Ee,h as Ie}from"./usePress-IpqNhXgC.js";import{a as pe}from"./useLabel-BY-hcXqn.js";import{$ as he}from"./context-B0-ElNi2.js";import{$ as Ce}from"./useFormReset-UpbI-Wf0.js";import{a as Le,$ as Ne}from"./useFocusable-BzJo03Xl.js";import{$ as je}from"./VisuallyHidden-BzneT5H9.js";function ge(n){let{onMoveStart:e,onMove:t,onMoveEnd:u}=n,d=f.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:a,removeGlobalListener:g}=te(),m=ie((o,b,h,l)=>{h===0&&l===0||(d.current.didMove||(d.current.didMove=!0,e==null||e({type:"movestart",pointerType:b,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})),t==null||t({type:"move",pointerType:b,deltaX:h,deltaY:l,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))}),p=ie((o,b)=>{Ee(),d.current.didMove&&(u==null||u({type:"moveend",pointerType:b,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))});return{moveProps:f.useMemo(()=>{let o={},b=()=>{Ie(),d.current.didMove=!1};{let l=c=>{if(c.pointerId===d.current.id){var v,i;let K=c.pointerType||"mouse";var P,D;m(c,K,c.pageX-((P=(v=d.current.lastPosition)===null||v===void 0?void 0:v.pageX)!==null&&P!==void 0?P:0),c.pageY-((D=(i=d.current.lastPosition)===null||i===void 0?void 0:i.pageY)!==null&&D!==void 0?D:0)),d.current.lastPosition={pageX:c.pageX,pageY:c.pageY}}},w=c=>{if(c.pointerId===d.current.id){let v=c.pointerType||"mouse";p(c,v),d.current.id=null,g(window,"pointermove",l,!1),g(window,"pointerup",w,!1),g(window,"pointercancel",w,!1)}};o.onPointerDown=c=>{c.button===0&&d.current.id==null&&(b(),c.stopPropagation(),c.preventDefault(),d.current.lastPosition={pageX:c.pageX,pageY:c.pageY},d.current.id=c.pointerId,a(window,"pointermove",l,!1),a(window,"pointerup",w,!1),a(window,"pointercancel",w,!1))}}let h=(l,w,c)=>{b(),m(l,"keyboard",w,c),p(l,"keyboard")};return o.onKeyDown=l=>{switch(l.key){case"Left":case"ArrowLeft":l.preventDefault(),l.stopPropagation(),h(l,-1,0);break;case"Right":case"ArrowRight":l.preventDefault(),l.stopPropagation(),h(l,1,0);break;case"Up":case"ArrowUp":l.preventDefault(),l.stopPropagation(),h(l,0,-1);break;case"Down":case"ArrowDown":l.preventDefault(),l.stopPropagation(),h(l,0,1);break}},o},[d,a,g,m,p])}}const Ae=0,He=100,Ue=1;function ze(n){const{isDisabled:e=!1,minValue:t=Ae,maxValue:u=He,numberFormatter:d,step:a=Ue,orientation:g="horizontal"}=n;let m=f.useMemo(()=>{let r=(u-t)/10;return r=q(r,0,r+a,a),Math.max(r,a)},[a,u,t]),p=f.useCallback(r=>r==null?void 0:r.map(($,V)=>{let B=V===0?t:r[V-1],G=V===r.length-1?u:r[V+1];return q($,B,G,a)}),[t,u,a]),x=f.useMemo(()=>p(ue(n.value)),[n.value,p]),o=f.useMemo(()=>{var r;return p((r=ue(n.defaultValue))!==null&&r!==void 0?r:[t])},[n.defaultValue,t,p]),b=se(n.value,n.defaultValue,n.onChange),h=se(n.value,n.defaultValue,n.onChangeEnd);const[l,w]=Re(x,o,b);let[c]=f.useState(l);const[v,i]=f.useState(new Array(l.length).fill(!1)),P=f.useRef(new Array(l.length).fill(!0)),[D,K]=f.useState(void 0),y=f.useRef(l),T=f.useRef(v);let C=r=>{y.current=r,w(r)},L=r=>{T.current=r,i(r)};function z(r){return(r-t)/(u-t)}function X(r){return r===0?t:l[r-1]}function O(r){return r===l.length-1?u:l[r+1]}function H(r){return P.current[r]}function N(r,$){P.current[r]=$}function M(r,$){if(e||!H(r))return;const V=X(r),B=O(r);$=q($,V,B,a);let G=oe(y.current,r,$);C(G)}function k(r,$){if(e||!H(r))return;$&&(y.current=l);const V=T.current[r];T.current=oe(T.current,r,$),L(T.current),h&&V&&!T.current.some(Boolean)&&h(y.current)}function S(r){return d.format(r)}function s(r,$){M(r,E($))}function F(r){return Math.round((r-t)/a)*a+t}function E(r){const $=r*(u-t)+t;return ee(F($),t,u)}function U(r,$=1){let V=Math.max($,a);M(r,q(l[r]+V,t,u,a))}function Y(r,$=1){let V=Math.max($,a);M(r,q(l[r]-V,t,u,a))}return{values:l,defaultValues:n.defaultValue!==void 0?o:c,getThumbValue:r=>l[r],setThumbValue:M,setThumbPercent:s,isThumbDragging:r=>v[r],setThumbDragging:k,focusedThumb:D,setFocusedThumb:K,getThumbPercent:r=>z(l[r]),getValuePercent:z,getThumbValueLabel:r=>S(l[r]),getFormattedValue:S,getThumbMinValue:X,getThumbMaxValue:O,getPercentValue:E,isThumbEditable:H,setThumbEditable:N,incrementThumb:U,decrementThumb:Y,step:a,pageSize:m,orientation:g,isDisabled:e}}function oe(n,e,t){return n[e]===t?n:[...n.slice(0,e),t,...n.slice(e+1)]}function ue(n){if(n!=null)return Array.isArray(n)?n:[n]}function se(n,e,t){return u=>{typeof n=="number"||typeof e=="number"?t==null||t(u[0]):t==null||t(u)}}const re=new WeakMap;function Z(n,e){let t=re.get(n);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Be(n,e,t){let{labelProps:u,fieldProps:d}=pe(n),a=n.orientation==="vertical";var g;re.set(e,{id:(g=u.id)!==null&&g!==void 0?g:d.id,"aria-describedby":n["aria-describedby"],"aria-details":n["aria-details"]});let{direction:m}=he(),{addGlobalListener:p,removeGlobalListener:x}=te();const o=f.useRef(null),b=m==="rtl",h=f.useRef(null),{moveProps:l}=ge({onMoveStart(){h.current=null},onMove({deltaX:i,deltaY:P}){if(!t.current)return;let{height:D,width:K}=t.current.getBoundingClientRect(),y=a?D:K;h.current==null&&o.current!=null&&(h.current=e.getThumbPercent(o.current)*y);let T=a?P:i;if((a||b)&&(T=-T),h.current+=T,o.current!=null&&t.current){const C=ee(h.current/y,0,1);e.setThumbPercent(o.current,C)}},onMoveEnd(){o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null)}});let w=f.useRef(void 0),c=(i,P,D,K)=>{if(t.current&&!n.isDisabled&&e.values.every((y,T)=>!e.isThumbDragging(T))){let{height:y,width:T,top:C,left:L}=t.current.getBoundingClientRect(),z=a?y:T,N=((a?K:D)-(a?C:L))/z;(m==="rtl"||a)&&(N=1-N);let M=e.getPercentValue(N),k,S=e.values.findIndex(s=>M-s<0);if(S===0)k=S;else if(S===-1)k=e.values.length-1;else{let s=e.values[S-1],F=e.values[S];Math.abs(s-M)<Math.abs(F-M)?k=S-1:k=S}k>=0&&e.isThumbEditable(k)?(i.preventDefault(),o.current=k,e.setFocusedThumb(k),w.current=P,e.setThumbDragging(o.current,!0),e.setThumbValue(k,M),p(window,"mouseup",v,!1),p(window,"touchend",v,!1),p(window,"pointerup",v,!1)):o.current=null}},v=i=>{var P,D;((D=i.pointerId)!==null&&D!==void 0?D:(P=i.changedTouches)===null||P===void 0?void 0:P[0].identifier)===w.current&&(o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null),x(window,"mouseup",v,!1),x(window,"touchend",v,!1),x(window,"pointerup",v,!1))};return"htmlFor"in u&&u.htmlFor&&(delete u.htmlFor,u.onClick=()=>{var i;(i=document.getElementById(Z(e,0)))===null||i===void 0||i.focus(),Se("keyboard")}),{labelProps:u,groupProps:{role:"group",...d},trackProps:A({onMouseDown(i){i.button!==0||i.altKey||i.ctrlKey||i.metaKey||c(i,void 0,i.clientX,i.clientY)},onPointerDown(i){i.pointerType==="mouse"&&(i.button!==0||i.altKey||i.ctrlKey||i.metaKey)||c(i,i.pointerId,i.clientX,i.clientY)},onTouchStart(i){c(i,i.changedTouches[0].identifier,i.changedTouches[0].clientX,i.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},l),outputProps:{htmlFor:e.values.map((i,P)=>Z(e,P)).join(" "),"aria-live":"off"}}}function Ge(n,e){let{index:t=0,isRequired:u,validationState:d,isInvalid:a,trackRef:g,inputRef:m,orientation:p=e.orientation,name:x,form:o}=n,b=n.isDisabled||e.isDisabled,h=p==="vertical",{direction:l}=he(),{addGlobalListener:w,removeGlobalListener:c}=te(),v=re.get(e);var i;const{labelProps:P,fieldProps:D}=pe({...n,id:Z(e,t),"aria-labelledby":`${v.id} ${(i=n["aria-labelledby"])!==null&&i!==void 0?i:""}`.trim()}),K=e.values[t],y=f.useCallback(()=>{m.current&&Fe(m.current)},[m]),T=e.focusedThumb===t;f.useEffect(()=>{T&&y()},[T,y]);let C=l==="rtl",L=f.useRef(null),{keyboardProps:z}=Le({onKeyDown(s){let{getThumbMaxValue:F,getThumbMinValue:E,decrementThumb:U,incrementThumb:Y,setThumbValue:r,setThumbDragging:$,pageSize:V}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(s.key)){s.continuePropagation();return}switch(s.preventDefault(),$(t,!0),s.key){case"PageUp":Y(t,V);break;case"PageDown":U(t,V);break;case"Home":r(t,E(t));break;case"End":r(t,F(t));break}$(t,!1)}}),{moveProps:X}=ge({onMoveStart(){L.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:s,deltaY:F,pointerType:E,shiftKey:U}){const{getThumbPercent:Y,setThumbPercent:r,decrementThumb:$,incrementThumb:V,step:B,pageSize:G}=e;if(!g.current)return;let{width:ve,height:Pe}=g.current.getBoundingClientRect(),ae=h?Pe:ve;if(L.current==null&&(L.current=Y(t)*ae),E==="keyboard")s>0&&C||s<0&&!C||F>0?$(t,U?G:B):V(t,U?G:B);else{let Q=h?F:s;(h||C)&&(Q=-Q),L.current+=Q,r(t,ee(L.current/ae,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!b);const{focusableProps:O}=Ne(A(n,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),m);let H=f.useRef(void 0),N=s=>{y(),H.current=s,e.setThumbDragging(t,!0),w(window,"mouseup",M,!1),w(window,"touchend",M,!1),w(window,"pointerup",M,!1)},M=s=>{var F,E;((E=s.pointerId)!==null&&E!==void 0?E:(F=s.changedTouches)===null||F===void 0?void 0:F[0].identifier)===H.current&&(y(),e.setThumbDragging(t,!1),c(window,"mouseup",M,!1),c(window,"touchend",M,!1),c(window,"pointerup",M,!1))},k=e.getThumbPercent(t);(h||l==="rtl")&&(k=1-k);let S=b?{}:A(z,X,{onMouseDown:s=>{s.button!==0||s.altKey||s.ctrlKey||s.metaKey||N()},onPointerDown:s=>{s.button!==0||s.altKey||s.ctrlKey||s.metaKey||N(s.pointerId)},onTouchStart:s=>{N(s.changedTouches[0].identifier)}});return Ce(m,e.defaultValues[t],s=>{e.setThumbValue(t,s)}),{inputProps:A(O,D,{type:"range",tabIndex:b?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:K,name:x,form:o,disabled:b,"aria-orientation":p,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":u||void 0,"aria-invalid":a||d==="invalid"||void 0,"aria-errormessage":n["aria-errormessage"],"aria-describedby":[v["aria-describedby"],n["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[v["aria-details"],n["aria-details"]].filter(Boolean).join(" "),onChange:s=>{e.setThumbValue(t,parseFloat(s.target.value))}}),thumbProps:{...S,style:{position:"absolute",[h?"top":"left"]:`${k*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:P,isDragging:e.isThumbDragging(t),isDisabled:b,isFocused:T}}const Xe=f.createContext(null),J=f.createContext(null),ne=f.createContext(null),$e=f.createContext(null),Oe=f.forwardRef(function(e,t){[e,t]=_(e,t,Xe);let u=f.useRef(null),d=ke(e.formatOptions),a=ze({...e,numberFormatter:d}),[g,m]=de(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:p,trackProps:x,labelProps:o,outputProps:b}=Be({...e,label:m},a,u),h=W({...e,values:{orientation:a.orientation,isDisabled:a.isDisabled,state:a},defaultClassName:"react-aria-Slider"}),l=me(e,{global:!0});return delete l.id,j.createElement(ce,{values:[[J,a],[ne,{...x,ref:u}],[$e,b],[fe,{...o,ref:g}]]},j.createElement("div",{...A(l,h,p),ref:t,slot:e.slot||void 0,"data-orientation":a.orientation,"data-disabled":a.isDisabled||void 0}))}),Ye=f.forwardRef(function(e,t){[e,t]=_(e,t,$e);let{children:u,style:d,className:a,...g}=e,m=f.useContext(J),p=W({className:a,style:d,children:u,defaultChildren:m.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:m.orientation,isDisabled:m.isDisabled,state:m}});return j.createElement("output",{...g,...p,ref:t,"data-orientation":m.orientation||void 0,"data-disabled":m.isDisabled||void 0})}),qe=f.forwardRef(function(e,t){[e,t]=_(e,t,ne);let u=f.useContext(J),{onHoverStart:d,onHoverEnd:a,onHoverChange:g,...m}=e,{hoverProps:p,isHovered:x}=be({onHoverStart:d,onHoverEnd:a,onHoverChange:g}),o=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:u.orientation,isDisabled:u.isDisabled,isHovered:x,state:u}});return j.createElement("div",{...A(m,p),...o,ref:t,"data-hovered":x||void 0,"data-orientation":u.orientation||void 0,"data-disabled":u.isDisabled||void 0})}),We=f.forwardRef(function(e,t){let{inputRef:u=null}=e,d=f.useContext(J),{ref:a}=Me(ne),{index:g=0}=e,m=f.useRef(null),p=u||m,[x,o]=de(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:b,inputProps:h,labelProps:l,isDragging:w,isFocused:c,isDisabled:v}=Ge({...e,index:g,trackRef:a,inputRef:p,label:o},d),{focusProps:i,isFocusVisible:P}=Ke(),{hoverProps:D,isHovered:K}=be(e),y=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:d,isHovered:K,isDragging:w,isFocused:c,isFocusVisible:P,isDisabled:v}}),T=me(e,{global:!0});return delete T.id,j.createElement("div",{...A(T,b,D),...y,ref:t,style:{...b.style,...y.style},"data-hovered":K||void 0,"data-dragging":w||void 0,"data-focused":c||void 0,"data-focus-visible":P||void 0,"data-disabled":v||void 0},j.createElement(je,null,j.createElement("input",{ref:p,...A(h,i)})),j.createElement(ce,{values:[[fe,{...l,ref:x}]]},y.children))}),Je="flow--slider",Qe="flow--slider--text",Ze="flow--slider--value",_e="flow--slider--track",et="flow--slider--fill",tt="flow--slider--initial-marker",rt="flow--slider--handle",nt="flow--slider--increment",at="flow--slider--decrement",lt="flow--slider--disabled",I={slider:Je,text:Qe,value:Ze,track:_e,fill:et,initialMarker:tt,handle:rt,increment:nt,decrement:at,disabled:lt},it={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},ot=Te("Slider",n=>{const{className:e,children:t,name:u,isDisabled:d,defaultValue:a,showInitialMarker:g,...m}=n,p=xe(I.slider,d&&I.disabled,e),x=Ve(it),o={Label:{unstyled:!0}};return R.jsxs(Oe,{className:p,isDisabled:d,defaultValue:a,...m,children:[R.jsxs("div",{className:I.text,children:[R.jsx(Ye,{className:I.value}),R.jsx(ye,{props:o,children:t})]}),R.jsx(qe,{className:I.track,children:({state:b})=>R.jsxs(R.Fragment,{children:[R.jsx(le,{onPress:()=>b.decrementThumb(0),"aria-label":x.format("slider.decrement"),variant:"plain",color:"secondary",className:I.decrement,isDisabled:d,excludeFromTabOrder:!0,children:R.jsx(we,{})}),R.jsx(le,{onPress:()=>b.incrementThumb(0),"aria-label":x.format("slider.increment"),variant:"plain",color:"secondary",className:I.increment,isDisabled:d,excludeFromTabOrder:!0,children:R.jsx(De,{})}),R.jsx("div",{className:I.fill,style:{width:b.getThumbPercent(0)*100+"%"}}),g&&a&&typeof a=="number"&&R.jsx("div",{className:I.initialMarker,style:{left:`calc(${b.getValuePercent(a)*100}% - 2px)`}}),R.jsx(We,{name:u,className:I.handle})]})})]})});ot.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"Slider"};export{ot as S};
