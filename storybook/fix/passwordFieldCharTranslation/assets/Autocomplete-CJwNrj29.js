import{j as p}from"./jsx-runtime-D_zvdyIk.js";import{r as y}from"./index-BdpSHsi2.js";import{f as g,P as C}from"./PropsContextProvider-CQxUgHLB.js";import{u as $}from"./DialogTriggerView-DZ2USpwr.js";import{T as h}from"./Text-DS75_L_P.js";import{$ as E}from"./useLocalizedStringFormatter-Bs3jJydz.js";import{$ as v}from"./useFilter-C2pFErnT.js";import{b as w}from"./Dialog-DpYCtZ3W.js";const j="flow--autocomplete--empty",I={empty:j},O={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},P=g("Autocomplete",m=>{const{children:l,...i}=m,f=E(O),{contains:u}=v({sensitivity:"base"}),o=y.useRef(null),t=$("ContextMenu",{reuseControllerFromContext:!1}),n=t.useIsOpen(),c={onKeyDown:e=>{e.key==="Enter"&&n&&e.preventDefault()},ref:o},d={ContextMenu:{placement:"bottom start",controller:t,isNonModal:!0,renderEmptyState:()=>p.jsx(h,{className:I.empty,children:f.format("autocomplete.empty")}),onAction:e=>{var a;const r=o.current;if(r){const s=(a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:a.set;s==null||s.call(r,String(e));const x=new Event("input",{bubbles:!0});r.dispatchEvent(x)}},triggerRef:o},SearchField:c,TextField:c},b=e=>{e?n||t.open():t.close()};return p.jsx(C,{props:d,mergeInParentContext:!0,dependencies:[n,t],children:p.jsx(w,{onInputChange:b,filter:u,...i,children:l})})});P.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{P as A};
