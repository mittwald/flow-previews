import{j as v}from"./jsx-runtime-D_zvdyIk.js";import{f as A}from"./FormField.module-B9AzUSUD.js";import{c as fa}from"./clsx-B-dksMZM.js";import{f as ba,C as ma,P as $a}from"./PropsContextProvider-Z6dNDEdK.js";import{F as pa}from"./FieldError-HNNhx60-.js";import{B as be}from"./Button-DA80LBrn.js";import{r as d,R as Q}from"./index-BdpSHsi2.js";import{e as xa,W as va,Y as Fa,d as La}from"./IconWarning-DGmFPVFP.js";import{R as Da}from"./ReactAriaControlledValueFix-SEnjHoLp.js";import{a as Pa}from"./Button-BV9jeieD.js";import{$ as Na,c as Ba,d as Ca,e as ha,a as Ea,b as ga}from"./utils-q_Aud5Js.js";import{a as Va}from"./FieldError-D2eBwE7I.js";import{a as Sa}from"./Form-CSvT4C5Q.js";import{a as ya,$ as Ma}from"./Group-wR-qYHNv.js";import{$ as xe,a as Ia}from"./Input-Dom3MqAg.js";import{$ as wa}from"./Label-C5gSD-Mq.js";import{a as ja}from"./Text-DtGJyZhh.js";import{$ as ve}from"./filterDOMProps-CeZl_uWj.js";import{$ as ka,a as Ra}from"./useLocalizedStringFormatter-QO03R6A5.js";import{$ as Oa}from"./useControlledState-rjpdN6qd.js";import{d as C,c as ee,a as me}from"./ProgressBar-DbWwTk60.js";import{$ as Ta,b as Aa}from"./useFormValidation-BP6joqgG.js";import{$ as $e}from"./NumberFormatter-DNR9MAW-.js";import{$ as Wa,a as Ka}from"./useSpinButton-PhnS8dt7.js";import{a as _a,$ as q,e as ae,g as qa}from"./mergeRefs-COuk0-v5.js";import{b as za,E as Ua,j as Ya,y as Za}from"./useFocus-4XTC7e6o.js";import{$ as Ha}from"./useFormReset-B9LhY6oC.js";import{$ as Ga}from"./useFocusRing-DY5AGIis.js";import{$ as Xa}from"./useEvent-C_OiV_rL.js";import{$ as Ja}from"./useTextField-xVyqyefx.js";function Qa(e,a){let{onScroll:r,isDisabled:n}=e,u=d.useCallback(i=>{i.ctrlKey||(i.preventDefault(),i.stopPropagation(),r&&r({deltaX:i.deltaX,deltaY:i.deltaY}))},[r]);Xa(a,"wheel",n?void 0:u)}function er(e){let{minValue:a,maxValue:r,step:n,formatOptions:u,value:i,defaultValue:f=NaN,onChange:$,locale:s,isDisabled:F,isReadOnly:L}=e;i===null&&(i=NaN),i!==void 0&&!isNaN(i)&&(n!==void 0&&!isNaN(n)?i=C(i,a,r,n):i=ee(i,a,r)),isNaN(f)||(n!==void 0&&!isNaN(n)?f=C(f,a,r,n):f=ee(f,a,r));let[t,l]=Oa(i,isNaN(f)?NaN:f,$),[c,D]=d.useState(()=>isNaN(t)?"":new $e(s,u).format(t)),P=d.useMemo(()=>new Wa(s,u),[s,u]),V=d.useMemo(()=>P.getNumberingSystem(c),[P,c]),N=d.useMemo(()=>new $e(s,{...u,numberingSystem:V}),[s,u,V]),M=d.useMemo(()=>N.resolvedOptions(),[N]),p=d.useCallback(o=>isNaN(o)||o===null?"":N.format(o),[N]),B=Ta({...e,value:t}),b=n!==void 0&&!isNaN(n)?n:1;M.style==="percent"&&(n===void 0||isNaN(n))&&(b=.01);let[z,I]=d.useState(t),[U,w]=d.useState(s),[Y,S]=d.useState(u);(!Object.is(t,z)||s!==U||u!==Y)&&(D(p(t)),I(t),w(s),S(u));let m=d.useMemo(()=>P.parse(c),[P,c]),j=()=>{if(!c.length){l(NaN),D(i===void 0?"":p(t));return}if(isNaN(m)){D(p(t));return}let o;n===void 0||isNaN(n)?o=ee(m,a,r):o=C(m,a,r,n),o=P.parse(p(o)),l(o),D(p(i===void 0?o:t))},k=(o,_=0)=>{let h=m;if(isNaN(h)){let E=isNaN(_)?0:_;return C(E,a,r,b)}else{let E=C(h,a,r,b);return o==="+"&&E>h||o==="-"&&E<h?E:C(re(o,h,b),a,r,b)}},R=()=>{let o=k("+",a);o===t&&D(p(o)),l(o),B.commitValidation()},O=()=>{let o=k("-",r);o===t&&D(p(o)),l(o),B.commitValidation()},Z=()=>{r!=null&&(l(C(r,a,r,b)),B.commitValidation())},W=()=>{a!=null&&(l(a),B.commitValidation())},H=d.useMemo(()=>!F&&!L&&(isNaN(m)||r===void 0||isNaN(r)||C(m,a,r,b)>m||re("+",m,b)<=r),[F,L,a,r,b,m]),K=d.useMemo(()=>!F&&!L&&(isNaN(m)||a===void 0||isNaN(a)||C(m,a,r,b)<m||re("-",m,b)>=a),[F,L,a,r,b,m]);return{...B,validate:o=>P.isValidPartialNumber(o,a,r),increment:R,incrementToMax:Z,decrement:O,decrementToMin:W,canIncrement:H,canDecrement:K,minValue:a,maxValue:r,numberValue:m,setNumberValue:l,setInputValue:D,inputValue:c,commit:j}}function re(e,a,r){let n=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const u=a.toString().split("."),i=r.toString().split("."),f=u[1]&&u[1].length||0,$=i[1]&&i[1].length||0,s=Math.pow(10,Math.max(f,$));a=Math.round(a*s),r=Math.round(r*s),n=e==="+"?a+r:a-r,n/=s}return n}function pe(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function ar(e,a,r){let n=_a(t=>{let l=r.current;if(!l)return;let c=null;switch(t.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":c=l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentForward":c=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd+1):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentBackward":c=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart-1)+l.value.slice(l.selectionStart):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":c=l.value.slice(l.selectionStart);break;default:t.data!=null&&(c=l.value.slice(0,l.selectionStart)+t.data+l.value.slice(l.selectionEnd));break}(c==null||!a.validate(c))&&t.preventDefault()});d.useEffect(()=>{if(!pe()||!r.current)return;let t=r.current;return t.addEventListener("beforeinput",n,!1),()=>{t.removeEventListener("beforeinput",n,!1)}},[r,n]);let u=pe()?null:t=>{let l=t.target.value.slice(0,t.target.selectionStart)+t.data+t.target.value.slice(t.target.selectionEnd);a.validate(l)||t.preventDefault()},{labelProps:i,inputProps:f,descriptionProps:$,errorMessageProps:s,...F}=Ja(e,r),L=d.useRef(null);return{inputProps:q(f,{onBeforeInput:u,onCompositionStart(){let{value:t,selectionStart:l,selectionEnd:c}=r.current;L.current={value:t,selectionStart:l,selectionEnd:c}},onCompositionEnd(){if(r.current&&!a.validate(r.current.value)){let{value:t,selectionStart:l,selectionEnd:c}=L.current;r.current.value=t,r.current.setSelectionRange(l,c),a.setInputValue(t)}}}),labelProps:i,descriptionProps:$,errorMessageProps:s,...F}}var Fe={};Fe={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var Le={};Le={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var De={};De={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var Pe={};Pe={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var Ne={};Ne={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var Be={};Be={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var Ce={};Ce={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var he={};he={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ee={};Ee={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var ge={};ge={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var Ve={};Ve={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var Se={};Se={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var ye={};ye={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Me={};Me={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var Ie={};Ie={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var we={};we={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var je={};je={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var ke={};ke={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var Re={};Re={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Oe={};Oe={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Te={};Te={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var Ae={};Ae={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var We={};We={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ke={};Ke={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var _e={};_e={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var qe={};qe={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var ze={};ze={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var Ue={};Ue={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var Ye={};Ye={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ze={};Ze={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var He={};He={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var Ge={};Ge={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var Xe={};Xe={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Je={};Je={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var Qe={};Qe={"ar-AE":Fe,"bg-BG":Le,"cs-CZ":De,"da-DK":Pe,"de-DE":Ne,"el-GR":Be,"en-US":Ce,"es-ES":he,"et-EE":Ee,"fi-FI":ge,"fr-FR":Ve,"he-IL":Se,"hr-HR":ye,"hu-HU":Me,"it-IT":Ie,"ja-JP":we,"ko-KR":je,"lt-LT":ke,"lv-LV":Re,"nb-NO":Oe,"nl-NL":Te,"pl-PL":Ae,"pt-BR":We,"pt-PT":Ke,"ro-RO":_e,"ru-RU":qe,"sk-SK":ze,"sl-SI":Ue,"sr-SP":Ye,"sv-SE":Ze,"tr-TR":He,"uk-UA":Ge,"zh-CN":Xe,"zh-TW":Je};function rr(e){return e&&e.__esModule?e.default:e}function lr(e,a,r){let{id:n,decrementAriaLabel:u,incrementAriaLabel:i,isDisabled:f,isReadOnly:$,isRequired:s,minValue:F,maxValue:L,autoFocus:t,label:l,formatOptions:c,onBlur:D=()=>{},onFocus:P,onFocusChange:V,onKeyDown:N,onKeyUp:M,description:p,errorMessage:B,isWheelDisabled:b,...z}=e,{increment:I,incrementToMax:U,decrement:w,decrementToMin:Y,numberValue:S,inputValue:m,commit:j,commitValidation:k}=a;const R=ka(rr(Qe),"@react-aria/numberfield");let O=ae(n),{focusProps:Z}=za({onBlur(){j()}}),W=me(c),H=d.useMemo(()=>W.resolvedOptions(),[W]),K=me({...c,currencySign:void 0}),le=d.useMemo(()=>isNaN(S)?"":K.format(S),[K,S]),{spinButtonProps:o,incrementButtonProps:_,decrementButtonProps:h}=Ka({isDisabled:f,isReadOnly:$,isRequired:s,maxValue:L,minValue:F,onIncrement:I,onIncrementToMax:U,onDecrement:w,onDecrementToMin:Y,value:S,textValue:le}),[E,ea]=d.useState(!1),{focusWithinProps:aa}=Ga({isDisabled:f,onFocusWithinChange:ea}),ra=d.useCallback(x=>{Math.abs(x.deltaY)<=Math.abs(x.deltaX)||(x.deltaY>0?I():x.deltaY<0&&w())},[w,I]);Qa({onScroll:ra,isDisabled:b||f||$||!E},r);var G;let te=((G=H.maximumFractionDigits)!==null&&G!==void 0?G:0)>0,ie=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,T="numeric";Ua()?ie?T="text":te&&(T="decimal"):Ya()&&(ie?T="numeric":te&&(T="decimal"));let la=x=>{a.validate(x)&&a.setInputValue(x)},ta=ve(e),ne=d.useCallback(x=>{x.key==="Enter"?(j(),k()):x.continuePropagation()},[j,k]),{isInvalid:oe,validationErrors:ia,validationDetails:na}=a.displayValidation,{labelProps:ue,inputProps:oa,descriptionProps:ua,errorMessageProps:sa}=ar({...z,...ta,name:void 0,label:l,autoFocus:t,isDisabled:f,isReadOnly:$,isRequired:s,validate:void 0,[Aa]:a,value:m,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:O,type:"text",inputMode:T,onChange:la,onBlur:D,onFocus:P,onFocusChange:V,onKeyDown:d.useMemo(()=>qa(ne,N),[ne,N]),onKeyUp:M,description:p,errorMessage:B},a,r);Ha(r,a.numberValue,a.setNumberValue);let se=q(o,Z,oa,{role:null,"aria-roledescription":Za()?null:R.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(se["aria-required"]=void 0);let de=x=>{var J;document.activeElement!==r.current&&(x.pointerType==="mouse"?(J=r.current)===null||J===void 0||J.focus():x.target.focus())},X=e["aria-label"]||(typeof e.label=="string"?e.label:""),g;X||(g=e.label!=null?ue.id:e["aria-labelledby"]);let ce=ae(),fe=ae(),da=q(_,{"aria-label":i||R.format("increase",{fieldLabel:X}).trim(),id:g&&!i?ce:null,"aria-labelledby":g&&!i?`${ce} ${g}`:null,"aria-controls":O,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:de}),ca=q(h,{"aria-label":u||R.format("decrease",{fieldLabel:X}).trim(),id:g&&!u?fe:null,"aria-labelledby":g&&!u?`${fe} ${g}`:null,"aria-controls":O,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:de});return{groupProps:{...aa,role:"group","aria-disabled":f,"aria-invalid":oe?"true":void 0},labelProps:ue,inputProps:se,incrementButtonProps:da,decrementButtonProps:ca,errorMessageProps:sa,descriptionProps:ua,isInvalid:oe,validationErrors:ia,validationDetails:na}}const tr=d.createContext(null),ir=d.createContext(null),nr=d.forwardRef(function(a,r){[a,r]=Na(a,r,tr);let{validationBehavior:n}=Ba(Sa)||{};var u,i;let f=(i=(u=a.validationBehavior)!==null&&u!==void 0?u:n)!==null&&i!==void 0?i:"native",{locale:$}=Ra(),s=er({...a,locale:$,validationBehavior:f}),F=d.useRef(null),[L,t]=Ca(!a["aria-label"]&&!a["aria-labelledby"]),{labelProps:l,groupProps:c,inputProps:D,incrementButtonProps:P,decrementButtonProps:V,descriptionProps:N,errorMessageProps:M,...p}=lr({...ha(a),label:t,validationBehavior:f},s,F),B=Ea({...a,values:{state:s,isDisabled:a.isDisabled||!1,isInvalid:p.isInvalid||!1,isRequired:a.isRequired||!1},defaultClassName:"react-aria-NumberField"}),b=ve(a);return delete b.id,Q.createElement(ga,{values:[[ir,s],[ya,c],[xe,{...D,ref:F}],[wa,{...l,ref:L}],[Pa,{slots:{increment:P,decrement:V}}],[ja,{slots:{description:N,errorMessage:M}}],[Va,p]]},Q.createElement("div",{...b,...B,ref:r,slot:a.slot||void 0,"data-disabled":a.isDisabled||void 0,"data-required":a.isRequired||void 0,"data-invalid":p.isInvalid||void 0}),a.name&&Q.createElement("input",{type:"hidden",name:a.name,value:isNaN(s.numberValue)?"":s.numberValue}))}),or="flow--number-field--group",ur="flow--number-field--input",sr="flow--number-field--decrement-button",dr="flow--number-field--increment-button",cr="flow--number-field--coarse-pointer-icon",y={group:or,input:ur,decrementButton:sr,incrementButton:dr,coarsePointerIcon:cr},fr=ba("NumberField",e=>{const{children:a,className:r,ref:n,defaultValue:u,isWheelDisabled:i=!0,...f}=e,$=fa(A.formField,r),s={Label:{className:A.label,optional:!e.isRequired},FieldDescription:{className:A.fieldDescription},FieldError:{className:A.customFieldError}};return v.jsx(ma,{children:v.jsxs(nr,{isWheelDisabled:i,...f,className:$,children:[v.jsxs(Ma,{className:y.group,children:[v.jsxs(be,{ariaSlot:"decrement",className:y.decrementButton,size:"s",variant:"plain",color:"secondary",children:[v.jsx(xa,{}),v.jsx(va,{className:y.coarsePointerIcon})]}),v.jsx(Da,{inputContext:xe,props:e,children:v.jsx(Ia,{className:y.input,ref:n,defaultValue:u})}),v.jsxs(be,{ariaSlot:"increment",className:y.incrementButton,size:"s",variant:"plain",color:"secondary",children:[v.jsx(Fa,{}),v.jsx(La,{className:y.coarsePointerIcon})]})]}),v.jsx($a,{props:s,children:a}),v.jsx(pa,{className:A.fieldError})]})})});fr.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"NumberField"};export{fr as N};
