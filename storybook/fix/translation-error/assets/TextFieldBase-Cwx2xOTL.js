import{r as o,R as i}from"./index-B-o1Wr-g.js";import{f,F as N}from"./FieldError-Cn7Cn3Rk.js";import{c as y}from"./clsx-B-dksMZM.js";import{C as B,P as D}from"./PropsContextProvider-BHq6Fnml.js";import{F as H}from"./FieldDescription-DL_UboA3.js";import{u as g}from"./useLocalizedStringFormatter-D9stqqmU.js";import{$ as E,a as R,f as I,d as q,e as O,g as S}from"./utils-7gTBvjqH.js";import{d as w}from"./FieldError-Dc7wTCBj.js";import{b as M}from"./Form-CS2x0aS5.js";import{a as _}from"./Input-In3k7nSs.js";import{a as A}from"./Label-CqgmsInd.js";import{a as L,b as V}from"./useFocusRing-CTDVvBmm.js";import{a as W}from"./index-ynQ6n1pc.js";import{a as k}from"./Text-R-rrVGxo.js";import{$ as z}from"./filterDOMProps-CeZl_uWj.js";import{$ as Z}from"./useTextField-BGTL6xBV.js";const T=o.createContext({});let j=e=>{let{onHoverStart:a,onHoverChange:s,onHoverEnd:r,...t}=e;return t};function G(e,a){[e,a]=E(e,a,T);let{hoverProps:s,isHovered:r}=L(e),{isFocused:t,isFocusVisible:d,focusProps:n}=V({isTextInput:!0,autoFocus:e.autoFocus}),l=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",u=R({...e,values:{isHovered:r,isFocused:t,isFocusVisible:d,isDisabled:e.disabled||!1,isInvalid:l},defaultClassName:"react-aria-TextArea"});return i.createElement("textarea",{...W(j(e),n,s),...u,ref:a,"data-focused":t||void 0,"data-disabled":e.disabled||void 0,"data-hovered":r||void 0,"data-focus-visible":d||void 0,"data-invalid":l||void 0})}const be=o.forwardRef(G),J=o.createContext(null);function K(e,a){[e,a]=E(e,a,J);let{validationBehavior:s}=I(M)||{};var r,t;let d=(t=(r=e.validationBehavior)!==null&&r!==void 0?r:s)!==null&&t!==void 0?t:"native",n=o.useRef(null),[l,u]=q(),[b,p]=o.useState("input"),{labelProps:x,inputProps:$,descriptionProps:v,errorMessageProps:m,...c}=Z({...O(e),inputElementType:b,label:u,validationBehavior:d},n),C=o.useCallback(h=>{n.current=h,h&&p(h instanceof HTMLTextAreaElement?"textarea":"input")},[]),F=R({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:c.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),P=z(e);return delete P.id,i.createElement("div",{...P,...F,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":c.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},i.createElement(S,{values:[[A,{...x,ref:l}],[_,{...$,ref:C}],[T,{...$,ref:C}],[k,{slots:{description:v,errorMessage:m}}],[w,c]]},F.children))}const Q=o.forwardRef(K),U={"de-DE":{"textFieldBase.characters":(e,a)=>`${a.select({0:()=>`${e.count}`,other:()=>`${e.count}/${e.maxCount}`},e.maxCount)} Zeichen`},"en-EN":{"textFieldBase.characters":(e,a)=>`${a.select({0:()=>`${e.count}`,other:()=>`${e.count}/${e.maxCount}`},e.maxCount)} characters`}},X=o.forwardRef((e,a)=>{var m;const{children:s,className:r,input:t,showCharacterCount:d,...n}=e,[l,u]=o.useState(((m=e.value)==null?void 0:m.length)??0),b=y(f.formField,r),p=g(U),x={Label:{className:f.label,optional:!e.isRequired},FieldDescription:{className:f.fieldDescription},FieldError:{className:f.customFieldError}},$=c=>{d&&u(c.length),e.onChange&&e.onChange(c)},v=p.format("textFieldBase.characters",{count:l,maxCount:e.maxLength??0});return i.createElement(B,null,i.createElement(Q,{...n,className:b,onChange:$},t,i.createElement(D,{props:x},s),d&&i.createElement(H,{className:f.fieldDescription},v),i.createElement(N,{className:f.fieldError})))});X.__docgenInfo={description:"",methods:[],displayName:"TextFieldBase",props:{input:{required:!0,tsType:{name:"ReactNode"},description:"The input element"},showCharacterCount:{required:!1,tsType:{name:"boolean"},description:"Whether a character count should be displayed inside the field description."}},composes:["PropsWithChildren"]};export{be as $,X as T};
