import{r as u,R as s}from"./index-Cs7sjTYM.js";import{c as x}from"./clsx-B-dksMZM.js";import{P as S,f as te,M as ae,N as P}from"./flowComponent-BBjFuuMW.js";import{a as se,C as ne,M as oe}from"./ContextMenuTrigger-CpU4NOwX.js";import{B as re}from"./Button-BzfJ1f-t.js";import"./IconApp-B0Dj3kfc.js";import{f as le}from"./IconWarning-GsiZwWQP.js";import{a as ie,c as de}from"./Collection-Ds0ZPgJZ.js";import{f as R,a as I,e as U,$ as ce,b as ue}from"./utils-CgpzwoFP.js";import{b as fe,c as be,d as me}from"./CollectionBuilder-DEbmrEtK.js";import{$ as pe}from"./Hidden-BsXGu--s.js";import{b as g,a as $e}from"./index-C8LjR2Bd.js";import{$ as N}from"./filterDOMProps-CeZl_uWj.js";import{b as ve}from"./usePress-e9a-mRh7.js";import{c as ye,f as he}from"./SelectionManager-CMHB_EVK.js";import{$ as J}from"./useLabels-DMhdkBu1.js";import{$ as xe}from"./useHasTabbableChild-Dov1LbVK.js";import{$ as ge}from"./useLocalizedStringFormatter-J1nK3MOF.js";import{b as V,a as Ee}from"./useFocusable-BkYgQ3nW.js";import{$ as Pe}from"./useSingleSelectListState-PmR0Kswu.js";import{T as O}from"./Text-JYrEPxJj.js";import{P as Ke}from"./PropsContextProvider-58HgA8rU.js";import{S as F}from"./Section-DwUka799.js";import{H as L}from"./Heading-Ci9V0jy2.js";import{T as Te}from"./TextField-CovKba5b.js";import{L as W}from"./Label-BtqPYbwi.js";import{L as Ce}from"./LabeledValue-C0N0ZDYr.js";import{S as Se}from"./Switch-E5jh9zXJ.js";import{H as we}from"./Header-V01FaBzA.js";import{S as Ie}from"./StatusIcon-Dc5-aPVA.js";const Q=new WeakMap;function w(t,e,a){return typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${Q.get(t)}-${a}-${e}`}function Ne(t,e,a){let{key:n,isDisabled:r,shouldSelectOnPressUp:i}=t,{selectionManager:l,selectedKey:o}=e,d=n===o,c=r||e.isDisabled||e.selectionManager.isDisabled(n),{itemProps:f,isPressed:b}=ye({selectionManager:l,key:n,ref:a,isDisabled:c,shouldSelectOnPressUp:i,linkBehavior:"selection"}),p=w(e,n,"tab"),$=w(e,n,"tabpanel"),{tabIndex:D}=f,m=e.collection.getItem(n),B=N(m==null?void 0:m.props,{labelable:!0});delete B.id;let ee=ve(m==null?void 0:m.props);return{tabProps:g(B,ee,f,{id:p,"aria-selected":d,"aria-disabled":c||void 0,"aria-controls":d?$:void 0,tabIndex:c?void 0:D,role:"tab"}),isSelected:d,isDisabled:c,isPressed:b}}function Me(t,e,a){let n=xe(a)?void 0:0;var r;const i=w(e,(r=t.id)!==null&&r!==void 0?r:e==null?void 0:e.selectedKey,"tabpanel"),l=J({...t,id:i,"aria-labelledby":w(e,e==null?void 0:e.selectedKey,"tab")});return{tabPanelProps:g(l,{tabIndex:n,role:"tabpanel","aria-describedby":t["aria-describedby"],"aria-details":t["aria-details"]})}}class De{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}getKeyAbove(e){return this.getPreviousKey(e)}getKeyBelow(e){return this.getNextKey(e)}isDisabled(e){var a,n;return this.disabledKeys.has(e)||!!(!((n=this.collection.getItem(e))===null||n===void 0||(a=n.props)===null||a===void 0)&&a.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getNextKey(e){do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(this.isDisabled(e));return e}getPreviousKey(e){do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(this.isDisabled(e));return e}constructor(e,a,n,r=new Set){this.collection=e,this.flipDirection=a==="rtl"&&n==="horizontal",this.disabledKeys=r}}function Fe(t,e,a){let{orientation:n="horizontal",keyboardActivation:r="automatic"}=t,{collection:i,selectionManager:l,disabledKeys:o}=e,{direction:d}=ge(),c=u.useMemo(()=>new De(i,d,n,o),[i,o,n,d]),{collectionProps:f}=he({ref:a,selectionManager:l,keyboardDelegate:c,selectOnFocus:r==="automatic",disallowEmptySelection:!0,scrollRef:a,linkBehavior:"selection"}),b=$e();Q.set(e,b);let p=J({...t,id:b});return{tabListProps:{...g(f,p),role:"tablist","aria-orientation":n,tabIndex:void 0}}}function Le(t){var e;let a=Pe({...t,suppressTextValueWarning:!0,defaultSelectedKey:(e=t.defaultSelectedKey)!==null&&e!==void 0?e:_(t.collection,t.disabledKeys?new Set(t.disabledKeys):new Set)}),{selectionManager:n,collection:r,selectedKey:i}=a,l=u.useRef(i);return u.useEffect(()=>{let o=i;(n.isEmpty||!r.getItem(o))&&(o=_(r,a.disabledKeys),o!=null&&n.setSelectedKeys([o])),(o!=null&&n.focusedKey==null||!n.isFocused&&o!==l.current)&&n.setFocusedKey(o),l.current=o}),{...a,isDisabled:t.isDisabled||!1}}function _(t,e){let a=null;if(t){var n,r,i,l;for(a=t.getFirstKey();(e.has(a)||!((r=t.getItem(a))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.isDisabled)&&a!==t.getLastKey();)a=t.getKeyAfter(a);(e.has(a)||!((l=t.getItem(a))===null||l===void 0||(i=l.props)===null||i===void 0)&&i.isDisabled)&&a===t.getLastKey()&&(a=t.getFirstKey())}return a}const M=u.createContext(null),v=u.createContext(null);function Oe(t,e){[t,e]=ce(t,e,M);let{children:a,orientation:n="horizontal"}=t;return a=u.useMemo(()=>typeof a=="function"?a({orientation:n,defaultChildren:null}):a,[a,n]),s.createElement(be,{content:a},r=>s.createElement(Ae,{props:t,collection:r,tabsRef:e}))}function Ae({props:t,tabsRef:e,collection:a}){let{orientation:n="horizontal"}=t,r=Le({...t,collection:a,children:void 0}),{focusProps:i,isFocused:l,isFocusVisible:o}=V({within:!0}),d=u.useMemo(()=>({orientation:n,isFocusWithin:l,isFocusVisible:o}),[n,l,o]),c=I({...t,defaultClassName:"react-aria-Tabs",values:d});return s.createElement("div",{...N(t),...i,...c,ref:e,slot:t.slot||void 0,"data-focused":l||void 0,"data-orientation":n,"data-focus-visible":o||void 0,"data-disabled":r.isDisabled||void 0},s.createElement(U,{values:[[M,t],[v,r]]},c.children))}const Re=u.forwardRef(Oe);function Ve(t,e){return u.useContext(v)?s.createElement(Be,{props:t,forwardedRef:e}):s.createElement(me,t)}function Be({props:t,forwardedRef:e}){let a=u.useContext(v),{CollectionRoot:n}=u.useContext(ie),{orientation:r="horizontal",keyboardActivation:i="automatic"}=ue(M),l=R(e),{tabListProps:o}=Fe({...t,orientation:r,keyboardActivation:i},a,l),d=I({...t,children:null,defaultClassName:"react-aria-TabList",values:{orientation:r,state:a}}),c=N(t);return delete c.id,s.createElement("div",{...c,...o,ref:l,...d,"data-orientation":r||void 0},s.createElement(n,{collection:a.collection,persistedKeys:de(a.selectionManager.focusedKey)}))}const We=u.forwardRef(Ve),_e=fe("item",(t,e,a)=>{let n=u.useContext(v),r=R(e),{tabProps:i,isSelected:l,isDisabled:o,isPressed:d}=Ne({key:a.key,...t},n,r),{focusProps:c,isFocused:f,isFocusVisible:b}=V(),{hoverProps:p,isHovered:$}=Ee({isDisabled:o}),D=I({...t,id:void 0,defaultClassName:"react-aria-Tab",values:{isSelected:l,isDisabled:o,isFocused:f,isFocusVisible:b,isPressed:d,isHovered:$}}),m=a.props.href?"a":"div";return s.createElement(m,{...g(i,c,p,D),ref:r,"data-selected":l||void 0,"data-disabled":o||void 0,"data-focused":f||void 0,"data-focus-visible":b||void 0,"data-pressed":d||void 0,"data-hovered":$||void 0})});function He(t,e){const a=u.useContext(v);let n=R(e),{tabPanelProps:r}=Me(t,a,n),{focusProps:i,isFocused:l,isFocusVisible:o}=V(),d=a.selectedKey===t.id,c=I({...t,defaultClassName:"react-aria-TabPanel",values:{isFocused:l,isFocusVisible:o,isInert:!d,state:a}});if(!d&&!t.shouldForceMount)return null;let f=N(t);delete f.id;let b=d?g(f,r,i,c):c;return s.createElement("div",{...b,ref:n,"data-focused":l||void 0,"data-focus-visible":o||void 0,inert:d?void 0:"true","data-inert":d?void 0:"true"},s.createElement(U,{values:[[M,null],[v,null]]},c.children))}const ke=pe(He),ze="flow--tabs",qe="flow--tabs--list",je={tabs:ze,list:qe},Ge="flow--tabs--tab-list",Ue="flow--tabs--tab-list--context-menu-button",Je="flow--tabs--tab-list--titles",Qe="flow--tabs--tab-list--collapsed",E={tabList:Ge,contextMenuButton:Ue,titles:Je,collapsed:Qe};function Xe(t,e){var a=u.useState(function(){return{value:t,callback:e,facade:{get current(){return a.value},set current(n){var r=a.value;r!==n&&(a.value=n,a.callback(n,r))}}}})[0];return a.callback=e,a.facade}const Ye=()=>{const t=u.useRef(),[e,a]=u.useState(!1),n=Xe(null,o=>{l(),i(o)}),r=([o])=>{o&&a(!o.isIntersecting)},i=(o=n.current)=>{if(o&&o instanceof Element){const d=new IntersectionObserver(r,{root:o.parentElement,threshold:1});t.current=d,d.observe(o)}},l=()=>{var o;(o=t.current)==null||o.disconnect()};return u.useEffect(()=>(i(),l),[t.current]),{ref:n,isOverflowing:e}},Ze="flow--tabs--tab-title",et="flow--tabs--tab-title--text",tt="flow--tabs--tab-title--menu-item",K={tabTitle:Ze,text:et,menuItem:tt},X=t=>{const{className:e,...a}=t,n=x(e,K.tabTitle);return s.createElement("div",{...a,className:n,"data-selected":!0},s.createElement(S,{id:"ActiveTitle"}))};X.__docgenInfo={description:"",methods:[],displayName:"TabTitleCollapsed",props:{className:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""}}};const Y=t=>{const{selection:e,disabledKeys:a,onContextMenuSelectionChange:n}=t,r=u.useId(),i=Ye(),l=i.isOverflowing,o=x(E.tabList,l&&E.collapsed),d=p=>{const[$]=p;$&&n($)},c=s.createElement(We,{className:E.titles,ref:i.ref},s.createElement(S,{id:"Titles"})),f=l&&s.createElement(X,{id:r}),b=l&&s.createElement(se,null,s.createElement(re,{variant:"soft",className:E.contextMenuButton,color:"secondary","aria-labelledby":r},s.createElement(le,null)),s.createElement(ne,{disabledKeys:a,selectedKeys:e?[e]:void 0,selectionMode:"navigation",onSelectionChange:d},s.createElement(S,{id:"ContextMenuItems"})));return s.createElement("div",{className:o},c,f,b)};Y.__docgenInfo={description:"",methods:[],displayName:"TabList",props:{selection:{required:!0,tsType:{name:"union",raw:"Aria.Key | undefined",elements:[{name:"Aria.Key"},{name:"undefined"}]},description:""},onContextMenuSelectionChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Aria.Key) => void",signature:{arguments:[{type:{name:"Aria.Key"},name:"key"}],return:{name:"void"}}},description:""},disabledKeys:{required:!1,tsType:{name:"Iterable",elements:[{name:"Aria.Key"}],raw:"Iterable<Aria.Key>"},description:""}}};const A=te("Tabs",t=>{const{children:e,className:a,defaultSelectedKey:n,disabledKeys:r,refProp:i,...l}=t,o=x(je.tabs,a),[d,c]=u.useState(n);return s.createElement(ae,null,e,s.createElement(Re,{slot:null,className:o,...l,selectedKey:d,onSelectionChange:c,disabledKeys:r,ref:i},s.createElement(Y,{selection:d,onContextMenuSelectionChange:c,disabledKeys:r}),s.createElement(S,{id:"Panels"})))});A.__docgenInfo={description:"",methods:[],displayName:"Tabs"};const Z=u.createContext({id:"undefined"}),at=()=>u.useContext(Z),st=Z.Provider,T=t=>{const{children:e,className:a,...n}=t,{id:r}=at(),i=x(K.tabTitle,a);return s.createElement(s.Fragment,null,s.createElement(P,{id:"Titles"},s.createElement(_e,{...n,id:r,className:i},l=>s.createElement(s.Fragment,null,s.createElement(O,{emulateBoldWidth:!0},s.createElement("span",{className:K.text},e)),s.createElement(P,{id:"ActiveTitle"},l.isSelected&&e)))),s.createElement(P,{id:"ContextMenuItems"},s.createElement(oe,{className:K.menuItem,id:r},e)))};T.__docgenInfo={description:"",methods:[],displayName:"TabTitle",composes:["Omit","PropsWithChildren"]};const nt="flow--tabs--tab--tab-panel",ot={tabPanel:nt},C=t=>{const{children:e,className:a,id:n,...r}=t,i=x(ot.tabPanel,a),l=u.useId(),o=n??l,d=c=>{const f=c.state.selectedKey===o,b={Content:{isActive:f},Section:{isActive:f}};return s.createElement(Ke,{props:b,dependencies:[f,e]},e)};return s.createElement(P,{id:"Panels"},s.createElement(st,{value:{id:o}},s.createElement(ke,{className:i,shouldForceMount:!0,id:o,...r},d)))};C.__docgenInfo={description:"",methods:[],displayName:"Tab",composes:["Omit","PropsWithChildren"]};const rt={title:"Navigation/Tabs",component:A,render:t=>s.createElement(A,{...t,disabledKeys:["spam"]},s.createElement(C,{id:"general"},s.createElement(T,null,"General",s.createElement(Ie,{status:"info"})),s.createElement(F,null,s.createElement(L,null,"General"),s.createElement(Te,{defaultValue:"example@mittwald.de"},s.createElement(W,null,"Mail address")))),s.createElement(C,{id:"storage"},s.createElement(T,null,"Storage settings"),s.createElement(F,null,s.createElement(L,null,"Storage"),s.createElement(Ce,null,s.createElement(W,null,"Available storage"),s.createElement(O,null,"2.4 GB")))),s.createElement(C,{id:"spam"},s.createElement(T,null,"Spam"),s.createElement(F,null,s.createElement(we,null,s.createElement(L,null,"Spam protection"),s.createElement(Se,null,"Spam protection")),s.createElement(O,null,"The spam filter protects you from unwanted emails. Nobody wants garbage in their inbox, so we recommend that you always leave spam protection activated."))))},y={},h={parameters:{viewport:{defaultViewport:"mobile1"}}};var H,k,z;y.parameters={...y.parameters,docs:{...(H=y.parameters)==null?void 0:H.docs,source:{originalSource:"{}",...(z=(k=y.parameters)==null?void 0:k.docs)==null?void 0:z.source}}};var q,j,G;h.parameters={...h.parameters,docs:{...(q=h.parameters)==null?void 0:q.docs,source:{originalSource:`{
  parameters: {
    viewport: {
      defaultViewport: "mobile1"
    }
  }
}`,...(G=(j=h.parameters)==null?void 0:j.docs)==null?void 0:G.source}}};const lt=["Default","SmallSpace"],Vt=Object.freeze(Object.defineProperty({__proto__:null,Default:y,SmallSpace:h,__namedExportsOrder:lt,default:rt},Symbol.toStringTag,{value:"Module"}));export{Vt as D,A as T,C as a,T as b,rt as m};
