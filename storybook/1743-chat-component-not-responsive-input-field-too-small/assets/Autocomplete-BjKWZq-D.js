import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-BdpSHsi2.js";import{f as g,P as C}from"./PropsContextProvider-C2MFk4Sg.js";import{u as E}from"./DialogTriggerView-OHFDyNRs.js";import{T as j}from"./Text-ZaU9XVyA.js";import{$ as v}from"./useLocalizedStringFormatter-De8CUlme.js";import{$ as w}from"./useFilter-ssr6jGAt.js";import{b as P}from"./useFocusRing-BmK03SYd.js";import{$ as I}from"./OverlayArrow-D1_DfAqv.js";import{b as O}from"./Dialog-BhYWsRnA.js";const A="flow--autocomplete--empty",D={empty:A},F={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},M=g("Autocomplete",m=>{const{children:f,...u}=m,d=v(F),{contains:b}=w({sensitivity:"base"}),n=l.useRef(null),p=l.useRef(null),e=E("ContextMenu",{reuseControllerFromContext:!1}),x=P({onBlurWithin:e.close}),r=e.useIsOpen(),i={onKeyDown:t=>{t.key==="Enter"&&r&&t.preventDefault()},ref:n},$={ContextMenu:{placement:"bottom start",controller:e,isNonModal:!0,renderEmptyState:()=>o.jsx(j,{className:D.empty,children:d.format("autocomplete.empty")}),onAction:t=>{var a;const s=n.current;if(s){const c=(a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:a.set;c==null||c.call(s,String(t));const h=new Event("input",{bubbles:!0});s.dispatchEvent(h)}},triggerRef:n},SearchField:i,TextField:i},y=t=>{t?r||e.open():e.close()};return o.jsx(C,{props:$,mergeInParentContext:!0,dependencies:[r,e],children:o.jsx("div",{...x.focusWithinProps,ref:p,children:o.jsx(I,{getContainer:()=>p.current,children:o.jsx(O,{onInputChange:y,filter:b,...u,children:f})})})})});M.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{M as A};
