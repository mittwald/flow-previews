import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{f as l}from"./FieldError-Cl07oYpm.js";import{$ as b,a as g,d as F}from"./FieldError-DoW3KOQ8.js";import{r as m}from"./index-BZISi7jw.js";import{$ as h,a as y}from"./Input-DaA3cxmW.js";import{c as I}from"./utils-CzVyYWZn.js";import{P as u,f as P}from"./flowComponent-QaLaNUaQ.js";const j="flow--file-field--trigger",R={trigger:j},v=a=>{const{children:d,isDisabled:c,onChange:e,ref:p}=a,t=I(p),n=()=>{var r,i;(r=t.current)!=null&&r.value&&(t.current.value="",e==null||e(null)),(i=t.current)==null||i.click()},f=r=>{e==null||e(r.target.files)},o={Button:{onPress:n,className:R.trigger,isDisabled:c}};return s.jsxs(u,{props:o,mergeInParentContext:!0,children:[d,s.jsx(h,{style:{display:"none"},type:"file",ref:t,onChange:f})]})};v.__docgenInfo={description:"@internal",methods:[],displayName:"FileInput",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: FileList | null) => void",signature:{arguments:[{type:{name:"union",raw:"FileList | null",elements:[{name:"FileList"},{name:"null"}]},name:"files"}],return:{name:"void"}}},description:""},isDisabled:{required:!1,tsType:{name:"boolean"},description:""},ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""}},composes:["PropsWithChildren"]};const C=P("FileField",a=>{const{children:d,ref:c,isRequired:e,isInvalid:p,isDisabled:t,validationBehavior:n,onChange:f,...o}=a,r=m.useRef(null),i=b({value:void 0,validationBehavior:n,isInvalid:p});g({validationBehavior:n},i,r);const x=m.useMemo(()=>({...o,ref:r,"aria-invalid":i.displayValidation.isInvalid,value:void 0}),[i,e,...Object.values(o)]),$={Label:{className:l.label,optional:!a.isRequired},FieldDescription:{className:l.fieldDescription},FieldError:{className:l.customFieldError}};return s.jsx(y.Provider,{value:x,children:s.jsx(F.Provider,{value:i.displayValidation,children:s.jsx(u,{props:$,children:s.jsx("div",{"data-required":!!e||void 0,"data-invalid":i.displayValidation.isInvalid||void 0,className:l.formField,children:s.jsx(v,{ref:c,onChange:f,isDisabled:t,children:d})})})})})});C.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"FileField"};export{C as F};
