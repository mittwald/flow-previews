import{R as V,r as ne,j as Z}from"./iframe-BN_dfUe_.js";import{d as Lt}from"./dynamic-BgZcYaB5.js";import{v as Pt,i as Tt,P as ot}from"./PropsContextProvider-BdWjLDJi.js";import{F as Ot}from"./FieldError-DsWJyZ3N.js";import{$ as Mt}from"./useLocalizedStringFormatter-CxEOdw80.js";import{i as Ut}from"./browser-BV7EqxDV.js";import{a as Bt,A as Nt}from"./Action-V_TKCgSi.js";import{e as It}from"./chunk-PULGOXDA-8tYzn7uh.js";var he=e=>e.type==="checkbox",oe=e=>e instanceof Date,q=e=>e==null;const lt=e=>typeof e=="object";var P=e=>!q(e)&&!Array.isArray(e)&&lt(e)&&!oe(e),ut=e=>P(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Ht=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dt=(e,s)=>e.has(Ht(s)),qt=e=>{const s=e.constructor&&e.constructor.prototype;return P(s)&&s.hasOwnProperty("isPrototypeOf")},Le=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(e){let s;const t=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Le&&(e instanceof Blob||n))&&(t||P(e)))if(s=t?[]:{},!t&&!qt(e))s=e;else for(const a in e)e.hasOwnProperty(a)&&(s[a]=U(e[a]));else return e;return s}var Se=e=>/^\w*$/.test(e),L=e=>e===void 0,Pe=e=>Array.isArray(e)?e.filter(Boolean):[],Te=e=>Pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!P(e))return t;const n=(Se(s)?[s]:Te(s)).reduce((a,o)=>q(a)?a:a[o],e);return L(n)||n===e?L(e[s])?t:e[s]:n},j=e=>typeof e=="boolean",D=(e,s,t)=>{let n=-1;const a=Se(s)?[s]:Te(s),o=a.length,u=o-1;for(;++n<o;){const d=a[n];let _=t;if(n!==u){const v=e[d];_=P(v)||Array.isArray(v)?v:isNaN(+a[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=_,e=e[d]}};const Fe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Oe=V.createContext(null);Oe.displayName="HookFormContext";const Me=()=>V.useContext(Oe),Wt=e=>{const{children:s,...t}=e;return V.createElement(Oe.Provider,{value:t},s)};var ct=(e,s,t,n=!0)=>{const a={defaultValues:s._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const u=o;return s._proxyFormState[u]!==z.all&&(s._proxyFormState[u]=!n||z.all),t&&(t[u]=!0),e[u]}});return a};const Ue=typeof window<"u"?V.useLayoutEffect:V.useEffect;function $t(e){const s=Me(),{control:t=s.control,disabled:n,name:a,exact:o}=e||{},[u,d]=V.useState(t._formState),_=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ue(()=>t._subscribe({name:a,formState:_.current,exact:o,callback:v=>{!n&&d({...t._formState,...v})}}),[a,n,o]),V.useEffect(()=>{_.current.isValid&&t._setValid(!0)},[t]),V.useMemo(()=>ct(u,t,_.current,!1),[u,t])}var X=e=>typeof e=="string",ft=(e,s,t,n,a)=>X(e)?(n&&s.watch.add(e),y(t,e,a)):Array.isArray(e)?e.map(o=>(n&&s.watch.add(o),y(t,o))):(n&&(s.watchAll=!0),t),Re=e=>q(e)||!lt(e);function te(e,s,t=new WeakSet){if(Re(e)||Re(s))return e===s;if(oe(e)&&oe(s))return e.getTime()===s.getTime();const n=Object.keys(e),a=Object.keys(s);if(n.length!==a.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const o of n){const u=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=s[o];if(oe(u)&&oe(d)||P(u)&&P(d)||Array.isArray(u)&&Array.isArray(d)?!te(u,d,t):u!==d)return!1}}return!0}function jt(e){const s=Me(),{control:t=s.control,name:n,defaultValue:a,disabled:o,exact:u,compute:d}=e||{},_=V.useRef(a),v=V.useRef(d),F=V.useRef(void 0);v.current=d;const x=V.useMemo(()=>t._getWatch(n,_.current),[t,n]),[h,I]=V.useState(v.current?v.current(x):x);return Ue(()=>t._subscribe({name:n,formState:{values:!0},exact:u,callback:T=>{if(!o){const A=ft(n,t._names,T.values||t._formValues,!1,_.current);if(v.current){const O=v.current(A);te(O,F.current)||(I(O),F.current=O)}else I(A)}}}),[t,o,n,u]),V.useEffect(()=>t._removeUnmounted()),h}function Gt(e){const s=Me(),{name:t,disabled:n,control:a=s.control,shouldUnregister:o,defaultValue:u}=e,d=dt(a._names.array,t),_=V.useMemo(()=>y(a._formValues,t,y(a._defaultValues,t,u)),[a,t,u]),v=jt({control:a,name:t,defaultValue:_,exact:!0}),F=$t({control:a,name:t,exact:!0}),x=V.useRef(e),h=V.useRef(a.register(t,{...e.rules,value:v,...j(e.disabled)?{disabled:e.disabled}:{}}));x.current=e;const I=V.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(F.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(F.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(F.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(F.validatingFields,t)},error:{enumerable:!0,get:()=>y(F.errors,t)}}),[F,t]),T=V.useCallback(b=>h.current.onChange({target:{value:ut(b),name:t},type:Fe.CHANGE}),[t]),A=V.useCallback(()=>h.current.onBlur({target:{value:y(a._formValues,t),name:t},type:Fe.BLUR}),[t,a._formValues]),O=V.useCallback(b=>{const E=y(a._fields,t);E&&b&&(E._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:N=>b.setCustomValidity(N),reportValidity:()=>b.reportValidity()})},[a._fields,t]),B=V.useMemo(()=>({name:t,value:v,...j(n)||F.disabled?{disabled:F.disabled||n}:{},onChange:T,onBlur:A,ref:O}),[t,n,F.disabled,T,A,O,v]);return V.useEffect(()=>{const b=a._options.shouldUnregister||o;a.register(t,{...x.current.rules,...j(x.current.disabled)?{disabled:x.current.disabled}:{}});const E=(N,p)=>{const re=y(a._fields,N);re&&re._f&&(re._f.mount=p)};if(E(t,!0),b){const N=U(y(a._options.defaultValues,t));D(a._defaultValues,t,N),L(y(a._formValues,t))&&D(a._formValues,t,N)}return!d&&a.register(t),()=>{(d?b&&!a._state.action:b)?a.unregister(t):E(t,!1)}},[t,a,d,o]),V.useEffect(()=>{a._setDisabledField({disabled:n,name:t})},[n,t,a]),V.useMemo(()=>({field:B,formState:F,fieldState:I}),[B,F,I])}var Kt=(e,s,t,n,a)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:a||!0}}:{},ye=e=>Array.isArray(e)?e:[e],Ye=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},$=e=>P(e)&&!Object.keys(e).length,Be=e=>e.type==="file",Y=e=>typeof e=="function",_e=e=>{if(!Le)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},yt=e=>e.type==="select-multiple",Ne=e=>e.type==="radio",Zt=e=>Ne(e)||he(e),pe=e=>_e(e)&&e.isConnected;function zt(e,s){const t=s.slice(0,-1).length;let n=0;for(;n<t;)e=L(e)?n++:e[s[n++]];return e}function Yt(e){for(const s in e)if(e.hasOwnProperty(s)&&!L(e[s]))return!1;return!0}function M(e,s){const t=Array.isArray(s)?s:Se(s)?[s]:Te(s),n=t.length===1?e:zt(e,t),a=t.length-1,o=t[a];return n&&delete n[o],a!==0&&(P(n)&&$(n)||Array.isArray(n)&&Yt(n))&&M(e,t.slice(0,-1)),e}var mt=e=>{for(const s in e)if(Y(e[s]))return!0;return!1};function Ve(e,s={}){const t=Array.isArray(e);if(P(e)||t)for(const n in e)Array.isArray(e[n])||P(e[n])&&!mt(e[n])?(s[n]=Array.isArray(e[n])?[]:{},Ve(e[n],s[n])):q(e[n])||(s[n]=!0);return s}function ht(e,s,t){const n=Array.isArray(e);if(P(e)||n)for(const a in e)Array.isArray(e[a])||P(e[a])&&!mt(e[a])?L(s)||Re(t[a])?t[a]=Array.isArray(e[a])?Ve(e[a],[]):{...Ve(e[a])}:ht(e[a],q(s)?{}:s[a],t[a]):t[a]=!te(e[a],s[a]);return t}var ce=(e,s)=>ht(e,s,Ve(s));const Je={value:!1,isValid:!1},Qe={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!L(e[0].attributes.value)?L(e[0].value)||e[0].value===""?Qe:{value:e[0].value,isValid:!0}:Qe:Je}return Je},bt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:n})=>L(e)?e:s?e===""?NaN:e&&+e:t&&X(e)?new Date(e):n?n(e):e;const Xe={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Xe):Xe;function et(e){const s=e.ref;return Be(s)?s.files:Ne(s)?vt(e.refs).value:yt(s)?[...s.selectedOptions].map(({value:t})=>t):he(s)?gt(e.refs).value:bt(L(s.value)?e.ref.value:s.value,e)}var Jt=(e,s,t,n)=>{const a={};for(const o of e){const u=y(s,o);u&&D(a,o,u._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:n}},xe=e=>e instanceof RegExp,fe=e=>L(e)?e:xe(e)?e.source:P(e)?xe(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched});const rt="AsyncFunction";var Qt=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===rt||P(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===rt)),Xt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const me=(e,s,t,n)=>{for(const a of t||Object.keys(e)){const o=y(e,a);if(o){const{_f:u,...d}=o;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],a)&&!n)return!0;if(u.ref&&s(u.ref,u.name)&&!n)return!0;if(me(d,s))break}else if(P(d)&&me(d,s))break}}};function it(e,s,t){const n=y(e,t);if(n||Se(t))return{error:n,name:t};const a=t.split(".");for(;a.length;){const o=a.join("."),u=y(s,o),d=y(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:t}}var er=(e,s,t,n)=>{t(e);const{name:a,...o}=e;return $(o)||Object.keys(o).length>=Object.keys(s).length||Object.keys(o).find(u=>s[u]===(!n||z.all))},tr=(e,s,t)=>!e||!s||e===s||ye(e).some(n=>n&&(t?n===s:n.startsWith(s)||s.startsWith(n))),rr=(e,s,t,n,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(s||e):(t?n.isOnBlur:a.isOnBlur)?!e:(t?n.isOnChange:a.isOnChange)?e:!0,sr=(e,s)=>!Pe(y(e,s)).length&&M(e,s),ir=(e,s,t)=>{const n=ye(y(e,t));return D(n,"root",s[t]),D(e,t,n),e},ve=e=>X(e);function nt(e,s,t="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||j(e)&&!e)return{type:t,message:ve(e)?e:"",ref:s}}var ue=e=>P(e)&&!xe(e)?e:{value:e,message:""},at=async(e,s,t,n,a,o)=>{const{ref:u,refs:d,required:_,maxLength:v,minLength:F,min:x,max:h,pattern:I,validate:T,name:A,valueAsNumber:O,mount:B}=e._f,b=y(t,A);if(!B||s.has(A))return{};const E=d?d[0]:u,N=S=>{a&&E.reportValidity&&(E.setCustomValidity(j(S)?"":S||""),E.reportValidity())},p={},re=Ne(u),se=he(u),Ae=re||se,K=(O||Be(u))&&L(u.value)&&L(b)||_e(u)&&u.value===""||b===""||Array.isArray(b)&&!b.length,ae=Kt.bind(null,A,n,p),J=(S,C,R,H=ee.maxLength,W=ee.minLength)=>{const Q=S?C:R;p[A]={type:S?H:W,message:Q,ref:u,...ae(S?H:W,Q)}};if(o?!Array.isArray(b)||!b.length:_&&(!Ae&&(K||q(b))||j(b)&&!b||se&&!gt(d).isValid||re&&!vt(d).isValid)){const{value:S,message:C}=ve(_)?{value:!!_,message:_}:ue(_);if(S&&(p[A]={type:ee.required,message:C,ref:E,...ae(ee.required,C)},!n))return N(C),p}if(!K&&(!q(x)||!q(h))){let S,C;const R=ue(h),H=ue(x);if(!q(b)&&!isNaN(b)){const W=u.valueAsNumber||b&&+b;q(R.value)||(S=W>R.value),q(H.value)||(C=W<H.value)}else{const W=u.valueAsDate||new Date(b),Q=ge=>new Date(new Date().toDateString()+" "+ge),de=u.type=="time",le=u.type=="week";X(R.value)&&b&&(S=de?Q(b)>Q(R.value):le?b>R.value:W>new Date(R.value)),X(H.value)&&b&&(C=de?Q(b)<Q(H.value):le?b<H.value:W<new Date(H.value))}if((S||C)&&(J(!!S,R.message,H.message,ee.max,ee.min),!n))return N(p[A].message),p}if((v||F)&&!K&&(X(b)||o&&Array.isArray(b))){const S=ue(v),C=ue(F),R=!q(S.value)&&b.length>+S.value,H=!q(C.value)&&b.length<+C.value;if((R||H)&&(J(R,S.message,C.message),!n))return N(p[A].message),p}if(I&&!K&&X(b)){const{value:S,message:C}=ue(I);if(xe(S)&&!b.match(S)&&(p[A]={type:ee.pattern,message:C,ref:u,...ae(ee.pattern,C)},!n))return N(C),p}if(T){if(Y(T)){const S=await T(b,t),C=nt(S,E);if(C&&(p[A]={...C,...ae(ee.validate,C.message)},!n))return N(C.message),p}else if(P(T)){let S={};for(const C in T){if(!$(S)&&!n)break;const R=nt(await T[C](b,t),E,C);R&&(S={...R,...ae(C,R.message)},N(R.message),n&&(p[A]=S))}if(!$(S)&&(p[A]={ref:E,...S},!n))return p}}return N(!0),p};const nr={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function ar(e={}){let s={...nr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},a=P(s.defaultValues)||P(s.values)?U(s.defaultValues||s.values)||{}:{},o=s.shouldUnregister?{}:U(a),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_,v=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...F};const h={array:Ye(),state:Ye()},I=s.criteriaMode===z.all,T=r=>i=>{clearTimeout(v),v=setTimeout(r,i)},A=async r=>{if(!s.disabled&&(F.isValid||x.isValid||r)){const i=s.resolver?$((await se()).errors):await K(n,!0);i!==t.isValid&&h.state.next({isValid:i})}},O=(r,i)=>{!s.disabled&&(F.isValidating||F.validatingFields||x.isValidating||x.validatingFields)&&((r||Array.from(d.mount)).forEach(l=>{l&&(i?D(t.validatingFields,l,i):M(t.validatingFields,l))}),h.state.next({validatingFields:t.validatingFields,isValidating:!$(t.validatingFields)}))},B=(r,i=[],l,m,f=!0,c=!0)=>{if(m&&l&&!s.disabled){if(u.action=!0,c&&Array.isArray(y(n,r))){const g=l(y(n,r),m.argA,m.argB);f&&D(n,r,g)}if(c&&Array.isArray(y(t.errors,r))){const g=l(y(t.errors,r),m.argA,m.argB);f&&D(t.errors,r,g),sr(t.errors,r)}if((F.touchedFields||x.touchedFields)&&c&&Array.isArray(y(t.touchedFields,r))){const g=l(y(t.touchedFields,r),m.argA,m.argB);f&&D(t.touchedFields,r,g)}(F.dirtyFields||x.dirtyFields)&&(t.dirtyFields=ce(a,o)),h.state.next({name:r,isDirty:J(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(o,r,i)},b=(r,i)=>{D(t.errors,r,i),h.state.next({errors:t.errors})},E=r=>{t.errors=r,h.state.next({errors:t.errors,isValid:!1})},N=(r,i,l,m)=>{const f=y(n,r);if(f){const c=y(o,r,L(l)?y(a,r):l);L(c)||m&&m.defaultChecked||i?D(o,r,i?c:et(f._f)):R(r,c),u.mount&&A()}},p=(r,i,l,m,f)=>{let c=!1,g=!1;const w={name:r};if(!s.disabled){if(!l||m){(F.isDirty||x.isDirty)&&(g=t.isDirty,t.isDirty=w.isDirty=J(),c=g!==w.isDirty);const k=te(y(a,r),i);g=!!y(t.dirtyFields,r),k?M(t.dirtyFields,r):D(t.dirtyFields,r,!0),w.dirtyFields=t.dirtyFields,c=c||(F.dirtyFields||x.dirtyFields)&&g!==!k}if(l){const k=y(t.touchedFields,r);k||(D(t.touchedFields,r,l),w.touchedFields=t.touchedFields,c=c||(F.touchedFields||x.touchedFields)&&k!==l)}c&&f&&h.state.next(w)}return c?w:{}},re=(r,i,l,m)=>{const f=y(t.errors,r),c=(F.isValid||x.isValid)&&j(i)&&t.isValid!==i;if(s.delayError&&l?(_=T(()=>b(r,l)),_(s.delayError)):(clearTimeout(v),_=null,l?D(t.errors,r,l):M(t.errors,r)),(l?!te(f,l):f)||!$(m)||c){const g={...m,...c&&j(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...g},h.state.next(g)}},se=async r=>{O(r,!0);const i=await s.resolver(o,s.context,Jt(r||d.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return O(r),i},Ae=async r=>{const{errors:i}=await se(r);if(r)for(const l of r){const m=y(i,l);m?D(t.errors,l,m):M(t.errors,l)}else t.errors=i;return i},K=async(r,i,l={valid:!0})=>{for(const m in r){const f=r[m];if(f){const{_f:c,...g}=f;if(c){const w=d.array.has(c.name),k=f._f&&Qt(f._f);k&&F.validatingFields&&O([m],!0);const G=await at(f,d.disabled,o,I,s.shouldUseNativeValidation&&!i,w);if(k&&F.validatingFields&&O([m]),G[c.name]&&(l.valid=!1,i))break;!i&&(y(G,c.name)?w?ir(t.errors,G,c.name):D(t.errors,c.name,G[c.name]):M(t.errors,c.name))}!$(g)&&await K(g,i,l)}}return l.valid},ae=()=>{for(const r of d.unMount){const i=y(n,r);i&&(i._f.refs?i._f.refs.every(l=>!pe(l)):!pe(i._f.ref))&&we(r)}d.unMount=new Set},J=(r,i)=>!s.disabled&&(r&&i&&D(o,r,i),!te(ge(),a)),S=(r,i,l)=>ft(r,d,{...u.mount?o:L(i)?a:X(r)?{[r]:i}:i},l,i),C=r=>Pe(y(u.mount?o:a,r,s.shouldUnregister?y(a,r,[]):[])),R=(r,i,l={})=>{const m=y(n,r);let f=i;if(m){const c=m._f;c&&(!c.disabled&&D(o,r,bt(i,c)),f=_e(c.ref)&&q(i)?"":i,yt(c.ref)?[...c.ref.options].forEach(g=>g.selected=f.includes(g.value)):c.refs?he(c.ref)?c.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(w=>w===g.value):g.checked=f===g.value||!!f)}):c.refs.forEach(g=>g.checked=g.value===f):Be(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||h.state.next({name:r,values:U(o)})))}(l.shouldDirty||l.shouldTouch)&&p(r,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(r)},H=(r,i,l)=>{for(const m in i){if(!i.hasOwnProperty(m))return;const f=i[m],c=r+"."+m,g=y(n,c);(d.array.has(r)||P(f)||g&&!g._f)&&!oe(f)?H(c,f,l):R(c,f,l)}},W=(r,i,l={})=>{const m=y(n,r),f=d.array.has(r),c=U(i);D(o,r,c),f?(h.array.next({name:r,values:U(o)}),(F.isDirty||F.dirtyFields||x.isDirty||x.dirtyFields)&&l.shouldDirty&&h.state.next({name:r,dirtyFields:ce(a,o),isDirty:J(r,c)})):m&&!m._f&&!q(c)?H(r,c,l):R(r,c,l),st(r,d)&&h.state.next({...t,name:r}),h.state.next({name:u.mount?r:void 0,values:U(o)})},Q=async r=>{u.mount=!0;const i=r.target;let l=i.name,m=!0;const f=y(n,l),c=k=>{m=Number.isNaN(k)||oe(k)&&isNaN(k.getTime())||te(k,y(o,l,k))},g=tt(s.mode),w=tt(s.reValidateMode);if(f){let k,G;const be=i.type?et(f._f):ut(r),ie=r.type===Fe.BLUR||r.type===Fe.FOCUS_OUT,Et=!Xt(f._f)&&!s.resolver&&!y(t.errors,l)&&!f._f.deps||rr(ie,y(t.touchedFields,l),t.isSubmitted,w,g),De=st(l,d,ie);D(o,l,be),ie?(f._f.onBlur&&f._f.onBlur(r),_&&_(0)):f._f.onChange&&f._f.onChange(r);const Ee=p(l,be,ie),pt=!$(Ee)||De;if(!ie&&h.state.next({name:l,type:r.type,values:U(o)}),Et)return(F.isValid||x.isValid)&&(s.mode==="onBlur"?ie&&A():ie||A()),pt&&h.state.next({name:l,...De?{}:Ee});if(!ie&&De&&h.state.next({...t}),s.resolver){const{errors:Ze}=await se([l]);if(c(be),m){const Rt=it(t.errors,n,l),ze=it(Ze,n,Rt.name||l);k=ze.error,l=ze.name,G=$(Ze)}}else O([l],!0),k=(await at(f,d.disabled,o,I,s.shouldUseNativeValidation))[l],O([l]),c(be),m&&(k?G=!1:(F.isValid||x.isValid)&&(G=await K(n,!0)));m&&(f._f.deps&&le(f._f.deps),re(l,G,k,Ee))}},de=(r,i)=>{if(y(t.errors,i)&&r.focus)return r.focus(),1},le=async(r,i={})=>{let l,m;const f=ye(r);if(s.resolver){const c=await Ae(L(r)?r:f);l=$(c),m=r?!f.some(g=>y(c,g)):l}else r?(m=(await Promise.all(f.map(async c=>{const g=y(n,c);return await K(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&A()):m=l=await K(n);return h.state.next({...!X(r)||(F.isValid||x.isValid)&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),i.shouldFocus&&!m&&me(n,de,r?f:d.mount),m},ge=r=>{const i={...u.mount?o:a};return L(r)?i:X(r)?y(i,r):r.map(l=>y(i,l))},Ie=(r,i)=>({invalid:!!y((i||t).errors,r),isDirty:!!y((i||t).dirtyFields,r),error:y((i||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((i||t).touchedFields,r)}),xt=r=>{r&&ye(r).forEach(i=>M(t.errors,i)),h.state.next({errors:r?t.errors:{}})},He=(r,i,l)=>{const m=(y(n,r,{_f:{}})._f||{}).ref,f=y(t.errors,r)||{},{ref:c,message:g,type:w,...k}=f;D(t.errors,r,{...k,...i,ref:m}),h.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},St=(r,i)=>Y(r)?h.state.subscribe({next:l=>"values"in l&&r(S(void 0,i),l)}):S(r,i,!0),qe=r=>h.state.subscribe({next:i=>{tr(r.name,i.name,r.exact)&&er(i,r.formState||F,Dt,r.reRenderRoot)&&r.callback({values:{...o},...t,...i,defaultValues:a})}}).unsubscribe,At=r=>(u.mount=!0,x={...x,...r.formState},qe({...r,formState:x})),we=(r,i={})=>{for(const l of r?ye(r):d.mount)d.mount.delete(l),d.array.delete(l),i.keepValue||(M(n,l),M(o,l)),!i.keepError&&M(t.errors,l),!i.keepDirty&&M(t.dirtyFields,l),!i.keepTouched&&M(t.touchedFields,l),!i.keepIsValidating&&M(t.validatingFields,l),!s.shouldUnregister&&!i.keepDefaultValue&&M(a,l);h.state.next({values:U(o)}),h.state.next({...t,...i.keepDirty?{isDirty:J()}:{}}),!i.keepIsValid&&A()},We=({disabled:r,name:i})=>{(j(r)&&u.mount||r||d.disabled.has(i))&&(r?d.disabled.add(i):d.disabled.delete(i))},Ce=(r,i={})=>{let l=y(n,r);const m=j(i.disabled)||j(s.disabled);return D(n,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...i}}),d.mount.add(r),l?We({disabled:j(i.disabled)?i.disabled:s.disabled,name:r}):N(r,!0,i.value),{...m?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:fe(i.min),max:fe(i.max),minLength:fe(i.minLength),maxLength:fe(i.maxLength),pattern:fe(i.pattern)}:{},name:r,onChange:Q,onBlur:Q,ref:f=>{if(f){Ce(r,i),l=y(n,r);const c=L(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=Zt(c),w=l._f.refs||[];if(g?w.find(k=>k===c):c===l._f.ref)return;D(n,r,{_f:{...l._f,...g?{refs:[...w.filter(pe),c,...Array.isArray(y(a,r))?[{}]:[]],ref:{type:c.type,name:r}}:{ref:c}}}),N(r,!1,void 0,c)}else l=y(n,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(dt(d.array,r)&&u.action)&&d.unMount.add(r)}}},ke=()=>s.shouldFocusError&&me(n,de,d.mount),wt=r=>{j(r)&&(h.state.next({disabled:r}),me(n,(i,l)=>{const m=y(n,l);m&&(i.disabled=m._f.disabled||r,Array.isArray(m._f.refs)&&m._f.refs.forEach(f=>{f.disabled=m._f.disabled||r}))},0,!1))},$e=(r,i)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=U(o);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:c,values:g}=await se();t.errors=c,f=U(g)}else await K(n);if(d.disabled.size)for(const c of d.disabled)M(f,c);if(M(t.errors,"root"),$(t.errors)){h.state.next({errors:{}});try{await r(f,l)}catch(c){m=c}}else i&&await i({...t.errors},l),ke(),setTimeout(ke);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Ct=(r,i={})=>{y(n,r)&&(L(i.defaultValue)?W(r,U(y(a,r))):(W(r,i.defaultValue),D(a,r,U(i.defaultValue))),i.keepTouched||M(t.touchedFields,r),i.keepDirty||(M(t.dirtyFields,r),t.isDirty=i.defaultValue?J(r,U(y(a,r))):J()),i.keepError||(M(t.errors,r),F.isValid&&A()),h.state.next({...t}))},je=(r,i={})=>{const l=r?U(r):a,m=U(l),f=$(r),c=f?a:m;if(i.keepDefaultValues||(a=l),!i.keepValues){if(i.keepDirtyValues){const g=new Set([...d.mount,...Object.keys(ce(a,o))]);for(const w of Array.from(g))y(t.dirtyFields,w)?D(c,w,y(o,w)):W(w,y(c,w))}else{if(Le&&L(r))for(const g of d.mount){const w=y(n,g);if(w&&w._f){const k=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(_e(k)){const G=k.closest("form");if(G){G.reset();break}}}}if(i.keepFieldsRef)for(const g of d.mount)W(g,y(c,g));else n={}}o=s.shouldUnregister?i.keepDefaultValues?U(a):{}:U(c),h.array.next({values:{...c}}),h.state.next({values:{...c}})}d={mount:i.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!F.isValid||!!i.keepIsValid||!!i.keepDirtyValues,u.watch=!!s.shouldUnregister,h.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:f?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!te(r,a)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:i.keepDirtyValues?i.keepDefaultValues&&o?ce(a,o):t.dirtyFields:i.keepDefaultValues&&r?ce(a,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(r,i)=>je(Y(r)?r(o):r,i),kt=(r,i={})=>{const l=y(n,r),m=l&&l._f;if(m){const f=m.refs?m.refs[0]:m.ref;f.focus&&(f.focus(),i.shouldSelect&&Y(f.select)&&f.select())}},Dt=r=>{t={...t,...r}},Ke={control:{register:Ce,unregister:we,getFieldState:Ie,handleSubmit:$e,setError:He,_subscribe:qe,_runSchema:se,_focusError:ke,_getWatch:S,_getDirty:J,_setValid:A,_setFieldArray:B,_setDisabledField:We,_setErrors:E,_getFieldArray:C,_reset:je,_resetDefaultValues:()=>Y(s.defaultValues)&&s.defaultValues().then(r=>{Ge(r,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:ae,_disableForm:wt,_subjects:h,_proxyFormState:F,get _fields(){return n},get _formValues(){return o},get _state(){return u},set _state(r){u=r},get _defaultValues(){return a},get _names(){return d},set _names(r){d=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:At,trigger:le,register:Ce,handleSubmit:$e,watch:St,setValue:W,getValues:ge,reset:Ge,resetField:Ct,clearErrors:xt,unregister:we,setError:He,setFocus:kt,getFieldState:Ie};return{...Ke,formControl:Ke}}function Sr(e={}){const s=V.useRef(void 0),t=V.useRef(void 0),[n,a]=V.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:n},e.defaultValues&&!Y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...d}=ar(e);s.current={...d,formState:n}}const o=s.current.control;return o._options=e,Ue(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),o._formState.isReady=!0,u},[o]),V.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),V.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),V.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),V.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==n.isDirty&&o._subjects.state.next({isDirty:u})}},[o,n.isDirty]),V.useEffect(()=>{e.values&&!te(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,a(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),V.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),s.current.formState=ct(n,o),s.current}const Ft=ne.createContext(void 0),or=Ft.Provider,lr=()=>{const e=ne.useContext(Ft);return Ut(!!e,"Could not useFormContext() outside a Form, or multiple versions of Flow installed."),e},_t=e=>{const s=ne.useContext(Pt).FieldError??Ot;return Z.jsx(s,{...e})};_t.__docgenInfo={description:"",methods:[],displayName:"FieldErrorView"};const ur={"de-DE":{maxLength:e=>`Bitte gib höchstens ${e.number} Zeichen ein`,minLength:e=>`Bitte gib mindestens ${e.number} Zeichen ein`},"en-US":{maxLength:e=>`Please enter at most ${e.number} characters`,minLength:e=>`Please enter at least ${e.number} characters`}};function Vt(e){var I,T,A,O,B;const{children:s,name:t,defaultValue:n,...a}=e,o=Mt(ur),u=Gt({...e,rules:{...e.rules,minLength:typeof((I=a.rules)==null?void 0:I.minLength)=="number"?{value:a.rules.minLength,message:o.format("minLength",{number:a.rules.minLength})}:(T=a.rules)==null?void 0:T.minLength,maxLength:typeof((A=a.rules)==null?void 0:A.maxLength)=="number"?{value:a.rules.maxLength,message:o.format("maxLength",{number:a.rules.maxLength})}:(O=a.rules)==null?void 0:O.maxLength}}),d=lr(),_=d.form.watch(t)??u.field.value,v={...Tt,...u.field,value:_,name:t,form:d.id,isRequired:!!((B=a.rules)!=null&&B.required),validationBehavior:"aria",defaultValue:n,isInvalid:u.fieldState.invalid,children:Lt(b=>{var E;return u.fieldState.invalid?Z.jsxs(Z.Fragment,{children:[b.children,Z.jsx(_t,{children:(E=u.fieldState.error)==null?void 0:E.message})]}):b.children})},{value:F,...x}=v,h={SearchField:v,TextField:v,TextArea:v,MarkdownEditor:v,Checkbox:{...v,isSelected:_},CheckboxGroup:v,CheckboxButton:{...v,isSelected:_},FileField:v,FileDropZone:v,NumberField:v,RadioGroup:v,Switch:{...v,isSelected:_},Slider:v,PasswordCreationField:v,DatePicker:v,DateRangePicker:v,TimeField:v,SegmentedControl:v,Select:{...v,selectedKey:_},ComboBox:{...x,selectedKey:_}};return Z.jsx(ot,{props:h,dependencies:[u.fieldState,u.field,_],children:s})}const Ar=e=>Vt;Vt.__docgenInfo={description:"",methods:[],displayName:"Field",composes:["Omit","PropsWithChildren"]};const dr=e=>{const s=t=>{typeof t=="function"&&t()};e instanceof Promise?e.then(s):s(e)},cr=e=>{const s=Bt.useNew({}),t=ne.useRef(0),n=ne.useRef(null);return ne.useEffect(()=>e.subscribe({formState:{errors:!0,isValid:!0},callback:({isValid:o,isSubmitted:u=!1,isSubmitSuccessful:d=!1,submitCount:_=0,errors:v})=>{if(_===0&&t.current>0&&(t.current=0),t.current!==_&&(t.current=_,u))if(d)s.state.onSucceeded(),o&&dr(n.current);else{const F=u&&v&&Object.entries(v).length>0?v:void 0;s.state.onFailed(F)}}}),[e.subscribe,s.state]),{action:s,registerSubmitResult:o=>{n.current=o,It(o)&&s.state.onAsyncStart()}}},fr=e=>Z.jsx("form",{...e});function yr(e){const{form:s,children:t,onSubmit:n,formComponent:a=fr,isReadOnly:o,...u}=e,d=ne.useId(),_=ne.useMemo(()=>a,[d]),{action:v,registerSubmitResult:F}=cr(s),x=T=>{const{isSubmitting:A,isValidating:O}=s.control._formState,B=T&&"nativeEvent"in T?T:void 0;if(B==null||B.stopPropagation(),A||O){B==null||B.preventDefault();return}s.handleSubmit(b=>{const E=n(b,B);return F(E),E})(B)},h={isReadOnly:!0},I={SearchField:h,TextField:h,TextArea:h,MarkdownEditor:h,Checkbox:h,CheckboxGroup:h,CheckboxButton:h,FileField:h,FileDropZone:h,NumberField:h,RadioGroup:h,Switch:h,Slider:h,PasswordCreationField:h,DatePicker:h,DateRangePicker:h,TimeField:h,SegmentedControl:h,Select:h,ComboBox:h,Button:h};return Z.jsx(ot,{props:o?I:{},children:Z.jsx(Wt,{...s,children:Z.jsx(or,{value:{form:s,id:d},children:Z.jsx(Nt,{actionModel:v,children:Z.jsx(_,{...u,id:d,onSubmit:x,children:t})})})})})}yr.__docgenInfo={description:"",methods:[],displayName:"Form",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"F"}],raw:"UseFormReturn<F>"},description:""},onSubmit:{required:!0,tsType:{name:"SubmitHandler",elements:[{name:"F"}],raw:"SubmitHandler<F>"},description:""},formComponent:{required:!1,tsType:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"onSubmit",value:{name:"union",raw:"FormEventHandler | FormOnSubmitHandler<never>",elements:[{name:"FormEventHandler"},{name:"SubmitHandler",elements:[{name:"never"}],raw:"SubmitHandler<F>"}],required:!1}}]}}],raw:`PropsWithChildren<{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
}>`}],raw:`ComponentType<
  PropsWithChildren<{
    id: string;
    onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  }>
>`},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","PropsWithChildren"]};export{yr as F,Vt as a,Ar as t,Sr as u};
