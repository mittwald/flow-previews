import{r as D,j as o}from"./iframe-Dcjk2TLd.js";import{c as x}from"./clsx-B-dksMZM.js";import{c as v,d as N}from"./ProgressBar-lCiNiuDc.js";import{g as w}from"./getCategoricalColorByIndex-BIvTpnTO.js";import{i as k,a as T,L as q}from"./Legend-DE4vz534.js";import{W as V}from"./Text-lyGbob8n.js";const _="flow--donut-chart",P="flow--donut-chart--border",W="flow--donut-chart--background",I="flow--donut-chart--value",L="flow--donut-chart--info",z="flow--donut-chart--fill",O="flow--donut-chart--success",F="flow--donut-chart--danger",S="flow--donut-chart--warning",B="flow--donut-chart--donut-chart-container",E="flow--donut-chart--bottom",R="flow--donut-chart--top",A="flow--donut-chart--right",M="flow--donut-chart--legend",G="flow--donut-chart--left",l={donutChart:_,border:P,background:W,value:I,"size-l":"flow--donut-chart--size-l",info:L,fill:z,success:O,danger:F,warning:S,donutChartContainer:B,bottom:E,top:R,right:A,legend:M,left:G},b=d=>{const{value:r=0,formatOptions:c,children:a}=d,s=v(c);if(D.Children.count(a)>0)return o.jsx("span",{className:l.value,children:a});const e=c?s.format(r):`${r} %`;return o.jsx("span",{className:l.value,children:o.jsx("strong",{children:e})})};b.__docgenInfo={description:"",methods:[],displayName:"DonutChartValue",props:{value:{required:!1,tsType:{name:"number"},description:""}},composes:["Pick"]};const C=d=>{const{center:r,value:c=0,radius:a,segments:s,maxValue:e}=d,n=2*a*Math.PI,t=100/e*c;if(!s)return o.jsx("circle",{className:l.fill,cx:r,cy:r,r:a,strokeDasharray:`${n} ${n}`,strokeDashoffset:n-t/100*n,transform:`rotate(-90 ${r} ${r})`});let i=0;return s.map((u,h)=>{const f=100/e*u.value,p=i;i=i+360/100*f;const m=!u.color||k(u.color)?`var(--color--categorical--${u.color??w(h)})`:u.color;return o.jsx("circle",{cx:r,cy:r,r:a,strokeDasharray:`${n} ${n}`,strokeDashoffset:n-f/100*n,stroke:m,transform:`rotate(${-90+p} ${r} ${r})`},h)})};C.__docgenInfo={description:"",methods:[],displayName:"DonutChartFill",props:{center:{required:!0,tsType:{name:"number"},description:""},value:{required:!1,tsType:{name:"number"},description:""},radius:{required:!0,tsType:{name:"number"},description:""},maxValue:{required:!0,tsType:{name:"number"},description:""}},composes:["Pick"]};const y=d=>{const{value:r=0,segments:c,size:a,maxValue:s}=d,e=.5,n=a==="m"?8:12,t=n*4,i=t-n/2;return o.jsx(o.Fragment,{children:o.jsxs("svg",{width:t*4,height:t*4,viewBox:`0 0 ${t*2} ${t*2}`,fill:"none",strokeWidth:n,children:[o.jsx("circle",{className:l.background,cx:t,cy:t,r:i,strokeWidth:n}),o.jsx("circle",{className:l.border,cx:t,cy:t,r:t-e/2,strokeWidth:e}),o.jsx("circle",{className:l.border,cx:t,cy:t,r:t-n+e/2,strokeWidth:e}),o.jsx(C,{radius:i,center:t,value:r,segments:c,maxValue:s??100})]})})};y.__docgenInfo={description:"",methods:[],displayName:"Donut",props:{value:{required:!1,tsType:{name:"number"},description:""}},composes:["Pick"]};const $=d=>{const{segments:r,showLegend:c,formatOptions:a}=d,s=v(a);return!r||!c?null:o.jsx(T,{className:l.legend,children:r.map((e,n)=>{const t=a?s.format(e.value):`${e.value} %`;return o.jsx(q,{color:e.color??w(n),children:`${e.title} (${e.valueText??t})`},e.title)})})};$.__docgenInfo={description:"",methods:[],displayName:"DonutChartLegend"};const H=d=>{const{size:r="m",status:c="info",className:a,value:s,segments:e,maxValue:n,formatOptions:t,showLegend:i=!0,legendPosition:u="right",children:h,...f}=d,p=x(l.donutChart,r==="l"&&l["size-l"],l[c],a),m=e?e.map(g=>g.value).reduce((g,j)=>g+j,0):void 0;return o.jsx(V,{if:i&&e,children:o.jsxs("div",{className:x(l.donutChartContainer,l[u]),children:[o.jsxs(N,{className:p,value:m??s,...f,children:[o.jsx(y,{value:m??s,segments:e,size:r,maxValue:n}),o.jsx(b,{value:m??s,formatOptions:t,children:h})]}),i&&e&&o.jsx($,{showLegend:i,segments:e,formatOptions:t})]})})};H.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"DonutChart",props:{size:{required:!1,tsType:{name:"union",raw:'"m" | "l"',elements:[{name:"literal",value:'"m"'},{name:"literal",value:'"l"'}]},description:'The size variant of the donut chart. @default "m"'},segments:{required:!1,tsType:{name:"Array",elements:[{name:"DonutChartSegment"}],raw:"DonutChartSegment[]"},description:"Divides the fill of the donut chart into segments"},showLegend:{required:!1,tsType:{name:"boolean"},description:`Whether the legend component is shown when segments are used. @default:
true`},legendPosition:{required:!1,tsType:{name:"union",raw:'"top" | "left" | "bottom" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"left"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"right"'}]},description:'The position of the legend. @default "right"'}},composes:["Omit","PropsWithStatus","PropsWithChildren"]};export{H as D};
