import{r as l,R as u,j as r}from"./iframe-9LT5pwxo.js";import{f as C,R as F,P as h}from"./flowComponent-CmrMiIfZ.js";import{a as $}from"./utils-C12iYS2x.js";import{$ as v}from"./Text-cT0V7Crl.js";import{$ as w}from"./filterDOMProps-i7L6S0l1.js";import{c as p}from"./clsx-B-dksMZM.js";import{z as j}from"./IconWarning-BGmK8I3p.js";import{o as b}from"./react-children-utilities-CGBnGU1K.js";import{C as x}from"./ClearPropsContext-BgV1DGsr.js";const i=l.createContext(null),g=l.forwardRef(function(e,o){let s=l.useContext(i);return s?.isInvalid?u.createElement(P,{...e,ref:o}):null}),P=l.forwardRef((t,e)=>{let o=l.useContext(i),s=w(t,{global:!0}),n=$({...t,defaultClassName:"react-aria-FieldError",defaultChildren:o.validationErrors.length===0?void 0:o.validationErrors.join(" "),values:o});return n.children==null?null:u.createElement(v,{slot:"errorMessage",...s,...n,ref:e})}),I="flow--form-field",N="flow--form-field--label",R="flow--form-field--field-error",V="flow--form-field--field-description",c={formField:I,label:N,fieldError:R,fieldDescription:V},D="flow--field-error",M={fieldError:D},E=C("FieldError",t=>{const{children:e,className:o,ref:s,...n}=t,a=p(M.fieldError,o),d=l.useContext(i),f=l.useMemo(()=>{if(u.Children.count(e)>=1){const m=b(e);return m?{isInvalid:!0,validationErrors:[m],validationDetails:{valid:!1,badInput:!1,customError:!0,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,valueMissing:!1,typeMismatch:!1}}:d}return d},[d,e]);return r.jsx(i,{value:f,children:r.jsx(g,{ref:s,...n,className:a,children:({validationErrors:m})=>r.jsxs(r.Fragment,{children:[r.jsx(j,{size:"s"}),r.jsx("span",{children:m.join(" ")})]})})})});E.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"FieldError"};const y=l.memo(t=>r.jsx(i,{value:null,children:t.children})),S=()=>{const e=`${l.useId()}.fieldError`,o=l.useContext(i);return{fieldErrorViewPropsContext:{FieldError:{tunnelId:e,className:c.fieldError}},FieldErrorView:()=>r.jsx(F,{id:e,children:a=>{const d=l.useContext(i),f=o??d;return u.Children.count(a)>=1?r.jsx(x,{children:a}):f?.isInvalid&&f.validationErrors.length===0?null:r.jsx(x,{children:r.jsx(i,{value:f,children:r.jsx(E,{className:c.fieldError})})})}}),FieldErrorResetContext:y}},k=t=>{const{FieldErrorView:e,fieldErrorViewPropsContext:o,FieldErrorResetContext:s}=S(),n={Label:{className:c.label,optional:!t.isRequired,isDisabled:!!t.isDisabled},FieldDescription:{className:c.fieldDescription},...o};return{FieldErrorResetContext:s,FieldErrorView:()=>r.jsx(h,{props:o,children:r.jsx(e,{})}),fieldPropsContext:n,fieldProps:{className:p(c.formField)}}};export{i as $,E as F,c as f,k as u};
