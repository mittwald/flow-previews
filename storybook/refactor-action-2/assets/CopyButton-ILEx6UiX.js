import{R as s}from"./index-uCp2LrAq.js";import{g as d}from"./_commonjsHelpers-BosuxZz1.js";import{B as y}from"./Button-CN9-9vQl.js";import"./IconApp-DnBcJRcL.js";import{j as g}from"./IconWarning-D-8E7MU6.js";import{a as b,T as C}from"./TooltipTrigger-BhFFZxiH.js";import{o as v}from"./react-children-utilities-BZCIIV1H.js";import{f as w,C as E}from"./flowComponent-CYso3G7U.js";import{A as D}from"./Action-CJ7OyYl1.js";import{a as x}from"./useLocalizedStringFormatter-CHReNXSI.js";var h=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,a=[],n=0;n<t.rangeCount;n++)a.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||a.forEach(function(i){t.addRange(i)}),e&&e.focus()}},R=h,m={"text/plain":"Text","text/html":"Url",default:"Text"},T="Copy to clipboard: #{key}, Enter";function A(t){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function k(t,e){var a,n,i,l,c,o,p=!1;e||(e={}),a=e.debug||!1;try{i=R(),l=document.createRange(),c=document.getSelection(),o=document.createElement("span"),o.textContent=t,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(r){if(r.stopPropagation(),e.format)if(r.preventDefault(),typeof r.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var u=m[e.format]||m.default;window.clipboardData.setData(u,t)}else r.clipboardData.clearData(),r.clipboardData.setData(e.format,t);e.onCopy&&(r.preventDefault(),e.onCopy(r.clipboardData))}),document.body.appendChild(o),l.selectNodeContents(o),c.addRange(l);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");p=!0}catch(r){a&&console.error("unable to copy using execCommand: ",r),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),p=!0}catch(u){a&&console.error("unable to copy using clipboardData: ",u),a&&console.error("falling back to prompt"),n=A("message"in e?e.message:T),window.prompt(n,t)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(l):c.removeAllRanges()),o&&document.body.removeChild(o),i()}return p}var B=k;const S=d(B),I={"de-DE":{"copyButton.copy":"Kopieren"},"en-EN":{"copyButton.copy":"Copy"}},P=w("CopyButton",t=>{const{text:e,refProp:a,...n}=t,l=x(I).format("copyButton.copy"),c=()=>{S(v(e))};return s.createElement(E,null,s.createElement(b,null,s.createElement(D,{action:c,showFeedback:!0},s.createElement(y,{"aria-label":l,...n,ref:a},s.createElement(g,null))),s.createElement(C,null,l)))});P.__docgenInfo={description:"",methods:[],displayName:"CopyButton"};export{P as C};
