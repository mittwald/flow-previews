import{j as S}from"./jsx-runtime-D_zvdyIk.js";import{r as f,R as L}from"./index-BdpSHsi2.js";import{f as Pe,P as Te}from"./PropsContextProvider-BU6hUCTc.js";import{c as ye}from"./clsx-B-dksMZM.js";import{B as ae}from"./Button-C3or1pEE.js";import{W as xe,d as we}from"./IconWarning-2rlOzVAe.js";import{$ as De}from"./useLocalizedStringFormatter-DnyHa0G6.js";import{$ as Z,d as ue,a as W,b as de,c as Ve}from"./utils-CNUJJGcD.js";import{$ as ce}from"./Label-DsLtIi5U.js";import{a as le,$ as A}from"./mergeRefs-f9wmNE8z.js";import{$ as fe}from"./filterDOMProps-CeZl_uWj.js";import{d as Y,c as _,a as Me}from"./ProgressBar-BKoZZ6mR.js";import{$ as ke}from"./useControlledState-rjpdN6qd.js";import{c as ee,$ as me,a as Re}from"./useFocusRing-BmK03SYd.js";import{s as Ke,v as Se}from"./useFocus-Ck8e1iB7.js";import{d as Fe,e as Ee}from"./usePress-DWaDT6O_.js";import{$ as be}from"./useLabel-XC8v3O7U.js";import{$ as pe}from"./context-b6TG5uw0.js";import{$ as Ie}from"./useFormReset-Tdit5Ane.js";import{c as Ce,$ as Le}from"./useFocusable-CxpMFfxV.js";import{$ as Ne}from"./VisuallyHidden-QAya5EjI.js";function he(n){let{onMoveStart:e,onMove:t,onMoveEnd:s}=n,d=f.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:a,removeGlobalListener:h}=ee(),m=le((l,b,g,i)=>{g===0&&i===0||(d.current.didMove||(d.current.didMove=!0,e==null||e({type:"movestart",pointerType:b,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey})),t==null||t({type:"move",pointerType:b,deltaX:g,deltaY:i,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}))}),p=le((l,b)=>{Fe(),d.current.didMove&&(s==null||s({type:"moveend",pointerType:b,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}))});return{moveProps:f.useMemo(()=>{let l={},b=()=>{Ee(),d.current.didMove=!1};{let i=c=>{if(c.pointerId===d.current.id){var v,o;let y=c.pointerType||"mouse";var P,D;m(c,y,c.pageX-((P=(v=d.current.lastPosition)===null||v===void 0?void 0:v.pageX)!==null&&P!==void 0?P:0),c.pageY-((D=(o=d.current.lastPosition)===null||o===void 0?void 0:o.pageY)!==null&&D!==void 0?D:0)),d.current.lastPosition={pageX:c.pageX,pageY:c.pageY}}},w=c=>{if(c.pointerId===d.current.id){let v=c.pointerType||"mouse";p(c,v),d.current.id=null,h(window,"pointermove",i,!1),h(window,"pointerup",w,!1),h(window,"pointercancel",w,!1)}};l.onPointerDown=c=>{c.button===0&&d.current.id==null&&(b(),c.stopPropagation(),c.preventDefault(),d.current.lastPosition={pageX:c.pageX,pageY:c.pageY},d.current.id=c.pointerId,a(window,"pointermove",i,!1),a(window,"pointerup",w,!1),a(window,"pointercancel",w,!1))}}let g=(i,w,c)=>{b(),m(i,"keyboard",w,c),p(i,"keyboard")};return l.onKeyDown=i=>{switch(i.key){case"Left":case"ArrowLeft":i.preventDefault(),i.stopPropagation(),g(i,-1,0);break;case"Right":case"ArrowRight":i.preventDefault(),i.stopPropagation(),g(i,1,0);break;case"Up":case"ArrowUp":i.preventDefault(),i.stopPropagation(),g(i,0,-1);break;case"Down":case"ArrowDown":i.preventDefault(),i.stopPropagation(),g(i,0,1);break}},l},[d,a,h,m,p])}}const je=0,Ae=100,He=1;function Ue(n){const{isDisabled:e=!1,minValue:t=je,maxValue:s=Ae,numberFormatter:d,step:a=He,orientation:h="horizontal"}=n;let m=f.useMemo(()=>{let r=(s-t)/10;return r=Y(r,0,r+a,a),Math.max(r,a)},[a,s,t]),p=f.useCallback(r=>r==null?void 0:r.map(($,V)=>{let B=V===0?t:r[V-1],G=V===r.length-1?s:r[V+1];return Y($,B,G,a)}),[t,s,a]),x=f.useMemo(()=>p(oe(n.value)),[n.value]),l=f.useMemo(()=>{var r;return p((r=oe(n.defaultValue))!==null&&r!==void 0?r:[t])},[n.defaultValue,t]),b=se(n.value,n.defaultValue,n.onChange),g=se(n.value,n.defaultValue,n.onChangeEnd);const[i,w]=ke(x,l,b),[c,v]=f.useState(new Array(i.length).fill(!1)),o=f.useRef(new Array(i.length).fill(!0)),[P,D]=f.useState(void 0),y=f.useRef(i),T=f.useRef(c);let M=r=>{y.current=r,w(r)},E=r=>{T.current=r,v(r)};function H(r){return(r-t)/(s-t)}function U(r){return r===0?t:i[r-1]}function X(r){return r===i.length-1?s:i[r+1]}function N(r){return o.current[r]}function z(r,$){o.current[r]=$}function k(r,$){if(e||!N(r))return;const V=U(r),B=X(r);$=Y($,V,B,a);let G=ie(y.current,r,$);M(G)}function I(r,$){if(e||!N(r))return;$&&(y.current=i);const V=T.current[r];T.current=ie(T.current,r,$),E(T.current),g&&V&&!T.current.some(Boolean)&&g(y.current)}function R(r){return d.format(r)}function u(r,$){k(r,F($))}function K(r){return Math.round((r-t)/a)*a+t}function F(r){const $=r*(s-t)+t;return _(K($),t,s)}function j(r,$=1){let V=Math.max($,a);k(r,Y(i[r]+V,t,s,a))}function O(r,$=1){let V=Math.max($,a);k(r,Y(i[r]-V,t,s,a))}return{values:i,getThumbValue:r=>i[r],setThumbValue:k,setThumbPercent:u,isThumbDragging:r=>c[r],setThumbDragging:I,focusedThumb:P,setFocusedThumb:D,getThumbPercent:r=>H(i[r]),getValuePercent:H,getThumbValueLabel:r=>R(i[r]),getFormattedValue:R,getThumbMinValue:U,getThumbMaxValue:X,getPercentValue:F,isThumbEditable:N,setThumbEditable:z,incrementThumb:j,decrementThumb:O,step:a,pageSize:m,orientation:h,isDisabled:e}}function ie(n,e,t){return n[e]===t?n:[...n.slice(0,e),t,...n.slice(e+1)]}function oe(n){if(n!=null)return Array.isArray(n)?n:[n]}function se(n,e,t){return s=>{typeof n=="number"||typeof e=="number"?t==null||t(s[0]):t==null||t(s)}}const te=new WeakMap;function Q(n,e){let t=te.get(n);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function ze(n,e,t){let{labelProps:s,fieldProps:d}=be(n),a=n.orientation==="vertical";var h;te.set(e,{id:(h=s.id)!==null&&h!==void 0?h:d.id,"aria-describedby":n["aria-describedby"],"aria-details":n["aria-details"]});let{direction:m}=pe(),{addGlobalListener:p,removeGlobalListener:x}=ee();const l=f.useRef(null),b=m==="rtl",g=f.useRef(null),{moveProps:i}=he({onMoveStart(){g.current=null},onMove({deltaX:o,deltaY:P}){if(!t.current)return;let{height:D,width:y}=t.current.getBoundingClientRect(),T=a?D:y;g.current==null&&l.current!=null&&(g.current=e.getThumbPercent(l.current)*T);let M=a?P:o;if((a||b)&&(M=-M),g.current+=M,l.current!=null&&t.current){const E=_(g.current/T,0,1);e.setThumbPercent(l.current,E)}},onMoveEnd(){l.current!=null&&(e.setThumbDragging(l.current,!1),l.current=null)}});let w=f.useRef(void 0),c=(o,P,D,y)=>{if(t.current&&!n.isDisabled&&e.values.every((T,M)=>!e.isThumbDragging(M))){let{height:T,width:M,top:E,left:H}=t.current.getBoundingClientRect(),U=a?T:M,k=((a?y:D)-(a?E:H))/U;(m==="rtl"||a)&&(k=1-k);let I=e.getPercentValue(k),R,u=e.values.findIndex(K=>I-K<0);if(u===0)R=u;else if(u===-1)R=e.values.length-1;else{let K=e.values[u-1],F=e.values[u];Math.abs(K-I)<Math.abs(F-I)?R=u-1:R=u}R>=0&&e.isThumbEditable(R)?(o.preventDefault(),l.current=R,e.setFocusedThumb(R),w.current=P,e.setThumbDragging(l.current,!0),e.setThumbValue(R,I),p(window,"mouseup",v,!1),p(window,"touchend",v,!1),p(window,"pointerup",v,!1)):l.current=null}},v=o=>{var P,D;((D=o.pointerId)!==null&&D!==void 0?D:(P=o.changedTouches)===null||P===void 0?void 0:P[0].identifier)===w.current&&(l.current!=null&&(e.setThumbDragging(l.current,!1),l.current=null),x(window,"mouseup",v,!1),x(window,"touchend",v,!1),x(window,"pointerup",v,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var o;(o=document.getElementById(Q(e,0)))===null||o===void 0||o.focus(),Ke("keyboard")}),{labelProps:s,groupProps:{role:"group",...d},trackProps:A({onMouseDown(o){o.button!==0||o.altKey||o.ctrlKey||o.metaKey||c(o,void 0,o.clientX,o.clientY)},onPointerDown(o){o.pointerType==="mouse"&&(o.button!==0||o.altKey||o.ctrlKey||o.metaKey)||c(o,o.pointerId,o.clientX,o.clientY)},onTouchStart(o){c(o,o.changedTouches[0].identifier,o.changedTouches[0].clientX,o.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},i),outputProps:{htmlFor:e.values.map((o,P)=>Q(e,P)).join(" "),"aria-live":"off"}}}function Be(n,e){let{index:t=0,isRequired:s,validationState:d,isInvalid:a,trackRef:h,inputRef:m,orientation:p=e.orientation,name:x}=n,l=n.isDisabled||e.isDisabled,b=p==="vertical",{direction:g}=pe(),{addGlobalListener:i,removeGlobalListener:w}=ee(),c=te.get(e);var v;const{labelProps:o,fieldProps:P}=be({...n,id:Q(e,t),"aria-labelledby":`${c.id} ${(v=n["aria-labelledby"])!==null&&v!==void 0?v:""}`.trim()}),D=e.values[t],y=f.useCallback(()=>{m.current&&Se(m.current)},[m]),T=e.focusedThumb===t;f.useEffect(()=>{T&&y()},[T,y]);let M=g==="rtl",E=f.useRef(null),{keyboardProps:H}=Ce({onKeyDown(u){let{getThumbMaxValue:K,getThumbMinValue:F,decrementThumb:j,incrementThumb:O,setThumbValue:r,setThumbDragging:$,pageSize:V}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(u.key)){u.continuePropagation();return}switch(u.preventDefault(),$(t,!0),u.key){case"PageUp":O(t,V);break;case"PageDown":j(t,V);break;case"Home":r(t,F(t));break;case"End":r(t,K(t));break}$(t,!1)}}),{moveProps:U}=he({onMoveStart(){E.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:u,deltaY:K,pointerType:F,shiftKey:j}){const{getThumbPercent:O,setThumbPercent:r,decrementThumb:$,incrementThumb:V,step:B,pageSize:G}=e;if(!h.current)return;let{width:$e,height:ve}=h.current.getBoundingClientRect(),ne=b?ve:$e;if(E.current==null&&(E.current=O(t)*ne),F==="keyboard")u>0&&M||u<0&&!M||K>0?$(t,j?G:B):V(t,j?G:B);else{let J=b?K:u;(b||M)&&(J=-J),E.current+=J,r(t,_(E.current/ne,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!l);const{focusableProps:X}=Le(A(n,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),m);let N=f.useRef(void 0),z=u=>{y(),N.current=u,e.setThumbDragging(t,!0),i(window,"mouseup",k,!1),i(window,"touchend",k,!1),i(window,"pointerup",k,!1)},k=u=>{var K,F;((F=u.pointerId)!==null&&F!==void 0?F:(K=u.changedTouches)===null||K===void 0?void 0:K[0].identifier)===N.current&&(y(),e.setThumbDragging(t,!1),w(window,"mouseup",k,!1),w(window,"touchend",k,!1),w(window,"pointerup",k,!1))},I=e.getThumbPercent(t);(b||g==="rtl")&&(I=1-I);let R=l?{}:A(H,U,{onMouseDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||z()},onPointerDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||z(u.pointerId)},onTouchStart:u=>{z(u.changedTouches[0].identifier)}});return Ie(m,D,u=>{e.setThumbValue(t,u)}),{inputProps:A(X,P,{type:"range",tabIndex:l?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:D,name:x,disabled:l,"aria-orientation":p,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":s||void 0,"aria-invalid":a||d==="invalid"||void 0,"aria-errormessage":n["aria-errormessage"],"aria-describedby":[c["aria-describedby"],n["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[c["aria-details"],n["aria-details"]].filter(Boolean).join(" "),onChange:u=>{e.setThumbValue(t,parseFloat(u.target.value))}}),thumbProps:{...R,style:{position:"absolute",[b?"top":"left"]:`${I*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:o,isDragging:e.isThumbDragging(t),isDisabled:l,isFocused:T}}const Ge=f.createContext(null),q=f.createContext(null),re=f.createContext(null),ge=f.createContext(null),Xe=f.forwardRef(function(e,t){[e,t]=Z(e,t,Ge);let s=f.useRef(null),d=Me(e.formatOptions),a=Ue({...e,numberFormatter:d}),[h,m]=ue(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:p,trackProps:x,labelProps:l,outputProps:b}=ze({...e,label:m},a,s),g=W({...e,values:{orientation:a.orientation,isDisabled:a.isDisabled,state:a},defaultClassName:"react-aria-Slider"}),i=fe(e);return delete i.id,L.createElement(de,{values:[[q,a],[re,{...x,ref:s}],[ge,b],[ce,{...l,ref:h}]]},L.createElement("div",{...i,...p,...g,ref:t,slot:e.slot||void 0,"data-orientation":a.orientation,"data-disabled":a.isDisabled||void 0}))}),Oe=f.forwardRef(function(e,t){[e,t]=Z(e,t,ge);let{children:s,style:d,className:a,...h}=e,m=f.useContext(q),p=W({className:a,style:d,children:s,defaultChildren:m.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:m.orientation,isDisabled:m.isDisabled,state:m}});return L.createElement("output",{...h,...p,ref:t,"data-orientation":m.orientation||void 0,"data-disabled":m.isDisabled||void 0})}),Ye=f.forwardRef(function(e,t){[e,t]=Z(e,t,re);let s=f.useContext(q),{onHoverStart:d,onHoverEnd:a,onHoverChange:h,...m}=e,{hoverProps:p,isHovered:x}=me({onHoverStart:d,onHoverEnd:a,onHoverChange:h}),l=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:s.orientation,isDisabled:s.isDisabled,isHovered:x,state:s}});return L.createElement("div",{...A(m,p),...l,ref:t,"data-hovered":x||void 0,"data-orientation":s.orientation||void 0,"data-disabled":s.isDisabled||void 0})}),We=f.forwardRef(function(e,t){let{inputRef:s=null}=e,d=f.useContext(q),{ref:a}=Ve(re),{index:h=0}=e,m=f.useRef(null),p=s||m,[x,l]=ue(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:b,inputProps:g,labelProps:i,isDragging:w,isFocused:c,isDisabled:v}=Be({...e,index:h,trackRef:a,inputRef:p,label:l},d),{focusProps:o,isFocusVisible:P}=Re(),{hoverProps:D,isHovered:y}=me(e),T=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:d,isHovered:y,isDragging:w,isFocused:c,isFocusVisible:P,isDisabled:v}}),M=fe(e);return delete M.id,L.createElement("div",{...A(M,b,D),...T,ref:t,style:{...b.style,...T.style},"data-hovered":y||void 0,"data-dragging":w||void 0,"data-focused":c||void 0,"data-focus-visible":P||void 0,"data-disabled":v||void 0},L.createElement(Ne,null,L.createElement("input",{ref:p,...A(g,o)})),L.createElement(de,{values:[[ce,{...i,ref:x}]]},T.children))}),qe="flow--slider",Je="flow--slider--text",Qe="flow--slider--value",Ze="flow--slider--track",_e="flow--slider--fill",et="flow--slider--initial-marker",tt="flow--slider--handle",rt="flow--slider--increment",nt="flow--slider--decrement",at="flow--slider--disabled",C={slider:qe,text:Je,value:Qe,track:Ze,fill:_e,initialMarker:et,handle:tt,increment:rt,decrement:nt,disabled:at},lt={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},it=Pe("Slider",n=>{const{className:e,children:t,name:s,isDisabled:d,defaultValue:a,showInitialMarker:h,...m}=n,p=ye(C.slider,d&&C.disabled,e),x=De(lt),l={Label:{unstyled:!0}};return S.jsxs(Xe,{className:p,isDisabled:d,defaultValue:a,...m,children:[S.jsxs("div",{className:C.text,children:[S.jsx(Oe,{className:C.value}),S.jsx(Te,{props:l,children:t})]}),S.jsx(Ye,{className:C.track,children:({state:b})=>S.jsxs(S.Fragment,{children:[S.jsx(ae,{onPress:()=>b.decrementThumb(0),"aria-label":x.format("slider.decrement"),variant:"plain",color:"secondary",className:C.decrement,isDisabled:d,excludeFromTabOrder:!0,children:S.jsx(xe,{})}),S.jsx(ae,{onPress:()=>b.incrementThumb(0),"aria-label":x.format("slider.increment"),variant:"plain",color:"secondary",className:C.increment,isDisabled:d,excludeFromTabOrder:!0,children:S.jsx(we,{})}),S.jsx("div",{className:C.fill,style:{width:b.getThumbPercent(0)*100+"%"}}),h&&a&&typeof a=="number"&&S.jsx("div",{className:C.initialMarker,style:{left:`calc(${b.getValuePercent(a)*100}% - 2px)`}}),S.jsx(We,{name:s,className:C.handle})]})})]})});it.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"Slider"};export{it as S};
