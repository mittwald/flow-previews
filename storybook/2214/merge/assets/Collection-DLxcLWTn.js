import{i as p}from"./CollectionBuilder-C5lgjdY8.js";import{r as y,R as $}from"./iframe-ALQ5zsOr.js";const o=y.createContext(null),s={CollectionRoot({collection:e,renderDropIndicator:t}){return d(e,null,t)},CollectionBranch({collection:e,parent:t,renderDropIndicator:l}){return d(e,t,l)}};function d(e,t,l){return p({items:t?e.getChildren(t.key):e,dependencies:[l],children(f){let n=f.render(f);return!l||f.type!=="item"?n:$.createElement($.Fragment,null,l({type:"item",key:f.key,dropPosition:"before"}),n,x(e,f,l))}})}function x(e,t,l){let f=t.key,n=e.getKeyAfter(f),u=n!=null?e.getItem(n):null;for(;u!=null&&u.type!=="item";)n=e.getKeyAfter(u.key),u=n!=null?e.getItem(n):null;let a=t.nextKey!=null?e.getItem(t.nextKey):null;for(;a!=null&&a.type!=="item";)a=a.nextKey!=null?e.getItem(a.nextKey):null;let i=[];if(a==null){let r=t;for(;r&&(!u||r.parentKey!==u.parentKey&&u.level<r.level);){let m=l({type:"item",key:r.key,dropPosition:"after"});y.isValidElement(m)&&i.push(y.cloneElement(m,{key:`${r.key}-after`})),r=r.parentKey!=null?e.getItem(r.parentKey):null}}return i}const g=y.createContext(s);function b(e){return y.useMemo(()=>e!=null?new Set([e]):null,[e])}export{g as $,o as a,s as b,b as c};
