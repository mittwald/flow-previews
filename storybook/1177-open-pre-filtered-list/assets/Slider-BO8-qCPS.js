import{j as E}from"./jsx-runtime-D_zvdyIk.js";import{B as ae}from"./Button-CFQpmMRz.js";import"./IconApp-6KkRxCXW.js";import{O as Te,a as we}from"./IconWarning-CBLFzXEL.js";import{r as m,R as N}from"./index-BZISi7jw.js";import{f as Pe,P as ye}from"./flowComponent-Cjf8M1qv.js";import{c as xe}from"./clsx-B-dksMZM.js";import{a as de,$ as De}from"./useLocalizedStringFormatter-D6AjEcek.js";import{$ as Z,d as se,a as q,g as ce,f as Me}from"./utils-CzVyYWZn.js";import{a as fe}from"./Label-RYyxMwZH.js";import{b as oe,a as A}from"./index-IBhSrjl6.js";import{$ as me}from"./filterDOMProps-CeZl_uWj.js";import{d as O,c as _,a as Ve}from"./ProgressBar-B3uNJn7L.js";import{$ as ke}from"./useControlledState-4nfZ-XMX.js";import{d as ee,e as Re,f as Ke}from"./usePress-DZCrAIzv.js";import{k as Se,o as Ee,a as be,b as Fe}from"./useFocusRing-DzGSygZM.js";import{$ as pe}from"./useLabel-Hju3pN3c.js";import{$ as Ie}from"./useFormReset-CilIRCFg.js";import{b as Ce,$ as Le}from"./useFocusable-CdO2YIL_.js";import{$ as Ne}from"./VisuallyHidden-DJvehTyr.js";function he(l){let{onMoveStart:e,onMove:t,onMoveEnd:d}=l,u=m.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:a,removeGlobalListener:v}=ee(),f=oe((i,h,P,o)=>{P===0&&o===0||(u.current.didMove||(u.current.didMove=!0,e==null||e({type:"movestart",pointerType:h,shiftKey:i.shiftKey,metaKey:i.metaKey,ctrlKey:i.ctrlKey,altKey:i.altKey})),t==null||t({type:"move",pointerType:h,deltaX:P,deltaY:o,shiftKey:i.shiftKey,metaKey:i.metaKey,ctrlKey:i.ctrlKey,altKey:i.altKey}))}),T=oe((i,h)=>{Re(),u.current.didMove&&(d==null||d({type:"moveend",pointerType:h,shiftKey:i.shiftKey,metaKey:i.metaKey,ctrlKey:i.ctrlKey,altKey:i.altKey}))});return{moveProps:m.useMemo(()=>{let i={},h=()=>{Ke(),u.current.didMove=!1};if(typeof PointerEvent>"u"){let o=r=>{if(r.button===0){var b,p,g,$;f(r,"mouse",r.pageX-((g=(b=u.current.lastPosition)===null||b===void 0?void 0:b.pageX)!==null&&g!==void 0?g:0),r.pageY-(($=(p=u.current.lastPosition)===null||p===void 0?void 0:p.pageY)!==null&&$!==void 0?$:0)),u.current.lastPosition={pageX:r.pageX,pageY:r.pageY}}},x=r=>{r.button===0&&(T(r,"mouse"),v(window,"mousemove",o,!1),v(window,"mouseup",x,!1))};i.onMouseDown=r=>{r.button===0&&(h(),r.stopPropagation(),r.preventDefault(),u.current.lastPosition={pageX:r.pageX,pageY:r.pageY},a(window,"mousemove",o,!1),a(window,"mouseup",x,!1))};let c=r=>{let b=[...r.changedTouches].findIndex(({identifier:k})=>k===u.current.id);if(b>=0){var p,g;let{pageX:k,pageY:L}=r.changedTouches[b];var $,D;f(r,"touch",k-(($=(p=u.current.lastPosition)===null||p===void 0?void 0:p.pageX)!==null&&$!==void 0?$:0),L-((D=(g=u.current.lastPosition)===null||g===void 0?void 0:g.pageY)!==null&&D!==void 0?D:0)),u.current.lastPosition={pageX:k,pageY:L}}},w=r=>{[...r.changedTouches].findIndex(({identifier:p})=>p===u.current.id)>=0&&(T(r,"touch"),u.current.id=null,v(window,"touchmove",c),v(window,"touchend",w),v(window,"touchcancel",w))};i.onTouchStart=r=>{if(r.changedTouches.length===0||u.current.id!=null)return;let{pageX:b,pageY:p,identifier:g}=r.changedTouches[0];h(),r.stopPropagation(),r.preventDefault(),u.current.lastPosition={pageX:b,pageY:p},u.current.id=g,a(window,"touchmove",c,!1),a(window,"touchend",w,!1),a(window,"touchcancel",w,!1)}}else{let o=c=>{if(c.pointerId===u.current.id){var w,r;let g=c.pointerType||"mouse";var b,p;f(c,g,c.pageX-((b=(w=u.current.lastPosition)===null||w===void 0?void 0:w.pageX)!==null&&b!==void 0?b:0),c.pageY-((p=(r=u.current.lastPosition)===null||r===void 0?void 0:r.pageY)!==null&&p!==void 0?p:0)),u.current.lastPosition={pageX:c.pageX,pageY:c.pageY}}},x=c=>{if(c.pointerId===u.current.id){let w=c.pointerType||"mouse";T(c,w),u.current.id=null,v(window,"pointermove",o,!1),v(window,"pointerup",x,!1),v(window,"pointercancel",x,!1)}};i.onPointerDown=c=>{c.button===0&&u.current.id==null&&(h(),c.stopPropagation(),c.preventDefault(),u.current.lastPosition={pageX:c.pageX,pageY:c.pageY},u.current.id=c.pointerId,a(window,"pointermove",o,!1),a(window,"pointerup",x,!1),a(window,"pointercancel",x,!1))}}let P=(o,x,c)=>{h(),f(o,"keyboard",x,c),T(o,"keyboard")};return i.onKeyDown=o=>{switch(o.key){case"Left":case"ArrowLeft":o.preventDefault(),o.stopPropagation(),P(o,-1,0);break;case"Right":case"ArrowRight":o.preventDefault(),o.stopPropagation(),P(o,1,0);break;case"Up":case"ArrowUp":o.preventDefault(),o.stopPropagation(),P(o,0,-1);break;case"Down":case"ArrowDown":o.preventDefault(),o.stopPropagation(),P(o,0,1);break}},i},[u,a,v,f,T])}}const Xe=0,je=100,Ae=1;function He(l){const{isDisabled:e=!1,minValue:t=Xe,maxValue:d=je,numberFormatter:u,step:a=Ae,orientation:v="horizontal"}=l;let f=m.useMemo(()=>{let n=(d-t)/10;return n=O(n,0,n+a,a),Math.max(n,a)},[a,d,t]),T=m.useCallback(n=>n==null?void 0:n.map((y,V)=>{let U=V===0?t:n[V-1],G=V===n.length-1?d:n[V+1];return O(y,U,G,a)}),[t,d,a]),M=m.useMemo(()=>T(le(l.value)),[l.value]),i=m.useMemo(()=>{var n;return T((n=le(l.defaultValue))!==null&&n!==void 0?n:[t])},[l.defaultValue,t]),h=ue(l.value,l.defaultValue,l.onChange),P=ue(l.value,l.defaultValue,l.onChangeEnd);const[o,x]=ke(M,i,h),[c,w]=m.useState(new Array(o.length).fill(!1)),r=m.useRef(new Array(o.length).fill(!0)),[b,p]=m.useState(void 0),g=m.useRef(o),$=m.useRef(c);let D=n=>{g.current=n,x(n)},k=n=>{$.current=n,w(n)};function L(n){return(n-t)/(d-t)}function H(n){return n===0?t:o[n-1]}function z(n){return n===o.length-1?d:o[n+1]}function X(n){return r.current[n]}function Y(n,y){r.current[n]=y}function R(n,y){if(e||!X(n))return;const V=H(n),U=z(n);y=O(y,V,U,a);let G=ie(g.current,n,y);D(G)}function I(n,y){if(e||!X(n))return;y&&(g.current=o);const V=$.current[n];$.current=ie($.current,n,y),k($.current),P&&V&&!$.current.some(Boolean)&&P(g.current)}function K(n){return u.format(n)}function s(n,y){R(n,F(y))}function S(n){return Math.round((n-t)/a)*a+t}function F(n){const y=n*(d-t)+t;return _(S(y),t,d)}function j(n,y=1){let V=Math.max(y,a);R(n,O(o[n]+V,t,d,a))}function B(n,y=1){let V=Math.max(y,a);R(n,O(o[n]-V,t,d,a))}return{values:o,getThumbValue:n=>o[n],setThumbValue:R,setThumbPercent:s,isThumbDragging:n=>c[n],setThumbDragging:I,focusedThumb:b,setFocusedThumb:p,getThumbPercent:n=>L(o[n]),getValuePercent:L,getThumbValueLabel:n=>K(o[n]),getFormattedValue:K,getThumbMinValue:H,getThumbMaxValue:z,getPercentValue:F,isThumbEditable:X,setThumbEditable:Y,incrementThumb:j,decrementThumb:B,step:a,pageSize:f,orientation:v,isDisabled:e}}function ie(l,e,t){return l[e]===t?l:[...l.slice(0,e),t,...l.slice(e+1)]}function le(l){if(l!=null)return Array.isArray(l)?l:[l]}function ue(l,e,t){return d=>{typeof l=="number"||typeof e=="number"?t==null||t(d[0]):t==null||t(d)}}const te=new WeakMap;function Q(l,e){let t=te.get(l);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Ye(l,e,t){let{labelProps:d,fieldProps:u}=pe(l),a=l.orientation==="vertical";var v;te.set(e,{id:(v=d.id)!==null&&v!==void 0?v:u.id,"aria-describedby":l["aria-describedby"],"aria-details":l["aria-details"]});let{direction:f}=de(),{addGlobalListener:T,removeGlobalListener:M}=ee();const i=m.useRef(null),h=f==="rtl",P=m.useRef(null),{moveProps:o}=he({onMoveStart(){P.current=null},onMove({deltaX:r,deltaY:b}){if(!t.current)return;let{height:p,width:g}=t.current.getBoundingClientRect(),$=a?p:g;P.current==null&&i.current!=null&&(P.current=e.getThumbPercent(i.current)*$);let D=a?b:r;if((a||h)&&(D=-D),P.current+=D,i.current!=null&&t.current){const k=_(P.current/$,0,1);e.setThumbPercent(i.current,k)}},onMoveEnd(){i.current!=null&&(e.setThumbDragging(i.current,!1),i.current=null)}});let x=m.useRef(void 0),c=(r,b,p,g)=>{if(t.current&&!l.isDisabled&&e.values.every(($,D)=>!e.isThumbDragging(D))){let{height:$,width:D,top:k,left:L}=t.current.getBoundingClientRect(),H=a?$:D,R=((a?g:p)-(a?k:L))/H;(f==="rtl"||a)&&(R=1-R);let I=e.getPercentValue(R),K,s=e.values.findIndex(S=>I-S<0);if(s===0)K=s;else if(s===-1)K=e.values.length-1;else{let S=e.values[s-1],F=e.values[s];Math.abs(S-I)<Math.abs(F-I)?K=s-1:K=s}K>=0&&e.isThumbEditable(K)?(r.preventDefault(),i.current=K,e.setFocusedThumb(K),x.current=b,e.setThumbDragging(i.current,!0),e.setThumbValue(K,I),T(window,"mouseup",w,!1),T(window,"touchend",w,!1),T(window,"pointerup",w,!1)):i.current=null}},w=r=>{var b,p;((p=r.pointerId)!==null&&p!==void 0?p:(b=r.changedTouches)===null||b===void 0?void 0:b[0].identifier)===x.current&&(i.current!=null&&(e.setThumbDragging(i.current,!1),i.current=null),M(window,"mouseup",w,!1),M(window,"touchend",w,!1),M(window,"pointerup",w,!1))};return"htmlFor"in d&&d.htmlFor&&(delete d.htmlFor,d.onClick=()=>{var r;(r=document.getElementById(Q(e,0)))===null||r===void 0||r.focus(),Se("keyboard")}),{labelProps:d,groupProps:{role:"group",...u},trackProps:A({onMouseDown(r){r.button!==0||r.altKey||r.ctrlKey||r.metaKey||c(r,void 0,r.clientX,r.clientY)},onPointerDown(r){r.pointerType==="mouse"&&(r.button!==0||r.altKey||r.ctrlKey||r.metaKey)||c(r,r.pointerId,r.clientX,r.clientY)},onTouchStart(r){c(r,r.changedTouches[0].identifier,r.changedTouches[0].clientX,r.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},o),outputProps:{htmlFor:e.values.map((r,b)=>Q(e,b)).join(" "),"aria-live":"off"}}}function Ue(l,e){let{index:t=0,isRequired:d,validationState:u,isInvalid:a,trackRef:v,inputRef:f,orientation:T=e.orientation,name:M}=l,i=l.isDisabled||e.isDisabled,h=T==="vertical",{direction:P}=de(),{addGlobalListener:o,removeGlobalListener:x}=ee(),c=te.get(e);var w;const{labelProps:r,fieldProps:b}=pe({...l,id:Q(e,t),"aria-labelledby":`${c.id} ${(w=l["aria-labelledby"])!==null&&w!==void 0?w:""}`.trim()}),p=e.values[t],g=m.useCallback(()=>{f.current&&Ee(f.current)},[f]),$=e.focusedThumb===t;m.useEffect(()=>{$&&g()},[$,g]);let D=P==="rtl",k=m.useRef(null),{keyboardProps:L}=Ce({onKeyDown(s){let{getThumbMaxValue:S,getThumbMinValue:F,decrementThumb:j,incrementThumb:B,setThumbValue:n,setThumbDragging:y,pageSize:V}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(s.key)){s.continuePropagation();return}switch(s.preventDefault(),y(t,!0),s.key){case"PageUp":B(t,V);break;case"PageDown":j(t,V);break;case"Home":n(t,F(t));break;case"End":n(t,S(t));break}y(t,!1)}}),{moveProps:H}=he({onMoveStart(){k.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:s,deltaY:S,pointerType:F,shiftKey:j}){const{getThumbPercent:B,setThumbPercent:n,decrementThumb:y,incrementThumb:V,step:U,pageSize:G}=e;if(!v.current)return;let{width:ve,height:$e}=v.current.getBoundingClientRect(),ne=h?$e:ve;if(k.current==null&&(k.current=B(t)*ne),F==="keyboard")s>0&&D||s<0&&!D||S>0?y(t,j?G:U):V(t,j?G:U);else{let J=h?S:s;(h||D)&&(J=-J),k.current+=J,n(t,_(k.current/ne,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!i);const{focusableProps:z}=Le(A(l,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),f);let X=m.useRef(void 0),Y=s=>{g(),X.current=s,e.setThumbDragging(t,!0),o(window,"mouseup",R,!1),o(window,"touchend",R,!1),o(window,"pointerup",R,!1)},R=s=>{var S,F;((F=s.pointerId)!==null&&F!==void 0?F:(S=s.changedTouches)===null||S===void 0?void 0:S[0].identifier)===X.current&&(g(),e.setThumbDragging(t,!1),x(window,"mouseup",R,!1),x(window,"touchend",R,!1),x(window,"pointerup",R,!1))},I=e.getThumbPercent(t);(h||P==="rtl")&&(I=1-I);let K=i?{}:A(L,H,{onMouseDown:s=>{s.button!==0||s.altKey||s.ctrlKey||s.metaKey||Y()},onPointerDown:s=>{s.button!==0||s.altKey||s.ctrlKey||s.metaKey||Y(s.pointerId)},onTouchStart:s=>{Y(s.changedTouches[0].identifier)}});return Ie(f,p,s=>{e.setThumbValue(t,s)}),{inputProps:A(z,b,{type:"range",tabIndex:i?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:p,name:M,disabled:i,"aria-orientation":T,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":d||void 0,"aria-invalid":a||u==="invalid"||void 0,"aria-errormessage":l["aria-errormessage"],"aria-describedby":[c["aria-describedby"],l["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[c["aria-details"],l["aria-details"]].filter(Boolean).join(" "),onChange:s=>{e.setThumbValue(t,parseFloat(s.target.value))}}),thumbProps:{...K,style:{position:"absolute",[h?"top":"left"]:`${I*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:r,isDragging:e.isThumbDragging(t),isDisabled:i,isFocused:$}}const Ge=m.createContext(null),W=m.createContext(null),re=m.createContext(null),ge=m.createContext(null),ze=m.forwardRef(function(e,t){[e,t]=Z(e,t,Ge);let d=m.useRef(null),u=Ve(e.formatOptions),a=He({...e,numberFormatter:u}),[v,f]=se(),{groupProps:T,trackProps:M,labelProps:i,outputProps:h}=Ye({...e,label:f},a,d),P=q({...e,values:{orientation:a.orientation,isDisabled:a.isDisabled,state:a},defaultClassName:"react-aria-Slider"}),o=me(e);return delete o.id,N.createElement(ce,{values:[[W,a],[re,{...M,ref:d}],[ge,h],[fe,{...i,ref:v}]]},N.createElement("div",{...o,...T,...P,ref:t,slot:e.slot||void 0,"data-orientation":a.orientation,"data-disabled":a.isDisabled||void 0}))}),Be=m.forwardRef(function(e,t){[e,t]=Z(e,t,ge);let{children:d,style:u,className:a,...v}=e,f=m.useContext(W),T=q({className:a,style:u,children:d,defaultChildren:f.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:f.orientation,isDisabled:f.isDisabled,state:f}});return N.createElement("output",{...v,...T,ref:t,"data-orientation":f.orientation||void 0,"data-disabled":f.isDisabled||void 0})}),Oe=m.forwardRef(function(e,t){[e,t]=Z(e,t,re);let d=m.useContext(W),{onHoverStart:u,onHoverEnd:a,onHoverChange:v,...f}=e,{hoverProps:T,isHovered:M}=be({onHoverStart:u,onHoverEnd:a,onHoverChange:v}),i=q({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:d.orientation,isDisabled:d.isDisabled,isHovered:M,state:d}});return N.createElement("div",{...A(f,T),...i,ref:t,"data-hovered":M||void 0,"data-orientation":d.orientation||void 0,"data-disabled":d.isDisabled||void 0})}),qe=m.forwardRef(function(e,t){let{inputRef:d=null}=e,u=m.useContext(W),{ref:a}=Me(re),{index:v=0}=e,f=m.useRef(null),T=d||f,[M,i]=se(),{thumbProps:h,inputProps:P,labelProps:o,isDragging:x,isFocused:c,isDisabled:w}=Ue({...e,index:v,trackRef:a,inputRef:T,label:i},u),{focusProps:r,isFocusVisible:b}=Fe(),{hoverProps:p,isHovered:g}=be(e),$=q({...e,defaultClassName:"react-aria-SliderThumb",values:{state:u,isHovered:g,isDragging:x,isFocused:c,isFocusVisible:b,isDisabled:w}}),D=me(e);return delete D.id,N.createElement("div",{...A(D,h,p),...$,ref:t,style:{...h.style,...$.style},"data-hovered":g||void 0,"data-dragging":x||void 0,"data-focused":c||void 0,"data-focus-visible":b||void 0,"data-disabled":w||void 0},N.createElement(Ne,null,N.createElement("input",{ref:T,...A(P,r)})),N.createElement(ce,{values:[[fe,{...o,ref:M}]]},$.children))}),We={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-EN":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},Je="flow--slider",Qe="flow--slider--text",Ze="flow--slider--value",_e="flow--slider--track",et="flow--slider--fill",tt="flow--slider--initial-marker",rt="flow--slider--handle",nt="flow--slider--increment",at="flow--slider--decrement",ot="flow--slider--disabled",C={slider:Je,text:Qe,value:Ze,track:_e,fill:et,initialMarker:tt,handle:rt,increment:nt,decrement:at,disabled:ot},it=Pe("Slider",l=>{const{className:e,children:t,name:d,isDisabled:u,defaultValue:a,showInitialMarker:v,...f}=l,T=xe(C.slider,u&&C.disabled,e),M=De(We),i={Label:{unstyled:!0}};return E.jsxs(ze,{className:T,isDisabled:u,defaultValue:a,...f,children:[E.jsxs("div",{className:C.text,children:[E.jsx(Be,{className:C.value}),E.jsx(ye,{props:i,children:t})]}),E.jsx(Oe,{className:C.track,children:({state:h})=>E.jsxs(E.Fragment,{children:[E.jsx(ae,{onPress:()=>h.decrementThumb(0),"aria-label":M.format("slider.decrement"),variant:"plain",color:"secondary",className:C.decrement,isDisabled:u,excludeFromTabOrder:!0,children:E.jsx(Te,{})}),E.jsx(ae,{onPress:()=>h.incrementThumb(0),"aria-label":M.format("slider.increment"),variant:"plain",color:"secondary",className:C.increment,isDisabled:u,excludeFromTabOrder:!0,children:E.jsx(we,{})}),E.jsx("div",{className:C.fill,style:{width:h.getThumbPercent(0)*100+"%"}}),v&&a&&typeof a=="number"&&E.jsx("div",{className:C.initialMarker,style:{left:`calc(${h.getValuePercent(a)*100}% - 2px)`}}),E.jsx(qe,{name:d,className:C.handle})]})})]})});it.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{it as S};
