import{j as p}from"./jsx-runtime-D_zvdyIk.js";import{g as h}from"./_commonjsHelpers-Cpj98o6Y.js";import{B as D}from"./Button-DoHVzX_F.js";import"./index-BdpSHsi2.js";import{E as T}from"./IconWarning-CUz4rXWt.js";import{T as E,a as R}from"./Tooltip-0Z6fTLJr.js";import"./react-children-utilities-DvaK_N8_.js";import{f as S,C as j}from"./PropsContextProvider-CLNjXFPK.js";import{A}from"./Action-DGCW1j5S.js";import{$ as k}from"./useLocalizedStringFormatter-QO03R6A5.js";import{o as B}from"./onlyText-C2raRYWa.js";var g,v;function U(){return v||(v=1,g=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var r=document.activeElement,s=[],l=0;l<o.rangeCount;l++)s.push(o.getRangeAt(l));switch(r.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":r.blur();break;default:r=null;break}return o.removeAllRanges(),function(){o.type==="Caret"&&o.removeAllRanges(),o.rangeCount||s.forEach(function(u){o.addRange(u)}),r&&r.focus()}}),g}var C,x;function I(){if(x)return C;x=1;var o=U(),r={"text/plain":"Text","text/html":"Url",default:"Text"},s="Copy to clipboard: #{key}, Enter";function l(n){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,t)}function u(n,t){var a,f,b,d,i,e,m=!1;t||(t={}),a=t.debug||!1;try{b=o(),d=document.createRange(),i=document.getSelection(),e=document.createElement("span"),e.textContent=n,e.ariaHidden="true",e.style.all="unset",e.style.position="fixed",e.style.top=0,e.style.clip="rect(0, 0, 0, 0)",e.style.whiteSpace="pre",e.style.webkitUserSelect="text",e.style.MozUserSelect="text",e.style.msUserSelect="text",e.style.userSelect="text",e.addEventListener("copy",function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),typeof c.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var y=r[t.format]||r.default;window.clipboardData.setData(y,n)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,n);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(e),d.selectNodeContents(e),i.addRange(d);var w=document.execCommand("copy");if(!w)throw new Error("copy command was unsuccessful");m=!0}catch(c){a&&console.error("unable to copy using execCommand: ",c),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",n),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(y){a&&console.error("unable to copy using clipboardData: ",y),a&&console.error("falling back to prompt"),f=l("message"in t?t.message:s),window.prompt(f,n)}}finally{i&&(typeof i.removeRange=="function"?i.removeRange(d):i.removeAllRanges()),e&&document.body.removeChild(e),b()}return m}return C=u,C}var F=I();const P=h(F),q={"de-DE":{"copyButton.copy":"Kopieren"},"en-US":{"copyButton.copy":"Copy"}},N=S("CopyButton",o=>{const{text:r,ref:s,variant:l="plain",color:u="secondary",...n}=o,a=k(q).format("copyButton.copy"),f=()=>{P(B(r))};return p.jsx(j,{children:p.jsxs(E,{children:[p.jsx(A,{action:f,showFeedback:!0,children:p.jsx(D,{"aria-label":a,...n,ref:s,variant:l,color:u,children:p.jsx(T,{})})}),p.jsx(R,{children:a})]})})});N.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"CopyButton"};export{N as C};
