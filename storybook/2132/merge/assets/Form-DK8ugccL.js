import{R as x,r as P,j as ne}from"./iframe-DTBy15H7.js";import{d as Kt}from"./dynamic-CCPexUYC.js";import{v as Wt,P as $t}from"./PropsContextProvider-Fi7tnu-J.js";import{g as jt,h as Gt}from"./TimeField-C25JplCF.js";import{g as Zt}from"./mergeRefs-CWVC3DZq.js";import{$ as Yt}from"./useLocalizedStringFormatter-C6mCvBeu.js";import{i as zt}from"./browser-MW83o6M0.js";import{f as Qt}from"./Section-CTt0hPdU.js";var be=e=>e.type==="checkbox",ce=e=>e instanceof Date,j=e=>e==null;const mt=e=>typeof e=="object";var B=e=>!j(e)&&!Array.isArray(e)&&mt(e)&&!ce(e),yt=e=>B(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Xt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ht=(e,r)=>e.has(Xt(r)),Jt=e=>{const r=e.constructor&&e.constructor.prototype;return B(r)&&r.hasOwnProperty("isPrototypeOf")},Pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function q(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Pe&&(e instanceof Blob||i))&&(t||B(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Jt(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=q(e[a]));else return e;return r}var xe=e=>/^\w*$/.test(e),N=e=>e===void 0,Me=e=>Array.isArray(e)?e.filter(Boolean):[],Ne=e=>Me(e.replace(/["|']|\]/g,"").split(/\.|\[/)),m=(e,r,t)=>{if(!r||!B(e))return t;const i=(xe(r)?[r]:Ne(r)).reduce((a,n)=>j(a)?a:a[n],e);return N(i)||i===e?N(e[r])?t:e[r]:i},Y=e=>typeof e=="boolean",O=(e,r,t)=>{let i=-1;const a=xe(r)?[r]:Ne(r),n=a.length,u=n-1;for(;++i<n;){const c=a[i];let F=t;if(i!==u){const p=e[c];F=B(p)||Array.isArray(p)?p:isNaN(+a[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=F,e=e[c]}};const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},J={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ue=x.createContext(null);Ue.displayName="HookFormContext";const He=()=>x.useContext(Ue),er=e=>{const{children:r,...t}=e;return x.createElement(Ue.Provider,{value:t},r)};var gt=(e,r,t,i=!0)=>{const a={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const u=n;return r._proxyFormState[u]!==J.all&&(r._proxyFormState[u]=!i||J.all),t&&(t[u]=!0),e[u]}});return a};const Ie=typeof window<"u"?x.useLayoutEffect:x.useEffect;function tr(e){const r=He(),{control:t=r.control,disabled:i,name:a,exact:n}=e||{},[u,c]=x.useState(t._formState),F=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ie(()=>t._subscribe({name:a,formState:F.current,exact:n,callback:p=>{!i&&c({...t._formState,...p})}}),[a,i,n]),x.useEffect(()=>{F.current.isValid&&t._setValid(!0)},[t]),x.useMemo(()=>gt(u,t,F.current,!1),[u,t])}var z=e=>typeof e=="string",vt=(e,r,t,i,a)=>z(e)?(i&&r.watch.add(e),m(t,e,a)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),m(t,n))):(i&&(r.watchAll=!0),t),Oe=e=>j(e)||!mt(e);function ie(e,r,t=new WeakSet){if(Oe(e)||Oe(r))return e===r;if(ce(e)&&ce(r))return e.getTime()===r.getTime();const i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const n of i){const u=e[n];if(!a.includes(n))return!1;if(n!=="ref"){const c=r[n];if(ce(u)&&ce(c)||B(u)&&B(c)||Array.isArray(u)&&Array.isArray(c)?!ie(u,c,t):u!==c)return!1}}return!0}function bt(e){const r=He(),{control:t=r.control,name:i,defaultValue:a,disabled:n,exact:u,compute:c}=e||{},F=x.useRef(a),p=x.useRef(c),v=x.useRef(void 0);p.current=c;const y=x.useMemo(()=>t._getWatch(i,F.current),[t,i]),[h,M]=x.useState(p.current?p.current(y):y);return Ie(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:R=>{if(!n){const w=vt(i,t._names,R.values||t._formValues,!1,F.current);if(p.current){const k=p.current(w);ie(k,v.current)||(M(k),v.current=k)}else M(w)}}}),[t,n,i,u]),x.useEffect(()=>t._removeUnmounted()),h}function rr(e){const r=He(),{name:t,disabled:i,control:a=r.control,shouldUnregister:n,defaultValue:u}=e,c=ht(a._names.array,t),F=x.useMemo(()=>m(a._formValues,t,m(a._defaultValues,t,u)),[a,t,u]),p=bt({control:a,name:t,defaultValue:F,exact:!0}),v=tr({control:a,name:t,exact:!0}),y=x.useRef(e),h=x.useRef(void 0),M=x.useRef(a.register(t,{...e.rules,value:p,...Y(e.disabled)?{disabled:e.disabled}:{}}));y.current=e;const R=x.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!m(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!m(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!m(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!m(v.validatingFields,t)},error:{enumerable:!0,get:()=>m(v.errors,t)}}),[v,t]),w=x.useCallback(A=>M.current.onChange({target:{value:yt(A),name:t},type:pe.CHANGE}),[t]),k=x.useCallback(()=>M.current.onBlur({target:{value:m(a._formValues,t),name:t},type:pe.BLUR}),[t,a._formValues]),G=x.useCallback(A=>{const _=m(a._fields,t);_&&A&&(_._f.ref={focus:()=>A.focus&&A.focus(),select:()=>A.select&&A.select(),setCustomValidity:C=>A.setCustomValidity(C),reportValidity:()=>A.reportValidity()})},[a._fields,t]),V=x.useMemo(()=>({name:t,value:p,...Y(i)||v.disabled?{disabled:v.disabled||i}:{},onChange:w,onBlur:k,ref:G}),[t,i,v.disabled,w,k,G,p]);return x.useEffect(()=>{const A=a._options.shouldUnregister||n,_=h.current;_&&_!==t&&!c&&a.unregister(_),a.register(t,{...y.current.rules,...Y(y.current.disabled)?{disabled:y.current.disabled}:{}});const C=(U,T)=>{const X=m(a._fields,U);X&&X._f&&(X._f.mount=T)};if(C(t,!0),A){const U=q(m(a._options.defaultValues,t,y.current.defaultValue));O(a._defaultValues,t,U),N(m(a._formValues,t))&&O(a._formValues,t,U)}return!c&&a.register(t),h.current=t,()=>{(c?A&&!a._state.action:A)?a.unregister(t):C(t,!1)}},[t,a,c,n]),x.useEffect(()=>{a._setDisabledField({disabled:i,name:t})},[i,t,a]),x.useMemo(()=>({field:V,formState:v,fieldState:R}),[V,v,R])}var sr=(e,r,t,i,a)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:a||!0}}:{},ge=e=>Array.isArray(e)?e:[e],tt=()=>{let e=[];return{get observers(){return e},next:a=>{for(const n of e)n.next&&n.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(n=>n!==a)}}),unsubscribe:()=>{e=[]}}};function Ft(e,r){const t={};for(const i in e)if(e.hasOwnProperty(i)){const a=e[i],n=r[i];if(a&&B(a)&&n){const u=Ft(a,n);B(u)&&(t[i]=u)}else e[i]&&(t[i]=n)}return t}var $=e=>B(e)&&!Object.keys(e).length,Be=e=>e.type==="file",ee=e=>typeof e=="function",Ve=e=>{if(!Pe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},_t=e=>e.type==="select-multiple",qe=e=>e.type==="radio",ir=e=>qe(e)||be(e),Le=e=>Ve(e)&&e.isConnected;function nr(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=N(e)?i++:e[r[i++]];return e}function or(e){for(const r in e)if(e.hasOwnProperty(r)&&!N(e[r]))return!1;return!0}function I(e,r){const t=Array.isArray(r)?r:xe(r)?[r]:Ne(r),i=t.length===1?e:nr(e,t),a=t.length-1,n=t[a];return i&&delete i[n],a!==0&&(B(i)&&$(i)||Array.isArray(i)&&or(i))&&I(e,t.slice(0,-1)),e}var ar=e=>{for(const r in e)if(ee(e[r]))return!0;return!1};function pt(e){return Array.isArray(e)||B(e)&&!ar(e)}function Te(e,r={}){for(const t in e)pt(e[t])?(r[t]=Array.isArray(e[t])?[]:{},Te(e[t],r[t])):N(e[t])||(r[t]=!0);return r}function me(e,r,t){t||(t=Te(r));for(const i in e)pt(e[i])?N(r)||Oe(t[i])?t[i]=Te(e[i],Array.isArray(e[i])?[]:{}):me(e[i],j(r)?{}:r[i],t[i]):t[i]=!ie(e[i],r[i]);return t}const rt={value:!1,isValid:!1},st={value:!0,isValid:!0};var Vt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!N(e[0].attributes.value)?N(e[0].value)||e[0].value===""?st:{value:e[0].value,isValid:!0}:st:rt}return rt},wt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>N(e)?e:r?e===""?NaN:e&&+e:t&&z(e)?new Date(e):i?i(e):e;const it={isValid:!1,value:null};var xt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,it):it;function nt(e){const r=e.ref;return Be(r)?r.files:qe(r)?xt(e.refs).value:_t(r)?[...r.selectedOptions].map(({value:t})=>t):be(r)?Vt(e.refs).value:wt(N(r.value)?e.ref.value:r.value,e)}var lr=(e,r,t,i)=>{const a={};for(const n of e){const u=m(r,n);u&&O(a,n,u._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:i}},we=e=>e instanceof RegExp,he=e=>N(e)?e:we(e)?e.source:B(e)?we(e.value)?e.value.source:e.value:e,ot=e=>({isOnSubmit:!e||e===J.onSubmit,isOnBlur:e===J.onBlur,isOnChange:e===J.onChange,isOnAll:e===J.all,isOnTouch:e===J.onTouched});const at="AsyncFunction";var ur=e=>!!e&&!!e.validate&&!!(ee(e.validate)&&e.validate.constructor.name===at||B(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===at)),cr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ve=(e,r,t,i)=>{for(const a of t||Object.keys(e)){const n=m(e,a);if(n){const{_f:u,...c}=n;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],a)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(ve(c,r))break}else if(B(c)&&ve(c,r))break}}};function ut(e,r,t){const i=m(e,t);if(i||xe(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const n=a.join("."),u=m(r,n),c=m(e,n);if(u&&!Array.isArray(u)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};a.pop()}return{name:t}}var dr=(e,r,t,i)=>{t(e);const{name:a,...n}=e;return $(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(u=>r[u]===(!i||J.all))},fr=(e,r,t)=>!e||!r||e===r||ge(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),mr=(e,r,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(r||e):(t?i.isOnBlur:a.isOnBlur)?!e:(t?i.isOnChange:a.isOnChange)?e:!0,yr=(e,r)=>!Me(m(e,r)).length&&I(e,r),hr=(e,r,t)=>{const i=ge(m(e,t));return O(i,"root",r[t]),O(e,t,i),e};function ct(e,r,t="validate"){if(z(e)||Array.isArray(e)&&e.every(z)||Y(e)&&!e)return{type:t,message:z(e)?e:"",ref:r}}var fe=e=>B(e)&&!we(e)?e:{value:e,message:""},dt=async(e,r,t,i,a,n)=>{const{ref:u,refs:c,required:F,maxLength:p,minLength:v,min:y,max:h,pattern:M,validate:R,name:w,valueAsNumber:k,mount:G}=e._f,V=m(t,w);if(!G||r.has(w))return{};const A=c?c[0]:u,_=S=>{a&&A.reportValidity&&(A.setCustomValidity(Y(S)?"":S||""),A.reportValidity())},C={},U=qe(u),T=be(u),X=U||T,Z=(k||Be(u))&&N(u.value)&&N(V)||Ve(u)&&u.value===""||V===""||Array.isArray(V)&&!V.length,ue=sr.bind(null,w,i,C),te=(S,L,H,K=se.maxLength,W=se.minLength)=>{const re=S?L:H;C[w]={type:S?K:W,message:re,ref:u,...ue(S?K:W,re)}};if(n?!Array.isArray(V)||!V.length:F&&(!X&&(Z||j(V))||Y(V)&&!V||T&&!Vt(c).isValid||U&&!xt(c).isValid)){const{value:S,message:L}=z(F)?{value:!!F,message:F}:fe(F);if(S&&(C[w]={type:se.required,message:L,ref:A,...ue(se.required,L)},!i))return _(L),C}if(!Z&&(!j(y)||!j(h))){let S,L;const H=fe(h),K=fe(y);if(!j(V)&&!isNaN(V)){const W=u.valueAsNumber||V&&+V;j(H.value)||(S=W>H.value),j(K.value)||(L=W<K.value)}else{const W=u.valueAsDate||new Date(V),re=Fe=>new Date(new Date().toDateString()+" "+Fe),ye=u.type=="time",de=u.type=="week";z(H.value)&&V&&(S=ye?re(V)>re(H.value):de?V>H.value:W>new Date(H.value)),z(K.value)&&V&&(L=ye?re(V)<re(K.value):de?V<K.value:W<new Date(K.value))}if((S||L)&&(te(!!S,H.message,K.message,se.max,se.min),!i))return _(C[w].message),C}if((p||v)&&!Z&&(z(V)||n&&Array.isArray(V))){const S=fe(p),L=fe(v),H=!j(S.value)&&V.length>+S.value,K=!j(L.value)&&V.length<+L.value;if((H||K)&&(te(H,S.message,L.message),!i))return _(C[w].message),C}if(M&&!Z&&z(V)){const{value:S,message:L}=fe(M);if(we(S)&&!V.match(S)&&(C[w]={type:se.pattern,message:L,ref:u,...ue(se.pattern,L)},!i))return _(L),C}if(R){if(ee(R)){const S=await R(V,t),L=ct(S,A);if(L&&(C[w]={...L,...ue(se.validate,L.message)},!i))return _(L.message),C}else if(B(R)){let S={};for(const L in R){if(!$(S)&&!i)break;const H=ct(await R[L](V,t),A,L);H&&(S={...H,...ue(L,H.message)},_(H.message),i&&(C[w]=S))}if(!$(S)&&(C[w]={ref:A,...S},!i))return C}}return _(!0),C};const gr={mode:J.onSubmit,reValidateMode:J.onChange,shouldFocusError:!0};function vr(e={}){let r={...gr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:ee(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},a=B(r.defaultValues)||B(r.values)?q(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:q(a),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},F,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const h={array:tt(),state:tt()},M=r.criteriaMode===J.all,R=s=>o=>{clearTimeout(p),p=setTimeout(s,o)},w=async s=>{if(!r.disabled&&(v.isValid||y.isValid||s)){const o=r.resolver?$((await T()).errors):await Z(i,!0);o!==t.isValid&&h.state.next({isValid:o})}},k=(s,o)=>{!r.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((s||Array.from(c.mount)).forEach(l=>{l&&(o?O(t.validatingFields,l,o):I(t.validatingFields,l))}),h.state.next({validatingFields:t.validatingFields,isValidating:!$(t.validatingFields)}))},G=(s,o=[],l,g,f=!0,d=!0)=>{if(g&&l&&!r.disabled){if(u.action=!0,d&&Array.isArray(m(i,s))){const b=l(m(i,s),g.argA,g.argB);f&&O(i,s,b)}if(d&&Array.isArray(m(t.errors,s))){const b=l(m(t.errors,s),g.argA,g.argB);f&&O(t.errors,s,b),yr(t.errors,s)}if((v.touchedFields||y.touchedFields)&&d&&Array.isArray(m(t.touchedFields,s))){const b=l(m(t.touchedFields,s),g.argA,g.argB);f&&O(t.touchedFields,s,b)}(v.dirtyFields||y.dirtyFields)&&(t.dirtyFields=me(a,n)),h.state.next({name:s,isDirty:te(s,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else O(n,s,o)},V=(s,o)=>{O(t.errors,s,o),h.state.next({errors:t.errors})},A=s=>{t.errors=s,h.state.next({errors:t.errors,isValid:!1})},_=(s,o,l,g)=>{const f=m(i,s);if(f){const d=m(n,s,N(l)?m(a,s):l);N(d)||g&&g.defaultChecked||o?O(n,s,o?d:nt(f._f)):H(s,d),u.mount&&w()}},C=(s,o,l,g,f)=>{let d=!1,b=!1;const E={name:s};if(!r.disabled){if(!l||g){(v.isDirty||y.isDirty)&&(b=t.isDirty,t.isDirty=E.isDirty=te(),d=b!==E.isDirty);const D=ie(m(a,s),o);b=!!m(t.dirtyFields,s),D?I(t.dirtyFields,s):O(t.dirtyFields,s,!0),E.dirtyFields=t.dirtyFields,d=d||(v.dirtyFields||y.dirtyFields)&&b!==!D}if(l){const D=m(t.touchedFields,s);D||(O(t.touchedFields,s,l),E.touchedFields=t.touchedFields,d=d||(v.touchedFields||y.touchedFields)&&D!==l)}d&&f&&h.state.next(E)}return d?E:{}},U=(s,o,l,g)=>{const f=m(t.errors,s),d=(v.isValid||y.isValid)&&Y(o)&&t.isValid!==o;if(r.delayError&&l?(F=R(()=>V(s,l)),F(r.delayError)):(clearTimeout(p),F=null,l?O(t.errors,s,l):I(t.errors,s)),(l?!ie(f,l):f)||!$(g)||d){const b={...g,...d&&Y(o)?{isValid:o}:{},errors:t.errors,name:s};t={...t,...b},h.state.next(b)}},T=async s=>{k(s,!0);const o=await r.resolver(n,r.context,lr(s||c.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return k(s),o},X=async s=>{const{errors:o}=await T(s);if(s)for(const l of s){const g=m(o,l);g?O(t.errors,l,g):I(t.errors,l)}else t.errors=o;return o},Z=async(s,o,l={valid:!0})=>{for(const g in s){const f=s[g];if(f){const{_f:d,...b}=f;if(d){const E=c.array.has(d.name),D=f._f&&ur(f._f);D&&v.validatingFields&&k([d.name],!0);const Q=await dt(f,c.disabled,n,M,r.shouldUseNativeValidation&&!o,E);if(D&&v.validatingFields&&k([d.name]),Q[d.name]&&(l.valid=!1,o))break;!o&&(m(Q,d.name)?E?hr(t.errors,Q,d.name):O(t.errors,d.name,Q[d.name]):I(t.errors,d.name))}!$(b)&&await Z(b,o,l)}}return l.valid},ue=()=>{for(const s of c.unMount){const o=m(i,s);o&&(o._f.refs?o._f.refs.every(l=>!Le(l)):!Le(o._f.ref))&&Se(s)}c.unMount=new Set},te=(s,o)=>!r.disabled&&(s&&o&&O(n,s,o),!ie(Fe(),a)),S=(s,o,l)=>vt(s,c,{...u.mount?n:N(o)?a:z(s)?{[s]:o}:o},l,o),L=s=>Me(m(u.mount?n:a,s,r.shouldUnregister?m(a,s,[]):[])),H=(s,o,l={})=>{const g=m(i,s);let f=o;if(g){const d=g._f;d&&(!d.disabled&&O(n,s,wt(o,d)),f=Ve(d.ref)&&j(o)?"":o,_t(d.ref)?[...d.ref.options].forEach(b=>b.selected=f.includes(b.value)):d.refs?be(d.ref)?d.refs.forEach(b=>{(!b.defaultChecked||!b.disabled)&&(Array.isArray(f)?b.checked=!!f.find(E=>E===b.value):b.checked=f===b.value||!!f)}):d.refs.forEach(b=>b.checked=b.value===f):Be(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||h.state.next({name:s,values:q(n)})))}(l.shouldDirty||l.shouldTouch)&&C(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&de(s)},K=(s,o,l)=>{for(const g in o){if(!o.hasOwnProperty(g))return;const f=o[g],d=s+"."+g,b=m(i,d);(c.array.has(s)||B(f)||b&&!b._f)&&!ce(f)?K(d,f,l):H(d,f,l)}},W=(s,o,l={})=>{const g=m(i,s),f=c.array.has(s),d=q(o);O(n,s,d),f?(h.array.next({name:s,values:q(n)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&l.shouldDirty&&h.state.next({name:s,dirtyFields:me(a,n),isDirty:te(s,d)})):g&&!g._f&&!j(d)?K(s,d,l):H(s,d,l),lt(s,c)&&h.state.next({...t,name:s}),h.state.next({name:u.mount?s:void 0,values:q(n)})},re=async s=>{u.mount=!0;const o=s.target;let l=o.name,g=!0;const f=m(i,l),d=D=>{g=Number.isNaN(D)||ce(D)&&isNaN(D.getTime())||ie(D,m(n,l,D))},b=ot(r.mode),E=ot(r.reValidateMode);if(f){let D,Q;const _e=o.type?nt(f._f):yt(s),ae=s.type===pe.BLUR||s.type===pe.FOCUS_OUT,It=!cr(f._f)&&!r.resolver&&!m(t.errors,l)&&!f._f.deps||mr(ae,m(t.touchedFields,l),t.isSubmitted,E,b),Ee=lt(l,c,ae);O(n,l,_e),ae?(!o||!o.readOnly)&&(f._f.onBlur&&f._f.onBlur(s),F&&F(0)):f._f.onChange&&f._f.onChange(s);const Ce=C(l,_e,ae),Bt=!$(Ce)||Ee;if(!ae&&h.state.next({name:l,type:s.type,values:q(n)}),It)return(v.isValid||y.isValid)&&(r.mode==="onBlur"?ae&&w():ae||w()),Bt&&h.state.next({name:l,...Ee?{}:Ce});if(!ae&&Ee&&h.state.next({...t}),r.resolver){const{errors:Je}=await T([l]);if(d(_e),g){const qt=ut(t.errors,i,l),et=ut(Je,i,qt.name||l);D=et.error,l=et.name,Q=$(Je)}}else k([l],!0),D=(await dt(f,c.disabled,n,M,r.shouldUseNativeValidation))[l],k([l]),d(_e),g&&(D?Q=!1:(v.isValid||y.isValid)&&(Q=await Z(i,!0)));g&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&de(f._f.deps),U(l,Q,D,Ce))}},ye=(s,o)=>{if(m(t.errors,o)&&s.focus)return s.focus(),1},de=async(s,o={})=>{let l,g;const f=ge(s);if(r.resolver){const d=await X(N(s)?s:f);l=$(d),g=s?!f.some(b=>m(d,b)):l}else s?(g=(await Promise.all(f.map(async d=>{const b=m(i,d);return await Z(b&&b._f?{[d]:b}:b)}))).every(Boolean),!(!g&&!t.isValid)&&w()):g=l=await Z(i);return h.state.next({...!z(s)||(v.isValid||y.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),o.shouldFocus&&!g&&ve(i,ye,s?f:c.mount),g},Fe=(s,o)=>{let l={...u.mount?n:a};return o&&(l=Ft(o.dirtyFields?t.dirtyFields:t.touchedFields,l)),N(s)?l:z(s)?m(l,s):s.map(g=>m(l,g))},$e=(s,o)=>({invalid:!!m((o||t).errors,s),isDirty:!!m((o||t).dirtyFields,s),error:m((o||t).errors,s),isValidating:!!m(t.validatingFields,s),isTouched:!!m((o||t).touchedFields,s)}),Ot=s=>{s&&ge(s).forEach(o=>I(t.errors,o)),h.state.next({errors:s?t.errors:{}})},je=(s,o,l)=>{const g=(m(i,s,{_f:{}})._f||{}).ref,f=m(t.errors,s)||{},{ref:d,message:b,type:E,...D}=f;O(t.errors,s,{...D,...o,ref:g}),h.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Tt=(s,o)=>ee(s)?h.state.subscribe({next:l=>"values"in l&&s(S(void 0,o),l)}):S(s,o,!0),Ge=s=>h.state.subscribe({next:o=>{fr(s.name,o.name,s.exact)&&dr(o,s.formState||v,Ht,s.reRenderRoot)&&s.callback({values:{...n},...t,...o,defaultValues:a})}}).unsubscribe,Pt=s=>(u.mount=!0,y={...y,...s.formState},Ge({...s,formState:y})),Se=(s,o={})=>{for(const l of s?ge(s):c.mount)c.mount.delete(l),c.array.delete(l),o.keepValue||(I(i,l),I(n,l)),!o.keepError&&I(t.errors,l),!o.keepDirty&&I(t.dirtyFields,l),!o.keepTouched&&I(t.touchedFields,l),!o.keepIsValidating&&I(t.validatingFields,l),!r.shouldUnregister&&!o.keepDefaultValue&&I(a,l);h.state.next({values:q(n)}),h.state.next({...t,...o.keepDirty?{isDirty:te()}:{}}),!o.keepIsValid&&w()},Ze=({disabled:s,name:o})=>{(Y(s)&&u.mount||s||c.disabled.has(o))&&(s?c.disabled.add(o):c.disabled.delete(o))},ke=(s,o={})=>{let l=m(i,s);const g=Y(o.disabled)||Y(r.disabled);return O(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...o}}),c.mount.add(s),l?Ze({disabled:Y(o.disabled)?o.disabled:r.disabled,name:s}):_(s,!0,o.value),{...g?{disabled:o.disabled||r.disabled}:{},...r.progressive?{required:!!o.required,min:he(o.min),max:he(o.max),minLength:he(o.minLength),maxLength:he(o.maxLength),pattern:he(o.pattern)}:{},name:s,onChange:re,onBlur:re,ref:f=>{if(f){ke(s,o),l=m(i,s);const d=N(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,b=ir(d),E=l._f.refs||[];if(b?E.find(D=>D===d):d===l._f.ref)return;O(i,s,{_f:{...l._f,...b?{refs:[...E.filter(Le),d,...Array.isArray(m(a,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),_(s,!1,void 0,d)}else l=m(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(ht(c.array,s)&&u.action)&&c.unMount.add(s)}}},Ae=()=>r.shouldFocusError&&ve(i,ye,c.mount),Mt=s=>{Y(s)&&(h.state.next({disabled:s}),ve(i,(o,l)=>{const g=m(i,l);g&&(o.disabled=g._f.disabled||s,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||s}))},0,!1))},Ye=(s,o)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=q(n);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:b}=await T();t.errors=d,f=q(b)}else await Z(i);if(c.disabled.size)for(const d of c.disabled)I(f,d);if(I(t.errors,"root"),$(t.errors)){h.state.next({errors:{}});try{await s(f,l)}catch(d){g=d}}else o&&await o({...t.errors},l),Ae(),setTimeout(Ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},Nt=(s,o={})=>{m(i,s)&&(N(o.defaultValue)?W(s,q(m(a,s))):(W(s,o.defaultValue),O(a,s,q(o.defaultValue))),o.keepTouched||I(t.touchedFields,s),o.keepDirty||(I(t.dirtyFields,s),t.isDirty=o.defaultValue?te(s,q(m(a,s))):te()),o.keepError||(I(t.errors,s),v.isValid&&w()),h.state.next({...t}))},ze=(s,o={})=>{const l=s?q(s):a,g=q(l),f=$(s),d=f?a:g;if(o.keepDefaultValues||(a=l),!o.keepValues){if(o.keepDirtyValues){const b=new Set([...c.mount,...Object.keys(me(a,n))]);for(const E of Array.from(b))m(t.dirtyFields,E)?O(d,E,m(n,E)):W(E,m(d,E))}else{if(Pe&&N(s))for(const b of c.mount){const E=m(i,b);if(E&&E._f){const D=Array.isArray(E._f.refs)?E._f.refs[0]:E._f.ref;if(Ve(D)){const Q=D.closest("form");if(Q){Q.reset();break}}}}if(o.keepFieldsRef)for(const b of c.mount)W(b,m(d,b));else i={}}n=r.shouldUnregister?o.keepDefaultValues?q(a):{}:q(d),h.array.next({values:{...d}}),h.state.next({values:{...d}})}c={mount:o.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!o.keepIsValid||!!o.keepDirtyValues,u.watch=!!r.shouldUnregister,h.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:f?!1:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!ie(s,a)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:o.keepDirtyValues?o.keepDefaultValues&&n?me(a,n):t.dirtyFields:o.keepDefaultValues&&s?me(a,s):o.keepDirty?t.dirtyFields:{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Qe=(s,o)=>ze(ee(s)?s(n):s,o),Ut=(s,o={})=>{const l=m(i,s),g=l&&l._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),o.shouldSelect&&ee(f.select)&&f.select())}},Ht=s=>{t={...t,...s}},Xe={control:{register:ke,unregister:Se,getFieldState:$e,handleSubmit:Ye,setError:je,_subscribe:Ge,_runSchema:T,_focusError:Ae,_getWatch:S,_getDirty:te,_setValid:w,_setFieldArray:G,_setDisabledField:Ze,_setErrors:A,_getFieldArray:L,_reset:ze,_resetDefaultValues:()=>ee(r.defaultValues)&&r.defaultValues().then(s=>{Qe(s,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:ue,_disableForm:Mt,_subjects:h,_proxyFormState:v,get _fields(){return i},get _formValues(){return n},get _state(){return u},set _state(s){u=s},get _defaultValues(){return a},get _names(){return c},set _names(s){c=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Pt,trigger:de,register:ke,handleSubmit:Ye,watch:Tt,setValue:W,getValues:Fe,reset:Qe,resetField:Nt,clearErrors:Ot,unregister:Se,setError:je,setFocus:Ut,getFieldState:$e};return{...Xe,formControl:Xe}}function zr(e={}){const r=x.useRef(void 0),t=x.useRef(void 0),[i,a]=x.useState({isDirty:!1,isValidating:!1,isLoading:ee(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ee(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!ee(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=vr(e);r.current={...c,formState:i}}const n=r.current.control;return n._options=e,Ie(()=>{const u=n._subscribe({formState:n._proxyFormState,callback:()=>a({...n._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),n._formState.isReady=!0,u},[n]),x.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),x.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),x.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),x.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),x.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==i.isDirty&&n._subjects.state.next({isDirty:u})}},[n,i.isDirty]),x.useEffect(()=>{e.values&&!ie(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),t.current=e.values,a(u=>({...u}))):n._resetDefaultValues()},[n,e.values]),x.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=gt(i,n),r.current}const St=P.createContext(void 0),br=St.Provider,Fr=()=>{const e=P.useContext(St);return zt(!!e,"Could not useFormContext() outside a Form, or multiple versions of Flow installed."),e},kt=["shift","alt","meta","mod","ctrl","control"],_r={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function le(e){return(_r[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function At(e){return kt.includes(e)}function Re(e,r=","){return e.toLowerCase().split(r)}function De(e,r="+",t=">",i=!1,a){let n=[],u=!1;e=e.trim(),e.includes(t)?(u=!0,n=e.toLocaleLowerCase().split(t).map(p=>le(p))):n=e.toLocaleLowerCase().split(r).map(p=>le(p));const c={alt:n.includes("alt"),ctrl:n.includes("ctrl")||n.includes("control"),shift:n.includes("shift"),meta:n.includes("meta"),mod:n.includes("mod"),useKey:i},F=n.filter(p=>!kt.includes(p));return{...c,keys:F,description:a,isSequence:u,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Et([le(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&Ct([le(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{oe.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{oe.clear()},0)}));const oe=new Set;function Ke(e){return Array.isArray(e)}function pr(e,r=","){return(Ke(e)?e:e.split(r)).every(t=>oe.has(t.trim().toLowerCase()))}function Et(e){const r=Array.isArray(e)?e:[e];oe.has("meta")&&oe.forEach(t=>!At(t)&&oe.delete(t.toLowerCase())),r.forEach(t=>oe.add(t.toLowerCase()))}function Ct(e){const r=Array.isArray(e)?e:[e];e==="meta"?oe.clear():r.forEach(t=>oe.delete(t.toLowerCase()))}function Vr(e,r,t){(typeof t=="function"&&t(e,r)||t===!0)&&e.preventDefault()}function wr(e,r,t){return typeof t=="function"?t(e,r):t===!0||t===void 0}const xr=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function Sr(e){return Lt(e,xr)}function Lt(e,r=!1){const{target:t,composed:i}=e;let a,n;return kr(t)&&i?(a=e.composedPath()[0]&&e.composedPath()[0].tagName,n=e.composedPath()[0]&&e.composedPath()[0].role):(a=t&&t.tagName,n=t&&t.role),Ke(r)?!!(a&&r&&r.some(u=>u.toLowerCase()===a.toLowerCase()||u===n)):!!(a&&r&&r)}function kr(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function Ar(e,r){return e.length===0&&r?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):r?e.some(t=>r.includes(t))||e.includes("*"):!0}const Er=(e,r,t=!1)=>{const{alt:i,meta:a,mod:n,shift:u,ctrl:c,keys:F,useKey:p}=r,{code:v,key:y,ctrlKey:h,metaKey:M,shiftKey:R,altKey:w}=e,k=le(v);if(p&&F?.length===1&&F.includes(y))return!0;if(!F?.includes(k)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(k))return!1;if(!t){if(i!==w&&k!=="alt"||u!==R&&k!=="shift")return!1;if(n){if(!M&&!h)return!1}else if(a!==M&&k!=="meta"&&k!=="os"||c!==h&&k!=="ctrl"&&k!=="control")return!1}return F&&F.length===1&&F.includes(k)?!0:F?pr(F):!F},Cr=P.createContext(void 0),Lr=()=>P.useContext(Cr);function Rt(e,r){return e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(e).length===Object.keys(r).length&&Object.keys(e).reduce((t,i)=>t&&Rt(e[i],r[i]),!0):e===r}const Rr=P.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),Dr=()=>P.useContext(Rr);function Or(e){const r=P.useRef(void 0);return Rt(r.current,e)||(r.current=e),r.current}const ft=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},Tr=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Pr(e,r,t,i){const a=P.useRef(null),n=P.useRef(!1),u=Array.isArray(t)?Array.isArray(i)?void 0:i:t,c=Ke(e)?e.join(u?.delimiter):e,F=Array.isArray(t)?t:Array.isArray(i)?i:void 0,p=P.useCallback(r,F??[]),v=P.useRef(p);F?v.current=p:v.current=r;const y=Or(u),{activeScopes:h}=Dr(),M=Lr();return Tr(()=>{if(y?.enabled===!1||!Ar(h,y?.scopes))return;let R=[],w;const k=(_,C=!1)=>{if(!(Sr(_)&&!Lt(_,y?.enableOnFormTags))){if(a.current!==null){const U=a.current.getRootNode();if((U instanceof Document||U instanceof ShadowRoot)&&U.activeElement!==a.current&&!a.current.contains(U.activeElement)){ft(_);return}}_.target?.isContentEditable&&!y?.enableOnContentEditable||Re(c,y?.delimiter).forEach(U=>{if(U.includes(y?.splitKey??"+")&&U.includes(y?.sequenceSplitKey??">")){console.warn(`Hotkey ${U} contains both ${y?.splitKey??"+"} and ${y?.sequenceSplitKey??">"} which is not supported.`);return}const T=De(U,y?.splitKey,y?.sequenceSplitKey,y?.useKey,y?.description);if(T.isSequence){w=setTimeout(()=>{R=[]},y?.sequenceTimeoutMs??1e3);const X=T.useKey?_.key:le(_.code);if(At(X.toLowerCase()))return;R.push(X);const Z=T.keys?.[R.length-1];if(X!==Z){R=[],w&&clearTimeout(w);return}R.length===T.keys?.length&&(v.current(_,T),w&&clearTimeout(w),R=[])}else if(Er(_,T,y?.ignoreModifiers)||T.keys?.includes("*")){if(y?.ignoreEventWhen?.(_)||C&&n.current)return;if(Vr(_,T,y?.preventDefault),!wr(_,T,y?.enabled)){ft(_);return}v.current(_,T),C||(n.current=!0)}})}},G=_=>{_.code!==void 0&&(Et(le(_.code)),(y?.keydown===void 0&&y?.keyup!==!0||y?.keydown)&&k(_))},V=_=>{_.code!==void 0&&(Ct(le(_.code)),n.current=!1,y?.keyup&&k(_,!0))},A=a.current||u?.document||document;return A.addEventListener("keyup",V,u?.eventListenerOptions),A.addEventListener("keydown",G,u?.eventListenerOptions),M&&Re(c,y?.delimiter).forEach(_=>M.addHotkey(De(_,y?.splitKey,y?.sequenceSplitKey,y?.useKey,y?.description))),()=>{A.removeEventListener("keyup",V,u?.eventListenerOptions),A.removeEventListener("keydown",G,u?.eventListenerOptions),M&&Re(c,y?.delimiter).forEach(_=>M.removeHotkey(De(_,y?.splitKey,y?.sequenceSplitKey,y?.useKey,y?.description))),R=[],w&&clearTimeout(w)}},[c,y,h]),a}const Mr={"de-DE":{maxLength:e=>`Bitte gib hÃ¶chstens ${e.number} Zeichen ein`,minLength:e=>`Bitte gib mindestens ${e.number} Zeichen ein`},"en-US":{maxLength:e=>`Please enter at most ${e.number} characters`,minLength:e=>`Please enter at least ${e.number} characters`}},We=P.memo(e=>{const r=P.useContext(Wt).FieldError??jt;return ne.jsx(r,{...e})});We.displayName="FieldErrorView";We.__docgenInfo={description:"",methods:[],displayName:"FieldErrorView"};function Dt(e){const{children:r,name:t,defaultValue:i,...a}=e,n=Yt(Mr),u=rr({...e,rules:{...e.rules,minLength:typeof a.rules?.minLength=="number"?{value:a.rules.minLength,message:n.format("minLength",{number:a.rules.minLength})}:a.rules?.minLength,maxLength:typeof a.rules?.maxLength=="number"?{value:a.rules.maxLength,message:n.format("maxLength",{number:a.rules.maxLength})}:a.rules?.maxLength}}),c=Fr(),F=bt({control:c.form.control,name:t})??u.field.value,p=u.fieldState.invalid,v=Pr("mod+enter",()=>{c.submit()},{enableOnFormTags:!0,enableOnContentEditable:!0}),y=Zt(u.field.ref,v),h={...u.field,ref:y,value:F,name:t,form:c.id,isRequired:!!a.rules?.required,isReadOnly:c.isReadOnly,validationBehavior:"aria",defaultValue:i,isInvalid:p,children:Kt(R=>ne.jsxs(ne.Fragment,{children:[R.children,ne.jsx(We,{children:u.fieldState.error?.message})]}))},M={Autocomplete:h,SearchField:h,TextField:h,TextArea:h,MarkdownEditor:h,Checkbox:{...h,isSelected:F},CheckboxGroup:{...h},CheckboxButton:{...h,isSelected:F},FileField:h,FileDropZone:h,NumberField:h,RadioGroup:h,Switch:{...h,isSelected:F},Slider:h,PasswordCreationField:h,DatePicker:h,DateRangePicker:h,TimeField:h,SegmentedControl:h,Select:{...h,selectedKey:F},ComboBox:{...h,selectedKey:F}};return ne.jsx($t,{props:M,dependencies:[u.fieldState,u.field,F,c.isReadOnly],children:r})}const Qr=e=>Dt;Dt.__docgenInfo={description:"",methods:[],displayName:"Field",composes:["Omit","PropsWithChildren"]};const Nr=e=>{const r=t=>{typeof t=="function"&&t()};e instanceof Promise?e.then(r):r(e)},Ur=e=>{const r=Qt.useNew({}),t=P.useRef(0),i=P.useRef(null),a=r.state.useValue(),n=P.useRef(a);return P.useEffect(()=>{a==="isIdle"&&n.current==="isSucceeded"&&Nr(i.current),n.current=a},[a]),P.useEffect(()=>e.subscribe({formState:{errors:!0},callback:({isSubmitted:c=!1,isSubmitSuccessful:F=!1,submitCount:p=0,errors:v})=>{if(p===0&&t.current>0&&(t.current=0),t.current!==p&&(t.current=p,c))if(F)r.state.onSucceeded();else{const y=c&&v&&Object.entries(v).length>0?v:void 0;r.state.onFailed(y)}}}),[e.subscribe]),{action:r,registerSubmitResult:c=>{Gt(c)?(r.state.onAsyncStart(),c.then(F=>{i.current=F})):i.current=c}}},Hr=e=>ne.jsx("form",{...e});function Ir(e){const{form:r,children:t,onSubmit:i,formComponent:a=Hr,isReadOnly:n,ref:u,...c}=e,[F,p]=P.useState(!!n),v=P.useId(),y=P.useMemo(()=>a,[v]),h=P.useRef(null),M=n||F,{action:R,registerSubmitResult:w}=Ur(r),k=G=>{const{isSubmitting:V,isValidating:A}=r.control._formState,_=G&&"nativeEvent"in G?G:void 0;if(_?.stopPropagation(),V||A){_?.preventDefault();return}return r.handleSubmit(U=>{p(!0);const T=i(U,_);return w(T),T})(_).finally(()=>{p(!1)})};return ne.jsx(er,{...r,children:ne.jsx(br,{value:{form:r,id:v,isReadOnly:M,setReadOnly:p,submit:k,submitButtonRef:h,formActionModel:R},children:ne.jsx(y,{...c,ref:u,id:v,onSubmit:k,children:t})})})}Ir.__docgenInfo={description:"",methods:[],displayName:"Form",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"F"}],raw:"UseFormReturn<F>"},description:""},onSubmit:{required:!0,tsType:{name:"SubmitHandler",elements:[{name:"F"}],raw:"SubmitHandler<F>"},description:""},formComponent:{required:!1,tsType:{name:"FC",elements:[{name:"Omit",elements:[{name:"FC",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: Ref<HTMLFormElement>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"onSubmit",value:{name:"union",raw:"FormEventHandler | FormOnSubmitHandler<never>",elements:[{name:"FormEventHandler"},{name:"SubmitHandler",elements:[{name:"never"}],raw:"SubmitHandler<F>"}],required:!1}},{key:"ref",value:{name:"Ref",elements:[{name:"HTMLFormElement"}],raw:"Ref<HTMLFormElement>",required:!1}}]}}],raw:`PropsWithChildren<{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: Ref<HTMLFormElement>;
}>`}],raw:`FC<
  PropsWithChildren<{
    id: string;
    onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
    ref?: Ref<HTMLFormElement>;
  }>
>`},{name:"literal",value:'"ref"'}],raw:'Omit<FormComponentType, "ref">'}],raw:'FC<Omit<FormComponentType, "ref">>'},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","PropsWithChildren"]};export{Ir as F,Fr as a,Dt as b,Qr as t,zr as u};
