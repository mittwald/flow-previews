import{$ as q,c as O,b as E,e as k,a as C,f as L,d as _,g as N}from"./utils-BAtcVSHo.js";import{a as T}from"./FieldError-DGtg9YPD.js";import{$ as W,a as A}from"./Form-qm5cnMB7.js";import{a as G}from"./Label--FbMCZJS.js";import{a as H}from"./Text-CxIdO6ok.js";import{$ as y,d as K}from"./index-Dfd2pZHs.js";import{$ as B}from"./filterDOMProps-CeZl_uWj.js";import{r as V,R as I}from"./index-BZISi7jw.js";import{$ as j}from"./useFormReset-4n_yD9ws.js";import{$ as M}from"./usePress-AhNAqARA.js";import{$ as U}from"./useFocusable-D8BATkaF.js";import{a as z,$ as J}from"./useFormValidation-CbU_Acnh.js";import{$ as Q}from"./FocusScope-FOL1CxoP.js";import{$ as X,b as Y,a as Z}from"./useFocusRing-D6MLu59I.js";import{a as ee}from"./useLocalizedStringFormatter-CZn_2Om1.js";import{$ as ae}from"./VisuallyHidden-FconPwXt.js";import{$ as ie}from"./useControlledState-4nfZ-XMX.js";const S=new WeakMap;function de(a,e,d){let{value:r,children:c,"aria-label":l,"aria-labelledby":t}=a;const i=a.isDisabled||e.isDisabled;let u=c!=null,f=l!=null||t!=null;!u&&!f&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let s=e.selectedValue===r,p=R=>{R.stopPropagation(),e.setSelectedValue(r)},{pressProps:m,isPressed:P}=M({isDisabled:i}),{pressProps:x,isPressed:$}=M({isDisabled:i,onPress(){var R;e.setSelectedValue(r),(R=d.current)===null||R===void 0||R.focus()}}),{focusableProps:F}=U(y(a,{onFocus:()=>e.setLastFocusedValue(r)}),d),g=y(m,F),D=B(a,{labelable:!0}),v=-1;e.selectedValue!=null?e.selectedValue===r&&(v=0):(e.lastFocusedValue===r||e.lastFocusedValue==null)&&(v=0),i&&(v=void 0);let{name:b,descriptionId:o,errorMessageId:h,validationBehavior:n}=S.get(e);return j(d,e.selectedValue,e.setSelectedValue),z({validationBehavior:n},e,d),{labelProps:y(x,{onClick:R=>R.preventDefault()}),inputProps:y(D,{...g,type:"radio",name:b,tabIndex:v,disabled:i,required:e.isRequired&&n==="native",checked:s,value:r,onChange:p,"aria-describedby":[a["aria-describedby"],e.isInvalid?h:null,o].filter(Boolean).join(" ")||void 0}),isDisabled:i,isSelected:s,isPressed:P||$}}function le(a,e){let{name:d,isReadOnly:r,isRequired:c,isDisabled:l,orientation:t="vertical",validationBehavior:i="aria"}=a,{direction:u}=ee(),{isInvalid:f,validationErrors:s,validationDetails:p}=e.displayValidation,{labelProps:m,fieldProps:P,descriptionProps:x,errorMessageProps:$}=W({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||s}),F=B(a,{labelable:!0}),{focusWithinProps:g}=X({onBlurWithin(b){var o;(o=a.onBlur)===null||o===void 0||o.call(a,b),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),D=b=>{let o;switch(b.key){case"ArrowRight":u==="rtl"&&t!=="vertical"?o="prev":o="next";break;case"ArrowLeft":u==="rtl"&&t!=="vertical"?o="next":o="prev";break;case"ArrowDown":o="next";break;case"ArrowUp":o="prev";break;default:return}b.preventDefault();let h=Q(b.currentTarget,{from:b.target}),n;o==="next"?(n=h.nextNode(),n||(h.currentNode=b.currentTarget,n=h.firstChild())):(n=h.previousNode(),n||(h.currentNode=b.currentTarget,n=h.lastChild())),n&&(n.focus(),e.setSelectedValue(n.value))},v=K(d);return S.set(e,{name:v,descriptionId:x.id,errorMessageId:$.id,validationBehavior:i}),{radioGroupProps:y(F,{role:"radiogroup",onKeyDown:D,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":r||void 0,"aria-required":c||void 0,"aria-disabled":l||void 0,"aria-orientation":t,...P,...g}),labelProps:m,descriptionProps:x,errorMessageProps:$,isInvalid:f,validationErrors:s,validationDetails:p}}let re=Math.round(Math.random()*1e10),te=0;function se(a){let e=V.useMemo(()=>a.name||`radio-group-${re}-${++te}`,[a.name]);var d;let[r,c]=ie(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[l,t]=V.useState(null),i=J({...a,value:r}),u=s=>{!a.isReadOnly&&!a.isDisabled&&(c(s),i.commitValidation())},f=i.displayValidation.isInvalid;return{...i,name:e,selectedValue:r,setSelectedValue:u,lastFocusedValue:l,setLastFocusedValue:t,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(f?"invalid":null),isInvalid:f}}const oe=V.createContext(null),ne=V.createContext(null),w=V.createContext(null),Fe=V.forwardRef(function(e,d){[e,d]=q(e,d,oe);let{validationBehavior:r}=L(A)||{};var c,l;let t=(l=(c=e.validationBehavior)!==null&&c!==void 0?c:r)!==null&&l!==void 0?l:"native",i=se({...e,validationBehavior:t}),[u,f]=_(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:s,labelProps:p,descriptionProps:m,errorMessageProps:P,...x}=le({...e,label:f,validationBehavior:t},i),$=C({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return I.createElement("div",{...s,...$,ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},I.createElement(N,{values:[[w,i],[G,{...p,ref:u,elementType:"span"}],[H,{slots:{description:m,errorMessage:P}}],[T,x]]},$.children))}),Be=V.forwardRef(function(e,d){let{inputRef:r=null,...c}=e;[e,d]=q(c,d,ne);let l=I.useContext(w),t=O(E(r,e.inputRef!==void 0?e.inputRef:null)),{labelProps:i,inputProps:u,isSelected:f,isDisabled:s,isPressed:p}=de({...k(e),children:typeof e.children=="function"?!0:e.children},l,t),{isFocused:m,isFocusVisible:P,focusProps:x}=Y(),$=s||l.isReadOnly,{hoverProps:F,isHovered:g}=Z({...e,isDisabled:$}),D=C({...e,defaultClassName:"react-aria-Radio",values:{isSelected:f,isPressed:p,isHovered:g,isFocused:m,isFocusVisible:P,isDisabled:s,isReadOnly:l.isReadOnly,isInvalid:l.isInvalid,isRequired:l.isRequired}}),v=B(e);return delete v.id,I.createElement("label",{...y(v,i,F,D),ref:d,"data-selected":f||void 0,"data-pressed":p||void 0,"data-hovered":g||void 0,"data-focused":m||void 0,"data-focus-visible":P||void 0,"data-disabled":s||void 0,"data-readonly":l.isReadOnly||void 0,"data-invalid":l.isInvalid||void 0,"data-required":l.isRequired||void 0},I.createElement(ae,{elementType:"span"},I.createElement("input",{...y(u,x),ref:t})),D.children)});export{Fe as $,Be as a};
