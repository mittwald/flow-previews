import{r as v,j as s}from"./iframe-BFuSR0CY.js";import{T}from"./TextFieldBase-DBfua65y.js";import{f as M,P}from"./flowComponent-Czyught-.js";import{b as F}from"./utils-CEuw8CkJ.js";import{R as V}from"./ReactAriaControlledValueFix-CD5iZKpR.js";import{u as _}from"./useFieldComponent-DvAk7ROg.js";import{c as g}from"./clsx-B-dksMZM.js";import{a as k,b as B}from"./TextField-CuNLH0lz.js";const D="flow--text-area",I="flow--text-area--horizontal-resize",S="flow--text-area--vertical-resize",U="flow--text-area--resize",i={textArea:D,horizontalResize:I,verticalResize:S,resize:U},q=M("TextArea",a=>{const{children:R,placeholder:H,rows:o=5,autoResizeMaxRows:c=o,ref:E,allowResize:f,allowVerticalResize:d,allowHorizontalResize:$,...m}=a,b=g(i.textArea,f&&i.resize,d&&i.verticalResize,$&&i.horizontalResize),t=F(E),u=e=>`calc(var(--line-height--m) * ${e} + (var(--form-control--padding-y) * 2))`,[n,C]=v.useState(!1),l=o!==c,x=(f||d)&&(!l||l&&n);v.useEffect(()=>{const e=t.current;if(!e)return;const N=e.offsetHeight;let r=!1;const p=()=>{r=!0},w=()=>{if(!r||n)return;e.offsetHeight!==N&&(C(!0),r=!1)},z=()=>{r=!1};return window.addEventListener("mousedown",p),window.addEventListener("mousemove",w),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousedown",p),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",z)}},[n]);const y=()=>{if(t.current&&l&&!x){t.current.style.height="0px";const e=t.current.scrollHeight;t.current.style.height=e+2+"px"}},A=s.jsx(V,{inputContext:k,props:a,children:s.jsx(B,{rows:o,placeholder:H,className:b,ref:t,onChange:y,style:{minHeight:u(o),maxHeight:x?void 0:u(c)}})}),{FieldErrorView:j,fieldPropsContext:L,fieldProps:h}=_(a);return s.jsx(T,{...m,...h,className:g(m.className,h.className),FieldErrorView:j,input:A,children:s.jsx(P,{props:L,children:R})})});q.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"TextArea"};export{q as T};
