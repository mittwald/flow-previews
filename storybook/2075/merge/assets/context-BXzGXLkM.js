import{m as o,a as s,o as a}from"./flowComponent-Bze_r9FR.js";import{u as i,a as O}from"./useStatic-BaiCJrRH.js";import{r as n}from"./iframe-C9dYfgSf.js";class t{isOpen=!1;onOpenHandlers=new Set;onCloseHandlers=new Set;constructor(e){o(this,{isOpen:a,open:s.bound,close:s.bound,toggle:s.bound,setOpen:s.bound}),this.isOpen=e?.isDefaultOpen??!1,e?.onOpen&&this.onOpenHandlers.add(e.onOpen),e?.onClose&&this.onCloseHandlers.add(e.onClose)}static useNew(e){return i(()=>new t(e))}addOnOpen(e){return this.onOpenHandlers.add(e),()=>{this.onOpenHandlers.delete(e)}}addOnClose(e){return this.onCloseHandlers.add(e),()=>{this.onCloseHandlers.delete(e)}}executeOnClose(){this.onCloseHandlers.forEach(e=>e())}executeOnOpen(){this.onOpenHandlers.forEach(e=>e())}open(){this.isOpen=!0,this.executeOnOpen()}close(){this.isOpen=!1,this.executeOnClose()}toggle(){this.isOpen=!this.isOpen,this.isOpen?this.executeOnOpen():this.executeOnClose()}setOpen(e){this.isOpen=e,e?this.executeOnOpen():this.executeOnClose()}useIsOpen(){return O(()=>this.isOpen)}}const l=n.createContext({}),d=()=>n.useContext(l);export{t as O,l as o,d as u};
