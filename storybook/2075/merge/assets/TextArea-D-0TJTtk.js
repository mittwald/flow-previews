import{r as v,j as r}from"./iframe-C9dYfgSf.js";import{T as F}from"./TextFieldBase-sNCN9Rfp.js";import{f as W,P as V}from"./flowComponent-Bze_r9FR.js";import{b as _}from"./utils-CO6LnGLR.js";import{R as k}from"./ReactAriaControlledValueFix-1U2pzmCq.js";import{u as B}from"./useFieldComponent-Br5YSvi-.js";import{c as g}from"./clsx-B-dksMZM.js";import{a as D,b as I}from"./TextField-Cfjxq2lC.js";const S="flow--text-area",U="flow--text-area--horizontal-resize",q="flow--text-area--vertical-resize",G="flow--text-area--resize",i={textArea:S,horizontalResize:U,verticalResize:q,resize:G},J=W("TextArea",a=>{const{children:R,placeholder:H,rows:o=5,autoResizeMaxRows:c=o,ref:E,allowResize:f,allowVerticalResize:d,allowHorizontalResize:$,...m}=a,b=g(i.textArea,f&&i.resize,d&&i.verticalResize,$&&i.horizontalResize),t=_(E),u=e=>`calc(var(--line-height--m) * ${e} + (var(--form-control--padding-y) * 2))`,[n,C]=v.useState(!1),l=o!==c,h=f||d&&(!l||l&&n);v.useEffect(()=>{const e=t.current;if(!e)return;const N=e.offsetWidth,T=e.offsetHeight;let s=!1;const p=()=>{s=!0},w=()=>{if(!s||n)return;const M=e.offsetWidth,P=e.offsetHeight;(M!==N||P!==T)&&(C(!0),s=!1)},z=()=>{s=!1};return window.addEventListener("mousedown",p),window.addEventListener("mousemove",w),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousedown",p),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",z)}},[n]);const y=()=>{if(t.current&&l&&!h){t.current.style.height="0px";const e=t.current.scrollHeight;t.current.style.height=e+2+"px"}},A=r.jsx(k,{inputContext:D,props:a,children:r.jsx(I,{rows:o,placeholder:H,className:b,ref:t,onChange:y,style:{minHeight:u(o),maxHeight:h?void 0:u(c)}})}),{FieldErrorView:j,fieldPropsContext:L,fieldProps:x}=B(a);return r.jsx(F,{...m,...x,className:g(m.className,x.className),FieldErrorView:j,input:A,children:r.jsx(V,{props:L,children:R})})});J.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"TextArea"};export{J as T};
