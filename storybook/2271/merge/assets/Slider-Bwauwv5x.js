import{r as f,R as N,j as w}from"./iframe-BK9Ry9wr.js";import{f as xe,I as ye,P as le,a as we}from"./flowComponent-DHXq45QP.js";import{c as De}from"./clsx-B-dksMZM.js";import{B as ie}from"./Button-CHbQbW2n.js";import{D as Ve,E as Me}from"./IconWarning-ClqYagFF.js";import{$ as _,f as ce,a as W,d as fe,c as ke,b as Re}from"./utils-DO-BnPGQ.js";import{u as Ke}from"./useFieldComponent-DnU67IFr.js";import{$ as Se}from"./useLocalizedStringFormatter-C7EPZ_KA.js";import{$ as be}from"./Label-BzCkyqHu.js";import{c as oe,$ as A}from"./index-DN2_BW85.js";import{$ as me}from"./filterDOMProps-i7L6S0l1.js";import{b as q,a as ee,c as Fe}from"./ProgressBar-EpzEHd1o.js";import{$ as Ee}from"./useControlledState-D5gBJyZQ.js";import{c as te,$ as pe,a as Ce}from"./useFocusRing-Dknf048Z.js";import{F as Ie,d as je}from"./useFocus-C5fN754a.js";import{g as Le,h as Ne}from"./usePress-DlcvFeQS.js";import{a as he}from"./useLabel-MQsZvy4I.js";import{$ as ge}from"./context-DsIoSqto.js";import{$ as Ae}from"./useFormReset-CaS7VrAz.js";import{a as He,$ as Ue}from"./useFocusable-CjhkSx1Q.js";import{$ as Be}from"./VisuallyHidden-D79PysQv.js";function $e(n){let{onMoveStart:e,onMove:t,onMoveEnd:s}=n,c=f.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:l,removeGlobalListener:v}=te(),b=oe((o,g,m,a)=>{m===0&&a===0||(c.current.didMove||(c.current.didMove=!0,e?.({type:"movestart",pointerType:g,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})),t?.({type:"move",pointerType:g,deltaX:m,deltaY:a,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))}),p=oe((o,g)=>{Le(),c.current.didMove&&s?.({type:"moveend",pointerType:g,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})});return{moveProps:f.useMemo(()=>{let o={},g=()=>{Ne(),c.current.didMove=!1};{let a=u=>{if(u.pointerId===c.current.id){var $,i;let K=u.pointerType||"mouse";var h,V;b(u,K,u.pageX-((h=($=c.current.lastPosition)===null||$===void 0?void 0:$.pageX)!==null&&h!==void 0?h:0),u.pageY-((V=(i=c.current.lastPosition)===null||i===void 0?void 0:i.pageY)!==null&&V!==void 0?V:0)),c.current.lastPosition={pageX:u.pageX,pageY:u.pageY}}},x=u=>{if(u.pointerId===c.current.id){let $=u.pointerType||"mouse";p(u,$),c.current.id=null,v(window,"pointermove",a,!1),v(window,"pointerup",x,!1),v(window,"pointercancel",x,!1)}};o.onPointerDown=u=>{u.button===0&&c.current.id==null&&(g(),u.stopPropagation(),u.preventDefault(),c.current.lastPosition={pageX:u.pageX,pageY:u.pageY},c.current.id=u.pointerId,l(window,"pointermove",a,!1),l(window,"pointerup",x,!1),l(window,"pointercancel",x,!1))}}let m=(a,x,u)=>{g(),b(a,"keyboard",x,u),p(a,"keyboard")};return o.onKeyDown=a=>{switch(a.key){case"Left":case"ArrowLeft":a.preventDefault(),a.stopPropagation(),m(a,-1,0);break;case"Right":case"ArrowRight":a.preventDefault(),a.stopPropagation(),m(a,1,0);break;case"Up":case"ArrowUp":a.preventDefault(),a.stopPropagation(),m(a,0,-1);break;case"Down":case"ArrowDown":a.preventDefault(),a.stopPropagation(),m(a,0,1);break}},o},[c,l,v,b,p])}}const ze=0,Ge=100,Xe=1;function Oe(n){const{isDisabled:e=!1,minValue:t=ze,maxValue:s=Ge,numberFormatter:c,step:l=Xe,orientation:v="horizontal"}=n;let b=f.useMemo(()=>{let r=(s-t)/10;return r=q(r,0,r+l,l),Math.max(r,l)},[l,s,t]),p=f.useCallback(r=>r?.map((P,M)=>{let z=M===0?t:r[M-1],G=M===r.length-1?s:r[M+1];return q(P,z,G,l)}),[t,s,l]),D=f.useMemo(()=>p(ue(n.value)),[n.value,p]),o=f.useMemo(()=>{var r;return p((r=ue(n.defaultValue))!==null&&r!==void 0?r:[t])},[n.defaultValue,t,p]),g=de(n.value,n.defaultValue,n.onChange),m=de(n.value,n.defaultValue,n.onChangeEnd);const[a,x]=Ee(D,o,g);let[u]=f.useState(a);const[$,i]=f.useState(new Array(a.length).fill(!1)),h=f.useRef(new Array(a.length).fill(!0)),[V,K]=f.useState(void 0),y=f.useRef(a),T=f.useRef($);let I=r=>{y.current=r,x(r)},j=r=>{T.current=r,i(r)};function B(r){return(r-t)/(s-t)}function X(r){return r===0?t:a[r-1]}function O(r){return r===a.length-1?s:a[r+1]}function H(r){return h.current[r]}function L(r,P){h.current[r]=P}function k(r,P){if(e||!H(r))return;const M=X(r),z=O(r);P=q(P,M,z,l);let G=se(y.current,r,P);I(G)}function R(r,P){if(e||!H(r))return;P&&(y.current=a);const M=T.current[r];T.current=se(T.current,r,P),j(T.current),m&&M&&!T.current.some(Boolean)&&m(y.current)}function S(r){return c.format(r)}function d(r,P){k(r,E(P))}function F(r){return Math.round((r-t)/l)*l+t}function E(r){const P=r*(s-t)+t;return ee(F(P),t,s)}function U(r,P=1){let M=Math.max(P,l);k(r,q(a[r]+M,t,s,l))}function Y(r,P=1){let M=Math.max(P,l);k(r,q(a[r]-M,t,s,l))}return{values:a,defaultValues:n.defaultValue!==void 0?o:u,getThumbValue:r=>a[r],setThumbValue:k,setThumbPercent:d,isThumbDragging:r=>$[r],setThumbDragging:R,focusedThumb:V,setFocusedThumb:K,getThumbPercent:r=>B(a[r]),getValuePercent:B,getThumbValueLabel:r=>S(a[r]),getFormattedValue:S,getThumbMinValue:X,getThumbMaxValue:O,getPercentValue:E,isThumbEditable:H,setThumbEditable:L,incrementThumb:U,decrementThumb:Y,step:l,pageSize:b,orientation:v,isDisabled:e}}function se(n,e,t){return n[e]===t?n:[...n.slice(0,e),t,...n.slice(e+1)]}function ue(n){if(n!=null)return Array.isArray(n)?n:[n]}function de(n,e,t){return s=>{t?.(typeof n=="number"||typeof e=="number"?s[0]:s)}}const re=new WeakMap;function Z(n,e){let t=re.get(n);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Ye(n,e,t){let{labelProps:s,fieldProps:c}=he(n),l=n.orientation==="vertical";var v;re.set(e,{id:(v=s.id)!==null&&v!==void 0?v:c.id,"aria-describedby":n["aria-describedby"],"aria-details":n["aria-details"]});let{direction:b}=ge(),{addGlobalListener:p,removeGlobalListener:D}=te();const o=f.useRef(null),g=b==="rtl",m=f.useRef(null),{moveProps:a}=$e({onMoveStart(){m.current=null},onMove({deltaX:i,deltaY:h}){if(!t.current)return;let{height:V,width:K}=t.current.getBoundingClientRect(),y=l?V:K;m.current==null&&o.current!=null&&(m.current=e.getThumbPercent(o.current)*y);let T=l?h:i;if((l||g)&&(T=-T),m.current+=T,o.current!=null&&t.current){const I=ee(m.current/y,0,1);e.setThumbPercent(o.current,I)}},onMoveEnd(){o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null)}});let x=f.useRef(void 0),u=(i,h,V,K)=>{if(t.current&&!n.isDisabled&&e.values.every((y,T)=>!e.isThumbDragging(T))){let{height:y,width:T,top:I,left:j}=t.current.getBoundingClientRect(),B=l?y:T,L=((l?K:V)-(l?I:j))/B;(b==="rtl"||l)&&(L=1-L);let k=e.getPercentValue(L),R,S=e.values.findIndex(d=>k-d<0);if(S===0)R=S;else if(S===-1)R=e.values.length-1;else{let d=e.values[S-1],F=e.values[S];Math.abs(d-k)<Math.abs(F-k)?R=S-1:R=S}R>=0&&e.isThumbEditable(R)?(i.preventDefault(),o.current=R,e.setFocusedThumb(R),x.current=h,e.setThumbDragging(o.current,!0),e.setThumbValue(R,k),p(window,"mouseup",$,!1),p(window,"touchend",$,!1),p(window,"pointerup",$,!1)):o.current=null}},$=i=>{var h,V;((V=i.pointerId)!==null&&V!==void 0?V:(h=i.changedTouches)===null||h===void 0?void 0:h[0].identifier)===x.current&&(o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null),D(window,"mouseup",$,!1),D(window,"touchend",$,!1),D(window,"pointerup",$,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var i;(i=document.getElementById(Z(e,0)))===null||i===void 0||i.focus(),Ie("keyboard")}),{labelProps:s,groupProps:{role:"group",...c},trackProps:A({onMouseDown(i){i.button!==0||i.altKey||i.ctrlKey||i.metaKey||u(i,void 0,i.clientX,i.clientY)},onPointerDown(i){i.pointerType==="mouse"&&(i.button!==0||i.altKey||i.ctrlKey||i.metaKey)||u(i,i.pointerId,i.clientX,i.clientY)},onTouchStart(i){u(i,i.changedTouches[0].identifier,i.changedTouches[0].clientX,i.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},a),outputProps:{htmlFor:e.values.map((i,h)=>Z(e,h)).join(" "),"aria-live":"off"}}}function qe(n,e){let{index:t=0,isRequired:s,validationState:c,isInvalid:l,trackRef:v,inputRef:b,orientation:p=e.orientation,name:D,form:o}=n,g=n.isDisabled||e.isDisabled,m=p==="vertical",{direction:a}=ge(),{addGlobalListener:x,removeGlobalListener:u}=te(),$=re.get(e);var i;const{labelProps:h,fieldProps:V}=he({...n,id:Z(e,t),"aria-labelledby":`${$.id} ${(i=n["aria-labelledby"])!==null&&i!==void 0?i:""}`.trim()}),K=e.values[t],y=f.useCallback(()=>{b.current&&je(b.current)},[b]),T=e.focusedThumb===t;f.useEffect(()=>{T&&y()},[T,y]);let I=a==="rtl",j=f.useRef(null),{keyboardProps:B}=He({onKeyDown(d){let{getThumbMaxValue:F,getThumbMinValue:E,decrementThumb:U,incrementThumb:Y,setThumbValue:r,setThumbDragging:P,pageSize:M}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(d.key)){d.continuePropagation();return}switch(d.preventDefault(),P(t,!0),d.key){case"PageUp":Y(t,M);break;case"PageDown":U(t,M);break;case"Home":r(t,E(t));break;case"End":r(t,F(t));break}P(t,!1)}}),{moveProps:X}=$e({onMoveStart(){j.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:d,deltaY:F,pointerType:E,shiftKey:U}){const{getThumbPercent:Y,setThumbPercent:r,decrementThumb:P,incrementThumb:M,step:z,pageSize:G}=e;if(!v.current)return;let{width:Pe,height:Te}=v.current.getBoundingClientRect(),ae=m?Te:Pe;if(j.current==null&&(j.current=Y(t)*ae),E==="keyboard")d>0&&I||d<0&&!I||F>0?P(t,U?G:z):M(t,U?G:z);else{let Q=m?F:d;(m||I)&&(Q=-Q),j.current+=Q,r(t,ee(j.current/ae,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!g);const{focusableProps:O}=Ue(A(n,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),b);let H=f.useRef(void 0),L=d=>{y(),H.current=d,e.setThumbDragging(t,!0),x(window,"mouseup",k,!1),x(window,"touchend",k,!1),x(window,"pointerup",k,!1)},k=d=>{var F,E;((E=d.pointerId)!==null&&E!==void 0?E:(F=d.changedTouches)===null||F===void 0?void 0:F[0].identifier)===H.current&&(y(),e.setThumbDragging(t,!1),u(window,"mouseup",k,!1),u(window,"touchend",k,!1),u(window,"pointerup",k,!1))},R=e.getThumbPercent(t);(m||a==="rtl")&&(R=1-R);let S=g?{}:A(B,X,{onMouseDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||L()},onPointerDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||L(d.pointerId)},onTouchStart:d=>{L(d.changedTouches[0].identifier)}});return Ae(b,e.defaultValues[t],d=>{e.setThumbValue(t,d)}),{inputProps:A(O,V,{type:"range",tabIndex:g?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:K,name:D,form:o,disabled:g,"aria-orientation":p,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":s||void 0,"aria-invalid":l||c==="invalid"||void 0,"aria-errormessage":n["aria-errormessage"],"aria-describedby":[$["aria-describedby"],n["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[$["aria-details"],n["aria-details"]].filter(Boolean).join(" "),onChange:d=>{e.setThumbValue(t,parseFloat(d.target.value))}}),thumbProps:{...S,style:{position:"absolute",[m?"top":"left"]:`${R*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:h,isDragging:e.isThumbDragging(t),isDisabled:g,isFocused:T}}const We=f.createContext(null),J=f.createContext(null),ne=f.createContext(null),ve=f.createContext(null),Je=f.forwardRef(function(e,t){[e,t]=_(e,t,We);let s=f.useRef(null),c=Fe(e.formatOptions),l=Oe({...e,numberFormatter:c}),[v,b]=ce(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:p,trackProps:D,labelProps:o,outputProps:g}=Ye({...e,label:b},l,s),m=W({...e,values:{orientation:l.orientation,isDisabled:l.isDisabled,state:l},defaultClassName:"react-aria-Slider"}),a=me(e,{global:!0});return delete a.id,N.createElement(fe,{values:[[J,l],[ne,{...D,ref:s}],[ve,g],[be,{...o,ref:v}]]},N.createElement("div",{...A(a,m,p),ref:t,slot:e.slot||void 0,"data-orientation":l.orientation,"data-disabled":l.isDisabled||void 0}))}),Qe=f.forwardRef(function(e,t){[e,t]=_(e,t,ve);let{children:s,style:c,className:l,...v}=e,b=f.useContext(J),p=W({className:l,style:c,children:s,defaultChildren:b.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:b.orientation,isDisabled:b.isDisabled,state:b}});return N.createElement("output",{...v,...p,ref:t,"data-orientation":b.orientation||void 0,"data-disabled":b.isDisabled||void 0})}),Ze=f.forwardRef(function(e,t){[e,t]=_(e,t,ne);let s=f.useContext(J),{onHoverStart:c,onHoverEnd:l,onHoverChange:v,...b}=e,{hoverProps:p,isHovered:D}=pe({onHoverStart:c,onHoverEnd:l,onHoverChange:v}),o=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:s.orientation,isDisabled:s.isDisabled,isHovered:D,state:s}});return N.createElement("div",{...A(b,p),...o,ref:t,"data-hovered":D||void 0,"data-orientation":s.orientation||void 0,"data-disabled":s.isDisabled||void 0})}),_e=f.forwardRef(function(e,t){let{inputRef:s=null}=e,c=f.useContext(J),{ref:l}=ke(ne),{index:v=0}=e,b=f.useRef(null),p=s||b,[D,o]=ce(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:g,inputProps:m,labelProps:a,isDragging:x,isFocused:u,isDisabled:$}=qe({...e,index:v,trackRef:l,inputRef:p,label:o},c),{focusProps:i,isFocusVisible:h}=Ce(),{hoverProps:V,isHovered:K}=pe(e),y=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:c,isHovered:K,isDragging:x,isFocused:u,isFocusVisible:h,isDisabled:$}}),T=me(e,{global:!0});return delete T.id,N.createElement("div",{...A(T,g,V),...y,ref:t,style:{...g.style,...y.style},"data-hovered":K||void 0,"data-dragging":x||void 0,"data-focused":u||void 0,"data-focus-visible":h||void 0,"data-disabled":$||void 0},N.createElement(Be,null,N.createElement("input",{ref:p,...A(m,i)})),N.createElement(fe,{values:[[be,{...a,ref:D}]]},y.children))}),et="flow--slider",tt="flow--slider--text",rt="flow--slider--value",nt="flow--slider--track",at="flow--slider--fill",lt="flow--slider--initial-marker",it="flow--slider--handle",ot="flow--slider--increment",st="flow--slider--decrement",ut="flow--slider--disabled",C={slider:et,text:tt,value:rt,track:nt,fill:at,initialMarker:lt,handle:it,increment:ot,decrement:st,disabled:ut},dt={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhÃ¶hen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},ct=xe("Slider",n=>{const{className:e,children:t,name:s,isDisabled:c,defaultValue:l,showInitialMarker:v,isReadOnly:b,ref:p,...D}=n,o=De(C.slider,c&&C.disabled,e),{FieldErrorView:g,FieldErrorCaptureContext:m,fieldPropsContext:a,fieldProps:x}=Ke(n),u=Se(dt),$=Re(p),i={...a,Label:{unstyled:!0,tunnelId:"label",...a.Label}};return w.jsx("div",{...x,children:w.jsx(Je,{...D,className:o,isDisabled:c,defaultValue:l,children:w.jsx(ye,{children:w.jsxs(le,{props:i,children:[w.jsx(m,{children:t}),w.jsxs("div",{className:C.text,children:[w.jsx(Qe,{className:C.value}),w.jsx(we,{id:"label"})]}),w.jsx(Ze,{className:C.track,children:({state:h})=>w.jsxs(le,{props:{Button:{isPending:!1,isFailed:!1,isSucceeded:!1,isReadOnly:b,excludeFromTabOrder:!0,isDisabled:c,variant:"plain",color:"secondary"}},children:[w.jsx(ie,{onPress:()=>h.decrementThumb(0),"aria-label":u.format("slider.decrement"),className:C.decrement,children:w.jsx(Ve,{})}),w.jsx(ie,{onPress:()=>h.incrementThumb(0),"aria-label":u.format("slider.increment"),className:C.increment,children:w.jsx(Me,{})}),w.jsx("div",{className:C.fill,style:{width:h.getThumbPercent(0)*100+"%"}}),v&&l&&typeof l=="number"&&w.jsx("div",{className:C.initialMarker,style:{left:`calc(${h.getValuePercent(l)*100}% - 2px)`}}),w.jsx(_e,{inputRef:$,name:s,className:C.handle,isDisabled:b})]})}),w.jsx(g,{})]})})})})});ct.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{ct as S};
