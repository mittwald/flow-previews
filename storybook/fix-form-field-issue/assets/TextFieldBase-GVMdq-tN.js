import{j as $}from"./jsx-runtime-D_zvdyIk.js";import{r as d,R as F}from"./index-CgfFrydU.js";import{f as c}from"./FormField.module-B9AzUSUD.js";import{c as g}from"./clsx-B-dksMZM.js";import{C as j,P as q}from"./PropsContextProvider-yY6RzzUT.js";import{F as O}from"./FieldError-00yIk5F2.js";import{F as S}from"./FieldDescription-DiuoPF4X.js";import{$ as M}from"./useLocalizedStringFormatter-jDgQNJem.js";import{$ as P,a as N,f as _,d as A,e as V,b as w}from"./utils-DvYDvJ-W.js";import{a as L}from"./FieldError-DQg1rr6h.js";import{a as k}from"./Form-eodUc7lY.js";import{$ as y}from"./Input-Bwq1TeOx.js";import{a as W}from"./Label-XuXA-row.js";import{a as U,b as Z}from"./useFocusRing-DUlPoSa4.js";import{$ as B}from"./mergeRefs-_uxeg_17.js";import{a as z}from"./Text-1CJ30n_Q.js";import{$ as G}from"./Hidden-DwT0szmK.js";import{$ as J}from"./filterDOMProps-CeZl_uWj.js";import{$ as K}from"./useTextField-CfbNrntM.js";const D=d.createContext({});let Q=a=>{let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,...t}=a;return t};const Fe=d.forwardRef(function(e,r){[e,r]=P(e,r,D);let{hoverProps:n,isHovered:t}=U(e),{isFocused:i,isFocusVisible:o,focusProps:f}=Z({isTextInput:!0,autoFocus:e.autoFocus}),l=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",s=N({...e,values:{isHovered:t,isFocused:i,isFocusVisible:o,isDisabled:e.disabled||!1,isInvalid:l},defaultClassName:"react-aria-TextArea"});return F.createElement("textarea",{...B(Q(e),f,n),...s,ref:r,"data-focused":i||void 0,"data-disabled":e.disabled||void 0,"data-hovered":t||void 0,"data-focus-visible":o||void 0,"data-invalid":l||void 0})}),X=d.createContext(null),Y=G(function(e,r){[e,r]=P(e,r,X);let{validationBehavior:n}=_(k)||{};var t,i;let o=(i=(t=e.validationBehavior)!==null&&t!==void 0?t:n)!==null&&i!==void 0?i:"native",f=d.useRef(null),[l,s]=P({},f,y),[b,x]=A(!e["aria-label"]&&!e["aria-labelledby"]),[p,h]=d.useState("input"),{labelProps:m,inputProps:u,descriptionProps:H,errorMessageProps:I,...v}=K({...V(e),inputElementType:p,label:x,validationBehavior:o},s),R=d.useCallback(C=>{s.current=C,C&&h(C instanceof HTMLTextAreaElement?"textarea":"input")},[s]),T=N({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:v.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),E=J(e);return delete E.id,F.createElement("div",{...E,...T,ref:r,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":v.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},F.createElement(w,{values:[[W,{...m,ref:b}],[y,{...B(u,l),ref:R}],[D,{...u,ref:R}],[z,{slots:{description:H,errorMessage:I}}],[L,v]]},T.children))}),ee={"de-DE":{"textFieldBase.characters":(a,e)=>`${e.select({0:()=>`${a.count}`,other:()=>`${a.count}/${a.maxCount}`},a.maxCount)} Zeichen`},"en-US":{"textFieldBase.characters":(a,e)=>`${e.select({0:()=>`${a.count}`,other:()=>`${a.count}/${a.maxCount}`},a.maxCount)} characters`}},ae=a=>{var m;const{children:e,className:r,input:n,showCharacterCount:t,ref:i,...o}=a,[f,l]=d.useState(((m=a.value)==null?void 0:m.length)??0),s=g(c.formField,r),b=M(ee),x={Label:{className:c.label,optional:!a.isRequired},FieldDescription:{className:c.fieldDescription},FieldError:{className:c.customFieldError}},p=u=>{t&&l(u.length),a.onChange&&a.onChange(u)},h=b.format("textFieldBase.characters",{count:f,maxCount:a.maxLength??0});return $.jsx(j,{children:$.jsxs(Y,{ref:i,...o,className:s,onChange:p,value:o.value??"",children:[n,$.jsx(q,{props:x,children:e}),t&&$.jsx(S,{className:c.fieldDescription,children:h}),$.jsx(O,{className:c.fieldError})]})})};ae.__docgenInfo={description:"",methods:[],displayName:"TextFieldBase",props:{input:{required:!0,tsType:{name:"ReactNode"},description:"The input element"},showCharacterCount:{required:!1,tsType:{name:"boolean"},description:"Whether a character count should be displayed inside the field description."}},composes:["PropsWithChildren","Pick"]};export{D as $,ae as T,Fe as a};
