import{m as a,b as s,o as n}from"./flowComponent-BI37IbCZ.js";import{u as i,a as r}from"./useStatic-B0ICfBk6.js";import{r as t}from"./iframe-CvJspzLv.js";class o{isOpen=!1;onOpenHandlers=new Set;onCloseHandlers=new Set;confirmUnsavedChanges=!1;constructor(e){a(this,{isOpen:n,open:s.bound,close:s.bound,toggle:s.bound,setOpen:s.bound,confirmUnsavedChanges:n,setConfirmUnsavedChanges:s.bound}),this.isOpen=e?.isDefaultOpen??!1,e?.onOpen&&this.onOpenHandlers.add(e.onOpen),e?.onClose&&this.onCloseHandlers.add(e.onClose)}static useNew(e){return i(()=>new o(e))}addOnOpen(e){return this.onOpenHandlers.add(e),()=>{this.onOpenHandlers.delete(e)}}addOnClose(e){return this.onCloseHandlers.add(e),()=>{this.onCloseHandlers.delete(e)}}executeOnClose(){this.onCloseHandlers.forEach(e=>e())}executeOnOpen(){this.onOpenHandlers.forEach(e=>e())}open(){this.isOpen||(this.isOpen=!0,this.executeOnOpen())}close(){this.isOpen&&(this.isOpen=!1,this.executeOnClose())}toggle(){this.isOpen=!this.isOpen,this.isOpen?this.executeOnOpen():this.executeOnClose()}setOpen(e){this.isOpen=e,e?this.executeOnOpen():this.executeOnClose()}useIsOpen(){return r(()=>this.isOpen)}setConfirmUnsavedChanges(e){this.confirmUnsavedChanges=e}}const O=t.createContext({}),p=()=>t.useContext(O);export{o as O,O as o,p as u};
