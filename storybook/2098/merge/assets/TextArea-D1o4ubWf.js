import{r as v,j as s}from"./iframe-M-00ByYr.js";import{T as F}from"./TextFieldBase-BdwOCJSd.js";import{f as M,P}from"./flowComponent-BSbRS4dW.js";import{b as V}from"./utils-CzeOq9Jp.js";import{R as _}from"./ReactAriaControlledValueFix-Cd1cyM2V.js";import{u as k}from"./useFieldComponent-CRgHa0Rs.js";import{c as g}from"./clsx-B-dksMZM.js";import{a as B,b as D}from"./TextField-DNJxyyXd.js";const I="flow--text-area",S="flow--text-area--horizontal-resize",U="flow--text-area--vertical-resize",q="flow--text-area--resize",i={textArea:I,horizontalResize:S,verticalResize:U,resize:q},G=M("TextArea",a=>{const{children:R,placeholder:H,rows:o=5,autoResizeMaxRows:c=o,ref:E,allowResize:d,allowVerticalResize:f,allowHorizontalResize:C,...m}=a,$=g(i.textArea,d&&i.resize,f&&i.verticalResize,C&&i.horizontalResize),t=V(E),u=e=>`calc(var(--line-height--m) * ${e} + (var(--form-control--padding-y) * 2))`,[n,b]=v.useState(!1),l=o!==c,x=(d||f)&&(!l||l&&n);v.useEffect(()=>{const e=t.current;if(!e)return;const T=e.offsetHeight;let r=!1;const p=()=>{r=!0},w=()=>{if(!r||n)return;e.offsetHeight!==T&&(b(!0),r=!1)},z=()=>{r=!1};return window.addEventListener("mousedown",p),window.addEventListener("mousemove",w),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousedown",p),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",z)}},[n]);const y=()=>{if(t.current&&l&&!x){t.current.style.height="0px";const e=t.current.scrollHeight;t.current.style.height=e+2+"px"}},A=s.jsx(_,{inputContext:B,props:a,children:s.jsx(D,{rows:o,placeholder:H,className:$,ref:t,onChange:y,style:{minHeight:u(o),maxHeight:x?void 0:u(c)}})}),{FieldErrorView:j,FieldErrorCaptureContext:L,fieldPropsContext:N,fieldProps:h}=k(a);return s.jsx(F,{...m,...h,className:g(m.className,h.className),FieldErrorView:j,FieldErrorCaptureContext:L,input:A,children:s.jsx(P,{props:N,children:R})})});G.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"TextArea"};export{G as T};
