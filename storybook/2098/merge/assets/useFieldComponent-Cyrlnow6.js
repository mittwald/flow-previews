import{P as m,R as p}from"./flowComponent-n43oODHt.js";import{r as o,R as d,j as n}from"./iframe-BQyHcTNh.js";import{a as x}from"./utils-CdCPWCHO.js";import{$ as C}from"./Text-C9BF5CjQ.js";import{$ as E}from"./filterDOMProps-i7L6S0l1.js";import{C as $}from"./ClearPropsContext-CD4xLCoc.js";import{c as F}from"./clsx-B-dksMZM.js";const c=o.createContext(null),S=o.forwardRef(function(l,r){let e=o.useContext(c);return e?.isInvalid?d.createElement(b,{...l,ref:r}):null}),b=o.forwardRef((t,l)=>{let r=o.useContext(c),e=E(t,{global:!0}),i=x({...t,defaultClassName:"react-aria-FieldError",defaultChildren:r.validationErrors.length===0?void 0:r.validationErrors.join(" "),values:r});return i.children==null?null:d.createElement(C,{slot:"errorMessage",...e,...i,ref:l})}),h="flow--form-field",v="flow--form-field--label",P="flow--form-field--field-error",w="flow--form-field--field-description",s={formField:h,label:v,fieldError:P,fieldDescription:w},j=o.memo(t=>n.jsx(c,{value:null,children:t.children})),f=d.createContext({}),R=t=>{const l=o.useId(),{currentTunnelId:r}=o.useContext(f),e=r??`${l}.fieldError`,i={FieldError:{___inherit:!0,___persistent:!0,tunnelId:e,className:s.fieldError}};return{FieldErrorCaptureContext:o.useMemo(()=>a=>n.jsx(m,{levelMode:"keep",props:i,children:n.jsx(f,{value:{currentTunnelId:e},children:a.children})}),[l]),FieldErrorView:()=>o.useMemo(()=>r?null:n.jsx(p,{id:e,children:a=>{const u=d.Children.toArray(a);return n.jsx($,{children:u[0]})}}),[r,e]),FieldErrorResetContext:j}},T=t=>{const{FieldErrorView:l,FieldErrorCaptureContext:r}=R(),e={Label:{className:s.label,optional:!t.isRequired,isDisabled:!!t.isDisabled},FieldDescription:{className:s.fieldDescription}};return{FieldErrorView:l,FieldErrorCaptureContext:r,fieldPropsContext:e,fieldProps:{className:F(s.formField)}}};export{c as $,S as a,s as f,T as u};
