import{$ as V,a as k}from"./utils-BiTM62RC.js";import{a as U}from"./ProgressBar-wpu_Jmey.js";import{$ as D}from"./LiveAnnouncer-CeCcBDbP.js";import{b as p}from"./Hidden-CPEF8tx-.js";import{$ as h,d as C}from"./mergeRefs-DgdJvSW3.js";import{$ as E}from"./filterDOMProps-CghfNOdR.js";import{r as y,R as F}from"./iframe-DhBjVFTT.js";import{$ as w}from"./usePress-IeWuLCB9.js";import{$ as I}from"./useFocusable-t-PCv4_E.js";import{a as O,$ as S}from"./useFocusRing-CZOlFmxO.js";function H(e,a){let{elementType:d="button",isDisabled:t,onPress:s,onPressStart:i,onPressEnd:x,onPressUp:g,onPressChange:r,preventFocusOnPress:u,allowFocusWhenDisabled:v,onClick:b,href:$,target:P,rel:o,type:f="button"}=e,n;d==="button"?n={type:f,disabled:t,form:e.form,formAction:e.formAction,formEncType:e.formEncType,formMethod:e.formMethod,formNoValidate:e.formNoValidate,formTarget:e.formTarget,name:e.name,value:e.value}:n={role:"button",href:d==="a"&&!t?$:void 0,target:d==="a"?P:void 0,type:d==="input"?f:void 0,disabled:d==="input"?t:void 0,"aria-disabled":!t||d==="input"?void 0:t,rel:d==="a"?o:void 0};let{pressProps:c,isPressed:m}=w({onPressStart:i,onPressEnd:x,onPressChange:r,onPress:s,onPressUp:g,onClick:b,isDisabled:t,preventFocusOnPress:u,ref:a}),{focusableProps:l}=I(e,a);v&&(l.tabIndex=t?-1:l.tabIndex);let T=h(l,c,E(e,{labelable:!0}));return{isPressed:m,buttonProps:h(n,T,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"]})}}const M=y.createContext({}),J=p(function(a,d){[a,d]=V(a,d,M),a=N(a);let t=a,{isPending:s}=t,{buttonProps:i,isPressed:x}=H(a,d),{focusProps:g,isFocused:r,isFocusVisible:u}=O(a),{hoverProps:v,isHovered:b}=S({...a,isDisabled:a.isDisabled||s}),$={isHovered:b,isPressed:(t.isPressed||x)&&!s,isFocused:r,isFocusVisible:u,isDisabled:a.isDisabled||!1,isPending:s??!1},P=k({...a,values:$,defaultClassName:"react-aria-Button"}),o=C(i.id),f=C(),n=i["aria-labelledby"];s&&(n?n=`${n} ${f}`:i["aria-label"]&&(n=`${o} ${f}`));let c=y.useRef(s);y.useEffect(()=>{let l={"aria-labelledby":n||o};!c.current&&r&&s?D(l,"assertive"):c.current&&r&&!s&&D(l,"assertive"),c.current=s},[s,r,n,o]);let m=E(a,{global:!0});return delete m.onClick,F.createElement("button",{...h(m,P,i,g,v),type:i.type==="submit"&&s?"button":i.type,id:o,ref:d,"aria-labelledby":n,slot:a.slot||void 0,"aria-disabled":s?"true":i["aria-disabled"],"data-disabled":a.isDisabled||void 0,"data-pressed":$.isPressed||void 0,"data-hovered":b||void 0,"data-focused":r||void 0,"data-pending":s||void 0,"data-focus-visible":u||void 0},F.createElement(U.Provider,{value:{id:f}},P.children))});function N(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{M as $,J as a,H as b};
