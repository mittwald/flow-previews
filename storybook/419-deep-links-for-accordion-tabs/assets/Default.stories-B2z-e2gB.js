import{r as u,R as t}from"./index-uCp2LrAq.js";import{c as P}from"./clsx-B-dksMZM.js";import{P as I,f as ie,M as ce,N as w}from"./flowComponent-ClMeDTWi.js";import{a as de,C as ue,M as fe}from"./ContextMenuTrigger-pf6Mt-TW.js";import{B as me}from"./Button-DJPOOIVp.js";import"./IconApp-BsJtYAdy.js";import{E as be}from"./IconWarning-DuBxq7yL.js";import{b as pe,d as $e,e as X,f as ge}from"./Collection-B_ssJImm.js";import{$ as ve,g as A,b as D,a as he,k as ye,f as xe,c as Ee}from"./utils-DZgOXw50.js";import{b as S,a as Te,$ as Pe}from"./index-CFQDndEx.js";import{$ as _}from"./filterDOMProps-CeZl_uWj.js";import{$ as Y}from"./useLabels-POLqFEYE.js";import{$ as Se}from"./useHasTabbableChild-KSnbs68I.js";import{b as Ke}from"./usePress-CaJD4Kpr.js";import{c as we,d as Ce}from"./SelectionManager-C0vcxxFt.js";import{$ as Ie}from"./useLocalizedStringFormatter-CHReNXSI.js";import{b as O,c as Me}from"./useFocusable-DpEA8Hsr.js";import{$ as Ne}from"./useSingleSelectListState-BWTp8L38.js";import{T as M}from"./Text-DFRbGu6E.js";import{P as Fe}from"./PropsContextProvider-RdMO5ekw.js";import{S as g}from"./Section-zZXJENq8.js";import{H as T}from"./Heading-bIvg0v65.js";import{T as Z}from"./TextField-CUDRjZTv.js";import{L as N}from"./Label-D1_J_t9t.js";import{L as ee}from"./LabeledValue-Dm6AysED.js";import{S as Le}from"./Switch-CF9ZpeDt.js";import{H as De}from"./Header-CGuw--DK.js";import{S as te}from"./StatusIcon-ekqfgsPt.js";import{L as _e}from"./Link-D11O8mXd.js";const ae=new WeakMap;function F(a,e,n){return typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${ae.get(a)}-${n}-${e}`}function Ae(a,e,n){let{key:s,isDisabled:l,shouldSelectOnPressUp:o}=a,{selectionManager:i,selectedKey:r}=e,c=s===r,d=l||e.isDisabled||e.selectionManager.isDisabled(s),{itemProps:f,isPressed:m}=we({selectionManager:i,key:s,ref:n,isDisabled:d,shouldSelectOnPressUp:o,linkBehavior:"selection"}),b=F(e,s,"tab"),p=F(e,s,"tabpanel"),{tabIndex:re}=f,$=e.collection.getItem(s),k=_($==null?void 0:$.props,{labelable:!0});delete k.id;let oe=Ke($==null?void 0:$.props);return{tabProps:S(k,oe,f,{id:b,"aria-selected":c,"aria-disabled":d||void 0,"aria-controls":c?p:void 0,tabIndex:d?void 0:re,role:"tab"}),isSelected:c,isDisabled:d,isPressed:m}}function Oe(a,e,n){let s=Se(n)?void 0:0;var l;const o=F(e,(l=a.id)!==null&&l!==void 0?l:e==null?void 0:e.selectedKey,"tabpanel"),i=Y({...a,id:o,"aria-labelledby":F(e,e==null?void 0:e.selectedKey,"tab")});return{tabPanelProps:S(i,{tabIndex:s,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class Re{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}getKeyAbove(e){return this.getPreviousKey(e)}getKeyBelow(e){return this.getNextKey(e)}isDisabled(e){var n,s;return this.disabledKeys.has(e)||!!(!((s=this.collection.getItem(e))===null||s===void 0||(n=s.props)===null||n===void 0)&&n.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getNextKey(e){do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(this.isDisabled(e));return e}getPreviousKey(e){do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(this.isDisabled(e));return e}constructor(e,n,s,l=new Set){this.collection=e,this.flipDirection=n==="rtl"&&s==="horizontal",this.disabledKeys=l}}function Ve(a,e,n){let{orientation:s="horizontal",keyboardActivation:l="automatic"}=a,{collection:o,selectionManager:i,disabledKeys:r}=e,{direction:c}=Ie(),d=u.useMemo(()=>new Re(o,c,s,r),[o,r,s,c]),{collectionProps:f}=Ce({ref:n,selectionManager:i,keyboardDelegate:d,selectOnFocus:l==="automatic",disallowEmptySelection:!0,scrollRef:n,linkBehavior:"selection"}),m=Te();ae.set(e,m);let b=Y({...a,id:m});return{tabListProps:{...S(f,b),role:"tablist","aria-orientation":s,tabIndex:void 0}}}function ke(a){var e;let n=Ne({...a,suppressTextValueWarning:!0,defaultSelectedKey:(e=a.defaultSelectedKey)!==null&&e!==void 0?e:B(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set)}),{selectionManager:s,collection:l,selectedKey:o}=n,i=u.useRef(o);return u.useEffect(()=>{let r=o;(s.isEmpty||!l.getItem(r))&&(r=B(l,n.disabledKeys),r!=null&&s.setSelectedKeys([r])),(r!=null&&s.focusedKey==null||!s.isFocused&&r!==i.current)&&s.setFocusedKey(r),i.current=r}),{...n,isDisabled:a.isDisabled||!1}}function B(a,e){let n=null;if(a){for(n=a.getFirstKey();e.has(n)&&n!==a.getLastKey();)n=a.getKeyAfter(n);e.has(n)&&n===a.getLastKey()&&(n=a.getFirstKey())}return n}const R=u.createContext(null),V=u.createContext(null);function Be(a,e){[a,e]=he(a,e,R);let{collection:n,document:s}=$e(),{children:l,orientation:o="horizontal"}=a;return l=u.useMemo(()=>typeof l=="function"?l({orientation:o,defaultChildren:null}):l,[l,o]),t.createElement(t.Fragment,null,t.createElement(ye,null,t.createElement(X.Provider,{value:s},l)),t.createElement(He,{props:a,collection:n,tabsRef:e}))}function He({props:a,tabsRef:e,collection:n}){let{orientation:s="horizontal"}=a,l=ke({...a,collection:n,children:void 0}),{focusProps:o,isFocused:i,isFocusVisible:r}=O({within:!0}),c=u.useMemo(()=>({orientation:s,isFocusWithin:i,isFocusVisible:r}),[s,i,r]),d=D({...a,defaultClassName:"react-aria-Tabs",values:c});return t.createElement("div",{..._(a),...o,...d,ref:e,slot:a.slot||void 0,"data-focused":i||void 0,"data-orientation":s,"data-focus-visible":r||void 0,"data-disabled":l.isDisabled||void 0},t.createElement(xe,{values:[[R,a],[V,l]]},d.children))}const We=u.forwardRef(Be);function Ge(a,e){return u.useContext(X)?t.createElement(ge,a):t.createElement(ze,{props:a,forwardedRef:e})}function ze({props:a,forwardedRef:e}){let n=u.useContext(V),{orientation:s="horizontal",keyboardActivation:l="automatic"}=Ee(R),o=A(e),{tabListProps:i}=Ve({...a,orientation:s,keyboardActivation:l},n,o),r=D({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:s,state:n}}),c=_(a);return delete c.id,t.createElement("div",{...c,...i,ref:o,...r,"data-orientation":s||void 0},[...n.collection].map(d=>t.createElement(Je,{key:d.key,item:d,state:n})))}const qe=u.forwardRef(Ge);function je(a,e){return pe("item",a,e,a.children)}const Ue=u.forwardRef(je);function Je({item:a,state:e}){let n=A(a.props.ref),{tabProps:s,isSelected:l,isDisabled:o,isPressed:i}=Ae({key:a.key,...a.props},e,n),{focusProps:r,isFocused:c,isFocusVisible:d}=O(),{hoverProps:f,isHovered:m}=Me({isDisabled:o}),b=D({...a.props,children:a.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:l,isDisabled:o,isFocused:c,isFocusVisible:d,isPressed:i,isHovered:m,state:e}}),p=a.props.href?"a":"div";return t.createElement(p,{...S(s,r,f,b),ref:n,"data-selected":l||void 0,"data-disabled":o||void 0,"data-focused":c||void 0,"data-focus-visible":d||void 0,"data-pressed":i||void 0,"data-hovered":m||void 0})}function Qe(a,e){const n=u.useContext(V);let s=A(e),{tabPanelProps:l}=Oe(a,n,s),{focusProps:o,isFocused:i,isFocusVisible:r}=O(),c=n.selectedKey===a.id,d=D({...a,defaultClassName:"react-aria-TabPanel",values:{isFocused:i,isFocusVisible:r,isInert:!c,state:n}});if(!c&&!a.shouldForceMount)return null;let f=_(a);delete f.id;let m=c?S(f,l,o,d):d;return t.createElement("div",{...m,ref:s,"data-focused":i||void 0,"data-focus-visible":r||void 0,inert:c?void 0:"true","data-inert":c?void 0:"true"})}const Xe=ve(Qe),Ye="flow--tabs",Ze="flow--tabs--list",et={tabs:Ye,list:Ze},tt="flow--tabs--tab-list",at="flow--tabs--tab-list--context-menu-button",nt="flow--tabs--tab-list--titles",st="flow--tabs--tab-list--collapsed",K={tabList:tt,contextMenuButton:at,titles:nt,collapsed:st};function lt(a,e){var n=u.useState(function(){return{value:a,callback:e,facade:{get current(){return n.value},set current(s){var l=n.value;l!==s&&(n.value=s,n.callback(s,l))}}}})[0];return n.callback=e,n.facade}const rt=()=>{const a=u.useRef(),[e,n]=u.useState(!1),s=lt(null,r=>{i(),o(r)}),l=([r])=>{r&&n(!r.isIntersecting)},o=(r=s.current)=>{if(r&&r instanceof Element){const c=new IntersectionObserver(l,{root:r.parentElement,threshold:1});a.current=c,c.observe(r)}},i=()=>{var r;(r=a.current)==null||r.disconnect()};return u.useEffect(()=>(o(),i),[a.current]),{ref:s,isOverflowing:e}},ot="flow--tabs--tab-title",it="flow--tabs--tab-title--text",ct="flow--tabs--tab-title--menu-item",C={tabTitle:ot,text:it,menuItem:ct},ne=a=>{const{className:e,...n}=a,s=P(e,C.tabTitle);return t.createElement("div",{...n,className:s,"data-selected":!0},t.createElement(I,{id:"ActiveTitle"}))};ne.__docgenInfo={description:"",methods:[],displayName:"TabTitleCollapsed",props:{className:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""}}};const se=a=>{const{selection:e,disabledKeys:n,onContextMenuSelectionChange:s}=a,l=u.useId(),o=rt(),i=o.isOverflowing,r=P(K.tabList,i&&K.collapsed),c=b=>{const[p]=b;p&&s(p)},d=t.createElement(qe,{className:K.titles,ref:o.ref},t.createElement(I,{id:"Titles"})),f=i&&t.createElement(ne,{id:l}),m=i&&t.createElement(de,null,t.createElement(me,{variant:"soft",className:K.contextMenuButton,color:"secondary","aria-labelledby":l},t.createElement(be,null)),t.createElement(ue,{disabledKeys:n,selectedKeys:e?[e]:void 0,selectionMode:"navigation",onSelectionChange:c},t.createElement(I,{id:"ContextMenuItems"})));return t.createElement("div",{className:r},d,f,m)};se.__docgenInfo={description:"",methods:[],displayName:"TabList",props:{selection:{required:!0,tsType:{name:"union",raw:"Aria.Key | undefined",elements:[{name:"Aria.Key"},{name:"undefined"}]},description:""},onContextMenuSelectionChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Aria.Key) => void",signature:{arguments:[{type:{name:"Aria.Key"},name:"key"}],return:{name:"void"}}},description:""},disabledKeys:{required:!1,tsType:{name:"Iterable",elements:[{name:"Aria.Key"}],raw:"Iterable<Aria.Key>"},description:""}}};const L=ie("Tabs",a=>{const{children:e,className:n,defaultSelectedKey:s,disabledKeys:l,refProp:o,...i}=a,r=P(et.tabs,n),d=Pe()?void 0:window.location.hash.slice(1),[f,m]=u.useState(d||s);return t.createElement(ce,null,e,t.createElement(We,{slot:null,className:r,...i,selectedKey:f,onSelectionChange:m,disabledKeys:l,ref:o},t.createElement(se,{selection:f,onContextMenuSelectionChange:m,disabledKeys:l}),t.createElement(I,{id:"Panels"})))});L.__docgenInfo={description:"",methods:[],displayName:"Tabs"};const le=u.createContext({id:"undefined"}),dt=()=>u.useContext(le),ut=le.Provider,v=a=>{const{children:e,className:n,...s}=a,{id:l}=dt(),o=P(C.tabTitle,n);return t.createElement(t.Fragment,null,t.createElement(w,{id:"Titles"},t.createElement(Ue,{...s,id:l,className:o},i=>t.createElement(t.Fragment,null,t.createElement(M,{emulateBoldWidth:!0},t.createElement("span",{className:C.text},e)),t.createElement(w,{id:"ActiveTitle"},i.isSelected&&e)))),t.createElement(w,{id:"ContextMenuItems"},t.createElement(fe,{className:C.menuItem,id:l},e)))};v.__docgenInfo={description:"",methods:[],displayName:"TabTitle",composes:["Omit","PropsWithChildren"]};const ft="flow--tabs--tab--tab-panel",mt={tabPanel:ft},h=a=>{const{children:e,className:n,id:s,...l}=a,o=P(mt.tabPanel,n),i=u.useId(),r=s??i,c=d=>{const f=d.state.selectedKey===r,m={Content:{isActive:f},Section:{isActive:f}};return t.createElement(Fe,{props:m,dependencies:[f,e]},e)};return t.createElement(w,{id:"Panels"},t.createElement(ut,{value:{id:r}},t.createElement(Xe,{className:o,shouldForceMount:!0,id:r,...l},c)))};h.__docgenInfo={description:"",methods:[],displayName:"Tab",composes:["Omit","PropsWithChildren"]};const bt={title:"Navigation/Tabs",component:L,render:a=>t.createElement(L,{...a,disabledKeys:["spam"]},t.createElement(h,{id:"general"},t.createElement(v,null,"General",t.createElement(te,{status:"info"})),t.createElement(g,null,t.createElement(T,null,"General"),t.createElement(Z,{defaultValue:"example@mittwald.de"},t.createElement(N,null,"Mail address")))),t.createElement(h,{id:"storage"},t.createElement(v,null,"Storage settings"),t.createElement(g,null,t.createElement(T,null,"Storage"),t.createElement(ee,null,t.createElement(N,null,"Available storage"),t.createElement(M,null,"2.4 GB")))),t.createElement(h,{id:"spam"},t.createElement(v,null,"Spam"),t.createElement(g,null,t.createElement(De,null,t.createElement(T,null,"Spam protection"),t.createElement(Le,null,"Spam protection")),t.createElement(M,null,"The spam filter protects you from unwanted emails. Nobody wants garbage in their inbox, so we recommend that you always leave spam protection activated."))))},y={},x={parameters:{viewport:{defaultViewport:"mobile1"}}},E={render:a=>t.createElement(g,null,t.createElement(L,{...a},t.createElement(h,{id:"general"},t.createElement(v,null,"General",t.createElement(te,{status:"info"})),t.createElement(g,null,t.createElement(T,null,"General"),t.createElement(Z,{defaultValue:"example@mittwald.de"},t.createElement(N,null,"Mail address")))),t.createElement(h,{id:"storage"},t.createElement(v,null,"Storage settings"),t.createElement(g,null,t.createElement(T,null,"Storage"),t.createElement(ee,null,t.createElement(N,null,"Available storage"),t.createElement(M,null,"2.4 GB"))))),t.createElement(_e,{href:"#storage"},"Storage tab anchor link"))};var H,W,G;y.parameters={...y.parameters,docs:{...(H=y.parameters)==null?void 0:H.docs,source:{originalSource:"{}",...(G=(W=y.parameters)==null?void 0:W.docs)==null?void 0:G.source}}};var z,q,j;x.parameters={...x.parameters,docs:{...(z=x.parameters)==null?void 0:z.docs,source:{originalSource:`{
  parameters: {
    viewport: {
      defaultViewport: "mobile1"
    }
  }
}`,...(j=(q=x.parameters)==null?void 0:q.docs)==null?void 0:j.source}}};var U,J,Q;E.parameters={...E.parameters,docs:{...(U=E.parameters)==null?void 0:U.docs,source:{originalSource:`{
  render: props => {
    return <Section>
        <Tabs {...props}>
          <Tab id="general">
            <TabTitle>
              General
              <StatusIcon status="info" />
            </TabTitle>
            <Section>
              <Heading>General</Heading>
              <TextField defaultValue="example@mittwald.de">
                <Label>Mail address</Label>
              </TextField>
            </Section>
          </Tab>
          <Tab id="storage">
            <TabTitle>Storage settings</TabTitle>
            <Section>
              <Heading>Storage</Heading>
              <LabeledValue>
                <Label>Available storage</Label>
                <Text>2.4 GB</Text>
              </LabeledValue>
            </Section>
          </Tab>
        </Tabs>
        <Link href="#storage">Storage tab anchor link</Link>
      </Section>;
  }
}`,...(Q=(J=E.parameters)==null?void 0:J.docs)==null?void 0:Q.source}}};const pt=["Default","SmallSpace","WithAnchorLink"],zt=Object.freeze(Object.defineProperty({__proto__:null,Default:y,SmallSpace:x,WithAnchorLink:E,__namedExportsOrder:pt,default:bt},Symbol.toStringTag,{value:"Module"}));export{zt as D,L as T,h as a,v as b,bt as m};
