import{g as Re,a as H,i as Te,l as Se,j as Le,b as Ie,f as W,m as Ne}from"./utils-CHnd_qWz.js";import{$ as Me}from"./RSPContexts-CJnKmcd7.js";import{e as Ae,a as Fe,$ as k,b as Be}from"./OverlayArrow-DMphC9df.js";import{a as T,c as I,$ as _,d as P,f as O,b as He,e as We}from"./index-7Bm5Bt6L.js";import{$ as S}from"./filterDOMProps-CeZl_uWj.js";import{d as R}from"./usePress-C4eoOWOJ.js";import{t as ke,e as _e,$ as Ke,p as Ue,f as N}from"./useFocusable-BGYghl-O.js";import{R as b,r as f}from"./index-uCp2LrAq.js";import{b as Ve,a as je}from"./FocusScope-BAgquhRo.js";import{$ as Ye}from"./index-BOkhicXD.js";import{$ as qe}from"./useLabels-7II0TQXO.js";import{a as ze}from"./useLocalizedStringFormatter-Cwaj61aR.js";import{$ as Xe}from"./VisuallyHidden-DMUsmByH.js";function M(e,t){let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}function K(e,t){let r=e;for(M(r,t)&&(r=r.parentElement);r&&!M(r,t);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}const Ge=b.forwardRef(({children:e,...t},r)=>{let n=f.useRef(!1),o=f.useContext(R);r=Re(r||(o==null?void 0:o.ref));let l=T(o||{},{...t,ref:r,register(){n.current=!0,o&&o.register()}});return ke(o,r),f.useEffect(()=>{n.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),n.current=!0)},[]),b.createElement(R.Provider,{value:l},e)});function Je({children:e}){let t=f.useMemo(()=>({register:()=>{}}),[]);return b.createElement(R.Provider,{value:t},e)}function Ze(e){let{ref:t,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:o}=e,l=f.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),d=I(i=>{r&&w(i,t)&&(o&&o(i),l.current.isPointerDown=!0)}),s=I(i=>{r&&r(i)});f.useEffect(()=>{let i=l.current;if(n)return;const c=t.current,a=_e(c);if(typeof PointerEvent<"u"){let p=$=>{i.isPointerDown&&w($,t)&&s($),i.isPointerDown=!1};return a.addEventListener("pointerdown",d,!0),a.addEventListener("pointerup",p,!0),()=>{a.removeEventListener("pointerdown",d,!0),a.removeEventListener("pointerup",p,!0)}}else{let p=m=>{i.ignoreEmulatedMouseEvents?i.ignoreEmulatedMouseEvents=!1:i.isPointerDown&&w(m,t)&&s(m),i.isPointerDown=!1},$=m=>{i.ignoreEmulatedMouseEvents=!0,i.isPointerDown&&w(m,t)&&s(m),i.isPointerDown=!1};return a.addEventListener("mousedown",d,!0),a.addEventListener("mouseup",p,!0),a.addEventListener("touchstart",d,!0),a.addEventListener("touchend",$,!0),()=>{a.removeEventListener("mousedown",d,!0),a.removeEventListener("mouseup",p,!0),a.removeEventListener("touchstart",d,!0),a.removeEventListener("touchend",$,!0)}}},[t,n,d,s])}function w(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}const x=[];function Qe(e,t){let{onClose:r,shouldCloseOnBlur:n,isOpen:o,isDismissable:l=!1,isKeyboardDismissDisabled:d=!1,shouldCloseOnInteractOutside:s}=e;f.useEffect(()=>(o&&x.push(t),()=>{let u=x.indexOf(t);u>=0&&x.splice(u,1)}),[o,t]);let i=()=>{x[x.length-1]===t&&r&&r()},c=u=>{(!s||s(u.target))&&x[x.length-1]===t&&(u.stopPropagation(),u.preventDefault())},a=u=>{(!s||s(u.target))&&(x[x.length-1]===t&&(u.stopPropagation(),u.preventDefault()),i())},p=u=>{u.key==="Escape"&&!d&&!u.nativeEvent.isComposing&&(u.stopPropagation(),u.preventDefault(),i())};Ze({ref:t,onInteractOutside:l&&o?a:null,onInteractOutsideStart:c});let{focusWithinProps:$}=Ke({isDisabled:!n,onBlurWithin:u=>{!u.relatedTarget||Ve(u.relatedTarget)||(!s||s(u.relatedTarget))&&r()}}),m=u=>{u.target===u.currentTarget&&u.preventDefault()};return{overlayProps:{onKeyDown:p,...$},underlayProps:{onPointerDown:m}}}function et(e,t,r){let{type:n}=e,{isOpen:o}=t;f.useEffect(()=>{r&&r.current&&Ae.set(r.current,t.close)});let l;n==="menu"?l=!0:n==="listbox"&&(l="listbox");let d=_();return{triggerProps:{"aria-haspopup":l,"aria-expanded":o,"aria-controls":o?d:null,onPress:t.toggle},overlayProps:{id:d}}}const C=typeof document<"u"&&window.visualViewport,tt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let y=0,D;function rt(e={}){let{isDisabled:t}=e;P(()=>{if(!t)return y++,y===1&&(Ue()?D=ot():D=nt()),()=>{y--,y===0&&D()}},[t])}function nt(){return O(g(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),g(document.documentElement,"overflow","hidden"))}function ot(){let e,t,r=c=>{e=K(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=g(e,"overscrollBehavior","contain"))},n=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},o=c=>{let a=c.target;F(a)&&a!==document.activeElement&&(c.preventDefault(),s(),a.style.transform="translateY(-2000px)",a.focus(),requestAnimationFrame(()=>{a.style.transform=""})),t&&t()},l=c=>{let a=c.target;F(a)&&(s(),a.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{a.style.transform="",C&&(C.height<window.innerHeight?requestAnimationFrame(()=>{A(a)}):C.addEventListener("resize",()=>A(a),{once:!0}))}))},d=null,s=()=>{if(d)return;let c=()=>{window.scrollTo(0,0)},a=window.pageXOffset,p=window.pageYOffset;d=O(E(window,"scroll",c),g(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),g(document.documentElement,"overflow","hidden"),g(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(a,p)}),window.scrollTo(0,0)},i=O(E(document,"touchstart",r,{passive:!1,capture:!0}),E(document,"touchmove",n,{passive:!1,capture:!0}),E(document,"touchend",o,{passive:!1,capture:!0}),E(document,"focus",l,!0));return()=>{t==null||t(),d==null||d(),i()}}function g(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function E(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function A(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=K(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,o=e.getBoundingClientRect().top;o>n+e.clientHeight&&(r.scrollTop+=o-n)}e=r.parentElement}}function F(e){return e instanceof HTMLInputElement&&!tt.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var U={};U={dismiss:"تجاهل"};var V={};V={dismiss:"Отхвърляне"};var j={};j={dismiss:"Odstranit"};var Y={};Y={dismiss:"Luk"};var q={};q={dismiss:"Schließen"};var z={};z={dismiss:"Απόρριψη"};var X={};X={dismiss:"Dismiss"};var G={};G={dismiss:"Descartar"};var J={};J={dismiss:"Lõpeta"};var Z={};Z={dismiss:"Hylkää"};var Q={};Q={dismiss:"Rejeter"};var ee={};ee={dismiss:"התעלם"};var te={};te={dismiss:"Odbaci"};var re={};re={dismiss:"Elutasítás"};var ne={};ne={dismiss:"Ignora"};var oe={};oe={dismiss:"閉じる"};var ae={};ae={dismiss:"무시"};var ie={};ie={dismiss:"Atmesti"};var se={};se={dismiss:"Nerādīt"};var le={};le={dismiss:"Lukk"};var de={};de={dismiss:"Negeren"};var ce={};ce={dismiss:"Zignoruj"};var ue={};ue={dismiss:"Descartar"};var fe={};fe={dismiss:"Dispensar"};var $e={};$e={dismiss:"Revocare"};var be={};be={dismiss:"Пропустить"};var pe={};pe={dismiss:"Zrušiť"};var me={};me={dismiss:"Opusti"};var ve={};ve={dismiss:"Odbaci"};var xe={};xe={dismiss:"Avvisa"};var ge={};ge={dismiss:"Kapat"};var Ee={};Ee={dismiss:"Скасувати"};var he={};he={dismiss:"取消"};var we={};we={dismiss:"關閉"};var ye={};ye={"ar-AE":U,"bg-BG":V,"cs-CZ":j,"da-DK":Y,"de-DE":q,"el-GR":z,"en-US":X,"es-ES":G,"et-EE":J,"fi-FI":Z,"fr-FR":Q,"he-IL":ee,"hr-HR":te,"hu-HU":re,"it-IT":ne,"ja-JP":oe,"ko-KR":ae,"lt-LT":ie,"lv-LV":se,"nb-NO":le,"nl-NL":de,"pl-PL":ce,"pt-BR":ue,"pt-PT":fe,"ro-RO":$e,"ru-RU":be,"sk-SK":pe,"sl-SI":me,"sr-SP":ve,"sv-SE":xe,"tr-TR":ge,"uk-UA":Ee,"zh-CN":he,"zh-TW":we};function at(e){return e&&e.__esModule?e.default:e}function B(e){let{onDismiss:t,...r}=e,n=ze(at(ye),"@react-aria/overlays"),o=qe(r,n.format("dismiss")),l=()=>{t&&t()};return b.createElement(Xe,null,b.createElement("button",{...o,tabIndex:-1,onClick:l,style:{width:1,height:1}}))}let h=new WeakMap,v=[];function it(e,t=document.body){let r=new Set(e),n=new Set,o=i=>{for(let $ of i.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add($);let c=$=>{if(r.has($)||n.has($.parentElement)&&$.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let m of r)if($.contains(m))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},a=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),p=c(i);if(p===NodeFilter.FILTER_ACCEPT&&l(i),p!==NodeFilter.FILTER_REJECT){let $=a.nextNode();for(;$!=null;)l($),$=a.nextNode()}},l=i=>{var c;let a=(c=h.get(i))!==null&&c!==void 0?c:0;i.getAttribute("aria-hidden")==="true"&&a===0||(a===0&&i.setAttribute("aria-hidden","true"),n.add(i),h.set(i,a+1))};v.length&&v[v.length-1].disconnect(),o(t);let d=new MutationObserver(i=>{for(let c of i)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...r,...n].some(a=>a.contains(c.target))){for(let a of c.removedNodes)a instanceof Element&&(r.delete(a),n.delete(a));for(let a of c.addedNodes)(a instanceof HTMLElement||a instanceof SVGElement)&&(a.dataset.liveAnnouncer==="true"||a.dataset.reactAriaTopLayer==="true")?r.add(a):a instanceof Element&&o(a)}});d.observe(t,{childList:!0,subtree:!0});let s={observe(){d.observe(t,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return v.push(s),()=>{d.disconnect();for(let i of n){let c=h.get(i);c===1?(i.removeAttribute("aria-hidden"),h.delete(i)):h.set(i,c-1)}s===v[v.length-1]?(v.pop(),v.length&&v[v.length-1].observe()):v.splice(v.indexOf(s),1)}}function st(e,t){let{triggerRef:r,popoverRef:n,isNonModal:o,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:d,...s}=e,{overlayProps:i,underlayProps:c}=Qe({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:d},n),{overlayProps:a,arrowProps:p,placement:$}=Fe({...s,targetRef:r,overlayRef:n,isOpen:t.isOpen,onClose:o?t.close:null});return rt({isDisabled:o||!t.isOpen}),P(()=>{if(t.isOpen&&!o&&n.current)return it([n.current])},[o,t.isOpen,n]),{popoverProps:T(i,a),arrowProps:p,underlayProps:c,placement:$}}const lt=f.createContext({});function dt(){var e;return(e=f.useContext(lt))!==null&&e!==void 0?e:{}}const Pe=b.createContext(null);function ct(e){let t=He(),{portalContainer:r=t?null:document.body,isExiting:n}=e,[o,l]=f.useState(!1),d=f.useMemo(()=>({contain:o,setContain:l}),[o,l]),{getContainer:s}=dt();if(!e.portalContainer&&s&&(r=s()),!r)return null;let i=e.children;return e.disableFocusManagement||(i=b.createElement(je,{restoreFocus:!0,contain:o&&!n},i)),i=b.createElement(Pe.Provider,{value:d},b.createElement(Je,null,i)),Ye.createPortal(i,r)}function ut(){let e=f.useContext(Pe),t=e==null?void 0:e.setContain;P(()=>{t==null||t(!0)},[t])}function ft(e,t){let{role:r="dialog"}=e,n=We();n=e["aria-label"]?void 0:n;let o=f.useRef(!1);return f.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){N(t.current);let l=setTimeout(()=>{document.activeElement===t.current&&(o.current=!0,t.current&&(t.current.blur(),N(t.current)),o.current=!1)},500);return()=>{clearTimeout(l)}}},[t]),ut(),{dialogProps:{...S(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||n,onBlur:l=>{o.current&&l.stopPropagation()}},titleProps:{id:n}}}const Ce=f.createContext(null);function $t(e,t){[e,t]=H(e,t,Ce);let r=f.useContext(L),n=k(e),o=e.isOpen!=null||e.defaultOpen!=null||!r?n:r,l=Te(t,o.isOpen)||e.isExiting||!1;if(f.useContext(Se)){let s=e.children;return typeof s=="function"&&(s=s({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),b.createElement(b.Fragment,null,s)}return o&&!o.isOpen&&!l?null:b.createElement(bt,{...e,triggerRef:e.triggerRef,state:o,popoverRef:t,isExiting:l})}const Tt=f.forwardRef($t);function bt({state:e,isExiting:t,UNSTABLE_portalContainer:r,...n}){let o=f.useRef(null),[l,d]=f.useState(0);P(()=>{o.current&&e.isOpen&&d(o.current.getBoundingClientRect().width)},[e.isOpen,o]);var s;let{popoverProps:i,underlayProps:c,arrowProps:a,placement:p}=st({...n,offset:(s=n.offset)!==null&&s!==void 0?s:8,arrowSize:l},e),$=n.popoverRef,m=Le($,!!p)||n.isEntering||!1,u=Ie({...n,defaultClassName:"react-aria-Popover",values:{trigger:n.trigger||null,placement:p,isEntering:m,isExiting:t}}),Oe={...i.style,...u.style};return b.createElement(ct,{isExiting:t,portalContainer:r},!n.isNonModal&&e.isOpen&&b.createElement("div",{"data-testid":"underlay",...c,style:{position:"fixed",inset:0}}),b.createElement("div",{...T(S(n),i),...u,ref:$,slot:n.slot||void 0,style:Oe,"data-trigger":n.trigger,"data-placement":p,"data-entering":m||void 0,"data-exiting":t||void 0},!n.isNonModal&&b.createElement(B,{onDismiss:e.close}),b.createElement(Be.Provider,{value:{...a,placement:p,ref:o}},u.children),b.createElement(B,{onDismiss:e.close})))}const De=f.createContext(null),L=f.createContext(null);function St(e){let t=k(e),r=f.useRef(null),{triggerProps:n,overlayProps:o}=et({type:"dialog"},t,r);return n.id=_(),o["aria-labelledby"]=n.id,b.createElement(W,{values:[[L,t],[De,o],[Ce,{trigger:"DialogTrigger",triggerRef:r}]]},b.createElement(Ge,{...n,ref:r,isPressed:t.isOpen},e.children))}function pt(e,t){let r=e["aria-labelledby"];[e,t]=H(e,t,De);let{dialogProps:n,titleProps:o}=ft({...e,"aria-labelledby":r},t),l=f.useContext(L),d=e.children;typeof d=="function"&&(d=d({close:(l==null?void 0:l.close)||(()=>{})})),!n["aria-label"]&&!n["aria-labelledby"]&&(e["aria-labelledby"]?n["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));var s;return b.createElement("section",{...S(e),...n,ref:t,slot:e.slot||void 0,style:e.style,className:(s=e.className)!==null&&s!==void 0?s:"react-aria-Dialog"},b.createElement(W,{values:[[Me,{slots:{[Ne]:{},title:{...o,level:2}}}]]},d))}const Lt=f.forwardRef(pt);export{St as $,Tt as a,Qe as b,rt as c,ut as d,it as e,L as f,ct as g,B as h,Lt as i,Ce as j,Ge as k,Ze as l,M as m,et as n};
