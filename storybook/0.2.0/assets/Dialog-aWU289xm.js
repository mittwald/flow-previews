import{a as pr}from"./Button-DrJb4gk9.js";import{c as oe,$ as R,a as T,f as br,g as k,d as gr,b as mr,h as be}from"./utils-CzVyYWZn.js";import{$ as vr}from"./RSPContexts-BEYwq1Zw.js";import{g as xr,d as yr,a as Pe,b as Pr,c as hr,e as Er,f as Cr}from"./OverlayArrow-bn_YbkxG.js";import{$ as he,a as Dr,c as Mr}from"./Collection-CQ_IbO82.js";import{a as Ee,d as wr,b as Ar,c as kr}from"./CollectionBuilder-DndhQU5l.js";import{R as p,r as c}from"./index-BZISi7jw.js";import{a as Sr}from"./Separator-DkG5lMhT.js";import{a as Br}from"./Text-PTaPc_Ci.js";import{a as S,b as ge,d as W,c as j,f as te,$ as Fr,e as z}from"./index-IBhSrjl6.js";import{$ as D}from"./filterDOMProps-CeZl_uWj.js";import{d as Kr,f as Rr,g as Tr,h as Or,c as Ir,$ as Ce,a as Lr,b as De}from"./SelectionManager-BkpGC1Gn.js";import{h as re,b as Nr,$ as _r,a as Hr}from"./usePress-DZCrAIzv.js";import{j as zr,d as Ur,$ as Wr,r as jr,a as Me,n as Vr,i as Gr,g as me,b as qr}from"./useFocusRing-DzGSygZM.js";import{$ as we}from"./useLocalizedStringFormatter-D6AjEcek.js";import{e as Ae,$ as Zr}from"./useCollator-C0JtIjTO.js";import{b as Jr}from"./useFocusable-CdO2YIL_.js";import{d as Yr,a as ke}from"./FocusScope-BnLtY9jQ.js";import{$ as Xr}from"./useControlledState-4nfZ-XMX.js";import{M as Qr}from"./index-DdDGTNSf.js";import{b as ea}from"./Hidden-C5TwESSa.js";import{a as ta}from"./useLabel-Hju3pN3c.js";import{$ as ra}from"./VisuallyHidden-DJvehTyr.js";const Se=p.forwardRef(({children:t,...e},r)=>{let a=c.useRef(!1),o=c.useContext(re);r=oe(r||(o==null?void 0:o.ref));let s=S(o||{},{...e,ref:r,register(){a.current=!0,o&&o.register()}});return zr(o,r),c.useEffect(()=>{a.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),a.current=!0)},[]),p.createElement(re.Provider,{value:s},t)});function aa({children:t}){let e=c.useMemo(()=>({register:()=>{}}),[]);return p.createElement(re.Provider,{value:e},t)}function oa(t){let{ref:e,onInteractOutside:r,isDisabled:a,onInteractOutsideStart:o}=t,s=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=ge(n=>{r&&_(n,e)&&(o&&o(n),s.current.isPointerDown=!0)}),i=ge(n=>{r&&r(n)});c.useEffect(()=>{let n=s.current;if(a)return;const d=e.current,l=Ur(d);if(typeof PointerEvent<"u"){let $=b=>{n.isPointerDown&&_(b,e)&&i(b),n.isPointerDown=!1};return l.addEventListener("pointerdown",u,!0),l.addEventListener("pointerup",$,!0),()=>{l.removeEventListener("pointerdown",u,!0),l.removeEventListener("pointerup",$,!0)}}else{let $=f=>{n.ignoreEmulatedMouseEvents?n.ignoreEmulatedMouseEvents=!1:n.isPointerDown&&_(f,e)&&i(f),n.isPointerDown=!1},b=f=>{n.ignoreEmulatedMouseEvents=!0,n.isPointerDown&&_(f,e)&&i(f),n.isPointerDown=!1};return l.addEventListener("mousedown",u,!0),l.addEventListener("mouseup",$,!0),l.addEventListener("touchstart",u,!0),l.addEventListener("touchend",b,!0),()=>{l.removeEventListener("mousedown",u,!0),l.removeEventListener("mouseup",$,!0),l.removeEventListener("touchstart",u,!0),l.removeEventListener("touchend",b,!0)}}},[e,a,u,i])}function _(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(t.target)}const h=[];function na(t,e){let{onClose:r,shouldCloseOnBlur:a,isOpen:o,isDismissable:s=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:i}=t;c.useEffect(()=>(o&&h.push(e),()=>{let g=h.indexOf(e);g>=0&&h.splice(g,1)}),[o,e]);let n=()=>{h[h.length-1]===e&&r&&r()},d=g=>{(!i||i(g.target))&&h[h.length-1]===e&&(g.stopPropagation(),g.preventDefault())},l=g=>{(!i||i(g.target))&&(h[h.length-1]===e&&(g.stopPropagation(),g.preventDefault()),n())},$=g=>{g.key==="Escape"&&!u&&!g.nativeEvent.isComposing&&(g.stopPropagation(),g.preventDefault(),n())};oa({ref:e,onInteractOutside:s&&o?l:void 0,onInteractOutsideStart:d});let{focusWithinProps:b}=Wr({isDisabled:!a,onBlurWithin:g=>{!g.relatedTarget||Yr(g.relatedTarget)||(!i||i(g.relatedTarget))&&(r==null||r())}}),f=g=>{g.target===g.currentTarget&&g.preventDefault()};return{overlayProps:{onKeyDown:$,...b},underlayProps:{onPointerDown:f}}}function Be(t,e,r){let{type:a}=t,{isOpen:o}=e;c.useEffect(()=>{r&&r.current&&xr.set(r.current,e.close)});let s;a==="menu"?s=!0:a==="listbox"&&(s="listbox");let u=W();return{triggerProps:{"aria-haspopup":s,"aria-expanded":o,"aria-controls":o?u:void 0,onPress:e.toggle},overlayProps:{id:u}}}const Q=typeof document<"u"&&window.visualViewport,sa=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let H=0,ee;function la(t={}){let{isDisabled:e}=t;j(()=>{if(!e)return H++,H===1&&(jr()?ee=ua():ee=ia()),()=>{H--,H===0&&ee()}},[e])}function ia(){return te(A(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),A(document.documentElement,"overflow","hidden"))}function ua(){let t,e,r=d=>{t=Ae(d.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=A(t,"overscrollBehavior","contain"))},a=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&d.preventDefault()},o=()=>{e&&e()},s=d=>{let l=d.target;da(l)&&(i(),l.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{l.style.transform="",Q&&(Q.height<window.innerHeight?requestAnimationFrame(()=>{ve(l)}):Q.addEventListener("resize",()=>ve(l),{once:!0}))}))},u=null,i=()=>{if(u)return;let d=()=>{window.scrollTo(0,0)},l=window.pageXOffset,$=window.pageYOffset;u=te(F(window,"scroll",d),A(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),A(document.documentElement,"overflow","hidden"),A(document.body,"marginTop",`-${$}px`),()=>{window.scrollTo(l,$)}),window.scrollTo(0,0)},n=te(F(document,"touchstart",r,{passive:!1,capture:!0}),F(document,"touchmove",a,{passive:!1,capture:!0}),F(document,"touchend",o,{passive:!1,capture:!0}),F(document,"focus",s,!0));return()=>{e==null||e(),u==null||u(),n()}}function A(t,e,r){let a=t.style[e];return t.style[e]=r,()=>{t.style[e]=a}}function F(t,e,r,a){return t.addEventListener(e,r,a),()=>{t.removeEventListener(e,r,a)}}function ve(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let a=Ae(r);if(a!==document.documentElement&&a!==document.body&&a!==r){let o=a.getBoundingClientRect().top,s=r.getBoundingClientRect().top;s>o+r.clientHeight&&(a.scrollTop+=s-o)}r=a.parentElement}}function da(t){return t instanceof HTMLInputElement&&!sa.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var Fe={};Fe={dismiss:"تجاهل"};var Ke={};Ke={dismiss:"Отхвърляне"};var Re={};Re={dismiss:"Odstranit"};var Te={};Te={dismiss:"Luk"};var Oe={};Oe={dismiss:"Schließen"};var Ie={};Ie={dismiss:"Απόρριψη"};var Le={};Le={dismiss:"Dismiss"};var Ne={};Ne={dismiss:"Descartar"};var _e={};_e={dismiss:"Lõpeta"};var He={};He={dismiss:"Hylkää"};var ze={};ze={dismiss:"Rejeter"};var Ue={};Ue={dismiss:"התעלם"};var We={};We={dismiss:"Odbaci"};var je={};je={dismiss:"Elutasítás"};var Ve={};Ve={dismiss:"Ignora"};var Ge={};Ge={dismiss:"閉じる"};var qe={};qe={dismiss:"무시"};var Ze={};Ze={dismiss:"Atmesti"};var Je={};Je={dismiss:"Nerādīt"};var Ye={};Ye={dismiss:"Lukk"};var Xe={};Xe={dismiss:"Negeren"};var Qe={};Qe={dismiss:"Zignoruj"};var et={};et={dismiss:"Descartar"};var tt={};tt={dismiss:"Dispensar"};var rt={};rt={dismiss:"Revocare"};var at={};at={dismiss:"Пропустить"};var ot={};ot={dismiss:"Zrušiť"};var nt={};nt={dismiss:"Opusti"};var st={};st={dismiss:"Odbaci"};var lt={};lt={dismiss:"Avvisa"};var it={};it={dismiss:"Kapat"};var ut={};ut={dismiss:"Скасувати"};var dt={};dt={dismiss:"取消"};var ct={};ct={dismiss:"關閉"};var ft={};ft={"ar-AE":Fe,"bg-BG":Ke,"cs-CZ":Re,"da-DK":Te,"de-DE":Oe,"el-GR":Ie,"en-US":Le,"es-ES":Ne,"et-EE":_e,"fi-FI":He,"fr-FR":ze,"he-IL":Ue,"hr-HR":We,"hu-HU":je,"it-IT":Ve,"ja-JP":Ge,"ko-KR":qe,"lt-LT":Ze,"lv-LV":Je,"nb-NO":Ye,"nl-NL":Xe,"pl-PL":Qe,"pt-BR":et,"pt-PT":tt,"ro-RO":rt,"ru-RU":at,"sk-SK":ot,"sl-SI":nt,"sr-SP":st,"sv-SE":lt,"tr-TR":it,"uk-UA":ut,"zh-CN":dt,"zh-TW":ct};function ca(t){return t&&t.__esModule?t.default:t}function xe(t){let{onDismiss:e,...r}=t,a=we(ca(ft),"@react-aria/overlays"),o=ta(r,a.format("dismiss")),s=()=>{e&&e()};return p.createElement(ra,null,p.createElement("button",{...o,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}let K=new WeakMap,x=[];function fa(t,e=document.body){let r=new Set(t),a=new Set,o=n=>{for(let b of n.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(b);let d=b=>{if(r.has(b)||b.parentElement&&a.has(b.parentElement)&&b.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of r)if(b.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},l=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),$=d(n);if($===NodeFilter.FILTER_ACCEPT&&s(n),$!==NodeFilter.FILTER_REJECT){let b=l.nextNode();for(;b!=null;)s(b),b=l.nextNode()}},s=n=>{var d;let l=(d=K.get(n))!==null&&d!==void 0?d:0;n.getAttribute("aria-hidden")==="true"&&l===0||(l===0&&n.setAttribute("aria-hidden","true"),a.add(n),K.set(n,l+1))};x.length&&x[x.length-1].disconnect(),o(e);let u=new MutationObserver(n=>{for(let d of n)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...r,...a].some(l=>l.contains(d.target))){for(let l of d.removedNodes)l instanceof Element&&(r.delete(l),a.delete(l));for(let l of d.addedNodes)(l instanceof HTMLElement||l instanceof SVGElement)&&(l.dataset.liveAnnouncer==="true"||l.dataset.reactAriaTopLayer==="true")?r.add(l):l instanceof Element&&o(l)}});u.observe(e,{childList:!0,subtree:!0});let i={observe(){u.observe(e,{childList:!0,subtree:!0})},disconnect(){u.disconnect()}};return x.push(i),()=>{u.disconnect();for(let n of a){let d=K.get(n);d!=null&&(d===1?(n.removeAttribute("aria-hidden"),K.delete(n)):K.set(n,d-1))}i===x[x.length-1]?(x.pop(),x.length&&x[x.length-1].observe()):x.splice(x.indexOf(i),1)}}function $a(t,e){let{triggerRef:r,popoverRef:a,isNonModal:o,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:u,...i}=t,{overlayProps:n,underlayProps:d}=na({isOpen:e.isOpen&&!i["data-react-aria-top-layer"],onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:u},a),{overlayProps:l,arrowProps:$,placement:b}=yr({...i,targetRef:r,overlayRef:a,isOpen:e.isOpen,onClose:o?e.close:null});return la({isDisabled:o||!e.isOpen}),j(()=>{if(e.isOpen&&!o&&a.current)return fa([a.current])},[o,e.isOpen,a]),{popoverProps:S(n,l),arrowProps:$,underlayProps:d,placement:b}}const pa=c.createContext({});function ba(){var t;return(t=c.useContext(pa))!==null&&t!==void 0?t:{}}const $t=p.createContext(null);function ga(t){let e=Fr(),{portalContainer:r=e?null:document.body,isExiting:a}=t,[o,s]=c.useState(!1),u=c.useMemo(()=>({contain:o,setContain:s}),[o,s]),{getContainer:i}=ba();if(!t.portalContainer&&i&&(r=i()),!r)return null;let n=t.children;return t.disableFocusManagement||(n=p.createElement(ke,{restoreFocus:!0,contain:o&&!a},n)),n=p.createElement($t.Provider,{value:u},p.createElement(aa,null,n)),Qr.createPortal(n,r)}function ma(){let t=c.useContext($t),e=t==null?void 0:t.setContain;j(()=>{e==null||e(!0)},[e])}function va(t){let{selectionManager:e,collection:r,disabledKeys:a,ref:o,keyboardDelegate:s,layoutDelegate:u}=t,i=Zr({usage:"search",sensitivity:"base"}),n=e.disabledBehavior,d=c.useMemo(()=>s||new Kr({collection:r,disabledKeys:a,disabledBehavior:n,ref:o,collator:i,layoutDelegate:u}),[s,u,r,a,o,i,n]),{collectionProps:l}=Rr({...t,ref:o,selectionManager:e,keyboardDelegate:d});return{listProps:l}}const ye=new WeakMap;function xa(t){let e=ye.get(t);if(e!=null)return e;let r=0,a=o=>{for(let s of o)s.type==="section"?a(Tr(s,t)):r++};return a(t),ye.set(t,r),r}var pt={};pt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var bt={};bt={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var gt={};gt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var mt={};mt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var vt={};vt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var xt={};xt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var yt={};yt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Pt={};Pt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var ht={};ht={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Et={};Et={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Ct={};Ct={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Dt={};Dt={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Mt={};Mt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var wt={};wt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var At={};At={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var kt={};kt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var St={};St={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Bt={};Bt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Ft={};Ft={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Kt={};Kt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Rt={};Rt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Tt={};Tt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Ot={};Ot={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var It={};It={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Lt={};Lt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Nt={};Nt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var _t={};_t={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Ht={};Ht={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var zt={};zt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Ut={};Ut={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Wt={};Wt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var jt={};jt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Vt={};Vt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var Gt={};Gt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var qt={};qt={"ar-AE":pt,"bg-BG":bt,"cs-CZ":gt,"da-DK":mt,"de-DE":vt,"el-GR":xt,"en-US":yt,"es-ES":Pt,"et-EE":ht,"fi-FI":Et,"fr-FR":Ct,"he-IL":Dt,"hr-HR":Mt,"hu-HU":wt,"it-IT":At,"ja-JP":kt,"ko-KR":St,"lt-LT":Bt,"lv-LV":Ft,"nb-NO":Kt,"nl-NL":Rt,"pl-PL":Tt,"pt-BR":Ot,"pt-PT":It,"ro-RO":Lt,"ru-RU":Nt,"sk-SK":_t,"sl-SI":Ht,"sr-SP":zt,"sv-SE":Ut,"tr-TR":Wt,"uk-UA":jt,"zh-CN":Vt,"zh-TW":Gt};function ya(t){return t&&t.__esModule?t.default:t}function Pa(t,e,r){let{type:a="menu",isDisabled:o,trigger:s="press"}=t,u=W(),{triggerProps:i,overlayProps:n}=Be({type:a},e,r),d=f=>{if(!o&&!(s==="longPress"&&!f.altKey)&&r&&r.current)switch(f.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},l=we(ya(qt),"@react-aria/menu"),{longPressProps:$}=Or({isDisabled:o||s!=="longPress",accessibilityDescription:l.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),b={onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!o&&e.open(f.pointerType==="virtual"?"first":null)},onPress(f){f.pointerType==="touch"&&!o&&e.toggle()}};return delete i.onPress,{menuTriggerProps:{...i,...s==="press"?b:$,id:u,onKeyDown:d},menuProps:{...n,"aria-labelledby":u,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const Zt=new WeakMap;function ha(t,e,r){let{shouldFocusWrap:a=!0,onKeyDown:o,onKeyUp:s,...u}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let i=D(t,{labelable:!0}),{listProps:n}=va({...u,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:a,linkBehavior:"override"});return Zt.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:S(i,{onKeyDown:o,onKeyUp:s},{role:"menu",...n,onKeyDown:d=>{var l;(d.key!=="Escape"||t.shouldUseVirtualFocus)&&((l=n.onKeyDown)===null||l===void 0||l.call(n,d))}})}}function Ea(t,e,r){let{id:a,key:o,closeOnSelect:s,isVirtualized:u,"aria-haspopup":i,onPressStart:n,onPressUp:d,onPress:l,onPressChange:$,onPressEnd:b,onHoverStart:f,onHoverChange:g,onHoverEnd:E,onKeyDown:C,onKeyUp:O,onFocus:I,onFocusChange:G,onBlur:tr,selectionManager:y=e.selectionManager}=t,P=!!i,ie=P&&t["aria-expanded"]==="true";var q;let M=(q=t.isDisabled)!==null&&q!==void 0?q:y.isDisabled(o);var Z;let ue=(Z=t.isSelected)!==null&&Z!==void 0?Z:y.isSelected(o),L=Zt.get(e),v=e.collection.getItem(o),w=t.onClose||L.onClose,rr=Nr(),J=m=>{var X;if(!P){if(!(v==null||(X=v.props)===null||X===void 0)&&X.onAction?v.props.onAction():t.onAction&&t.onAction(o),L.onAction){let $r=L.onAction;$r(o)}m.target instanceof HTMLAnchorElement&&v&&rr.open(m.target,m,v.props.href,v.props.routerOptions)}},Y="menuitem";P||(y.selectionMode==="single"?Y="menuitemradio":y.selectionMode==="multiple"&&(Y="menuitemcheckbox"));let de=z(),ce=z(),fe=z(),N={id:a,"aria-disabled":M||void 0,role:Y,"aria-label":t["aria-label"],"aria-labelledby":de,"aria-describedby":[ce,fe].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":i,"aria-expanded":t["aria-expanded"]};y.selectionMode!=="none"&&!P&&(N["aria-checked"]=ue),u&&(N["aria-posinset"]=v==null?void 0:v.index,N["aria-setsize"]=xa(e.collection));let ar=m=>{m.pointerType==="keyboard"&&J(m),n==null||n(m)},$e=()=>{!P&&w&&(s??(y.selectionMode!=="multiple"||y.isLink(o)))&&w()},or=m=>{m.pointerType==="mouse"&&(J(m),$e()),d==null||d(m)},nr=m=>{m.pointerType!=="keyboard"&&m.pointerType!=="mouse"&&(J(m),$e()),l==null||l(m)},{itemProps:B,isFocused:sr}=Ir({id:a,selectionManager:y,key:o,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:L.shouldUseVirtualFocus}),{pressProps:lr,isPressed:ir}=_r({onPressStart:ar,onPress:nr,onPressUp:or,onPressChange:$,onPressEnd:b,isDisabled:M}),{hoverProps:ur}=Me({isDisabled:M,onHoverStart(m){!Vr()&&!(ie&&i==="dialog")&&(y.setFocused(!0),y.setFocusedKey(o)),f==null||f(m)},onHoverChange:g,onHoverEnd:E}),{keyboardProps:dr}=Jr({onKeyDown:m=>{if(m.repeat){m.continuePropagation();return}switch(m.key){case" ":!M&&y.selectionMode==="none"&&!P&&s!==!1&&w&&w();break;case"Enter":!M&&s!==!1&&!P&&w&&w();break;default:P||m.continuePropagation(),C==null||C(m);break}},onKeyUp:O}),{focusProps:cr}=Gr({onBlur:tr,onFocus:I,onFocusChange:G}),pe=D(v==null?void 0:v.props);delete pe.id;let fr=Hr(v==null?void 0:v.props);return{menuItemProps:{...N,...S(pe,fr,P?{onFocus:B.onFocus,"data-key":B["data-key"]}:B,lr,ur,dr,cr),tabIndex:B.tabIndex!=null&&ie?-1:B.tabIndex},labelProps:{id:de},descriptionProps:{id:ce},keyboardShortcutProps:{id:fe},isFocused:sr,isSelected:ue,isPressed:ir,isDisabled:M}}function Ca(t){let{heading:e,"aria-label":r}=t,a=W();return{itemProps:{role:"presentation"},headingProps:e?{id:a,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?a:void 0}}}function Da(t,e){let{role:r="dialog"}=t,a=z();a=t["aria-label"]?void 0:a;let o=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){me(e.current);let s=setTimeout(()=>{document.activeElement===e.current&&(o.current=!0,e.current&&(e.current.blur(),me(e.current)),o.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),ma(),{dialogProps:{...D(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||a,onBlur:s=>{o.current&&s.stopPropagation()}},titleProps:{id:a}}}function Jt(t){let e=Pe(t),[r,a]=c.useState(null),[o,s]=c.useState([]),u=()=>{s([]),e.close()};return{focusStrategy:r,...e,open(d=null){a(d),e.open()},toggle(d=null){a(d),e.toggle()},close(){u()},expandedKeysStack:o,openSubmenu:(d,l)=>{s($=>l>$.length?$:[...$.slice(0,l),d])},closeSubmenu:(d,l)=>{s($=>$[l]===d?$.slice(0,l):$)}}}class Ma{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var a;return r&&(a=r.prevKey)!==null&&a!==void 0?a:null}getKeyAfter(e){let r=this.keyMap.get(e);var a;return r&&(a=r.nextKey)!==null&&a!==void 0?a:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let a=i=>{if(this.keyMap.set(i.key,i),i.childNodes&&(i.type==="section"||r.has(i.key)))for(let n of i.childNodes)a(n)};for(let i of e)a(i);let o=null,s=0;for(let[i,n]of this.keyMap)o?(o.nextKey=i,n.prevKey=o.key):(this.firstKey=i,n.prevKey=void 0),n.type==="item"&&(n.index=s++),o=n,o.nextKey=void 0;var u;this.lastKey=(u=o==null?void 0:o.key)!==null&&u!==void 0?u:null}}function wa(t){let{onExpandedChange:e}=t,[r,a]=Xr(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),o=Ce(t),s=c.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),u=Lr(t,c.useCallback(n=>new Ma(n,{expandedKeys:r}),[r]),null);return c.useEffect(()=>{o.focusedKey!=null&&!u.getItem(o.focusedKey)&&o.setFocusedKey(null)},[u,o.focusedKey]),{collection:u,expandedKeys:r,disabledKeys:s,toggleKey:n=>{a(Aa(r,n))},setExpandedKeys:a,selectionManager:new De(u,o)}}function Aa(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const ka=c.createContext(null),Yt=c.createContext({}),oo=Ee("header",function(e,r){return[e,r]=R(e,r,Yt),p.createElement("header",{className:"react-aria-Header",...e,ref:r},e.children)}),ne=c.createContext(null),no=c.forwardRef(function(e,r){[e,r]=R(e,r,ne);let a=c.useContext(V),o=Pe(e),s=e.isOpen!=null||e.defaultOpen!=null||!a?o:a,u=Pr(r,s.isOpen)||e.isExiting||!1;if(ea()){let n=e.children;return typeof n=="function"&&(n=n({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),p.createElement(p.Fragment,null,n)}return s&&!s.isOpen&&!u?null:p.createElement(Sa,{...e,triggerRef:e.triggerRef,state:s,popoverRef:r,isExiting:u})});function Sa({state:t,isExiting:e,UNSTABLE_portalContainer:r,...a}){let o=c.useRef(null),[s,u]=c.useState(0);j(()=>{o.current&&t.isOpen&&u(o.current.getBoundingClientRect().width)},[t.isOpen,o]);var i;let{popoverProps:n,underlayProps:d,arrowProps:l,placement:$}=$a({...a,offset:(i=a.offset)!==null&&i!==void 0?i:8,arrowSize:s},t),b=a.popoverRef,f=hr(b,!!$)||a.isEntering||!1,g=T({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:$,isEntering:f,isExiting:e}}),E={...n.style,...g.style};return p.createElement(ga,{...a,isExiting:e,portalContainer:r},!a.isNonModal&&t.isOpen&&p.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),p.createElement("div",{...S(D(a),n),...g,ref:b,slot:a.slot||void 0,style:E,"data-trigger":a.trigger,"data-placement":$,"data-entering":f||void 0,"data-exiting":e||void 0},!a.isNonModal&&p.createElement(xe,{onDismiss:t.close}),p.createElement(Er.Provider,{value:{...l,placement:$,ref:o}},g.children),p.createElement(xe,{onDismiss:t.close})))}const Ba=c.createContext({}),Xt=c.createContext(null),se=c.createContext(null),le=c.createContext(null),U=c.createContext(null);function so(t){let e=Jt(t),r=c.useRef(null),{menuTriggerProps:a,menuProps:o}=Pa({...t,type:"menu"},e,r),[s,u]=c.useState(null),i=c.useCallback(()=>{r.current&&u(r.current.offsetWidth+"px")},[r]);Cr({ref:r,onResize:i});let n=c.useRef(null);return p.createElement(k,{values:[[Xt,{...o,ref:n}],[V,e],[le,e],[ne,{trigger:"MenuTrigger",triggerRef:r,scrollRef:n,placement:"bottom start",style:{"--trigger-width":s}}]]},p.createElement(Se,{...a,ref:r,isPressed:e.isOpen},t.children))}const Fa=c.createContext(null),lo=c.forwardRef(function(e,r){return[e,r]=R(e,r,Xt),p.createElement(Ar,{content:p.createElement(kr,e)},a=>a.size>0&&p.createElement(Ka,{props:e,collection:a,menuRef:r}))});function Ka({props:t,collection:e,menuRef:r}){let{filterFn:a,collectionProps:o,collectionRef:s}=c.useContext(ka)||{};r=oe(c.useMemo(()=>mr(r,s!==void 0?s:null),[s,r]));let u=c.useMemo(()=>a?e.filter(a):e,[e,a]),i=wa({...t,collection:u,children:void 0}),n=c.useContext(le),{isVirtualized:d,CollectionRoot:l}=c.useContext(he),{menuProps:$}=ha({...t,...o,isVirtualized:d,onClose:t.onClose||(n==null?void 0:n.close)},i,r),b=T({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{}});return p.createElement(ke,null,p.createElement("div",{...D(t),...$,...b,ref:r,slot:t.slot||void 0,onScroll:t.onScroll},p.createElement(k,{values:[[se,i],[Sr,{elementType:"div"}],[Dr,{name:"MenuSection",render:Qt}],[Fa,{parentMenuRef:r}],[ae,null],[U,i.selectionManager]]},p.createElement(l,{collection:i.collection,persistedKeys:Mr(i.selectionManager.focusedKey),scrollRef:r}))))}class Ra extends De{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function Qt(t,e,r,a="react-aria-MenuSection"){var o,s;let u=c.useContext(se),{CollectionBranch:i}=c.useContext(he),[n,d]=gr();var l;let{headingProps:$,groupProps:b}=Ca({heading:d,"aria-label":(l=r.props["aria-label"])!==null&&l!==void 0?l:void 0}),f=T({defaultClassName:a,className:(o=r.props)===null||o===void 0?void 0:o.className,style:(s=r.props)===null||s===void 0?void 0:s.style,values:{}}),g=c.useContext(U),E=Ce(t),C=t.selectionMode!=null?new Ra(g,E):g;return p.createElement("section",{...D(t),...b,...f,ref:e},p.createElement(k,{values:[[Yt,{...$,ref:n}],[U,C]]},p.createElement(i,{collection:u.collection,parent:r})))}const io=wr("section",Qt),ae=c.createContext(null),uo=Ee("item",function(e,r,a){var o;[e,r]=R(e,r,ae);let s=(o=br(ae))===null||o===void 0?void 0:o.id,u=c.useContext(se),i=oe(r),n=c.useContext(U),{menuItemProps:d,labelProps:l,descriptionProps:$,keyboardShortcutProps:b,...f}=Ea({...e,id:s,key:a.key,selectionManager:n},u,i),{isFocusVisible:g,focusProps:E}=qr(),{hoverProps:C,isHovered:O}=Me({isDisabled:f.isDisabled}),I=T({...e,id:void 0,children:a.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:O,isFocusVisible:g,selectionMode:n.selectionMode,selectionBehavior:n.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),G=e.href?"a":"div";return p.createElement(G,{...S(d,E,C),...I,ref:i,"data-disabled":f.isDisabled||void 0,"data-hovered":O||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":g||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":n.selectionMode==="none"?void 0:n.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},p.createElement(k,{values:[[Br,{slots:{label:l,description:$}}],[Ba,b]]},I.children))}),er=c.createContext(null),V=c.createContext(null);function co(t){let e=Jt(t),r=c.useRef(null),{triggerProps:a,overlayProps:o}=Be({type:"dialog"},e,r);return a.id=W(),o["aria-labelledby"]=a.id,p.createElement(k,{values:[[V,e],[le,e],[er,o],[ne,{trigger:"DialogTrigger",triggerRef:r}]]},p.createElement(Se,{...a,ref:r,isPressed:e.isOpen},t.children))}const fo=c.forwardRef(function(e,r){let a=e["aria-labelledby"];[e,r]=R(e,r,er);let{dialogProps:o,titleProps:s}=Da({...e,"aria-labelledby":a},r),u=c.useContext(V);!o["aria-label"]&&!o["aria-labelledby"]&&(e["aria-labelledby"]?o["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));let i=T({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(u==null?void 0:u.close)||(()=>{})}});return p.createElement("section",{...D(e),...o,...i,ref:r,slot:e.slot||void 0},p.createElement(k,{values:[[vr,{slots:{[be]:{},title:{...s,level:2}}}],[pr,{slots:{[be]:{},close:{onPress:()=>u==null?void 0:u.close()}}}]]},i.children))});export{io as $,oo as a,co as b,so as c,va as d,xa as e,ka as f,Yt as g,no as h,fo as i,na as j,la as k,ma as l,fa as m,V as n,xe as o,ga as p,uo as q,lo as r,Pa as s,ne as t,er as u};
