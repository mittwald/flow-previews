import{j as E}from"./jsx-runtime-CLpGMVip.js";import{r as m,R as N}from"./index-Cf9XvIV_.js";import{f as Te}from"./flowComponent-BEdvHTPM.js";import{c as we}from"./clsx-B-dksMZM.js";import{P as Pe}from"./PropsContextProvider-CWFvCxZj.js";import{B as ae}from"./Button-Cz5bd543.js";import"./IconApp-CrW8h-Rp.js";import{K as ye,I as xe}from"./IconWarning-C3Y0rqlg.js";import{a as de,$ as De}from"./useLocalizedStringFormatter-Dq-FGM-G.js";import{$ as Z,d as se,a as q,g as ce,f as Me}from"./utils-DjOXyFua.js";import{a as fe}from"./Label-B3UarT55.js";import{b as ie,a as A}from"./index-CoqFY4cC.js";import{$ as me}from"./filterDOMProps-BSfnXAP7.js";import{d as O,c as _,a as Ve}from"./ProgressBar-ZJQghT0g.js";import{$ as ke}from"./useControlledState-19OAjgUP.js";import{d as ee,e as Ke,f as Re}from"./usePress-lNW0gZrs.js";import{k as Se,o as Ee,a as be,b as Fe}from"./useFocusRing-CvMz7Q_e.js";import{$ as pe}from"./useLabel-ByHVstPj.js";import{$ as Ie}from"./useFormReset-SCbFK273.js";import{b as Ce,$ as Le}from"./useFocusable-CNLx9CCl.js";import{$ as Ne}from"./VisuallyHidden-EoGVKpYJ.js";function he(o){let{onMoveStart:e,onMove:t,onMoveEnd:d}=o,u=m.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:a,removeGlobalListener:$}=ee(),f=ie((l,h,y,i)=>{y===0&&i===0||(u.current.didMove||(u.current.didMove=!0,e==null||e({type:"movestart",pointerType:h,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey})),t==null||t({type:"move",pointerType:h,deltaX:y,deltaY:i,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}))}),T=ie((l,h)=>{Ke(),u.current.didMove&&(d==null||d({type:"moveend",pointerType:h,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}))});return{moveProps:m.useMemo(()=>{let l={},h=()=>{Re(),u.current.didMove=!1};if(typeof PointerEvent>"u"){let i=n=>{if(n.button===0){var b,p,g,v;f(n,"mouse",n.pageX-((g=(b=u.current.lastPosition)===null||b===void 0?void 0:b.pageX)!==null&&g!==void 0?g:0),n.pageY-((v=(p=u.current.lastPosition)===null||p===void 0?void 0:p.pageY)!==null&&v!==void 0?v:0)),u.current.lastPosition={pageX:n.pageX,pageY:n.pageY}}},x=n=>{n.button===0&&(T(n,"mouse"),$(window,"mousemove",i,!1),$(window,"mouseup",x,!1))};l.onMouseDown=n=>{n.button===0&&(h(),n.stopPropagation(),n.preventDefault(),u.current.lastPosition={pageX:n.pageX,pageY:n.pageY},a(window,"mousemove",i,!1),a(window,"mouseup",x,!1))};let c=n=>{let b=[...n.changedTouches].findIndex(({identifier:k})=>k===u.current.id);if(b>=0){var p,g;let{pageX:k,pageY:L}=n.changedTouches[b];var v,D;f(n,"touch",k-((v=(p=u.current.lastPosition)===null||p===void 0?void 0:p.pageX)!==null&&v!==void 0?v:0),L-((D=(g=u.current.lastPosition)===null||g===void 0?void 0:g.pageY)!==null&&D!==void 0?D:0)),u.current.lastPosition={pageX:k,pageY:L}}},w=n=>{[...n.changedTouches].findIndex(({identifier:p})=>p===u.current.id)>=0&&(T(n,"touch"),u.current.id=null,$(window,"touchmove",c),$(window,"touchend",w),$(window,"touchcancel",w))};l.onTouchStart=n=>{if(n.changedTouches.length===0||u.current.id!=null)return;let{pageX:b,pageY:p,identifier:g}=n.changedTouches[0];h(),n.stopPropagation(),n.preventDefault(),u.current.lastPosition={pageX:b,pageY:p},u.current.id=g,a(window,"touchmove",c,!1),a(window,"touchend",w,!1),a(window,"touchcancel",w,!1)}}else{let i=c=>{if(c.pointerId===u.current.id){var w,n;let g=c.pointerType||"mouse";var b,p;f(c,g,c.pageX-((b=(w=u.current.lastPosition)===null||w===void 0?void 0:w.pageX)!==null&&b!==void 0?b:0),c.pageY-((p=(n=u.current.lastPosition)===null||n===void 0?void 0:n.pageY)!==null&&p!==void 0?p:0)),u.current.lastPosition={pageX:c.pageX,pageY:c.pageY}}},x=c=>{if(c.pointerId===u.current.id){let w=c.pointerType||"mouse";T(c,w),u.current.id=null,$(window,"pointermove",i,!1),$(window,"pointerup",x,!1),$(window,"pointercancel",x,!1)}};l.onPointerDown=c=>{c.button===0&&u.current.id==null&&(h(),c.stopPropagation(),c.preventDefault(),u.current.lastPosition={pageX:c.pageX,pageY:c.pageY},u.current.id=c.pointerId,a(window,"pointermove",i,!1),a(window,"pointerup",x,!1),a(window,"pointercancel",x,!1))}}let y=(i,x,c)=>{h(),f(i,"keyboard",x,c),T(i,"keyboard")};return l.onKeyDown=i=>{switch(i.key){case"Left":case"ArrowLeft":i.preventDefault(),i.stopPropagation(),y(i,-1,0);break;case"Right":case"ArrowRight":i.preventDefault(),i.stopPropagation(),y(i,1,0);break;case"Up":case"ArrowUp":i.preventDefault(),i.stopPropagation(),y(i,0,-1);break;case"Down":case"ArrowDown":i.preventDefault(),i.stopPropagation(),y(i,0,1);break}},l},[u,a,$,f,T])}}const Xe=0,je=100,Ae=1;function He(o){const{isDisabled:e=!1,minValue:t=Xe,maxValue:d=je,numberFormatter:u,step:a=Ae,orientation:$="horizontal"}=o;let f=m.useMemo(()=>{let r=(d-t)/10;return r=O(r,0,r+a,a),Math.max(r,a)},[a,d,t]),T=m.useCallback(r=>r==null?void 0:r.map((P,V)=>{let U=V===0?t:r[V-1],z=V===r.length-1?d:r[V+1];return O(P,U,z,a)}),[t,d,a]),M=m.useMemo(()=>T(oe(o.value)),[o.value]),l=m.useMemo(()=>{var r;return T((r=oe(o.defaultValue))!==null&&r!==void 0?r:[t])},[o.defaultValue,t]),h=ue(o.value,o.defaultValue,o.onChange),y=ue(o.value,o.defaultValue,o.onChangeEnd);const[i,x]=ke(M,l,h),[c,w]=m.useState(new Array(i.length).fill(!1)),n=m.useRef(new Array(i.length).fill(!0)),[b,p]=m.useState(void 0),g=m.useRef(i),v=m.useRef(c);let D=r=>{g.current=r,x(r)},k=r=>{v.current=r,w(r)};function L(r){return(r-t)/(d-t)}function H(r){return r===0?t:i[r-1]}function G(r){return r===i.length-1?d:i[r+1]}function X(r){return n.current[r]}function Y(r,P){n.current[r]=P}function K(r,P){if(e||!X(r))return;const V=H(r),U=G(r);P=O(P,V,U,a);let z=le(g.current,r,P);D(z)}function I(r,P){if(e||!X(r))return;P&&(g.current=i);const V=v.current[r];v.current=le(v.current,r,P),k(v.current),V&&!v.current.some(Boolean)&&y(g.current)}function R(r){return u.format(r)}function s(r,P){K(r,F(P))}function S(r){return Math.round((r-t)/a)*a+t}function F(r){const P=r*(d-t)+t;return _(S(P),t,d)}function j(r,P=1){let V=Math.max(P,a);K(r,O(i[r]+V,t,d,a))}function B(r,P=1){let V=Math.max(P,a);K(r,O(i[r]-V,t,d,a))}return{values:i,getThumbValue:r=>i[r],setThumbValue:K,setThumbPercent:s,isThumbDragging:r=>c[r],setThumbDragging:I,focusedThumb:b,setFocusedThumb:p,getThumbPercent:r=>L(i[r]),getValuePercent:L,getThumbValueLabel:r=>R(i[r]),getFormattedValue:R,getThumbMinValue:H,getThumbMaxValue:G,getPercentValue:F,isThumbEditable:X,setThumbEditable:Y,incrementThumb:j,decrementThumb:B,step:a,pageSize:f,orientation:$,isDisabled:e}}function le(o,e,t){return o[e]===t?o:[...o.slice(0,e),t,...o.slice(e+1)]}function oe(o){if(o!=null)return Array.isArray(o)?o:[o]}function ue(o,e,t){return d=>{typeof o=="number"||typeof e=="number"?t==null||t(d[0]):t==null||t(d)}}const te=new WeakMap;function Q(o,e){let t=te.get(o);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Ye(o,e,t){let{labelProps:d,fieldProps:u}=pe(o),a=o.orientation==="vertical";var $;te.set(e,{id:($=d.id)!==null&&$!==void 0?$:u.id,"aria-describedby":o["aria-describedby"],"aria-details":o["aria-details"]});let{direction:f}=de(),{addGlobalListener:T,removeGlobalListener:M}=ee();const l=m.useRef(null),h=f==="rtl",y=m.useRef(null),{moveProps:i}=he({onMoveStart(){y.current=null},onMove({deltaX:n,deltaY:b}){if(!t.current)return;let{height:p,width:g}=t.current.getBoundingClientRect(),v=a?p:g;y.current==null&&l.current!=null&&(y.current=e.getThumbPercent(l.current)*v);let D=a?b:n;if((a||h)&&(D=-D),y.current+=D,l.current!=null&&t.current){const k=_(y.current/v,0,1);e.setThumbPercent(l.current,k)}},onMoveEnd(){l.current!=null&&(e.setThumbDragging(l.current,!1),l.current=null)}});let x=m.useRef(void 0),c=(n,b,p,g)=>{if(t.current&&!o.isDisabled&&e.values.every((v,D)=>!e.isThumbDragging(D))){let{height:v,width:D,top:k,left:L}=t.current.getBoundingClientRect(),H=a?v:D,K=((a?g:p)-(a?k:L))/H;(f==="rtl"||a)&&(K=1-K);let I=e.getPercentValue(K),R,s=e.values.findIndex(S=>I-S<0);if(s===0)R=s;else if(s===-1)R=e.values.length-1;else{let S=e.values[s-1],F=e.values[s];Math.abs(S-I)<Math.abs(F-I)?R=s-1:R=s}R>=0&&e.isThumbEditable(R)?(n.preventDefault(),l.current=R,e.setFocusedThumb(R),x.current=b,e.setThumbDragging(l.current,!0),e.setThumbValue(R,I),T(window,"mouseup",w,!1),T(window,"touchend",w,!1),T(window,"pointerup",w,!1)):l.current=null}},w=n=>{var b,p;((p=n.pointerId)!==null&&p!==void 0?p:(b=n.changedTouches)===null||b===void 0?void 0:b[0].identifier)===x.current&&(l.current!=null&&(e.setThumbDragging(l.current,!1),l.current=null),M(window,"mouseup",w,!1),M(window,"touchend",w,!1),M(window,"pointerup",w,!1))};return"htmlFor"in d&&d.htmlFor&&(delete d.htmlFor,d.onClick=()=>{var n;(n=document.getElementById(Q(e,0)))===null||n===void 0||n.focus(),Se("keyboard")}),{labelProps:d,groupProps:{role:"group",...u},trackProps:A({onMouseDown(n){n.button!==0||n.altKey||n.ctrlKey||n.metaKey||c(n,void 0,n.clientX,n.clientY)},onPointerDown(n){n.pointerType==="mouse"&&(n.button!==0||n.altKey||n.ctrlKey||n.metaKey)||c(n,n.pointerId,n.clientX,n.clientY)},onTouchStart(n){c(n,n.changedTouches[0].identifier,n.changedTouches[0].clientX,n.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},i),outputProps:{htmlFor:e.values.map((n,b)=>Q(e,b)).join(" "),"aria-live":"off"}}}function Ue(o,e){let{index:t=0,isRequired:d,validationState:u,isInvalid:a,trackRef:$,inputRef:f,orientation:T=e.orientation,name:M}=o,l=o.isDisabled||e.isDisabled,h=T==="vertical",{direction:y}=de(),{addGlobalListener:i,removeGlobalListener:x}=ee(),c=te.get(e);var w;const{labelProps:n,fieldProps:b}=pe({...o,id:Q(e,t),"aria-labelledby":`${c.id} ${(w=o["aria-labelledby"])!==null&&w!==void 0?w:""}`.trim()}),p=e.values[t],g=m.useCallback(()=>{f.current&&Ee(f.current)},[f]),v=e.focusedThumb===t;m.useEffect(()=>{v&&g()},[v,g]);let D=y==="rtl",k=m.useRef(null),{keyboardProps:L}=Ce({onKeyDown(s){let{getThumbMaxValue:S,getThumbMinValue:F,decrementThumb:j,incrementThumb:B,setThumbValue:r,setThumbDragging:P,pageSize:V}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(s.key)){s.continuePropagation();return}switch(s.preventDefault(),P(t,!0),s.key){case"PageUp":B(t,V);break;case"PageDown":j(t,V);break;case"Home":r(t,F(t));break;case"End":r(t,S(t));break}P(t,!1)}}),{moveProps:H}=he({onMoveStart(){k.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:s,deltaY:S,pointerType:F,shiftKey:j}){const{getThumbPercent:B,setThumbPercent:r,decrementThumb:P,incrementThumb:V,step:U,pageSize:z}=e;if(!$.current)return;let{width:$e,height:ve}=$.current.getBoundingClientRect(),re=h?ve:$e;if(k.current==null&&(k.current=B(t)*re),F==="keyboard")s>0&&D||s<0&&!D||S>0?P(t,j?z:U):V(t,j?z:U);else{let J=h?S:s;(h||D)&&(J=-J),k.current+=J,r(t,_(k.current/re,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!l);const{focusableProps:G}=Le(A(o,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),f);let X=m.useRef(void 0),Y=s=>{g(),X.current=s,e.setThumbDragging(t,!0),i(window,"mouseup",K,!1),i(window,"touchend",K,!1),i(window,"pointerup",K,!1)},K=s=>{var S,F;((F=s.pointerId)!==null&&F!==void 0?F:(S=s.changedTouches)===null||S===void 0?void 0:S[0].identifier)===X.current&&(g(),e.setThumbDragging(t,!1),x(window,"mouseup",K,!1),x(window,"touchend",K,!1),x(window,"pointerup",K,!1))},I=e.getThumbPercent(t);(h||y==="rtl")&&(I=1-I);let R=l?{}:A(L,H,{onMouseDown:s=>{s.button!==0||s.altKey||s.ctrlKey||s.metaKey||Y()},onPointerDown:s=>{s.button!==0||s.altKey||s.ctrlKey||s.metaKey||Y(s.pointerId)},onTouchStart:s=>{Y(s.changedTouches[0].identifier)}});return Ie(f,p,s=>{e.setThumbValue(t,s)}),{inputProps:A(G,b,{type:"range",tabIndex:l?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:p,name:M,disabled:l,"aria-orientation":T,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":d||void 0,"aria-invalid":a||u==="invalid"||void 0,"aria-errormessage":o["aria-errormessage"],"aria-describedby":[c["aria-describedby"],o["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[c["aria-details"],o["aria-details"]].filter(Boolean).join(" "),onChange:s=>{e.setThumbValue(t,parseFloat(s.target.value))}}),thumbProps:{...R,style:{position:"absolute",[h?"top":"left"]:`${I*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:n,isDragging:e.isThumbDragging(t),isDisabled:l,isFocused:v}}const ze=m.createContext(null),W=m.createContext(null),ne=m.createContext(null),ge=m.createContext(null),Ge=m.forwardRef(function(e,t){[e,t]=Z(e,t,ze);let d=m.useRef(null),u=Ve(e.formatOptions),a=He({...e,numberFormatter:u}),[$,f]=se(),{groupProps:T,trackProps:M,labelProps:l,outputProps:h}=Ye({...e,label:f},a,d),y=q({...e,values:{orientation:a.orientation,isDisabled:a.isDisabled,state:a},defaultClassName:"react-aria-Slider"}),i=me(e);return delete i.id,N.createElement(ce,{values:[[W,a],[ne,{...M,ref:d}],[ge,h],[fe,{...l,ref:$}]]},N.createElement("div",{...i,...T,...y,ref:t,slot:e.slot||void 0,"data-orientation":a.orientation,"data-disabled":a.isDisabled||void 0}))}),Be=m.forwardRef(function(e,t){[e,t]=Z(e,t,ge);let{children:d,style:u,className:a,...$}=e,f=m.useContext(W),T=q({className:a,style:u,children:d,defaultChildren:f.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:f.orientation,isDisabled:f.isDisabled,state:f}});return N.createElement("output",{...$,...T,ref:t,"data-orientation":f.orientation||void 0,"data-disabled":f.isDisabled||void 0})}),Oe=m.forwardRef(function(e,t){[e,t]=Z(e,t,ne);let d=m.useContext(W),{onHoverStart:u,onHoverEnd:a,onHoverChange:$,...f}=e,{hoverProps:T,isHovered:M}=be({onHoverStart:u,onHoverEnd:a,onHoverChange:$}),l=q({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:d.orientation,isDisabled:d.isDisabled,isHovered:M,state:d}});return N.createElement("div",{...A(f,T),...l,ref:t,"data-hovered":M||void 0,"data-orientation":d.orientation||void 0,"data-disabled":d.isDisabled||void 0})}),qe=m.forwardRef(function(e,t){let{inputRef:d=null}=e,u=m.useContext(W),{ref:a}=Me(ne),{index:$=0}=e,f=m.useRef(null),T=d||f,[M,l]=se(),{thumbProps:h,inputProps:y,labelProps:i,isDragging:x,isFocused:c,isDisabled:w}=Ue({...e,index:$,trackRef:a,inputRef:T,label:l},u),{focusProps:n,isFocusVisible:b}=Fe(),{hoverProps:p,isHovered:g}=be(e),v=q({...e,defaultClassName:"react-aria-SliderThumb",values:{state:u,isHovered:g,isDragging:x,isFocused:c,isFocusVisible:b,isDisabled:w}}),D=me(e);return delete D.id,N.createElement("div",{...A(D,h,p),...v,ref:t,style:{...h.style,...v.style},"data-hovered":g||void 0,"data-dragging":x||void 0,"data-focused":c||void 0,"data-focus-visible":b||void 0,"data-disabled":w||void 0},N.createElement(Ne,null,N.createElement("input",{ref:T,...A(y,n)})),N.createElement(ce,{values:[[fe,{...i,ref:M}]]},v.children))}),We="flow--slider",Je="flow--slider--text",Qe="flow--slider--value",Ze="flow--slider--track",_e="flow--slider--fill",et="flow--slider--initial-marker",tt="flow--slider--thumb",nt="flow--slider--increment",rt="flow--slider--decrement",at="flow--slider--disabled",C={slider:We,text:Je,value:Qe,track:Ze,fill:_e,initialMarker:et,thumb:tt,increment:nt,decrement:rt,disabled:at},it={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-EN":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},lt=Te("Slider",o=>{const{className:e,children:t,name:d,isDisabled:u,defaultValue:a,showInitialMarker:$,...f}=o,T=we(C.slider,u&&C.disabled,e),M=De(it),l={Label:{unstyled:!0}};return E.jsxs(Ge,{className:T,isDisabled:u,defaultValue:a,...f,children:[E.jsxs("div",{className:C.text,children:[E.jsx(Be,{className:C.value}),E.jsx(Pe,{props:l,children:t})]}),E.jsx(Oe,{className:C.track,children:({state:h})=>E.jsxs(E.Fragment,{children:[E.jsx(ae,{onPress:()=>h.decrementThumb(0),"aria-label":M.format("slider.decrement"),size:"s",variant:"plain",className:C.decrement,isDisabled:u,excludeFromTabOrder:!0,children:E.jsx(ye,{})}),E.jsx(ae,{onPress:()=>h.incrementThumb(0),"aria-label":M.format("slider.increment"),size:"s",variant:"plain",className:C.increment,isDisabled:u,excludeFromTabOrder:!0,children:E.jsx(xe,{})}),E.jsx("div",{className:C.fill,style:{width:h.getThumbPercent(0)*100+"%"}}),$&&a&&typeof a=="number"&&E.jsx("div",{className:C.initialMarker,style:{left:`calc(${h.getValuePercent(a)*100}% - 2px)`}}),E.jsx(qe,{name:d,className:C.thumb})]})})]})});lt.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{lt as S};
