import{r as o,R as i}from"./index-BbMBc-iG.js";import{f as c,F as y}from"./FieldError-Bxt0_Hqg.js";import{c as H}from"./clsx-B-dksMZM.js";import{C as N,P as B}from"./PropsContextProvider-BgoMLKZk.js";import{F as D}from"./FieldDescription-Ca5JFBy-.js";import{$ as I}from"./useLocalizedStringFormatter-DYdTqA_9.js";import{$ as P,a as T,e as g,d as q,f as M,g as O}from"./utils-D4Vol65q.js";import{d as w}from"./FieldError-0S5lF-We.js";import{b as L}from"./Form-4lWAVKAg.js";import{a as S}from"./Input-CLGBDd3-.js";import{a as _}from"./Label-BybFgH_Q.js";import{a as A,b as V}from"./useFocusRing-DA2rHHrb.js";import{a as W}from"./index-CPTjWdH1.js";import{a as k}from"./Text-oWh285ma.js";import{$ as Z}from"./filterDOMProps-BSfnXAP7.js";import{$ as j}from"./useTextField-CI6MibmE.js";const R=o.createContext({});let z=e=>{let{onHoverStart:a,onHoverChange:d,onHoverEnd:r,...t}=e;return t};function G(e,a){[e,a]=P(e,a,R);let{hoverProps:d,isHovered:r}=A(e),{isFocused:t,isFocusVisible:n,focusProps:s}=V({isTextInput:!0,autoFocus:e.autoFocus}),l=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",f=T({...e,values:{isHovered:r,isFocused:t,isFocusVisible:n,isDisabled:e.disabled||!1,isInvalid:l},defaultClassName:"react-aria-TextArea"});return i.createElement("textarea",{...W(z(e),s,d),...f,ref:a,"data-focused":t||void 0,"data-disabled":e.disabled||void 0,"data-hovered":r||void 0,"data-focus-visible":n||void 0,"data-invalid":l||void 0})}const be=o.forwardRef(G),J=o.createContext(null);function K(e,a){[e,a]=P(e,a,J);let{validationBehavior:d}=g(L)||{};var r,t;let n=(t=(r=e.validationBehavior)!==null&&r!==void 0?r:d)!==null&&t!==void 0?t:"native",s=o.useRef(null),[l,f]=q(),[b,p]=o.useState("input"),{labelProps:x,inputProps:u,descriptionProps:$,errorMessageProps:m,...h}=j({...M(e),inputElementType:b,label:f,validationBehavior:n},s),C=o.useCallback(v=>{s.current=v,v&&p(v instanceof HTMLTextAreaElement?"textarea":"input")},[]),F=T({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:h.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),E=Z(e);return delete E.id,i.createElement("div",{...E,...F,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":h.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},i.createElement(O,{values:[[_,{...x,ref:l}],[S,{...u,ref:C}],[R,{...u,ref:C}],[k,{slots:{description:$,errorMessage:m}}],[w,h]]},F.children))}const Q=o.forwardRef(K),U={"de-DE":{"textFieldBase.characters":(e,a)=>`${a.select({0:()=>`${e.count}`,other:()=>`${e.count}/${e.maxCount}`},e.maxCount)} Zeichen`},"en-EN":{"textFieldBase.characters":(e,a)=>`${a.select({0:()=>`${e.count}`,other:()=>`${e.count}/${e.maxCount}`},e.maxCount)} characters`}},X=e=>{var $;const{children:a,className:d,input:r,showCharacterCount:t,...n}=e,[s,l]=o.useState((($=e.value)==null?void 0:$.length)??0),f=H(c.formField,d),b=I(U),p={Label:{className:c.label,optional:!e.isRequired},FieldDescription:{className:c.fieldDescription},FieldError:{className:c.customFieldError}},x=m=>{t&&l(m.length),e.onChange&&e.onChange(m)},u=b.format("textFieldBase.characters",{count:s,maxCount:e.maxLength??0});return i.createElement(N,null,i.createElement(Q,{...n,className:f,onChange:x},r,i.createElement(B,{props:p},a),t&&i.createElement(D,{className:c.fieldDescription},u),i.createElement(y,{className:c.fieldError})))};X.__docgenInfo={description:"",methods:[],displayName:"TextFieldBase",props:{ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""},input:{required:!0,tsType:{name:"ReactNode"},description:"The input element"},showCharacterCount:{required:!1,tsType:{name:"boolean"},description:"Whether a character count should be displayed inside the field description."}},composes:["PropsWithChildren"]};export{be as $,X as T};
