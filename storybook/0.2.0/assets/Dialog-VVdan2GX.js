import{a as bn}from"./Button-8t-PlKI0.js";import{c as ae,$ as R,a as T,f as gn,g as k,d as mn,b as xn,h as be}from"./utils-DjOXyFua.js";import{$ as vn}from"./RSPContexts-BG_vMng8.js";import{g as yn,d as Pn,a as Pe,b as hn,c as En,e as Cn,f as Dn}from"./OverlayArrow-CXsQAix4.js";import{$ as he,a as Mn,c as wn}from"./Collection-B05c0epe.js";import{a as Ee,d as An,b as kn,c as Sn}from"./CollectionBuilder-DjKT8coY.js";import{R as p,r as c}from"./index-Cf9XvIV_.js";import{a as Bn}from"./Separator-7nkoDd3B.js";import{a as Fn}from"./Text-BK3pbL47.js";import{a as S,b as ge,d as W,c as j,f as te,$ as Kn,e as z}from"./index-CoqFY4cC.js";import{$ as D}from"./filterDOMProps-BSfnXAP7.js";import{d as Rn,f as Tn,g as On,h as In,c as Ln,$ as Ce,a as Nn,b as De}from"./SelectionManager-DkMoHAWq.js";import{h as ne,b as _n,$ as Hn,a as zn}from"./usePress-1yUr5Cwu.js";import{j as Un,d as Wn,$ as jn,r as Vn,a as Me,n as Gn,i as qn,g as me,b as Zn}from"./useFocusRing-DNhlkveR.js";import{$ as we}from"./useLocalizedStringFormatter-Dq-FGM-G.js";import{e as Ae,$ as Jn}from"./useCollator-B1faT6Ju.js";import{b as Yn}from"./useFocusable-BJtEpXSQ.js";import{d as Xn,a as ke}from"./FocusScope-DMitP4Gv.js";import{$ as Qn}from"./useControlledState-19OAjgUP.js";import{M as er}from"./index-CFEY-m6m.js";import{b as tr}from"./Hidden-Cfl4ctnK.js";import{a as nr}from"./useLabel-ByHVstPj.js";import{$ as rr}from"./VisuallyHidden-CvlCL3HN.js";const Se=p.forwardRef(({children:t,...e},n)=>{let r=c.useRef(!1),a=c.useContext(ne);n=ae(n||(a==null?void 0:a.ref));let o=S(a||{},{...e,ref:n,register(){r.current=!0,a&&a.register()}});return Un(a,n),c.useEffect(()=>{r.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),r.current=!0)},[]),p.createElement(ne.Provider,{value:o},t)});function ar({children:t}){let e=c.useMemo(()=>({register:()=>{}}),[]);return p.createElement(ne.Provider,{value:e},t)}function sr(t){let{ref:e,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:a}=t,o=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=ge(s=>{n&&_(s,e)&&(a&&a(s),o.current.isPointerDown=!0)}),l=ge(s=>{n&&n(s)});c.useEffect(()=>{let s=o.current;if(r)return;const d=e.current,u=Wn(d);if(typeof PointerEvent<"u"){let $=b=>{s.isPointerDown&&_(b,e)&&l(b),s.isPointerDown=!1};return u.addEventListener("pointerdown",i,!0),u.addEventListener("pointerup",$,!0),()=>{u.removeEventListener("pointerdown",i,!0),u.removeEventListener("pointerup",$,!0)}}else{let $=f=>{s.ignoreEmulatedMouseEvents?s.ignoreEmulatedMouseEvents=!1:s.isPointerDown&&_(f,e)&&l(f),s.isPointerDown=!1},b=f=>{s.ignoreEmulatedMouseEvents=!0,s.isPointerDown&&_(f,e)&&l(f),s.isPointerDown=!1};return u.addEventListener("mousedown",i,!0),u.addEventListener("mouseup",$,!0),u.addEventListener("touchstart",i,!0),u.addEventListener("touchend",b,!0),()=>{u.removeEventListener("mousedown",i,!0),u.removeEventListener("mouseup",$,!0),u.removeEventListener("touchstart",i,!0),u.removeEventListener("touchend",b,!0)}}},[e,r,i,l])}function _(t,e){if(t.button>0)return!1;if(t.target){const n=t.target.ownerDocument;if(!n||!n.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(t.target)}const h=[];function or(t,e){let{onClose:n,shouldCloseOnBlur:r,isOpen:a,isDismissable:o=!1,isKeyboardDismissDisabled:i=!1,shouldCloseOnInteractOutside:l}=t;c.useEffect(()=>(a&&h.push(e),()=>{let g=h.indexOf(e);g>=0&&h.splice(g,1)}),[a,e]);let s=()=>{h[h.length-1]===e&&n&&n()},d=g=>{(!l||l(g.target))&&h[h.length-1]===e&&(g.stopPropagation(),g.preventDefault())},u=g=>{(!l||l(g.target))&&(h[h.length-1]===e&&(g.stopPropagation(),g.preventDefault()),s())},$=g=>{g.key==="Escape"&&!i&&!g.nativeEvent.isComposing&&(g.stopPropagation(),g.preventDefault(),s())};sr({ref:e,onInteractOutside:o&&a?u:void 0,onInteractOutsideStart:d});let{focusWithinProps:b}=jn({isDisabled:!r,onBlurWithin:g=>{!g.relatedTarget||Xn(g.relatedTarget)||(!l||l(g.relatedTarget))&&(n==null||n())}}),f=g=>{g.target===g.currentTarget&&g.preventDefault()};return{overlayProps:{onKeyDown:$,...b},underlayProps:{onPointerDown:f}}}function Be(t,e,n){let{type:r}=t,{isOpen:a}=e;c.useEffect(()=>{n&&n.current&&yn.set(n.current,e.close)});let o;r==="menu"?o=!0:r==="listbox"&&(o="listbox");let i=W();return{triggerProps:{"aria-haspopup":o,"aria-expanded":a,"aria-controls":a?i:void 0,onPress:e.toggle},overlayProps:{id:i}}}const Q=typeof document<"u"&&window.visualViewport,ur=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let H=0,ee;function lr(t={}){let{isDisabled:e}=t;j(()=>{if(!e)return H++,H===1&&(Vn()?ee=dr():ee=ir()),()=>{H--,H===0&&ee()}},[e])}function ir(){return te(A(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),A(document.documentElement,"overflow","hidden"))}function dr(){let t,e,n=d=>{t=Ae(d.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=A(t,"overscrollBehavior","contain"))},r=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&d.preventDefault()},a=()=>{e&&e()},o=d=>{let u=d.target;cr(u)&&(l(),u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",Q&&(Q.height<window.innerHeight?requestAnimationFrame(()=>{xe(u)}):Q.addEventListener("resize",()=>xe(u),{once:!0}))}))},i=null,l=()=>{if(i)return;let d=()=>{window.scrollTo(0,0)},u=window.pageXOffset,$=window.pageYOffset;i=te(F(window,"scroll",d),A(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),A(document.documentElement,"overflow","hidden"),A(document.body,"marginTop",`-${$}px`),()=>{window.scrollTo(u,$)}),window.scrollTo(0,0)},s=te(F(document,"touchstart",n,{passive:!1,capture:!0}),F(document,"touchmove",r,{passive:!1,capture:!0}),F(document,"touchend",a,{passive:!1,capture:!0}),F(document,"focus",o,!0));return()=>{e==null||e(),i==null||i(),s()}}function A(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function F(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function xe(t){let e=document.scrollingElement||document.documentElement,n=t;for(;n&&n!==e;){let r=Ae(n);if(r!==document.documentElement&&r!==document.body&&r!==n){let a=r.getBoundingClientRect().top,o=n.getBoundingClientRect().top;o>a+n.clientHeight&&(r.scrollTop+=o-a)}n=r.parentElement}}function cr(t){return t instanceof HTMLInputElement&&!ur.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var Fe={};Fe={dismiss:"تجاهل"};var Ke={};Ke={dismiss:"Отхвърляне"};var Re={};Re={dismiss:"Odstranit"};var Te={};Te={dismiss:"Luk"};var Oe={};Oe={dismiss:"Schließen"};var Ie={};Ie={dismiss:"Απόρριψη"};var Le={};Le={dismiss:"Dismiss"};var Ne={};Ne={dismiss:"Descartar"};var _e={};_e={dismiss:"Lõpeta"};var He={};He={dismiss:"Hylkää"};var ze={};ze={dismiss:"Rejeter"};var Ue={};Ue={dismiss:"התעלם"};var We={};We={dismiss:"Odbaci"};var je={};je={dismiss:"Elutasítás"};var Ve={};Ve={dismiss:"Ignora"};var Ge={};Ge={dismiss:"閉じる"};var qe={};qe={dismiss:"무시"};var Ze={};Ze={dismiss:"Atmesti"};var Je={};Je={dismiss:"Nerādīt"};var Ye={};Ye={dismiss:"Lukk"};var Xe={};Xe={dismiss:"Negeren"};var Qe={};Qe={dismiss:"Zignoruj"};var et={};et={dismiss:"Descartar"};var tt={};tt={dismiss:"Dispensar"};var nt={};nt={dismiss:"Revocare"};var rt={};rt={dismiss:"Пропустить"};var at={};at={dismiss:"Zrušiť"};var st={};st={dismiss:"Opusti"};var ot={};ot={dismiss:"Odbaci"};var ut={};ut={dismiss:"Avvisa"};var lt={};lt={dismiss:"Kapat"};var it={};it={dismiss:"Скасувати"};var dt={};dt={dismiss:"取消"};var ct={};ct={dismiss:"關閉"};var ft={};ft={"ar-AE":Fe,"bg-BG":Ke,"cs-CZ":Re,"da-DK":Te,"de-DE":Oe,"el-GR":Ie,"en-US":Le,"es-ES":Ne,"et-EE":_e,"fi-FI":He,"fr-FR":ze,"he-IL":Ue,"hr-HR":We,"hu-HU":je,"it-IT":Ve,"ja-JP":Ge,"ko-KR":qe,"lt-LT":Ze,"lv-LV":Je,"nb-NO":Ye,"nl-NL":Xe,"pl-PL":Qe,"pt-BR":et,"pt-PT":tt,"ro-RO":nt,"ru-RU":rt,"sk-SK":at,"sl-SI":st,"sr-SP":ot,"sv-SE":ut,"tr-TR":lt,"uk-UA":it,"zh-CN":dt,"zh-TW":ct};function fr(t){return t&&t.__esModule?t.default:t}function ve(t){let{onDismiss:e,...n}=t,r=we(fr(ft),"@react-aria/overlays"),a=nr(n,r.format("dismiss")),o=()=>{e&&e()};return p.createElement(rr,null,p.createElement("button",{...a,tabIndex:-1,onClick:o,style:{width:1,height:1}}))}let K=new WeakMap,v=[];function $r(t,e=document.body){let n=new Set(t),r=new Set,a=s=>{for(let b of s.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(b);let d=b=>{if(n.has(b)||b.parentElement&&r.has(b.parentElement)&&b.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of n)if(b.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},u=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),$=d(s);if($===NodeFilter.FILTER_ACCEPT&&o(s),$!==NodeFilter.FILTER_REJECT){let b=u.nextNode();for(;b!=null;)o(b),b=u.nextNode()}},o=s=>{var d;let u=(d=K.get(s))!==null&&d!==void 0?d:0;s.getAttribute("aria-hidden")==="true"&&u===0||(u===0&&s.setAttribute("aria-hidden","true"),r.add(s),K.set(s,u+1))};v.length&&v[v.length-1].disconnect(),a(e);let i=new MutationObserver(s=>{for(let d of s)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...n,...r].some(u=>u.contains(d.target))){for(let u of d.removedNodes)u instanceof Element&&(n.delete(u),r.delete(u));for(let u of d.addedNodes)(u instanceof HTMLElement||u instanceof SVGElement)&&(u.dataset.liveAnnouncer==="true"||u.dataset.reactAriaTopLayer==="true")?n.add(u):u instanceof Element&&a(u)}});i.observe(e,{childList:!0,subtree:!0});let l={observe(){i.observe(e,{childList:!0,subtree:!0})},disconnect(){i.disconnect()}};return v.push(l),()=>{i.disconnect();for(let s of r){let d=K.get(s);d!=null&&(d===1?(s.removeAttribute("aria-hidden"),K.delete(s)):K.set(s,d-1))}l===v[v.length-1]?(v.pop(),v.length&&v[v.length-1].observe()):v.splice(v.indexOf(l),1)}}function pr(t,e){let{triggerRef:n,popoverRef:r,isNonModal:a,isKeyboardDismissDisabled:o,shouldCloseOnInteractOutside:i,...l}=t,{overlayProps:s,underlayProps:d}=or({isOpen:e.isOpen&&!l["data-react-aria-top-layer"],onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!a,isKeyboardDismissDisabled:o,shouldCloseOnInteractOutside:i},r),{overlayProps:u,arrowProps:$,placement:b}=Pn({...l,targetRef:n,overlayRef:r,isOpen:e.isOpen,onClose:a?e.close:null});return lr({isDisabled:a||!e.isOpen}),j(()=>{if(e.isOpen&&!a&&r.current)return $r([r.current])},[a,e.isOpen,r]),{popoverProps:S(s,u),arrowProps:$,underlayProps:d,placement:b}}const br=c.createContext({});function gr(){var t;return(t=c.useContext(br))!==null&&t!==void 0?t:{}}const $t=p.createContext(null);function mr(t){let e=Kn(),{portalContainer:n=e?null:document.body,isExiting:r}=t,[a,o]=c.useState(!1),i=c.useMemo(()=>({contain:a,setContain:o}),[a,o]),{getContainer:l}=gr();if(!t.portalContainer&&l&&(n=l()),!n)return null;let s=t.children;return t.disableFocusManagement||(s=p.createElement(ke,{restoreFocus:!0,contain:a&&!r},s)),s=p.createElement($t.Provider,{value:i},p.createElement(ar,null,s)),er.createPortal(s,n)}function xr(){let t=c.useContext($t),e=t==null?void 0:t.setContain;j(()=>{e==null||e(!0)},[e])}function vr(t){let{selectionManager:e,collection:n,disabledKeys:r,ref:a,keyboardDelegate:o,layoutDelegate:i}=t,l=Jn({usage:"search",sensitivity:"base"}),s=e.disabledBehavior,d=c.useMemo(()=>o||new Rn({collection:n,disabledKeys:r,disabledBehavior:s,ref:a,collator:l,layoutDelegate:i}),[o,i,n,r,a,l,s]),{collectionProps:u}=Tn({...t,ref:a,selectionManager:e,keyboardDelegate:d});return{listProps:u}}const ye=new WeakMap;function yr(t){let e=ye.get(t);if(e!=null)return e;let n=0,r=a=>{for(let o of a)o.type==="section"?r(On(o,t)):n++};return r(t),ye.set(t,n),n}var pt={};pt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var bt={};bt={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var gt={};gt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var mt={};mt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var xt={};xt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var vt={};vt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var yt={};yt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Pt={};Pt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var ht={};ht={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Et={};Et={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Ct={};Ct={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Dt={};Dt={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Mt={};Mt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var wt={};wt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var At={};At={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var kt={};kt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var St={};St={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Bt={};Bt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Ft={};Ft={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Kt={};Kt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Rt={};Rt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Tt={};Tt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Ot={};Ot={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var It={};It={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Lt={};Lt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Nt={};Nt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var _t={};_t={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Ht={};Ht={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var zt={};zt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Ut={};Ut={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Wt={};Wt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var jt={};jt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Vt={};Vt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var Gt={};Gt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var qt={};qt={"ar-AE":pt,"bg-BG":bt,"cs-CZ":gt,"da-DK":mt,"de-DE":xt,"el-GR":vt,"en-US":yt,"es-ES":Pt,"et-EE":ht,"fi-FI":Et,"fr-FR":Ct,"he-IL":Dt,"hr-HR":Mt,"hu-HU":wt,"it-IT":At,"ja-JP":kt,"ko-KR":St,"lt-LT":Bt,"lv-LV":Ft,"nb-NO":Kt,"nl-NL":Rt,"pl-PL":Tt,"pt-BR":Ot,"pt-PT":It,"ro-RO":Lt,"ru-RU":Nt,"sk-SK":_t,"sl-SI":Ht,"sr-SP":zt,"sv-SE":Ut,"tr-TR":Wt,"uk-UA":jt,"zh-CN":Vt,"zh-TW":Gt};function Pr(t){return t&&t.__esModule?t.default:t}function hr(t,e,n){let{type:r="menu",isDisabled:a,trigger:o="press"}=t,i=W(),{triggerProps:l,overlayProps:s}=Be({type:r},e,n),d=f=>{if(!a&&!(o==="longPress"&&!f.altKey)&&n&&n.current)switch(f.key){case"Enter":case" ":if(o==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},u=we(Pr(qt),"@react-aria/menu"),{longPressProps:$}=In({isDisabled:a||o!=="longPress",accessibilityDescription:u.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),b={onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!a&&e.open(f.pointerType==="virtual"?"first":null)},onPress(f){f.pointerType==="touch"&&!a&&e.toggle()}};return delete l.onPress,{menuTriggerProps:{...l,...o==="press"?b:$,id:i,onKeyDown:d},menuProps:{...s,"aria-labelledby":i,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const Zt=new WeakMap;function Er(t,e,n){let{shouldFocusWrap:r=!0,onKeyDown:a,onKeyUp:o,...i}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let l=D(t,{labelable:!0}),{listProps:s}=vr({...i,ref:n,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:r,linkBehavior:"override"});return Zt.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:S(l,{onKeyDown:a,onKeyUp:o},{role:"menu",...s,onKeyDown:d=>{var u;(d.key!=="Escape"||t.shouldUseVirtualFocus)&&((u=s.onKeyDown)===null||u===void 0||u.call(s,d))}})}}function Cr(t,e,n){let{id:r,key:a,closeOnSelect:o,isVirtualized:i,"aria-haspopup":l,onPressStart:s,onPressUp:d,onPress:u,onPressChange:$,onPressEnd:b,onHoverStart:f,onHoverChange:g,onHoverEnd:E,onKeyDown:C,onKeyUp:O,onFocus:I,onFocusChange:G,onBlur:tn,selectionManager:y=e.selectionManager}=t,P=!!l,le=P&&t["aria-expanded"]==="true";var q;let M=(q=t.isDisabled)!==null&&q!==void 0?q:y.isDisabled(a);var Z;let ie=(Z=t.isSelected)!==null&&Z!==void 0?Z:y.isSelected(a),L=Zt.get(e),x=e.collection.getItem(a),w=t.onClose||L.onClose,nn=_n(),J=m=>{var X;if(!P){if(!(x==null||(X=x.props)===null||X===void 0)&&X.onAction?x.props.onAction():t.onAction&&t.onAction(a),L.onAction){let pn=L.onAction;pn(a)}m.target instanceof HTMLAnchorElement&&x&&nn.open(m.target,m,x.props.href,x.props.routerOptions)}},Y="menuitem";P||(y.selectionMode==="single"?Y="menuitemradio":y.selectionMode==="multiple"&&(Y="menuitemcheckbox"));let de=z(),ce=z(),fe=z(),N={id:r,"aria-disabled":M||void 0,role:Y,"aria-label":t["aria-label"],"aria-labelledby":de,"aria-describedby":[ce,fe].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":l,"aria-expanded":t["aria-expanded"]};y.selectionMode!=="none"&&!P&&(N["aria-checked"]=ie),i&&(N["aria-posinset"]=x==null?void 0:x.index,N["aria-setsize"]=yr(e.collection));let rn=m=>{m.pointerType==="keyboard"&&J(m),s==null||s(m)},$e=()=>{!P&&w&&(o??(y.selectionMode!=="multiple"||y.isLink(a)))&&w()},an=m=>{m.pointerType==="mouse"&&(J(m),$e()),d==null||d(m)},sn=m=>{m.pointerType!=="keyboard"&&m.pointerType!=="mouse"&&(J(m),$e()),u==null||u(m)},{itemProps:B,isFocused:on}=Ln({id:r,selectionManager:y,key:a,ref:n,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:L.shouldUseVirtualFocus}),{pressProps:un,isPressed:ln}=Hn({onPressStart:rn,onPress:sn,onPressUp:an,onPressChange:$,onPressEnd:b,isDisabled:M}),{hoverProps:dn}=Me({isDisabled:M,onHoverStart(m){!Gn()&&!(le&&l==="dialog")&&(y.setFocused(!0),y.setFocusedKey(a)),f==null||f(m)},onHoverChange:g,onHoverEnd:E}),{keyboardProps:cn}=Yn({onKeyDown:m=>{if(m.repeat){m.continuePropagation();return}switch(m.key){case" ":!M&&y.selectionMode==="none"&&!P&&o!==!1&&w&&w();break;case"Enter":!M&&o!==!1&&!P&&w&&w();break;default:P||m.continuePropagation(),C==null||C(m);break}},onKeyUp:O}),{focusProps:fn}=qn({onBlur:tn,onFocus:I,onFocusChange:G}),pe=D(x==null?void 0:x.props);delete pe.id;let $n=zn(x==null?void 0:x.props);return{menuItemProps:{...N,...S(pe,$n,P?{onFocus:B.onFocus,"data-key":B["data-key"]}:B,un,dn,cn,fn),tabIndex:B.tabIndex!=null&&le?-1:B.tabIndex},labelProps:{id:de},descriptionProps:{id:ce},keyboardShortcutProps:{id:fe},isFocused:on,isSelected:ie,isPressed:ln,isDisabled:M}}function Dr(t){let{heading:e,"aria-label":n}=t,r=W();return{itemProps:{role:"presentation"},headingProps:e?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":e?r:void 0}}}function Mr(t,e){let{role:n="dialog"}=t,r=z();r=t["aria-label"]?void 0:r;let a=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){me(e.current);let o=setTimeout(()=>{document.activeElement===e.current&&(a.current=!0,e.current&&(e.current.blur(),me(e.current)),a.current=!1)},500);return()=>{clearTimeout(o)}}},[e]),xr(),{dialogProps:{...D(t,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||r,onBlur:o=>{a.current&&o.stopPropagation()}},titleProps:{id:r}}}function Jt(t){let e=Pe(t),[n,r]=c.useState(null),[a,o]=c.useState([]),i=()=>{o([]),e.close()};return{focusStrategy:n,...e,open(d=null){r(d),e.open()},toggle(d=null){r(d),e.toggle()},close(){i()},expandedKeysStack:a,openSubmenu:(d,u)=>{o($=>u>$.length?$:[...$.slice(0,u),d])},closeSubmenu:(d,u)=>{o($=>$[u]===d?$.slice(0,u):$)}}}class wr{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let n=this.keyMap.get(e);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(e){let n=this.keyMap.get(e);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var n;return(n=this.keyMap.get(e))!==null&&n!==void 0?n:null}at(e){const n=[...this.getKeys()];return this.getItem(n[e])}constructor(e,{expandedKeys:n}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,n=n||new Set;let r=l=>{if(this.keyMap.set(l.key,l),l.childNodes&&(l.type==="section"||n.has(l.key)))for(let s of l.childNodes)r(s)};for(let l of e)r(l);let a=null,o=0;for(let[l,s]of this.keyMap)a?(a.nextKey=l,s.prevKey=a.key):(this.firstKey=l,s.prevKey=void 0),s.type==="item"&&(s.index=o++),a=s,a.nextKey=void 0;var i;this.lastKey=(i=a==null?void 0:a.key)!==null&&i!==void 0?i:null}}function Ar(t){let{onExpandedChange:e}=t,[n,r]=Qn(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),a=Ce(t),o=c.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),i=Nn(t,c.useCallback(s=>new wr(s,{expandedKeys:n}),[n]),null);return c.useEffect(()=>{a.focusedKey!=null&&!i.getItem(a.focusedKey)&&a.setFocusedKey(null)},[i,a.focusedKey]),{collection:i,expandedKeys:n,disabledKeys:o,toggleKey:s=>{r(kr(n,s))},setExpandedKeys:r,selectionManager:new De(i,a)}}function kr(t,e){let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}const Sr=c.createContext(null),Yt=c.createContext({}),sa=Ee("header",function(e,n){return[e,n]=R(e,n,Yt),p.createElement("header",{className:"react-aria-Header",...e,ref:n},e.children)}),se=c.createContext(null),oa=c.forwardRef(function(e,n){[e,n]=R(e,n,se);let r=c.useContext(V),a=Pe(e),o=e.isOpen!=null||e.defaultOpen!=null||!r?a:r,i=hn(n,o.isOpen)||e.isExiting||!1;if(tr()){let s=e.children;return typeof s=="function"&&(s=s({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),p.createElement(p.Fragment,null,s)}return o&&!o.isOpen&&!i?null:p.createElement(Br,{...e,triggerRef:e.triggerRef,state:o,popoverRef:n,isExiting:i})});function Br({state:t,isExiting:e,UNSTABLE_portalContainer:n,...r}){let a=c.useRef(null),[o,i]=c.useState(0);j(()=>{a.current&&t.isOpen&&i(a.current.getBoundingClientRect().width)},[t.isOpen,a]);var l;let{popoverProps:s,underlayProps:d,arrowProps:u,placement:$}=pr({...r,offset:(l=r.offset)!==null&&l!==void 0?l:8,arrowSize:o},t),b=r.popoverRef,f=En(b,!!$)||r.isEntering||!1,g=T({...r,defaultClassName:"react-aria-Popover",values:{trigger:r.trigger||null,placement:$,isEntering:f,isExiting:e}}),E={...s.style,...g.style};return p.createElement(mr,{...r,isExiting:e,portalContainer:n},!r.isNonModal&&t.isOpen&&p.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),p.createElement("div",{...S(D(r),s),...g,ref:b,slot:r.slot||void 0,style:E,"data-trigger":r.trigger,"data-placement":$,"data-entering":f||void 0,"data-exiting":e||void 0},!r.isNonModal&&p.createElement(ve,{onDismiss:t.close}),p.createElement(Cn.Provider,{value:{...u,placement:$,ref:a}},g.children),p.createElement(ve,{onDismiss:t.close})))}const Fr=c.createContext({}),Xt=c.createContext(null),oe=c.createContext(null),ue=c.createContext(null),U=c.createContext(null);function ua(t){let e=Jt(t),n=c.useRef(null),{menuTriggerProps:r,menuProps:a}=hr({...t,type:"menu"},e,n),[o,i]=c.useState(null),l=c.useCallback(()=>{n.current&&i(n.current.offsetWidth+"px")},[n]);Dn({ref:n,onResize:l});let s=c.useRef(null);return p.createElement(k,{values:[[Xt,{...a,ref:s}],[V,e],[ue,e],[se,{trigger:"MenuTrigger",triggerRef:n,scrollRef:s,placement:"bottom start",style:{"--trigger-width":o}}]]},p.createElement(Se,{...r,ref:n,isPressed:e.isOpen},t.children))}const Kr=c.createContext(null),la=c.forwardRef(function(e,n){return[e,n]=R(e,n,Xt),p.createElement(kn,{content:p.createElement(Sn,e)},r=>r.size>0&&p.createElement(Rr,{props:e,collection:r,menuRef:n}))});function Rr({props:t,collection:e,menuRef:n}){let{filterFn:r,collectionProps:a,collectionRef:o}=c.useContext(Sr)||{};n=ae(c.useMemo(()=>xn(n,o!==void 0?o:null),[o,n]));let i=c.useMemo(()=>r?e.filter(r):e,[e,r]),l=Ar({...t,collection:i,children:void 0}),s=c.useContext(ue),{isVirtualized:d,CollectionRoot:u}=c.useContext(he),{menuProps:$}=Er({...t,...a,isVirtualized:d,onClose:t.onClose||(s==null?void 0:s.close)},l,n),b=T({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{}});return p.createElement(ke,null,p.createElement("div",{...D(t),...$,...b,ref:n,slot:t.slot||void 0,onScroll:t.onScroll},p.createElement(k,{values:[[oe,l],[Bn,{elementType:"div"}],[Mn,{name:"MenuSection",render:Qt}],[Kr,{parentMenuRef:n}],[re,null],[U,l.selectionManager]]},p.createElement(u,{collection:l.collection,persistedKeys:wn(l.selectionManager.focusedKey),scrollRef:n}))))}class Tr extends De{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,n){return this.parent.setFocusedKey(e,n)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,n){super(e.collection,n),this.parent=e}}function Qt(t,e,n,r="react-aria-MenuSection"){var a,o;let i=c.useContext(oe),{CollectionBranch:l}=c.useContext(he),[s,d]=mn();var u;let{headingProps:$,groupProps:b}=Dr({heading:d,"aria-label":(u=n.props["aria-label"])!==null&&u!==void 0?u:void 0}),f=T({defaultClassName:r,className:(a=n.props)===null||a===void 0?void 0:a.className,style:(o=n.props)===null||o===void 0?void 0:o.style,values:{}}),g=c.useContext(U),E=Ce(t),C=t.selectionMode!=null?new Tr(g,E):g;return p.createElement("section",{...D(t),...b,...f,ref:e},p.createElement(k,{values:[[Yt,{...$,ref:s}],[U,C]]},p.createElement(l,{collection:i.collection,parent:n})))}const ia=An("section",Qt),re=c.createContext(null),da=Ee("item",function(e,n,r){var a;[e,n]=R(e,n,re);let o=(a=gn(re))===null||a===void 0?void 0:a.id,i=c.useContext(oe),l=ae(n),s=c.useContext(U),{menuItemProps:d,labelProps:u,descriptionProps:$,keyboardShortcutProps:b,...f}=Cr({...e,id:o,key:r.key,selectionManager:s},i,l),{isFocusVisible:g,focusProps:E}=Zn(),{hoverProps:C,isHovered:O}=Me({isDisabled:f.isDisabled}),I=T({...e,id:void 0,children:r.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:O,isFocusVisible:g,selectionMode:s.selectionMode,selectionBehavior:s.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),G=e.href?"a":"div";return p.createElement(G,{...S(d,E,C),...I,ref:l,"data-disabled":f.isDisabled||void 0,"data-hovered":O||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":g||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":s.selectionMode==="none"?void 0:s.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},p.createElement(k,{values:[[Fn,{slots:{label:u,description:$}}],[Fr,b]]},I.children))}),en=c.createContext(null),V=c.createContext(null);function ca(t){let e=Jt(t),n=c.useRef(null),{triggerProps:r,overlayProps:a}=Be({type:"dialog"},e,n);return r.id=W(),a["aria-labelledby"]=r.id,p.createElement(k,{values:[[V,e],[ue,e],[en,a],[se,{trigger:"DialogTrigger",triggerRef:n}]]},p.createElement(Se,{...r,ref:n,isPressed:e.isOpen},t.children))}const fa=c.forwardRef(function(e,n){let r=e["aria-labelledby"];[e,n]=R(e,n,en);let{dialogProps:a,titleProps:o}=Mr({...e,"aria-labelledby":r},n),i=c.useContext(V);!a["aria-label"]&&!a["aria-labelledby"]&&(e["aria-labelledby"]?a["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));let l=T({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(i==null?void 0:i.close)||(()=>{})}});return p.createElement("section",{...D(e),...a,...l,ref:n,slot:e.slot||void 0},p.createElement(k,{values:[[vn,{slots:{[be]:{},title:{...o,level:2}}}],[bn,{slots:{[be]:{},close:{onPress:()=>i==null?void 0:i.close()}}}]]},l.children))});export{ia as $,sa as a,ca as b,ua as c,vr as d,yr as e,Sr as f,Yt as g,oa as h,fa as i,or as j,lr as k,xr as l,$r as m,V as n,ve as o,mr as p,da as q,la as r,hr as s,se as t,en as u};
