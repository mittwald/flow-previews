import{$ as l,a as $}from"./focusSafely-D0g9gk72.js";import{a as u}from"./index-CoqFY4cC.js";import{c as p}from"./utils-CVMEqJeI.js";import{R as d,r as c}from"./index-Cf9XvIV_.js";import{h as P}from"./useFocusRing-CKcPrrmF.js";function i(e){if(!e)return;let t=!0;return r=>{let o={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){t?console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior."):t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(o),t&&r.stopPropagation()}}function x(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:i(e.onKeyDown),onKeyUp:i(e.onKeyUp)}}}let b=d.createContext(null);function v(e){let t=c.useContext(b)||{};$(t,e);let{ref:r,...o}=t;return o}const F=d.forwardRef(function(t,r){let{children:o,...a}=t,n=p(r),f={...a,ref:n};return d.createElement(b.Provider,{value:f},o)});function w(e,t){let{focusProps:r}=P(e),{keyboardProps:o}=x(e),a=u(r,o),n=v(t),f=e.isDisabled?{}:n,s=c.useRef(e.autoFocus);return c.useEffect(()=>{s.current&&t.current&&l(t.current),s.current=!1},[t]),{focusableProps:u({...a,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},f)}}export{w as $,F as a,x as b};
