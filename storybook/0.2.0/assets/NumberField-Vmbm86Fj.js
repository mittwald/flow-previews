import{j as x}from"./jsx-runtime-CLpGMVip.js";import{r as s,R as Q}from"./index-Cf9XvIV_.js";import{f as A,F as ca}from"./FieldError-emy1jJyU.js";import{c as fa}from"./clsx-B-dksMZM.js";import{C as ba,P as ma}from"./PropsContextProvider-CWFvCxZj.js";import{B as be}from"./Button-BV02oueB.js";import"./IconApp--3KTiVI4.js";import{a as $a,L as pa,N as xa,I as va}from"./IconWarning-FtXT-ZGp.js";import{f as La}from"./flowComponent-CGvK_9lq.js";import{a as Fa}from"./Button-TFgGWmnA.js";import{$ as Pa,e as Da,d as Na,f as Ba,a as Ca,g as ga}from"./utils-DbIpkr2E.js";import{$ as Ea,e as ha,d as Va}from"./FieldError-Di-56-XY.js";import{b as Sa}from"./Form-D-sIjvit.js";import{a as ya,$ as Ma}from"./Group-B96B1Y9i.js";import{a as Ia,$ as wa}from"./Input-Cw-yF1VB.js";import{a as ka}from"./Label-wrbsGWF5.js";import{a as ja}from"./Text-DUOeOfAn.js";import{$ as xe}from"./filterDOMProps-BSfnXAP7.js";import{$ as Oa,a as Ra}from"./useLocalizedStringFormatter-Dq-FGM-G.js";import{$ as Ta}from"./useControlledState-19OAjgUP.js";import{d as C,c as ee,a as me}from"./ProgressBar-Bu1Xugb0.js";import{$ as $e}from"./NumberFormatter-DT0cDaax.js";import{$ as Aa,a as Ka}from"./useSpinButton-Ct1bjW0K.js";import{b as Wa,a as z,d as ae,f as _a}from"./index-CoqFY4cC.js";import{f as za,$ as Ua,u as qa,v as Za,p as Ya}from"./useFocusRing-BUEgee7k.js";import{$ as Ha}from"./useFormReset-SCbFK273.js";import{$ as Ga}from"./useEvent-C6dKIdOv.js";import{$ as Xa}from"./useTextField-B6NJKPbp.js";function Ja(e,a){let{onScroll:r,isDisabled:i}=e,u=s.useCallback(n=>{n.ctrlKey||(n.preventDefault(),n.stopPropagation(),r&&r({deltaX:n.deltaX,deltaY:n.deltaY}))},[r]);Ga(a,"wheel",i?void 0:u)}function Qa(e){let{minValue:a,maxValue:r,step:i,formatOptions:u,value:n,defaultValue:c=NaN,onChange:m,locale:f,isDisabled:P,isReadOnly:v}=e;n===null&&(n=NaN),n!==void 0&&!isNaN(n)&&(i!==void 0&&!isNaN(i)?n=C(n,a,r,i):n=ee(n,a,r)),isNaN(c)||(i!==void 0&&!isNaN(i)?c=C(c,a,r,i):c=ee(c,a,r));let[t,l]=Ta(n,isNaN(c)?NaN:c,m),[d,L]=s.useState(()=>isNaN(t)?"":new $e(f,u).format(t)),D=s.useMemo(()=>new Aa(f,u),[f,u]),S=s.useMemo(()=>D.getNumberingSystem(d),[D,d]),B=s.useMemo(()=>new $e(f,{...u,numberingSystem:S}),[f,u,S]),g=s.useMemo(()=>B.resolvedOptions(),[B]),F=s.useCallback(o=>isNaN(o)||o===null?"":B.format(o),[B]),N=Ea({...e,value:t}),$=i!==void 0&&!isNaN(i)?i:1;g.style==="percent"&&(i===void 0||isNaN(i))&&($=.01);let[U,I]=s.useState(t),[q,w]=s.useState(f),[Z,y]=s.useState(u);(!Object.is(t,U)||f!==q||u!==Z)&&(L(F(t)),I(t),w(f),y(u));let b=s.useMemo(()=>D.parse(d),[D,d]),k=()=>{if(!d.length){l(NaN),L(n===void 0?"":F(t));return}if(isNaN(b)){L(F(t));return}let o;i===void 0||isNaN(i)?o=ee(b,a,r):o=C(b,a,r,i),o=D.parse(F(o)),l(o),L(F(n===void 0?o:t))},j=(o,_=0)=>{let E=b;if(isNaN(E)){let h=isNaN(_)?0:_;return C(h,a,r,$)}else{let h=C(E,a,r,$);return o==="+"&&h>E||o==="-"&&h<E?h:C(re(o,E,$),a,r,$)}},O=()=>{let o=j("+",a);o===t&&L(F(o)),l(o),N.commitValidation()},R=()=>{let o=j("-",r);o===t&&L(F(o)),l(o),N.commitValidation()},Y=()=>{r!=null&&(l(C(r,a,r,$)),N.commitValidation())},K=()=>{a!=null&&(l(a),N.commitValidation())},H=s.useMemo(()=>!P&&!v&&(isNaN(b)||r===void 0||isNaN(r)||C(b,a,r,$)>b||re("+",b,$)<=r),[P,v,a,r,$,b]),W=s.useMemo(()=>!P&&!v&&(isNaN(b)||a===void 0||isNaN(a)||C(b,a,r,$)<b||re("-",b,$)>=a),[P,v,a,r,$,b]);return{...N,validate:o=>D.isValidPartialNumber(o,a,r),increment:O,incrementToMax:Y,decrement:R,decrementToMin:K,canIncrement:H,canDecrement:W,minValue:a,maxValue:r,numberValue:b,setNumberValue:l,setInputValue:L,inputValue:d,commit:k}}function re(e,a,r){let i=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const u=a.toString().split("."),n=r.toString().split("."),c=u[1]&&u[1].length||0,m=n[1]&&n[1].length||0,f=Math.pow(10,Math.max(c,m));a=Math.round(a*f),r=Math.round(r*f),i=e==="+"?a+r:a-r,i/=f}return i}function pe(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function er(e,a,r){let i=Wa(t=>{let l=r.current;if(!l)return;let d=null;switch(t.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":d=l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentForward":d=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd+1):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentBackward":d=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart-1)+l.value.slice(l.selectionStart):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":d=l.value.slice(l.selectionStart);break;default:t.data!=null&&(d=l.value.slice(0,l.selectionStart)+t.data+l.value.slice(l.selectionEnd));break}(d==null||!a.validate(d))&&t.preventDefault()});s.useEffect(()=>{if(!pe()||!r.current)return;let t=r.current;return t.addEventListener("beforeinput",i,!1),()=>{t.removeEventListener("beforeinput",i,!1)}},[r,i]);let u=pe()?null:t=>{let l=t.target.value.slice(0,t.target.selectionStart)+t.data+t.target.value.slice(t.target.selectionEnd);a.validate(l)||t.preventDefault()},{labelProps:n,inputProps:c,descriptionProps:m,errorMessageProps:f,...P}=Xa(e,r),v=s.useRef(null);return{inputProps:z(c,{onBeforeInput:u,onCompositionStart(){let{value:t,selectionStart:l,selectionEnd:d}=r.current;v.current={value:t,selectionStart:l,selectionEnd:d}},onCompositionEnd(){if(r.current&&!a.validate(r.current.value)){let{value:t,selectionStart:l,selectionEnd:d}=v.current;r.current.value=t,r.current.setSelectionRange(l,d),a.setInputValue(t)}}}),labelProps:n,descriptionProps:m,errorMessageProps:f,...P}}var ve={};ve={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var Le={};Le={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var Fe={};Fe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var Pe={};Pe={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var De={};De={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var Ne={};Ne={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var Be={};Be={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Ce={};Ce={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var ge={};ge={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Ee={};Ee={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var he={};he={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var Ve={};Ve={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Se={};Se={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var ye={};ye={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var Me={};Me={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var Ie={};Ie={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var we={};we={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var ke={};ke={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var je={};je={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Oe={};Oe={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Re={};Re={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var Te={};Te={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Ae={};Ae={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ke={};Ke={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var We={};We={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var _e={};_e={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var ze={};ze={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var Ue={};Ue={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var qe={};qe={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ze={};Ze={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ye={};Ye={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var He={};He={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var Ge={};Ge={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Xe={};Xe={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var Je={};Je={"ar-AE":ve,"bg-BG":Le,"cs-CZ":Fe,"da-DK":Pe,"de-DE":De,"el-GR":Ne,"en-US":Be,"es-ES":Ce,"et-EE":ge,"fi-FI":Ee,"fr-FR":he,"he-IL":Ve,"hr-HR":Se,"hu-HU":ye,"it-IT":Me,"ja-JP":Ie,"ko-KR":we,"lt-LT":ke,"lv-LV":je,"nb-NO":Oe,"nl-NL":Re,"pl-PL":Te,"pt-BR":Ae,"pt-PT":Ke,"ro-RO":We,"ru-RU":_e,"sk-SK":ze,"sl-SI":Ue,"sr-SP":qe,"sv-SE":Ze,"tr-TR":Ye,"uk-UA":He,"zh-CN":Ge,"zh-TW":Xe};function ar(e){return e&&e.__esModule?e.default:e}function rr(e,a,r){let{id:i,decrementAriaLabel:u,incrementAriaLabel:n,isDisabled:c,isReadOnly:m,isRequired:f,minValue:P,maxValue:v,autoFocus:t,label:l,formatOptions:d,onBlur:L=()=>{},onFocus:D,onFocusChange:S,onKeyDown:B,onKeyUp:g,description:F,errorMessage:N,isWheelDisabled:$,...U}=e,{increment:I,incrementToMax:q,decrement:w,decrementToMin:Z,numberValue:y,inputValue:b,commit:k,commitValidation:j}=a;const O=Oa(ar(Je),"@react-aria/numberfield");let R=ae(i),{focusProps:Y}=za({onBlur(){k()}}),K=me(d),H=s.useMemo(()=>K.resolvedOptions(),[K]),W=me({...d,currencySign:void 0}),le=s.useMemo(()=>isNaN(y)?"":W.format(y),[W,y]),{spinButtonProps:o,incrementButtonProps:_,decrementButtonProps:E}=Ka({isDisabled:c,isReadOnly:m,isRequired:f,maxValue:v,minValue:P,onIncrement:I,onIncrementToMax:q,onDecrement:w,onDecrementToMin:Z,value:y,textValue:le}),[h,Qe]=s.useState(!1),{focusWithinProps:ea}=Ua({isDisabled:c,onFocusWithinChange:Qe}),aa=s.useCallback(p=>{Math.abs(p.deltaY)<=Math.abs(p.deltaX)||(p.deltaY>0?I():p.deltaY<0&&w())},[w,I]);Ja({onScroll:aa,isDisabled:$||c||m||!h},r);var G;let te=((G=H.maximumFractionDigits)!==null&&G!==void 0?G:0)>0,ie=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,T="numeric";qa()?ie?T="text":te&&(T="decimal"):Za()&&(ie?T="numeric":te&&(T="decimal"));let ra=p=>{a.validate(p)&&a.setInputValue(p)},la=xe(e),ne=s.useCallback(p=>{p.key==="Enter"?(k(),j()):p.continuePropagation()},[k,j]),{isInvalid:oe,validationErrors:ta,validationDetails:ia}=a.displayValidation,{labelProps:ue,inputProps:na,descriptionProps:oa,errorMessageProps:ua}=er({...U,...la,name:void 0,label:l,autoFocus:t,isDisabled:c,isReadOnly:m,isRequired:f,validate:void 0,[ha]:a,value:b,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:R,type:"text",inputMode:T,onChange:ra,onBlur:L,onFocus:D,onFocusChange:S,onKeyDown:s.useMemo(()=>_a(ne,B),[ne,B]),onKeyUp:g,description:F,errorMessage:N},a,r);Ha(r,a.numberValue,a.setNumberValue);let se=z(o,Y,na,{role:null,"aria-roledescription":Ya()?null:O.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(se["aria-required"]=void 0);let de=p=>{var J;document.activeElement!==r.current&&(p.pointerType==="mouse"?(J=r.current)===null||J===void 0||J.focus():p.target.focus())},X=e["aria-label"]||(typeof e.label=="string"?e.label:""),V;X||(V=e.label!=null?ue.id:e["aria-labelledby"]);let ce=ae(),fe=ae(),sa=z(_,{"aria-label":n||O.format("increase",{fieldLabel:X}).trim(),id:V&&!n?ce:null,"aria-labelledby":V&&!n?`${ce} ${V}`:null,"aria-controls":R,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:de}),da=z(E,{"aria-label":u||O.format("decrease",{fieldLabel:X}).trim(),id:V&&!u?fe:null,"aria-labelledby":V&&!u?`${fe} ${V}`:null,"aria-controls":R,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:de});return{groupProps:{...ea,role:"group","aria-disabled":c,"aria-invalid":oe?"true":void 0},labelProps:ue,inputProps:se,incrementButtonProps:sa,decrementButtonProps:da,errorMessageProps:ua,descriptionProps:oa,isInvalid:oe,validationErrors:ta,validationDetails:ia}}const lr=s.createContext(null),tr=s.createContext(null);function ir(e,a){[e,a]=Pa(e,a,lr);let{validationBehavior:r}=Da(Sa)||{};var i,u;let n=(u=(i=e.validationBehavior)!==null&&i!==void 0?i:r)!==null&&u!==void 0?u:"native",{locale:c}=Ra(),m=Qa({...e,locale:c,validationBehavior:n}),f=s.useRef(null),[P,v]=Na(),{labelProps:t,groupProps:l,inputProps:d,incrementButtonProps:L,decrementButtonProps:D,descriptionProps:S,errorMessageProps:B,...g}=rr({...Ba(e),label:v,validationBehavior:n},m,f),F=Ca({...e,values:{state:m,isDisabled:e.isDisabled||!1,isInvalid:g.isInvalid||!1},defaultClassName:"react-aria-NumberField"}),N=xe(e);return delete N.id,Q.createElement(ga,{values:[[tr,m],[ya,l],[Ia,{...d,ref:f}],[ka,{...t,ref:P}],[Fa,{slots:{increment:L,decrement:D}}],[ja,{slots:{description:S,errorMessage:B}}],[Va,g]]},Q.createElement("div",{...N,...F,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":g.isInvalid||void 0}),e.name&&Q.createElement("input",{type:"hidden",name:e.name,value:isNaN(m.numberValue)?"":m.numberValue}))}const nr=s.forwardRef(ir),or="flow--number-field--group",ur="flow--number-field--input",sr="flow--number-field--decrement-button",dr="flow--number-field--increment-button",cr="flow--number-field--coarse-pointer-icon",M={group:or,input:ur,decrementButton:sr,incrementButton:dr,coarsePointerIcon:cr},fr=La("NumberField",e=>{const{children:a,className:r,ref:i,...u}=e,n=fa(A.formField,r),c={Label:{className:A.label,optional:!e.isRequired},FieldDescription:{className:A.fieldDescription},FieldError:{className:A.customFieldError}};return x.jsx(ba,{children:x.jsxs(nr,{...u,className:n,children:[x.jsxs(Ma,{className:M.group,children:[x.jsxs(be,{ariaSlot:"decrement",className:M.decrementButton,size:"s",variant:"plain",color:"secondary",children:[x.jsx($a,{}),x.jsx(pa,{className:M.coarsePointerIcon})]}),x.jsx(wa,{className:M.input,ref:i}),x.jsxs(be,{ariaSlot:"increment",className:M.incrementButton,size:"s",variant:"plain",color:"secondary",children:[x.jsx(xa,{}),x.jsx(va,{className:M.coarsePointerIcon})]})]}),x.jsx(ma,{props:c,children:a}),x.jsx(ca,{className:A.fieldError})]})})});fr.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"NumberField"};export{fr as N};
