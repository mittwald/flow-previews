import{j as s}from"./jsx-runtime-CLpGMVip.js";import{f as l}from"./FieldError-WMkAMHNQ.js";import{$ as b,a as g,d as F}from"./FieldError-Fgq_FSbK.js";import{r as m}from"./index-Cf9XvIV_.js";import{$ as h,a as y}from"./Input-By9TP3lj.js";import{c as I}from"./utils-DjOXyFua.js";import{P as u}from"./PropsContextProvider-CWFvCxZj.js";import{f as P}from"./flowComponent-BwhkuB3x.js";const j="flow--file-field--trigger",R={trigger:j},x=t=>{const{children:d,isDisabled:f,onChange:e,ref:p}=t,n=I(p),a=()=>{var r,i;(r=n.current)!=null&&r.value&&(n.current.value="",e==null||e(null)),(i=n.current)==null||i.click()},c=r=>{e==null||e(r.target.files)},o={Button:{onPress:a,className:R.trigger,isDisabled:f}};return s.jsxs(u,{props:o,mergeInParentContext:!0,children:[d,s.jsx(h,{style:{display:"none"},type:"file",ref:n,onChange:c})]})};x.__docgenInfo={description:"@internal",methods:[],displayName:"FileInput",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: FileList | null) => void",signature:{arguments:[{type:{name:"union",raw:"FileList | null",elements:[{name:"FileList"},{name:"null"}]},name:"files"}],return:{name:"void"}}},description:""},isDisabled:{required:!1,tsType:{name:"boolean"},description:""},ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""}},composes:["PropsWithChildren"]};const C=P("FileField",t=>{const{children:d,ref:f,isRequired:e,isInvalid:p,isDisabled:n,validationBehavior:a,onChange:c,...o}=t,r=m.useRef(null),i=b({value:void 0,validationBehavior:a,isInvalid:p});g({validationBehavior:a},i,r);const v=m.useMemo(()=>({...o,ref:r,"aria-invalid":i.displayValidation.isInvalid,value:void 0}),[i,e,...Object.values(o)]),$={Label:{className:l.label,optional:!t.isRequired},FieldDescription:{className:l.fieldDescription},FieldError:{className:l.customFieldError}};return s.jsx(y.Provider,{value:v,children:s.jsx(F.Provider,{value:i.displayValidation,children:s.jsx(u,{props:$,children:s.jsx("div",{"data-required":!!e||void 0,"data-invalid":i.displayValidation.isInvalid||void 0,className:l.formField,children:s.jsx(x,{ref:f,onChange:c,isDisabled:n,children:d})})})})})});C.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"FileField"};export{C as F};
