import{$ as ye}from"./NumberFormatter-DT0cDaax.js";import{a as he,$ as ge}from"./LiveAnnouncer-DFDjXwI8.js";import{r as D}from"./index-Cf9XvIV_.js";import{d as xe}from"./usePress-6HCAk5fU.js";import{b as I}from"./index-CoqFY4cC.js";import{$ as Ee}from"./useLocalizedStringFormatter-Dq-FGM-G.js";const Pe=new RegExp("^.*\\(.*\\).*$"),Se=["latn","arab","hanidec","deva","beng"];class ve{parse(e){return T(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,n){return T(this.locale,this.options,e).isValidPartialNumber(e,t,n)}getNumberingSystem(e){return T(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const V=new Map;function T(r,e,t){let n=A(r,e);if(!r.includes("-nu-")&&!n.isValidPartialNumber(t)){for(let a of Se)if(a!==n.options.numberingSystem){let o=A(r+(r.includes("-u-")?"-nu-":"-u-nu-")+a,e);if(o.isValidPartialNumber(t))return o}}return n}function A(r,e){let t=r+(e?Object.entries(e).sort((a,o)=>a[0]<o[0]?-1:1).join():""),n=V.get(t);return n||(n=new De(r,e),V.set(t,n)),n}class De{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=N(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let d=t.indexOf("-");t=t.replace("-","");let l=t.indexOf(".");l===-1&&(l=t.length),t=t.replace(".",""),l-2===0?t=`0.${t}`:l-2===-1?t=`0.0${t}`:l-2===-2?t="0.00":t=`${t.slice(0,l-2)}.${t.slice(l-2)}`,d>-1&&(t=`-${t}`)}let n=t?+t:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var a,o;let d={...this.options,style:"decimal",minimumFractionDigits:Math.min(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)+2,20),maximumFractionDigits:Math.min(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2,20)};return new ve(this.locale,d).parse(new ye(this.locale,d).format(n))}return this.options.currencySign==="accounting"&&Pe.test(e)&&(n=-1*n),n}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=N(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=N(e,"."," ")),e}isValidPartialNumber(e,t=-1/0,n=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&n>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=N(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=we(e,this.formatter,this.options,t);var n,a;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const B=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Ne=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function we(r,e,t,n){var a,o,d,l;let h=new Intl.NumberFormat(r,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),u=h.formatToParts(-10000.111),$=h.formatToParts(10000.111),m=Ne.map(s=>h.formatToParts(s));var c;let b=(c=(a=u.find(s=>s.type==="minusSign"))===null||a===void 0?void 0:a.value)!==null&&c!==void 0?c:"-",f=(o=$.find(s=>s.type==="plusSign"))===null||o===void 0?void 0:o.value;!f&&((n==null?void 0:n.signDisplay)==="exceptZero"||(n==null?void 0:n.signDisplay)==="always")&&(f="+");let p=(d=new Intl.NumberFormat(r,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(s=>s.type==="decimal"))===null||d===void 0?void 0:d.value,w=(l=u.find(s=>s.type==="group"))===null||l===void 0?void 0:l.value,g=u.filter(s=>!B.has(s.type)).map(s=>C(s.value)),x=m.flatMap(s=>s.filter(i=>!B.has(i.type)).map(i=>C(i.value))),y=[...new Set([...g,...x])].sort((s,i)=>i.length-s.length),E=y.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${y.join("|")}|[\\p{White_Space}]`,"gu"),P=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),S=new Map(P.map((s,i)=>[s,i])),v=new RegExp(`[${P.join("")}]`,"g");return{minusSign:b,plusSign:f,decimal:p,group:w,literals:E,numeral:v,index:s=>String(S.get(s))}}function N(r,e,t){return r.replaceAll?r.replaceAll(e,t):r.split(e).join(t)}function C(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var L={};L={Empty:"فارغ"};var M={};M={Empty:"Изпразни"};var z={};z={Empty:"Prázdné"};var _={};_={Empty:"Tom"};var k={};k={Empty:"Leer"};var G={};G={Empty:"Άδειο"};var K={};K={Empty:"Empty"};var U={};U={Empty:"Vacío"};var j={};j={Empty:"Tühjenda"};var W={};W={Empty:"Tyhjä"};var q={};q={Empty:"Vide"};var H={};H={Empty:"ריק"};var O={};O={Empty:"Prazno"};var Y={};Y={Empty:"Üres"};var Z={};Z={Empty:"Vuoto"};var J={};J={Empty:"空"};var X={};X={Empty:"비어 있음"};var Q={};Q={Empty:"Tuščias"};var ee={};ee={Empty:"Tukšs"};var te={};te={Empty:"Tom"};var ne={};ne={Empty:"Leeg"};var re={};re={Empty:"Pusty"};var ie={};ie={Empty:"Vazio"};var se={};se={Empty:"Vazio"};var ae={};ae={Empty:"Gol"};var oe={};oe={Empty:"Не заполнено"};var le={};le={Empty:"Prázdne"};var ue={};ue={Empty:"Prazen"};var de={};de={Empty:"Prazno"};var me={};me={Empty:"Tomt"};var ce={};ce={Empty:"Boş"};var fe={};fe={Empty:"Пусто"};var pe={};pe={Empty:"空"};var $e={};$e={Empty:"空白"};var be={};be={"ar-AE":L,"bg-BG":M,"cs-CZ":z,"da-DK":_,"de-DE":k,"el-GR":G,"en-US":K,"es-ES":U,"et-EE":j,"fi-FI":W,"fr-FR":q,"he-IL":H,"hr-HR":O,"hu-HU":Y,"it-IT":Z,"ja-JP":J,"ko-KR":X,"lt-LT":Q,"lv-LV":ee,"nb-NO":te,"nl-NL":ne,"pl-PL":re,"pt-BR":ie,"pt-PT":se,"ro-RO":ae,"ru-RU":oe,"sk-SK":le,"sl-SI":ue,"sr-SP":de,"sv-SE":me,"tr-TR":ce,"uk-UA":fe,"zh-CN":pe,"zh-TW":$e};function Fe(r){return r&&r.__esModule?r.default:r}function Ce(r){const e=D.useRef(void 0);let{value:t,textValue:n,minValue:a,maxValue:o,isDisabled:d,isReadOnly:l,isRequired:h,onIncrement:u,onIncrementPage:$,onDecrement:m,onDecrementPage:c,onDecrementToMin:b,onIncrementToMax:f}=r;const R=Ee(Fe(be),"@react-aria/spinbutton"),p=()=>clearTimeout(e.current);D.useEffect(()=>()=>p(),[]);let w=i=>{if(!(i.ctrlKey||i.metaKey||i.shiftKey||i.altKey||l))switch(i.key){case"PageUp":if($){i.preventDefault(),$==null||$();break}case"ArrowUp":case"Up":u&&(i.preventDefault(),u==null||u());break;case"PageDown":if(c){i.preventDefault(),c==null||c();break}case"ArrowDown":case"Down":m&&(i.preventDefault(),m==null||m());break;case"Home":b&&(i.preventDefault(),b==null||b());break;case"End":f&&(i.preventDefault(),f==null||f());break}},g=D.useRef(!1),x=()=>{g.current=!0},y=()=>{g.current=!1},E=n===""?R.format("Empty"):(n||`${t}`).replace("-","−");D.useEffect(()=>{g.current&&(he("assertive"),ge(E,"assertive"))},[E]);const P=I(i=>{p(),u==null||u(),e.current=window.setTimeout(()=>{(o===void 0||isNaN(o)||t===void 0||isNaN(t)||t<o)&&P(60)},i)}),S=I(i=>{p(),m==null||m(),e.current=window.setTimeout(()=>{(a===void 0||isNaN(a)||t===void 0||isNaN(t)||t>a)&&S(60)},i)});let v=i=>{i.preventDefault()},{addGlobalListener:F,removeAllGlobalListeners:s}=xe();return{spinButtonProps:{role:"spinbutton","aria-valuenow":t!==void 0&&!isNaN(t)?t:void 0,"aria-valuetext":E,"aria-valuemin":a,"aria-valuemax":o,"aria-disabled":d||void 0,"aria-readonly":l||void 0,"aria-required":h||void 0,onKeyDown:w,onFocus:x,onBlur:y},incrementButtonProps:{onPressStart:()=>{P(400),F(window,"contextmenu",v)},onPressEnd:()=>{p(),s()},onFocus:x,onBlur:y},decrementButtonProps:{onPressStart:()=>{S(400),F(window,"contextmenu",v)},onPressEnd:()=>{p(),s()},onFocus:x,onBlur:y}}}export{ve as $,Ce as a};
