import{O as d,u,o as C}from"./context-DWBCFo5s.js";import{r as O}from"./index-Cf9XvIV_.js";import{j as i}from"./jsx-runtime-CLpGMVip.js";import{P as v}from"./PropsContextProvider-CWFvCxZj.js";const g=(n,t={})=>{const{reuseControllerFromContext:s=!0,isDefaultOpen:l,onOpen:e,onClose:o}=t,c=d.useNew({isDefaultOpen:l,onOpen:e,onClose:o}),r=u()[n],a=s&&r?r:c;return O.useEffect(()=>{const p=[];return e&&p.push(a.addOnOpen(e)),o&&p.push(a.addOnClose(o)),()=>{p.forEach(y=>y())}},[e,o]),a},m=n=>{const{type:t,controller:s,children:l}=n,e=u();return i.jsx(C.Provider,{value:{...e,[t]:s},children:l})};m.__docgenInfo={description:"",methods:[],displayName:"OverlayContextProvider",props:{type:{required:!0,tsType:{name:"FlowComponentName"},description:""},controller:{required:!0,tsType:{name:"OverlayController"},description:""}},composes:["PropsWithChildren"]};const h=n=>{const{overlayType:t,isDefaultOpen:s=!1,component:l,children:e,controller:o}=n,c=d.useNew({isDefaultOpen:s}),r=o??c,a=r.useIsOpen(),p={Button:{onPress:r.open}};return i.jsx(m,{type:t,controller:r,children:i.jsx(v,{props:p,mergeInParentContext:!0,children:i.jsx(l,{isOpen:a,children:e})})})};h.__docgenInfo={description:"",methods:[],displayName:"OverlayTrigger",props:{isDefaultOpen:{required:!1,tsType:{name:"boolean"},description:"Whether the overlay should be open initially."},controller:{required:!1,tsType:{name:"OverlayController"},description:"A controller to control the state of the overlay."},overlayType:{required:!0,tsType:{name:"FlowComponentName"},description:""},component:{required:!0,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  isOpen?: boolean;
  children: ReactNode;
}`,signature:{properties:[{key:"isOpen",value:{name:"boolean",required:!1}},{key:"children",value:{name:"ReactNode",required:!0}}]}}],raw:`ComponentType<{
  isOpen?: boolean;
  children: ReactNode;
}>`},description:""}},composes:["FlowComponentProps","PropsWithChildren"]};export{h as O,m as a,g as u};
