import{j as p}from"./jsx-runtime-D_zvdyIk.js";import"./index-BZISi7jw.js";import{g as h}from"./_commonjsHelpers-CqkleIqs.js";import{B as D}from"./Button-Bennxrpq.js";import"./IconApp-Bw6C1rcI.js";import{l as T}from"./IconWarning-CYpqa6CU.js";import{T as E,a as R}from"./Tooltip-Do6x2lLe.js";import"./react-children-utilities-fm2cgFnI.js";import{C as S}from"./PropsContextProvider-CnD-oO9S.js";import{f as j}from"./flowComponent-C3EXXnsB.js";import{A}from"./Action-DMh-xymt.js";import{$ as k}from"./useLocalizedStringFormatter-D6AjEcek.js";import{o as B}from"./onlyText-DBswRDk6.js";var g,v;function I(){return v||(v=1,g=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var r=document.activeElement,i=[],l=0;l<o.rangeCount;l++)i.push(o.getRangeAt(l));switch(r.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":r.blur();break;default:r=null;break}return o.removeAllRanges(),function(){o.type==="Caret"&&o.removeAllRanges(),o.rangeCount||i.forEach(function(u){o.addRange(u)}),r&&r.focus()}}),g}var C,x;function U(){if(x)return C;x=1;var o=I(),r={"text/plain":"Text","text/html":"Url",default:"Text"},i="Copy to clipboard: #{key}, Enter";function l(n){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,t)}function u(n,t){var a,f,b,d,s,e,m=!1;t||(t={}),a=t.debug||!1;try{b=o(),d=document.createRange(),s=document.getSelection(),e=document.createElement("span"),e.textContent=n,e.ariaHidden="true",e.style.all="unset",e.style.position="fixed",e.style.top=0,e.style.clip="rect(0, 0, 0, 0)",e.style.whiteSpace="pre",e.style.webkitUserSelect="text",e.style.MozUserSelect="text",e.style.msUserSelect="text",e.style.userSelect="text",e.addEventListener("copy",function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),typeof c.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var y=r[t.format]||r.default;window.clipboardData.setData(y,n)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,n);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(e),d.selectNodeContents(e),s.addRange(d);var w=document.execCommand("copy");if(!w)throw new Error("copy command was unsuccessful");m=!0}catch(c){a&&console.error("unable to copy using execCommand: ",c),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",n),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(y){a&&console.error("unable to copy using clipboardData: ",y),a&&console.error("falling back to prompt"),f=l("message"in t?t.message:i),window.prompt(f,n)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(d):s.removeAllRanges()),e&&document.body.removeChild(e),b()}return m}return C=u,C}var F=U();const N=h(F),P={"de-DE":{"copyButton.copy":"Kopieren"},"en-EN":{"copyButton.copy":"Copy"}},q=j("CopyButton",o=>{const{text:r,ref:i,variant:l="plain",color:u="secondary",...n}=o,a=k(P).format("copyButton.copy"),f=()=>{N(B(r))};return p.jsx(S,{children:p.jsxs(E,{children:[p.jsx(A,{action:f,showFeedback:!0,children:p.jsx(D,{"aria-label":a,...n,ref:i,variant:l,color:u,children:p.jsx(T,{})})}),p.jsx(R,{children:a})]})})});q.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"CopyButton"};export{q as C};
