import{j as E}from"./jsx-runtime-CLpGMVip.js";import{r as b,R as N}from"./index-Cf9XvIV_.js";import{f as Te}from"./flowComponent-CGvK_9lq.js";import{c as we}from"./clsx-B-dksMZM.js";import{P as Pe}from"./PropsContextProvider-CWFvCxZj.js";import{B as ae}from"./Button-D4koA9OF.js";import"./IconApp-DoH4uGTw.js";import{M as ye,I as xe}from"./IconWarning--dCRo9Au.js";import{a as de,$ as De}from"./useLocalizedStringFormatter-Dq-FGM-G.js";import{$ as Z,d as se,a as q,g as ce,e as Me}from"./utils-DbIpkr2E.js";import{a as fe}from"./Label-wrbsGWF5.js";import{b as ie,a as A}from"./index-CoqFY4cC.js";import{$ as me}from"./filterDOMProps-BSfnXAP7.js";import{d as O,c as _,a as Ve}from"./ProgressBar-Bu1Xugb0.js";import{$ as ke}from"./useControlledState-19OAjgUP.js";import{d as ee,e as Re,f as Ke}from"./usePress-6Arr-Ydv.js";import{h as Se,m as Ee,a as be,b as Fe}from"./useFocusRing-Jnne1fGl.js";import{$ as pe}from"./useLabel-ByHVstPj.js";import{$ as Ie}from"./useFormReset-SCbFK273.js";import{b as Ce,$ as Le}from"./useFocusable-DSRH2vY_.js";import{$ as Ne}from"./VisuallyHidden-DJ16t8n8.js";function he(r){let{onMoveStart:t,onMove:e,onMoveEnd:s}=r,i=b.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:u,removeGlobalListener:f}=ee(),$=ie((l,g,P,o)=>{P===0&&o===0||(i.current.didMove||(i.current.didMove=!0,t==null||t({type:"movestart",pointerType:g,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey})),e==null||e({type:"move",pointerType:g,deltaX:P,deltaY:o,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}))}),w=ie((l,g)=>{Re(),i.current.didMove&&(s==null||s({type:"moveend",pointerType:g,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}))});return{moveProps:b.useMemo(()=>{let l={},g=()=>{Ke(),i.current.didMove=!1};if(typeof PointerEvent>"u"){let o=n=>{if(n.button===0){var h,m,p,v;$(n,"mouse",n.pageX-((p=(h=i.current.lastPosition)===null||h===void 0?void 0:h.pageX)!==null&&p!==void 0?p:0),n.pageY-((v=(m=i.current.lastPosition)===null||m===void 0?void 0:m.pageY)!==null&&v!==void 0?v:0)),i.current.lastPosition={pageX:n.pageX,pageY:n.pageY}}},x=n=>{n.button===0&&(w(n,"mouse"),f(window,"mousemove",o,!1),f(window,"mouseup",x,!1))};l.onMouseDown=n=>{n.button===0&&(g(),n.stopPropagation(),n.preventDefault(),i.current.lastPosition={pageX:n.pageX,pageY:n.pageY},u(window,"mousemove",o,!1),u(window,"mouseup",x,!1))};let c=n=>{let h=[...n.changedTouches].findIndex(({identifier:k})=>k===i.current.id);if(h>=0){var m,p;let{pageX:k,pageY:L}=n.changedTouches[h];var v,M;$(n,"touch",k-((v=(m=i.current.lastPosition)===null||m===void 0?void 0:m.pageX)!==null&&v!==void 0?v:0),L-((M=(p=i.current.lastPosition)===null||p===void 0?void 0:p.pageY)!==null&&M!==void 0?M:0)),i.current.lastPosition={pageX:k,pageY:L}}},T=n=>{[...n.changedTouches].findIndex(({identifier:m})=>m===i.current.id)>=0&&(w(n,"touch"),i.current.id=null,f(window,"touchmove",c),f(window,"touchend",T),f(window,"touchcancel",T))};l.onTouchStart=n=>{if(n.changedTouches.length===0||i.current.id!=null)return;let{pageX:h,pageY:m,identifier:p}=n.changedTouches[0];g(),n.stopPropagation(),n.preventDefault(),i.current.lastPosition={pageX:h,pageY:m},i.current.id=p,u(window,"touchmove",c,!1),u(window,"touchend",T,!1),u(window,"touchcancel",T,!1)}}else{let o=c=>{if(c.pointerId===i.current.id){var T,n;let p=c.pointerType||"mouse";var h,m;$(c,p,c.pageX-((h=(T=i.current.lastPosition)===null||T===void 0?void 0:T.pageX)!==null&&h!==void 0?h:0),c.pageY-((m=(n=i.current.lastPosition)===null||n===void 0?void 0:n.pageY)!==null&&m!==void 0?m:0)),i.current.lastPosition={pageX:c.pageX,pageY:c.pageY}}},x=c=>{if(c.pointerId===i.current.id){let T=c.pointerType||"mouse";w(c,T),i.current.id=null,f(window,"pointermove",o,!1),f(window,"pointerup",x,!1),f(window,"pointercancel",x,!1)}};l.onPointerDown=c=>{c.button===0&&i.current.id==null&&(g(),c.stopPropagation(),c.preventDefault(),i.current.lastPosition={pageX:c.pageX,pageY:c.pageY},i.current.id=c.pointerId,u(window,"pointermove",o,!1),u(window,"pointerup",x,!1),u(window,"pointercancel",x,!1))}}let P=(o,x,c)=>{g(),$(o,"keyboard",x,c),w(o,"keyboard")};return l.onKeyDown=o=>{switch(o.key){case"Left":case"ArrowLeft":o.preventDefault(),o.stopPropagation(),P(o,-1,0);break;case"Right":case"ArrowRight":o.preventDefault(),o.stopPropagation(),P(o,1,0);break;case"Up":case"ArrowUp":o.preventDefault(),o.stopPropagation(),P(o,0,-1);break;case"Down":case"ArrowDown":o.preventDefault(),o.stopPropagation(),P(o,0,1);break}},l},[i,u,f,$,w])}}const Xe=0,je=100,Ae=1;function He(r){const{isDisabled:t=!1,minValue:e=Xe,maxValue:s=je,numberFormatter:i,step:u=Ae,orientation:f="horizontal"}=r;let $=b.useMemo(()=>{let a=(s-e)/10;return a=O(a,0,a+u,u),Math.max(a,u)},[u,s,e]),w=b.useCallback(a=>a==null?void 0:a.map((y,V)=>{let U=V===0?e:a[V-1],z=V===a.length-1?s:a[V+1];return O(y,U,z,u)}),[e,s,u]),D=b.useMemo(()=>w(oe(r.value)),[r.value]),l=b.useMemo(()=>{var a;return w((a=oe(r.defaultValue))!==null&&a!==void 0?a:[e])},[r.defaultValue,e]),g=ue(r.value,r.defaultValue,r.onChange),P=ue(r.value,r.defaultValue,r.onChangeEnd);const[o,x]=ke(D,l,g),[c,T]=b.useState(new Array(o.length).fill(!1)),n=b.useRef(new Array(o.length).fill(!0)),[h,m]=b.useState(void 0),p=b.useRef(o),v=b.useRef(c);let M=a=>{p.current=a,x(a)},k=a=>{v.current=a,T(a)};function L(a){return(a-e)/(s-e)}function H(a){return a===0?e:o[a-1]}function G(a){return a===o.length-1?s:o[a+1]}function X(a){return n.current[a]}function Y(a,y){n.current[a]=y}function R(a,y){if(t||!X(a))return;const V=H(a),U=G(a);y=O(y,V,U,u);let z=le(p.current,a,y);M(z)}function I(a,y){if(t||!X(a))return;y&&(p.current=o);const V=v.current[a];v.current=le(v.current,a,y),k(v.current),V&&!v.current.some(Boolean)&&P(p.current)}function K(a){return i.format(a)}function d(a,y){R(a,F(y))}function S(a){return Math.round((a-e)/u)*u+e}function F(a){const y=a*(s-e)+e;return _(S(y),e,s)}function j(a,y=1){let V=Math.max(y,u);R(a,O(o[a]+V,e,s,u))}function B(a,y=1){let V=Math.max(y,u);R(a,O(o[a]-V,e,s,u))}return{values:o,getThumbValue:a=>o[a],setThumbValue:R,setThumbPercent:d,isThumbDragging:a=>c[a],setThumbDragging:I,focusedThumb:h,setFocusedThumb:m,getThumbPercent:a=>L(o[a]),getValuePercent:L,getThumbValueLabel:a=>K(o[a]),getFormattedValue:K,getThumbMinValue:H,getThumbMaxValue:G,getPercentValue:F,isThumbEditable:X,setThumbEditable:Y,incrementThumb:j,decrementThumb:B,step:u,pageSize:$,orientation:f,isDisabled:t}}function le(r,t,e){return r[t]===e?r:[...r.slice(0,t),e,...r.slice(t+1)]}function oe(r){if(r!=null)return Array.isArray(r)?r:[r]}function ue(r,t,e){return s=>{typeof r=="number"||typeof t=="number"?e==null||e(s[0]):e==null||e(s)}}const te=new WeakMap;function Q(r,t){let e=te.get(r);if(!e)throw new Error("Unknown slider state");return`${e.id}-${t}`}function Ye(r,t,e){let{labelProps:s,fieldProps:i}=pe(r),u=r.orientation==="vertical";var f;te.set(t,{id:(f=s.id)!==null&&f!==void 0?f:i.id,"aria-describedby":r["aria-describedby"],"aria-details":r["aria-details"]});let{direction:$}=de(),{addGlobalListener:w,removeGlobalListener:D}=ee();const l=b.useRef(null),g=$==="rtl",P=b.useRef(null),{moveProps:o}=he({onMoveStart(){P.current=null},onMove({deltaX:n,deltaY:h}){if(!e.current)return;let{height:m,width:p}=e.current.getBoundingClientRect(),v=u?m:p;P.current==null&&l.current!=null&&(P.current=t.getThumbPercent(l.current)*v);let M=u?h:n;if((u||g)&&(M=-M),P.current+=M,l.current!=null&&e.current){const k=_(P.current/v,0,1);t.setThumbPercent(l.current,k)}},onMoveEnd(){l.current!=null&&(t.setThumbDragging(l.current,!1),l.current=null)}});let x=b.useRef(void 0),c=(n,h,m,p)=>{if(e.current&&!r.isDisabled&&t.values.every((v,M)=>!t.isThumbDragging(M))){let{height:v,width:M,top:k,left:L}=e.current.getBoundingClientRect(),H=u?v:M,R=((u?p:m)-(u?k:L))/H;($==="rtl"||u)&&(R=1-R);let I=t.getPercentValue(R),K,d=t.values.findIndex(S=>I-S<0);if(d===0)K=d;else if(d===-1)K=t.values.length-1;else{let S=t.values[d-1],F=t.values[d];Math.abs(S-I)<Math.abs(F-I)?K=d-1:K=d}K>=0&&t.isThumbEditable(K)?(n.preventDefault(),l.current=K,t.setFocusedThumb(K),x.current=h,t.setThumbDragging(l.current,!0),t.setThumbValue(K,I),w(window,"mouseup",T,!1),w(window,"touchend",T,!1),w(window,"pointerup",T,!1)):l.current=null}},T=n=>{var h,m;((m=n.pointerId)!==null&&m!==void 0?m:(h=n.changedTouches)===null||h===void 0?void 0:h[0].identifier)===x.current&&(l.current!=null&&(t.setThumbDragging(l.current,!1),l.current=null),D(window,"mouseup",T,!1),D(window,"touchend",T,!1),D(window,"pointerup",T,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var n;(n=document.getElementById(Q(t,0)))===null||n===void 0||n.focus(),Se("keyboard")}),{labelProps:s,groupProps:{role:"group",...i},trackProps:A({onMouseDown(n){n.button!==0||n.altKey||n.ctrlKey||n.metaKey||c(n,void 0,n.clientX,n.clientY)},onPointerDown(n){n.pointerType==="mouse"&&(n.button!==0||n.altKey||n.ctrlKey||n.metaKey)||c(n,n.pointerId,n.clientX,n.clientY)},onTouchStart(n){c(n,n.changedTouches[0].identifier,n.changedTouches[0].clientX,n.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},o),outputProps:{htmlFor:t.values.map((n,h)=>Q(t,h)).join(" "),"aria-live":"off"}}}function Ue(r,t){let{index:e=0,isRequired:s,validationState:i,isInvalid:u,trackRef:f,inputRef:$,orientation:w=t.orientation,name:D}=r,l=r.isDisabled||t.isDisabled,g=w==="vertical",{direction:P}=de(),{addGlobalListener:o,removeGlobalListener:x}=ee(),c=te.get(t);var T;const{labelProps:n,fieldProps:h}=pe({...r,id:Q(t,e),"aria-labelledby":`${c.id} ${(T=r["aria-labelledby"])!==null&&T!==void 0?T:""}`.trim()}),m=t.values[e],p=b.useCallback(()=>{$.current&&Ee($.current)},[$]),v=t.focusedThumb===e;b.useEffect(()=>{v&&p()},[v,p]);let M=P==="rtl",k=b.useRef(null),{keyboardProps:L}=Ce({onKeyDown(d){let{getThumbMaxValue:S,getThumbMinValue:F,decrementThumb:j,incrementThumb:B,setThumbValue:a,setThumbDragging:y,pageSize:V}=t;if(!/^(PageUp|PageDown|Home|End)$/.test(d.key)){d.continuePropagation();return}switch(d.preventDefault(),y(e,!0),d.key){case"PageUp":B(e,V);break;case"PageDown":j(e,V);break;case"Home":a(e,F(e));break;case"End":a(e,S(e));break}y(e,!1)}}),{moveProps:H}=he({onMoveStart(){k.current=null,t.setThumbDragging(e,!0)},onMove({deltaX:d,deltaY:S,pointerType:F,shiftKey:j}){const{getThumbPercent:B,setThumbPercent:a,decrementThumb:y,incrementThumb:V,step:U,pageSize:z}=t;if(!f.current)return;let{width:$e,height:ve}=f.current.getBoundingClientRect(),re=g?ve:$e;if(k.current==null&&(k.current=B(e)*re),F==="keyboard")d>0&&M||d<0&&!M||S>0?y(e,j?z:U):V(e,j?z:U);else{let J=g?S:d;(g||M)&&(J=-J),k.current+=J,a(e,_(k.current/re,0,1))}},onMoveEnd(){t.setThumbDragging(e,!1)}});t.setThumbEditable(e,!l);const{focusableProps:G}=Le(A(r,{onFocus:()=>t.setFocusedThumb(e),onBlur:()=>t.setFocusedThumb(void 0)}),$);let X=b.useRef(void 0),Y=d=>{p(),X.current=d,t.setThumbDragging(e,!0),o(window,"mouseup",R,!1),o(window,"touchend",R,!1),o(window,"pointerup",R,!1)},R=d=>{var S,F;((F=d.pointerId)!==null&&F!==void 0?F:(S=d.changedTouches)===null||S===void 0?void 0:S[0].identifier)===X.current&&(p(),t.setThumbDragging(e,!1),x(window,"mouseup",R,!1),x(window,"touchend",R,!1),x(window,"pointerup",R,!1))},I=t.getThumbPercent(e);(g||P==="rtl")&&(I=1-I);let K=l?{}:A(L,H,{onMouseDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||Y()},onPointerDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||Y(d.pointerId)},onTouchStart:d=>{Y(d.changedTouches[0].identifier)}});return Ie($,m,d=>{t.setThumbValue(e,d)}),{inputProps:A(G,h,{type:"range",tabIndex:l?void 0:0,min:t.getThumbMinValue(e),max:t.getThumbMaxValue(e),step:t.step,value:m,name:D,disabled:l,"aria-orientation":w,"aria-valuetext":t.getThumbValueLabel(e),"aria-required":s||void 0,"aria-invalid":u||i==="invalid"||void 0,"aria-errormessage":r["aria-errormessage"],"aria-describedby":[c["aria-describedby"],r["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[c["aria-details"],r["aria-details"]].filter(Boolean).join(" "),onChange:d=>{t.setThumbValue(e,parseFloat(d.target.value))}}),thumbProps:{...K,style:{position:"absolute",[g?"top":"left"]:`${I*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:n,isDragging:t.isThumbDragging(e),isDisabled:l,isFocused:v}}const ze=b.createContext(null),W=b.createContext(null),ne=b.createContext(null),ge=b.createContext(null);function Ge(r,t){[r,t]=Z(r,t,ze);let e=b.useRef(null),s=Ve(r.formatOptions),i=He({...r,numberFormatter:s}),[u,f]=se(),{groupProps:$,trackProps:w,labelProps:D,outputProps:l}=Ye({...r,label:f},i,e),g=q({...r,values:{orientation:i.orientation,isDisabled:i.isDisabled,state:i},defaultClassName:"react-aria-Slider"}),P=me(r);return delete P.id,N.createElement(ce,{values:[[W,i],[ne,{...w,ref:e}],[ge,l],[fe,{...D,ref:u}]]},N.createElement("div",{...P,...$,...g,ref:t,slot:r.slot||void 0,"data-orientation":i.orientation,"data-disabled":i.isDisabled||void 0}))}const Be=b.forwardRef(Ge);function Oe(r,t){[r,t]=Z(r,t,ge);let{children:e,style:s,className:i,...u}=r,f=b.useContext(W),$=q({className:i,style:s,children:e,defaultChildren:f.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:f.orientation,isDisabled:f.isDisabled,state:f}});return N.createElement("output",{...u,...$,ref:t,"data-orientation":f.orientation||void 0,"data-disabled":f.isDisabled||void 0})}const qe=b.forwardRef(Oe);function We(r,t){[r,t]=Z(r,t,ne);let e=b.useContext(W),{onHoverStart:s,onHoverEnd:i,onHoverChange:u,...f}=r,{hoverProps:$,isHovered:w}=be({onHoverStart:s,onHoverEnd:i,onHoverChange:u}),D=q({...r,defaultClassName:"react-aria-SliderTrack",values:{orientation:e.orientation,isDisabled:e.isDisabled,isHovered:w,state:e}});return N.createElement("div",{...A(f,$),...D,ref:t,"data-hovered":w||void 0,"data-orientation":e.orientation||void 0,"data-disabled":e.isDisabled||void 0})}const Je=b.forwardRef(We);function Qe(r,t){let{inputRef:e=null}=r,s=b.useContext(W),{ref:i}=Me(ne),{index:u=0}=r,f=b.useRef(null),$=e||f,[w,D]=se(),{thumbProps:l,inputProps:g,labelProps:P,isDragging:o,isFocused:x,isDisabled:c}=Ue({...r,index:u,trackRef:i,inputRef:$,label:D},s),{focusProps:T,isFocusVisible:n}=Fe(),{hoverProps:h,isHovered:m}=be(r),p=q({...r,defaultClassName:"react-aria-SliderThumb",values:{state:s,isHovered:m,isDragging:o,isFocused:x,isFocusVisible:n,isDisabled:c}}),v=me(r);return delete v.id,N.createElement("div",{...A(v,l,h),...p,ref:t,style:{...l.style,...p.style},"data-hovered":m||void 0,"data-dragging":o||void 0,"data-focused":x||void 0,"data-focus-visible":n||void 0,"data-disabled":c||void 0},N.createElement(Ne,null,N.createElement("input",{ref:$,...A(g,T)})),N.createElement(ce,{values:[[fe,{...P,ref:w}]]},p.children))}const Ze=b.forwardRef(Qe),_e="flow--src--slider",et="flow--src--slider--text",tt="flow--src--slider--value",nt="flow--src--slider--track",rt="flow--src--slider--fill",at="flow--src--slider--initial-marker",it="flow--src--slider--thumb",lt="flow--src--slider--increment",ot="flow--src--slider--decrement",ut="flow--src--slider--disabled",C={slider:_e,text:et,value:tt,track:nt,fill:rt,initialMarker:at,thumb:it,increment:lt,decrement:ot,disabled:ut},dt={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-EN":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},st=Te("Slider",r=>{const{className:t,children:e,name:s,isDisabled:i,defaultValue:u,showInitialMarker:f,...$}=r,w=we(C.slider,i&&C.disabled,t),D=De(dt),l={Label:{unstyled:!0}};return E.jsxs(Be,{className:w,isDisabled:i,defaultValue:u,...$,children:[E.jsxs("div",{className:C.text,children:[E.jsx(qe,{className:C.value}),E.jsx(Pe,{props:l,children:e})]}),E.jsx(Je,{className:C.track,children:({state:g})=>E.jsxs(E.Fragment,{children:[E.jsx(ae,{onPress:()=>g.decrementThumb(0),"aria-label":D.format("slider.decrement"),size:"s",variant:"plain",className:C.decrement,isDisabled:i,excludeFromTabOrder:!0,children:E.jsx(ye,{})}),E.jsx(ae,{onPress:()=>g.incrementThumb(0),"aria-label":D.format("slider.increment"),size:"s",variant:"plain",className:C.increment,isDisabled:i,excludeFromTabOrder:!0,children:E.jsx(xe,{})}),E.jsx("div",{className:C.fill,style:{width:g.getThumbPercent(0)*100+"%"}}),f&&u&&typeof u=="number"&&E.jsx("div",{className:C.initialMarker,style:{left:`calc(${g.getValuePercent(u)*100}% - 2px)`}}),E.jsx(Ze,{name:s,className:C.thumb})]})})]})});st.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{st as S};
