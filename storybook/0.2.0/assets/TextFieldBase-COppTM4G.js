import{j as u}from"./jsx-runtime-D_zvdyIk.js";import{r as o,R as C}from"./index-BZISi7jw.js";import{f as c,F as g}from"./FieldError-DN68xrtP.js";import{c as q}from"./clsx-B-dksMZM.js";import{C as j,P as M}from"./PropsContextProvider-CnD-oO9S.js";import{F as O}from"./FieldDescription-iwFj4ebE.js";import{$ as w}from"./useLocalizedStringFormatter-D6AjEcek.js";import{$ as F,a as H,f as L,d as S,e as _,g as A}from"./utils-CzVyYWZn.js";import{d as V}from"./FieldError-DoW3KOQ8.js";import{b as W}from"./Form-D162gIjQ.js";import{a as y}from"./Input-BYbhpFUc.js";import{a as k}from"./Label-aZfeS6Au.js";import{a as Z,b as z}from"./useFocusRing-DzGSygZM.js";import{a as N}from"./index-IBhSrjl6.js";import{a as G}from"./Text-PTaPc_Ci.js";import{$ as J}from"./filterDOMProps-CeZl_uWj.js";import{$ as K}from"./useTextField-uM6U_XJE.js";const B=o.createContext({});let Q=a=>{let{onHoverStart:e,onHoverChange:r,onHoverEnd:d,...t}=a;return t};const he=o.forwardRef(function(e,r){[e,r]=F(e,r,B);let{hoverProps:d,isHovered:t}=Z(e),{isFocused:i,isFocusVisible:n,focusProps:f}=z({isTextInput:!0,autoFocus:e.autoFocus}),l=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",s=H({...e,values:{isHovered:t,isFocused:i,isFocusVisible:n,isDisabled:e.disabled||!1,isInvalid:l},defaultClassName:"react-aria-TextArea"});return C.createElement("textarea",{...N(Q(e),f,d),...s,ref:r,"data-focused":i||void 0,"data-disabled":e.disabled||void 0,"data-hovered":t||void 0,"data-focus-visible":n||void 0,"data-invalid":l||void 0})}),U=o.createContext(null),X=o.forwardRef(function(e,r){[e,r]=F(e,r,U);let{validationBehavior:d}=L(W)||{};var t,i;let n=(i=(t=e.validationBehavior)!==null&&t!==void 0?t:d)!==null&&i!==void 0?i:"native",f=o.useRef(null),[l,s]=F({},f,y),[b,p]=S(),[x,$]=o.useState("input"),{labelProps:m,inputProps:P,descriptionProps:D,errorMessageProps:I,...h}=K({..._(e),inputElementType:x,label:p,validationBehavior:n},s),R=o.useCallback(v=>{s.current=v,v&&$(v instanceof HTMLTextAreaElement?"textarea":"input")},[s]),T=H({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:h.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),E=J(e);return delete E.id,C.createElement("div",{...E,...T,ref:r,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":h.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},C.createElement(A,{values:[[k,{...m,ref:b}],[y,{...N(P,l),ref:R}],[B,{...P,ref:R}],[G,{slots:{description:D,errorMessage:I}}],[V,h]]},T.children))}),Y={"de-DE":{"textFieldBase.characters":(a,e)=>`${e.select({0:()=>`${a.count}`,other:()=>`${a.count}/${a.maxCount}`},a.maxCount)} Zeichen`},"en-EN":{"textFieldBase.characters":(a,e)=>`${e.select({0:()=>`${a.count}`,other:()=>`${a.count}/${a.maxCount}`},a.maxCount)} characters`}},ee=a=>{var $;const{children:e,className:r,input:d,showCharacterCount:t,...i}=a,[n,f]=o.useState((($=a.value)==null?void 0:$.length)??0),l=q(c.formField,r),s=w(Y),b={Label:{className:c.label,optional:!a.isRequired},FieldDescription:{className:c.fieldDescription},FieldError:{className:c.customFieldError}},p=m=>{t&&f(m.length),a.onChange&&a.onChange(m)},x=s.format("textFieldBase.characters",{count:n,maxCount:a.maxLength??0});return u.jsx(j,{children:u.jsxs(X,{...i,className:l,onChange:p,children:[d,u.jsx(M,{props:b,children:e}),t&&u.jsx(O,{className:c.fieldDescription,children:x}),u.jsx(g,{className:c.fieldError})]})})};ee.__docgenInfo={description:"",methods:[],displayName:"TextFieldBase",props:{ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""},input:{required:!0,tsType:{name:"ReactNode"},description:"The input element"},showCharacterCount:{required:!1,tsType:{name:"boolean"},description:"Whether a character count should be displayed inside the field description."}},composes:["PropsWithChildren"]};export{he as $,ee as T};
