import{l as oe,m as X,h as le,n as ue,o as L,p as Z,e as S,q as fe,r as ce,s as W,d as Y,t as de}from"./useFocusable-Ddi47NB9.js";import{r as T,R as ge}from"./index-BwDkhjyp.js";import{d as C,b as ee,h as pe}from"./flowComponent-B3-LTTWn.js";const ve=T.createContext({isNative:!0,open:be,useHref:t=>t});function ye(){return T.useContext(ve)}function Le(t,n){let s=t.getAttribute("target");return(!s||s==="_self")&&t.origin===location.origin&&!t.hasAttribute("download")&&!n.metaKey&&!n.ctrlKey&&!n.altKey&&!n.shiftKey}function A(t,n,s=!0){var l,u;let{metaKey:g,ctrlKey:f,altKey:y,shiftKey:p}=n;oe()&&(!((u=window.event)===null||u===void 0||(l=u.type)===null||l===void 0)&&l.startsWith("key"))&&t.target==="_blank"&&(X()?g=!0:f=!0);let E=le()&&X()&&!ue()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:g,ctrlKey:f,altKey:y,shiftKey:p}):new MouseEvent("click",{metaKey:g,ctrlKey:f,altKey:y,shiftKey:p,bubbles:!0,cancelable:!0});A.isOpening=s,L(t),t.dispatchEvent(E),A.isOpening=!1}A.isOpening=!1;function Te(t,n){if(t instanceof HTMLAnchorElement)n(t);else if(t.hasAttribute("data-href")){let s=document.createElement("a");s.href=t.getAttribute("data-href"),t.hasAttribute("data-target")&&(s.target=t.getAttribute("data-target")),t.hasAttribute("data-rel")&&(s.rel=t.getAttribute("data-rel")),t.hasAttribute("data-download")&&(s.download=t.getAttribute("data-download")),t.hasAttribute("data-ping")&&(s.ping=t.getAttribute("data-ping")),t.hasAttribute("data-referrer-policy")&&(s.referrerPolicy=t.getAttribute("data-referrer-policy")),t.appendChild(s),n(s),t.removeChild(s)}}function be(t,n){Te(t,s=>A(s,n))}function Ie(t){let n=ye();return{href:t!=null&&t.href?n.useHref(t==null?void 0:t.href):void 0,target:t==null?void 0:t.target,rel:t==null?void 0:t.rel,download:t==null?void 0:t.download,ping:t==null?void 0:t.ping,referrerPolicy:t==null?void 0:t.referrerPolicy}}function $e(){let t=T.useRef(new Map),n=T.useCallback((u,g,f,y)=>{let p=y!=null&&y.once?(...E)=>{t.current.delete(f),f(...E)}:f;t.current.set(f,{type:g,eventTarget:u,fn:p,options:y}),u.addEventListener(g,f,y)},[]),s=T.useCallback((u,g,f,y)=>{var p;let E=((p=t.current.get(f))===null||p===void 0?void 0:p.fn)||f;u.removeEventListener(g,E,y),t.current.delete(f)},[]),l=T.useCallback(()=>{t.current.forEach((u,g)=>{s(u.eventTarget,u.type,g,u.options)})},[s]);return T.useEffect(()=>l,[l]),{addGlobalListener:n,removeGlobalListener:s,removeAllGlobalListeners:l}}let _="default",N="",H=new WeakMap;function j(t){if(Z()){if(_==="default"){const n=S(t);N=n.documentElement.style.webkitUserSelect,n.documentElement.style.webkitUserSelect="none"}_="disabled"}else(t instanceof HTMLElement||t instanceof SVGElement)&&(H.set(t,t.style.userSelect),t.style.userSelect="none")}function D(t){if(Z()){if(_!=="disabled")return;_="restoring",setTimeout(()=>{fe(()=>{if(_==="restoring"){const n=S(t);n.documentElement.style.webkitUserSelect==="none"&&(n.documentElement.style.webkitUserSelect=N||""),N="",_="default"}})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&H.has(t)){let n=H.get(t);t.style.userSelect==="none"&&(t.style.userSelect=n),t.getAttribute("style")===""&&t.removeAttribute("style"),H.delete(t)}}const te=ge.createContext({register:()=>{}});te.displayName="PressResponderContext";function Pe(t,n){return n.get?n.get.call(t):n.value}function re(t,n,s){if(!n.has(t))throw new TypeError("attempted to "+s+" private field on non-instance");return n.get(t)}function he(t,n){var s=re(t,n,"get");return Pe(t,s)}function Ee(t,n){if(n.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function me(t,n,s){Ee(t,n),n.set(t,s)}function Ke(t,n,s){if(n.set)n.set.call(t,s);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=s}}function z(t,n,s){var l=re(t,n,"set");return Ke(t,l,s),s}function Se(t){let n=T.useContext(te);if(n){let{register:s,...l}=n;t=ee(l,t),s()}return de(n,t.ref),t}var U=new WeakMap;class G{continuePropagation(){z(this,U,!1)}get shouldStopPropagation(){return he(this,U)}constructor(n,s,l){me(this,U,{writable:!0,value:void 0}),z(this,U,!0),this.type=n,this.pointerType=s,this.target=l.currentTarget,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.ctrlKey=l.ctrlKey,this.altKey=l.altKey}}const q=Symbol("linkClicked");function De(t){let{onPress:n,onPressChange:s,onPressStart:l,onPressEnd:u,onPressUp:g,isDisabled:f,isPressed:y,preventFocusOnPress:p,shouldCancelOnPointerExit:E,allowTextSelectionOnPress:h,ref:Me,...ae}=Se(t),[ie,B]=T.useState(!1),w=T.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:m,removeAllGlobalListeners:x}=$e(),$=C((e,o)=>{let b=w.current;if(f||b.didFirePressStart)return!1;let i=!0;if(b.isTriggeringEvent=!0,l){let c=new G("pressstart",o,e);l(c),i=c.shouldStopPropagation}return s&&s(!0),b.isTriggeringEvent=!1,b.didFirePressStart=!0,B(!0),i}),v=C((e,o,b=!0)=>{let i=w.current;if(!i.didFirePressStart)return!1;i.ignoreClickAfterPress=!0,i.didFirePressStart=!1,i.isTriggeringEvent=!0;let c=!0;if(u){let r=new G("pressend",o,e);u(r),c=r.shouldStopPropagation}if(s&&s(!1),B(!1),n&&b&&!f){let r=new G("press",o,e);n(r),c&&(c=r.shouldStopPropagation)}return i.isTriggeringEvent=!1,c}),k=C((e,o)=>{let b=w.current;if(f)return!1;if(g){b.isTriggeringEvent=!0;let i=new G("pressup",o,e);return g(i),b.isTriggeringEvent=!1,i.shouldStopPropagation}return!0}),K=C(e=>{let o=w.current;o.isPressed&&o.target&&(o.isOverTarget&&o.pointerType!=null&&v(P(o.target,e),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType=null,x(),h||D(o.target))}),I=C(e=>{E&&K(e)}),se=T.useMemo(()=>{let e=w.current,o={onKeyDown(i){if(R(i.nativeEvent,i.currentTarget)&&i.currentTarget.contains(i.target)){var c;Q(i.target,i.key)&&i.preventDefault();let r=!0;if(!e.isPressed&&!i.repeat){e.target=i.currentTarget,e.isPressed=!0,r=$(i,"keyboard");let a=i.currentTarget,d=O=>{R(O,a)&&!O.repeat&&a.contains(O.target)&&e.target&&k(P(e.target,O),"keyboard")};m(S(i.currentTarget),"keyup",pe(d,b),!0)}r&&i.stopPropagation(),i.metaKey&&X()&&((c=e.metaKeyEvents)===null||c===void 0||c.set(i.key,i.nativeEvent))}else i.key==="Meta"&&(e.metaKeyEvents=new Map)},onClick(i){if(!(i&&!i.currentTarget.contains(i.target))&&i&&i.button===0&&!e.isTriggeringEvent&&!A.isOpening){let c=!0;if(f&&i.preventDefault(),!e.ignoreClickAfterPress&&!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(e.pointerType==="virtual"||W(i.nativeEvent))){!f&&!p&&L(i.currentTarget);let r=$(i,"virtual"),a=k(i,"virtual"),d=v(i,"virtual");c=r&&a&&d}e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1,c&&i.stopPropagation()}}},b=i=>{var c;if(e.isPressed&&e.target&&R(i,e.target)){var r;Q(i.target,i.key)&&i.preventDefault();let d=i.target;v(P(e.target,i),"keyboard",e.target.contains(d)),x(),i.key!=="Enter"&&V(e.target)&&e.target.contains(d)&&!i[q]&&(i[q]=!0,A(e.target,i,!1)),e.isPressed=!1,(r=e.metaKeyEvents)===null||r===void 0||r.delete(i.key)}else if(i.key==="Meta"&&(!((c=e.metaKeyEvents)===null||c===void 0)&&c.size)){var a;let d=e.metaKeyEvents;e.metaKeyEvents=void 0;for(let O of d.values())(a=e.target)===null||a===void 0||a.dispatchEvent(new KeyboardEvent("keyup",O))}};if(typeof PointerEvent<"u"){o.onPointerDown=a=>{if(a.button!==0||!a.currentTarget.contains(a.target))return;if(ce(a.nativeEvent)){e.pointerType="virtual";return}F(a.currentTarget)&&a.preventDefault(),e.pointerType=a.pointerType;let d=!0;e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=a.pointerId,e.target=a.currentTarget,!f&&!p&&L(a.currentTarget),h||j(e.target),d=$(a,e.pointerType),m(S(a.currentTarget),"pointermove",i,!1),m(S(a.currentTarget),"pointerup",c,!1),m(S(a.currentTarget),"pointercancel",r,!1)),d&&a.stopPropagation()},o.onMouseDown=a=>{a.currentTarget.contains(a.target)&&a.button===0&&(F(a.currentTarget)&&a.preventDefault(),a.stopPropagation())},o.onPointerUp=a=>{!a.currentTarget.contains(a.target)||e.pointerType==="virtual"||a.button===0&&M(a,a.currentTarget)&&k(a,e.pointerType||a.pointerType)};let i=a=>{a.pointerId===e.activePointerId&&(e.target&&M(a,e.target)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,$(P(e.target,a),e.pointerType)):e.target&&e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,v(P(e.target,a),e.pointerType,!1),I(a)))},c=a=>{a.pointerId===e.activePointerId&&e.isPressed&&a.button===0&&e.target&&(M(a,e.target)&&e.pointerType!=null?v(P(e.target,a),e.pointerType):e.isOverTarget&&e.pointerType!=null&&v(P(e.target,a),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,x(),h||D(e.target))},r=a=>{K(a)};o.onDragStart=a=>{a.currentTarget.contains(a.target)&&K(a)}}else{o.onMouseDown=r=>{if(r.button!==0||!r.currentTarget.contains(r.target))return;if(F(r.currentTarget)&&r.preventDefault(),e.ignoreEmulatedMouseEvents){r.stopPropagation();return}e.isPressed=!0,e.isOverTarget=!0,e.target=r.currentTarget,e.pointerType=W(r.nativeEvent)?"virtual":"mouse",!f&&!p&&L(r.currentTarget),$(r,e.pointerType)&&r.stopPropagation(),m(S(r.currentTarget),"mouseup",i,!1)},o.onMouseEnter=r=>{if(!r.currentTarget.contains(r.target))return;let a=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!0,a=$(r,e.pointerType)),a&&r.stopPropagation()},o.onMouseLeave=r=>{if(!r.currentTarget.contains(r.target))return;let a=!0;e.isPressed&&!e.ignoreEmulatedMouseEvents&&e.pointerType!=null&&(e.isOverTarget=!1,a=v(r,e.pointerType,!1),I(r)),a&&r.stopPropagation()},o.onMouseUp=r=>{r.currentTarget.contains(r.target)&&!e.ignoreEmulatedMouseEvents&&r.button===0&&k(r,e.pointerType||"mouse")};let i=r=>{if(r.button===0){if(e.isPressed=!1,x(),e.ignoreEmulatedMouseEvents){e.ignoreEmulatedMouseEvents=!1;return}e.target&&M(r,e.target)&&e.pointerType!=null?v(P(e.target,r),e.pointerType):e.target&&e.isOverTarget&&e.pointerType!=null&&v(P(e.target,r),e.pointerType,!1),e.isOverTarget=!1}};o.onTouchStart=r=>{if(!r.currentTarget.contains(r.target))return;let a=we(r.nativeEvent);if(!a)return;e.activePointerId=a.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=r.currentTarget,e.pointerType="touch",!f&&!p&&L(r.currentTarget),h||j(e.target),$(r,e.pointerType)&&r.stopPropagation(),m(Y(r.currentTarget),"scroll",c,!0)},o.onTouchMove=r=>{if(!r.currentTarget.contains(r.target))return;if(!e.isPressed){r.stopPropagation();return}let a=J(r.nativeEvent,e.activePointerId),d=!0;a&&M(a,r.currentTarget)?!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,d=$(r,e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,d=v(r,e.pointerType,!1),I(r)),d&&r.stopPropagation()},o.onTouchEnd=r=>{if(!r.currentTarget.contains(r.target))return;if(!e.isPressed){r.stopPropagation();return}let a=J(r.nativeEvent,e.activePointerId),d=!0;a&&M(a,r.currentTarget)&&e.pointerType!=null?(k(r,e.pointerType),d=v(r,e.pointerType)):e.isOverTarget&&e.pointerType!=null&&(d=v(r,e.pointerType,!1)),d&&r.stopPropagation(),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,e.target&&!h&&D(e.target),x()},o.onTouchCancel=r=>{r.currentTarget.contains(r.target)&&(r.stopPropagation(),e.isPressed&&K(r))};let c=r=>{e.isPressed&&r.target.contains(e.target)&&K({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};o.onDragStart=r=>{r.currentTarget.contains(r.target)&&K(r)}}return o},[m,f,p,x,h,K,I,v,$,k]);return T.useEffect(()=>()=>{var e;h||D((e=w.current.target)!==null&&e!==void 0?e:void 0)},[h]),{isPressed:y||ie,pressProps:ee(ae,se)}}function V(t){return t.tagName==="A"&&t.hasAttribute("href")}function R(t,n){const{key:s,code:l}=t,u=n,g=u.getAttribute("role");return(s==="Enter"||s===" "||s==="Spacebar"||l==="Space")&&!(u instanceof Y(u).HTMLInputElement&&!ne(u,s)||u instanceof Y(u).HTMLTextAreaElement||u.isContentEditable)&&!((g==="link"||!g&&V(u))&&s!=="Enter")}function we(t){const{targetTouches:n}=t;return n.length>0?n[0]:null}function J(t,n){const s=t.changedTouches;for(let l=0;l<s.length;l++){const u=s[l];if(u.identifier===n)return u}return null}function P(t,n){return{currentTarget:t,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey}}function xe(t){let n=0,s=0;return t.width!==void 0?n=t.width/2:t.radiusX!==void 0&&(n=t.radiusX),t.height!==void 0?s=t.height/2:t.radiusY!==void 0&&(s=t.radiusY),{top:t.clientY-s,right:t.clientX+n,bottom:t.clientY+s,left:t.clientX-n}}function ke(t,n){return!(t.left>n.right||n.left>t.right||t.top>n.bottom||n.top>t.bottom)}function M(t,n){let s=n.getBoundingClientRect(),l=xe(t);return ke(s,l)}function F(t){return!(t instanceof HTMLElement)||!t.hasAttribute("draggable")}function Q(t,n){return t instanceof HTMLInputElement?!ne(t,n):t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!V(t)}const Oe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ne(t,n){return t.type==="checkbox"||t.type==="radio"?n===" ":Oe.has(t.type)}export{De as $,ye as a,Ie as b,Le as c,te as d,$e as e,A as f};
