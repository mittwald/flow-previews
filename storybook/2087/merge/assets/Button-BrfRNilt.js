import{$ as T,a as V}from"./utils-Di7WFWpe.js";import{a as k}from"./ProgressBar-BJChhODk.js";import{$ as p}from"./LiveAnnouncer-Cy654hVN.js";import{b as I}from"./Hidden-CTKHA4Af.js";import{$ as g,f as D}from"./index-90CY5obj.js";import{$ as C}from"./filterDOMProps-i7L6S0l1.js";import{r as y,R as F}from"./iframe-DwkHntCQ.js";import{$ as O}from"./usePress-BCP8B4jj.js";import{$ as w}from"./useFocusable-Bnl-RQKa.js";import{a as B,$ as H}from"./useFocusRing-B6zRS2mI.js";function M(e,a){let{elementType:s="button",isDisabled:i,onPress:t,onPressStart:r,onPressEnd:x,onPressUp:v,onPressChange:n,preventFocusOnPress:b,allowFocusWhenDisabled:h,onClick:u,href:$,target:P,rel:o,type:l="button"}=e,d;s==="button"?d={type:l,disabled:i,form:e.form,formAction:e.formAction,formEncType:e.formEncType,formMethod:e.formMethod,formNoValidate:e.formNoValidate,formTarget:e.formTarget,name:e.name,value:e.value}:d={role:"button",href:s==="a"&&!i?$:void 0,target:s==="a"?P:void 0,type:s==="input"?l:void 0,disabled:s==="input"?i:void 0,"aria-disabled":!i||s==="input"?void 0:i,rel:s==="a"?o:void 0};let{pressProps:c,isPressed:m}=O({onPressStart:r,onPressEnd:x,onPressChange:n,onPress:t,onPressUp:v,onClick:u,isDisabled:i,preventFocusOnPress:b,ref:a}),{focusableProps:f}=w(e,a);h&&(f.tabIndex=i?-1:f.tabIndex);let E=g(f,c,C(e,{labelable:!0}));return{isPressed:m,buttonProps:g(d,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"],"aria-disabled":e["aria-disabled"]})}}const N=y.createContext({}),K=I(function(a,s){[a,s]=T(a,s,N);let i=a,{isPending:t}=i,{buttonProps:r,isPressed:x}=M(a,s);r=R(r,t);let{focusProps:v,isFocused:n,isFocusVisible:b}=B(a),{hoverProps:h,isHovered:u}=H({...a,isDisabled:a.isDisabled||t}),$={isHovered:u,isPressed:(i.isPressed||x)&&!t,isFocused:n,isFocusVisible:b,isDisabled:a.isDisabled||!1,isPending:t??!1},P=V({...a,values:$,defaultClassName:"react-aria-Button"}),o=D(r.id),l=D(),d=r["aria-labelledby"];t&&(d?d=`${d} ${l}`:r["aria-label"]&&(d=`${o} ${l}`));let c=y.useRef(t);y.useEffect(()=>{let f={"aria-labelledby":d||o};!c.current&&n&&t?p(f,"assertive"):c.current&&n&&!t&&p(f,"assertive"),c.current=t},[t,n,d,o]);let m=C(a,{global:!0});return delete m.onClick,F.createElement("button",{...g(m,P,r,v,h),type:r.type==="submit"&&t?"button":r.type,id:o,ref:s,"aria-labelledby":d,slot:a.slot||void 0,"aria-disabled":t?"true":r["aria-disabled"],"data-disabled":a.isDisabled||void 0,"data-pressed":$.isPressed||void 0,"data-hovered":u||void 0,"data-focused":n||void 0,"data-pending":t||void 0,"data-focus-visible":b||void 0},F.createElement(k.Provider,{value:{id:l}},P.children))});function R(e,a){if(a){for(const s in e)s.startsWith("on")&&!(s.includes("Focus")||s.includes("Blur"))&&(e[s]=void 0);e.href=void 0,e.target=void 0}return e}export{N as $,K as a,M as b};
