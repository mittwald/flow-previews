import{$ as O,c as T,f as W,a as w,d as G,b as A,g as H}from"./utils-Di7WFWpe.js";import{$ as K}from"./useFieldComponent-DTLstJQQ.js";import{a as U,$ as j}from"./Form-DZTCn0e1.js";import{$ as z}from"./Label-CkXLKyn5.js";import{a as J,$ as Q}from"./SelectionIndicator-BmVEKeRD.js";import{a as X}from"./Text-BtFh1iC6.js";import{$ as g,f as Y,a as Z}from"./index-90CY5obj.js";import{$ as S}from"./filterDOMProps-i7L6S0l1.js";import{r as P,R as V}from"./iframe-DwkHntCQ.js";import{b as ee,$ as ae}from"./useFormValidation-D01J8um2.js";import{$ as ie}from"./useControlledState-DyDKUpf4.js";import{g as de}from"./utils-BgD92WZP.js";import{b as le}from"./FocusScope-wRqNTiuk.js";import{a as re}from"./useFocusWithin-tqcFW1Po.js";import{$ as te}from"./context-BkqugFd7.js";import{$ as oe}from"./useFormReset-BUY4HIau.js";import{$ as E}from"./usePress-BCP8B4jj.js";import{$ as se}from"./useFocusable-Bnl-RQKa.js";import{a as ne,$ as ce}from"./useFocusRing-B6zRS2mI.js";import{$ as fe}from"./VisuallyHidden-CVpyzdGa.js";const k=new WeakMap;function ue(a,e,d){let{value:l,children:v,"aria-label":r,"aria-labelledby":m,onPressStart:i,onPressEnd:c,onPressChange:s,onPress:t,onPressUp:o,onClick:u}=a;const f=a.isDisabled||e.isDisabled;let R=e.selectedValue===l,x=D=>{D.stopPropagation(),e.setSelectedValue(l)},{pressProps:h,isPressed:I}=E({onPressStart:i,onPressEnd:c,onPressChange:s,onPress:t,onPressUp:o,onClick:u,isDisabled:f}),{pressProps:M,isPressed:y}=E({onPressStart:i,onPressEnd:c,onPressChange:s,onPressUp:o,onClick:u,isDisabled:f,onPress(D){var q;t?.(D),e.setSelectedValue(l),(q=d.current)===null||q===void 0||q.focus()}}),{focusableProps:C}=se(g(a,{onFocus:()=>e.setLastFocusedValue(l)}),d),p=g(h,C),n=S(a,{labelable:!0}),$=-1;e.selectedValue!=null?e.selectedValue===l&&($=0):(e.lastFocusedValue===l||e.lastFocusedValue==null)&&($=0),f&&($=void 0);let{name:b,form:F,descriptionId:L,errorMessageId:N,validationBehavior:B}=k.get(e);return oe(d,e.defaultSelectedValue,e.setSelectedValue),ee({validationBehavior:B},e,d),{labelProps:g(M,P.useMemo(()=>({onClick:D=>D.preventDefault(),onMouseDown:D=>D.preventDefault()}),[])),inputProps:g(n,{...p,type:"radio",name:b,form:F,tabIndex:$,disabled:f,required:e.isRequired&&B==="native",checked:R,value:l,onChange:x,"aria-describedby":[a["aria-describedby"],e.isInvalid?N:null,L].filter(Boolean).join(" ")||void 0}),isDisabled:f,isSelected:R,isPressed:I||y}}function $e(a,e){let{name:d,form:l,isReadOnly:v,isRequired:r,isDisabled:m,orientation:i="vertical",validationBehavior:c="aria"}=a,{direction:s}=te(),{isInvalid:t,validationErrors:o,validationDetails:u}=e.displayValidation,{labelProps:f,fieldProps:R,descriptionProps:x,errorMessageProps:h}=U({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||o}),I=S(a,{labelable:!0}),{focusWithinProps:M}=re({onBlurWithin(p){var n;(n=a.onBlur)===null||n===void 0||n.call(a,p),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),y=p=>{let n;switch(p.key){case"ArrowRight":s==="rtl"&&i!=="vertical"?n="prev":n="next";break;case"ArrowLeft":s==="rtl"&&i!=="vertical"?n="next":n="prev";break;case"ArrowDown":n="next";break;case"ArrowUp":n="prev";break;default:return}p.preventDefault();let $=le(p.currentTarget,{from:p.target,accept:F=>F instanceof de(F).HTMLInputElement&&F.type==="radio"}),b;n==="next"?(b=$.nextNode(),b||($.currentNode=p.currentTarget,b=$.firstChild())):(b=$.previousNode(),b||($.currentNode=p.currentTarget,b=$.lastChild())),b&&(b.focus(),e.setSelectedValue(b.value))},C=Y(d);return k.set(e,{name:C,form:l,descriptionId:x.id,errorMessageId:h.id,validationBehavior:c}),{radioGroupProps:g(I,{role:"radiogroup",onKeyDown:y,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":v||void 0,"aria-required":r||void 0,"aria-disabled":m||void 0,"aria-orientation":i,...R,...M}),labelProps:f,descriptionProps:x,errorMessageProps:h,isInvalid:t,validationErrors:o,validationDetails:u}}let be=Math.round(Math.random()*1e10),ve=0;function me(a){let e=P.useMemo(()=>a.name||`radio-group-${be}-${++ve}`,[a.name]);var d;let[l,v]=ie(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[r]=P.useState(l),[m,i]=P.useState(null),c=ae({...a,value:l}),s=u=>{!a.isReadOnly&&!a.isDisabled&&(v(u),c.commitValidation())},t=c.displayValidation.isInvalid;var o;return{...c,name:e,selectedValue:l,defaultSelectedValue:a.value!==void 0?r:(o=a.defaultValue)!==null&&o!==void 0?o:null,setSelectedValue:s,lastFocusedValue:m,setLastFocusedValue:i,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(t?"invalid":null),isInvalid:t}}const pe=P.createContext(null),Pe=P.createContext(null),_=P.createContext(null),Ne=P.forwardRef(function(e,d){[e,d]=O(e,d,pe);let{validationBehavior:l}=T(j)||{};var v,r;let m=(r=(v=e.validationBehavior)!==null&&v!==void 0?v:l)!==null&&r!==void 0?r:"native",i=me({...e,validationBehavior:m}),[c,s]=W(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:t,labelProps:o,descriptionProps:u,errorMessageProps:f,...R}=$e({...e,label:s,validationBehavior:m},i),x=w({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"}),h=S(e,{global:!0});return V.createElement("div",{...g(h,x,t),ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},V.createElement(G,{values:[[_,i],[z,{...o,ref:c,elementType:"span"}],[X,{slots:{description:u,errorMessage:f}}],[K,R]]},V.createElement(J,null,x.children)))}),Te=P.forwardRef(function(e,d){let{inputRef:l=null,...v}=e;[e,d]=O(v,d,Pe);let r=V.useContext(_),m=A(P.useMemo(()=>Z(l,e.inputRef!==void 0?e.inputRef:null),[l,e.inputRef])),{labelProps:i,inputProps:c,isSelected:s,isDisabled:t,isPressed:o}=ue({...H(e),children:typeof e.children=="function"?!0:e.children},r,m),{isFocused:u,isFocusVisible:f,focusProps:R}=ne(),x=t||r.isReadOnly,{hoverProps:h,isHovered:I}=ce({...e,isDisabled:x}),M=w({...e,defaultClassName:"react-aria-Radio",values:{isSelected:s,isPressed:o,isHovered:I,isFocused:u,isFocusVisible:f,isDisabled:t,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),y=S(e,{global:!0});return delete y.id,delete y.onClick,V.createElement("label",{...g(y,i,h,M),ref:d,"data-selected":s||void 0,"data-pressed":o||void 0,"data-hovered":I||void 0,"data-focused":u||void 0,"data-focus-visible":f||void 0,"data-disabled":t||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},V.createElement(fe,{elementType:"span"},V.createElement("input",{...g(c,R),ref:m})),V.createElement(Q.Provider,{value:{isSelected:s}},M.children))});export{Ne as $,Te as a};
