import{R as V,r as ne,j as Z}from"./iframe-BmaCy5vn.js";import{v as Ot,P as ot}from"./PropsContextProvider-Cdtu9ZvQ.js";import{d as Lt}from"./dynamic-DKDa4OpU.js";import{F as Pt}from"./FieldError-6Obb3s6p.js";import{$ as Tt}from"./useLocalizedStringFormatter-Bee7TgYK.js";import{i as Mt}from"./browser-CHe_8eCl.js";import{a as Ut,A as Bt}from"./Action-DY7JPpLy.js";import{e as Nt}from"./chunk-PULGOXDA-8tYzn7uh.js";var he=e=>e.type==="checkbox",oe=e=>e instanceof Date,H=e=>e==null;const lt=e=>typeof e=="object";var L=e=>!H(e)&&!Array.isArray(e)&&lt(e)&&!oe(e),ut=e=>L(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,It=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dt=(e,s)=>e.has(It(s)),Ht=e=>{const s=e.constructor&&e.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let s;const t=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Oe&&(e instanceof Blob||n))&&(t||L(e)))if(s=t?[]:{},!t&&!Ht(e))s=e;else for(const a in e)e.hasOwnProperty(a)&&(s[a]=T(e[a]));else return e;return s}var Se=e=>/^\w*$/.test(e),O=e=>e===void 0,Le=e=>Array.isArray(e)?e.filter(Boolean):[],Pe=e=>Le(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!L(e))return t;const n=(Se(s)?[s]:Pe(s)).reduce((a,o)=>H(a)?a:a[o],e);return O(n)||n===e?O(e[s])?t:e[s]:n},$=e=>typeof e=="boolean",E=(e,s,t)=>{let n=-1;const a=Se(s)?[s]:Pe(s),o=a.length,u=o-1;for(;++n<o;){const d=a[n];let _=t;if(n!==u){const b=e[d];_=L(b)||Array.isArray(b)?b:isNaN(+a[n+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=_,e=e[d]}};const Fe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Te=V.createContext(null);Te.displayName="HookFormContext";const Me=()=>V.useContext(Te),qt=e=>{const{children:s,...t}=e;return V.createElement(Te.Provider,{value:t},s)};var ct=(e,s,t,n=!0)=>{const a={defaultValues:s._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const u=o;return s._proxyFormState[u]!==z.all&&(s._proxyFormState[u]=!n||z.all),t&&(t[u]=!0),e[u]}});return a};const Ue=typeof window<"u"?V.useLayoutEffect:V.useEffect;function Wt(e){const s=Me(),{control:t=s.control,disabled:n,name:a,exact:o}=e||{},[u,d]=V.useState(t._formState),_=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ue(()=>t._subscribe({name:a,formState:_.current,exact:o,callback:b=>{!n&&d({...t._formState,...b})}}),[a,n,o]),V.useEffect(()=>{_.current.isValid&&t._setValid(!0)},[t]),V.useMemo(()=>ct(u,t,_.current,!1),[u,t])}var X=e=>typeof e=="string",ft=(e,s,t,n,a)=>X(e)?(n&&s.watch.add(e),y(t,e,a)):Array.isArray(e)?e.map(o=>(n&&s.watch.add(o),y(t,o))):(n&&(s.watchAll=!0),t),pe=e=>H(e)||!lt(e);function te(e,s,t=new WeakSet){if(pe(e)||pe(s))return e===s;if(oe(e)&&oe(s))return e.getTime()===s.getTime();const n=Object.keys(e),a=Object.keys(s);if(n.length!==a.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const o of n){const u=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=s[o];if(oe(u)&&oe(d)||L(u)&&L(d)||Array.isArray(u)&&Array.isArray(d)?!te(u,d,t):u!==d)return!1}}return!0}function $t(e){const s=Me(),{control:t=s.control,name:n,defaultValue:a,disabled:o,exact:u,compute:d}=e||{},_=V.useRef(a),b=V.useRef(d),v=V.useRef(void 0);b.current=d;const x=V.useMemo(()=>t._getWatch(n,_.current),[t,n]),[F,M]=V.useState(b.current?b.current(x):x);return Ue(()=>t._subscribe({name:n,formState:{values:!0},exact:u,callback:U=>{if(!o){const A=ft(n,t._names,U.values||t._formValues,!1,_.current);if(b.current){const k=b.current(A);te(k,v.current)||(M(k),v.current=k)}else M(A)}}}),[t,o,n,u]),V.useEffect(()=>t._removeUnmounted()),F}function jt(e){const s=Me(),{name:t,disabled:n,control:a=s.control,shouldUnregister:o,defaultValue:u}=e,d=dt(a._names.array,t),_=V.useMemo(()=>y(a._formValues,t,y(a._defaultValues,t,u)),[a,t,u]),b=$t({control:a,name:t,defaultValue:_,exact:!0}),v=Wt({control:a,name:t,exact:!0}),x=V.useRef(e),F=V.useRef(a.register(t,{...e.rules,value:b,...$(e.disabled)?{disabled:e.disabled}:{}}));x.current=e;const M=V.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(v.validatingFields,t)},error:{enumerable:!0,get:()=>y(v.errors,t)}}),[v,t]),U=V.useCallback(g=>F.current.onChange({target:{value:ut(g),name:t},type:Fe.CHANGE}),[t]),A=V.useCallback(()=>F.current.onBlur({target:{value:y(a._formValues,t),name:t},type:Fe.BLUR}),[t,a._formValues]),k=V.useCallback(g=>{const B=y(a._fields,t);B&&g&&(B._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:N=>g.setCustomValidity(N),reportValidity:()=>g.reportValidity()})},[a._fields,t]),G=V.useMemo(()=>({name:t,value:b,...$(n)||v.disabled?{disabled:v.disabled||n}:{},onChange:U,onBlur:A,ref:k}),[t,n,v.disabled,U,A,k,b]);return V.useEffect(()=>{const g=a._options.shouldUnregister||o;a.register(t,{...x.current.rules,...$(x.current.disabled)?{disabled:x.current.disabled}:{}});const B=(N,R)=>{const re=y(a._fields,N);re&&re._f&&(re._f.mount=R)};if(B(t,!0),g){const N=T(y(a._options.defaultValues,t));E(a._defaultValues,t,N),O(y(a._formValues,t))&&E(a._formValues,t,N)}return!d&&a.register(t),()=>{(d?g&&!a._state.action:g)?a.unregister(t):B(t,!1)}},[t,a,d,o]),V.useEffect(()=>{a._setDisabledField({disabled:n,name:t})},[n,t,a]),V.useMemo(()=>({field:G,formState:v,fieldState:M}),[G,v,M])}var Gt=(e,s,t,n,a)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:a||!0}}:{},ye=e=>Array.isArray(e)?e:[e],Ye=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},W=e=>L(e)&&!Object.keys(e).length,Be=e=>e.type==="file",Y=e=>typeof e=="function",_e=e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},yt=e=>e.type==="select-multiple",Ne=e=>e.type==="radio",Kt=e=>Ne(e)||he(e),Re=e=>_e(e)&&e.isConnected;function Zt(e,s){const t=s.slice(0,-1).length;let n=0;for(;n<t;)e=O(e)?n++:e[s[n++]];return e}function zt(e){for(const s in e)if(e.hasOwnProperty(s)&&!O(e[s]))return!1;return!0}function P(e,s){const t=Array.isArray(s)?s:Se(s)?[s]:Pe(s),n=t.length===1?e:Zt(e,t),a=t.length-1,o=t[a];return n&&delete n[o],a!==0&&(L(n)&&W(n)||Array.isArray(n)&&zt(n))&&P(e,t.slice(0,-1)),e}var mt=e=>{for(const s in e)if(Y(e[s]))return!0;return!1};function Ve(e,s={}){const t=Array.isArray(e);if(L(e)||t)for(const n in e)Array.isArray(e[n])||L(e[n])&&!mt(e[n])?(s[n]=Array.isArray(e[n])?[]:{},Ve(e[n],s[n])):H(e[n])||(s[n]=!0);return s}function ht(e,s,t){const n=Array.isArray(e);if(L(e)||n)for(const a in e)Array.isArray(e[a])||L(e[a])&&!mt(e[a])?O(s)||pe(t[a])?t[a]=Array.isArray(e[a])?Ve(e[a],[]):{...Ve(e[a])}:ht(e[a],H(s)?{}:s[a],t[a]):t[a]=!te(e[a],s[a]);return t}var ce=(e,s)=>ht(e,s,Ve(s));const Je={value:!1,isValid:!1},Qe={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?Qe:{value:e[0].value,isValid:!0}:Qe:Je}return Je},bt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:n})=>O(e)?e:s?e===""?NaN:e&&+e:t&&X(e)?new Date(e):n?n(e):e;const Xe={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Xe):Xe;function et(e){const s=e.ref;return Be(s)?s.files:Ne(s)?vt(e.refs).value:yt(s)?[...s.selectedOptions].map(({value:t})=>t):he(s)?gt(e.refs).value:bt(O(s.value)?e.ref.value:s.value,e)}var Yt=(e,s,t,n)=>{const a={};for(const o of e){const u=y(s,o);u&&E(a,o,u._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:n}},xe=e=>e instanceof RegExp,fe=e=>O(e)?e:xe(e)?e.source:L(e)?xe(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched});const rt="AsyncFunction";var Jt=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===rt||L(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===rt)),Qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const me=(e,s,t,n)=>{for(const a of t||Object.keys(e)){const o=y(e,a);if(o){const{_f:u,...d}=o;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],a)&&!n)return!0;if(u.ref&&s(u.ref,u.name)&&!n)return!0;if(me(d,s))break}else if(L(d)&&me(d,s))break}}};function it(e,s,t){const n=y(e,t);if(n||Se(t))return{error:n,name:t};const a=t.split(".");for(;a.length;){const o=a.join("."),u=y(s,o),d=y(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};a.pop()}return{name:t}}var Xt=(e,s,t,n)=>{t(e);const{name:a,...o}=e;return W(o)||Object.keys(o).length>=Object.keys(s).length||Object.keys(o).find(u=>s[u]===(!n||z.all))},er=(e,s,t)=>!e||!s||e===s||ye(e).some(n=>n&&(t?n===s:n.startsWith(s)||s.startsWith(n))),tr=(e,s,t,n,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(s||e):(t?n.isOnBlur:a.isOnBlur)?!e:(t?n.isOnChange:a.isOnChange)?e:!0,rr=(e,s)=>!Le(y(e,s)).length&&P(e,s),sr=(e,s,t)=>{const n=ye(y(e,t));return E(n,"root",s[t]),E(e,t,n),e},ve=e=>X(e);function nt(e,s,t="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||$(e)&&!e)return{type:t,message:ve(e)?e:"",ref:s}}var ue=e=>L(e)&&!xe(e)?e:{value:e,message:""},at=async(e,s,t,n,a,o)=>{const{ref:u,refs:d,required:_,maxLength:b,minLength:v,min:x,max:F,pattern:M,validate:U,name:A,valueAsNumber:k,mount:G}=e._f,g=y(t,A);if(!G||s.has(A))return{};const B=d?d[0]:u,N=S=>{a&&B.reportValidity&&(B.setCustomValidity($(S)?"":S||""),B.reportValidity())},R={},re=Ne(u),se=he(u),Ae=re||se,K=(k||Be(u))&&O(u.value)&&O(g)||_e(u)&&u.value===""||g===""||Array.isArray(g)&&!g.length,ae=Gt.bind(null,A,n,R),J=(S,C,p,I=ee.maxLength,q=ee.minLength)=>{const Q=S?C:p;R[A]={type:S?I:q,message:Q,ref:u,...ae(S?I:q,Q)}};if(o?!Array.isArray(g)||!g.length:_&&(!Ae&&(K||H(g))||$(g)&&!g||se&&!gt(d).isValid||re&&!vt(d).isValid)){const{value:S,message:C}=ve(_)?{value:!!_,message:_}:ue(_);if(S&&(R[A]={type:ee.required,message:C,ref:B,...ae(ee.required,C)},!n))return N(C),R}if(!K&&(!H(x)||!H(F))){let S,C;const p=ue(F),I=ue(x);if(!H(g)&&!isNaN(g)){const q=u.valueAsNumber||g&&+g;H(p.value)||(S=q>p.value),H(I.value)||(C=q<I.value)}else{const q=u.valueAsDate||new Date(g),Q=ge=>new Date(new Date().toDateString()+" "+ge),de=u.type=="time",le=u.type=="week";X(p.value)&&g&&(S=de?Q(g)>Q(p.value):le?g>p.value:q>new Date(p.value)),X(I.value)&&g&&(C=de?Q(g)<Q(I.value):le?g<I.value:q<new Date(I.value))}if((S||C)&&(J(!!S,p.message,I.message,ee.max,ee.min),!n))return N(R[A].message),R}if((b||v)&&!K&&(X(g)||o&&Array.isArray(g))){const S=ue(b),C=ue(v),p=!H(S.value)&&g.length>+S.value,I=!H(C.value)&&g.length<+C.value;if((p||I)&&(J(p,S.message,C.message),!n))return N(R[A].message),R}if(M&&!K&&X(g)){const{value:S,message:C}=ue(M);if(xe(S)&&!g.match(S)&&(R[A]={type:ee.pattern,message:C,ref:u,...ae(ee.pattern,C)},!n))return N(C),R}if(U){if(Y(U)){const S=await U(g,t),C=nt(S,B);if(C&&(R[A]={...C,...ae(ee.validate,C.message)},!n))return N(C.message),R}else if(L(U)){let S={};for(const C in U){if(!W(S)&&!n)break;const p=nt(await U[C](g,t),B,C);p&&(S={...p,...ae(C,p.message)},N(p.message),n&&(R[A]=S))}if(!W(S)&&(R[A]={ref:B,...S},!n))return R}}return N(!0),R};const ir={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function nr(e={}){let s={...ir,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},a=L(s.defaultValues)||L(s.values)?T(s.defaultValues||s.values)||{}:{},o=s.shouldUnregister?{}:T(a),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_,b=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const F={array:Ye(),state:Ye()},M=s.criteriaMode===z.all,U=r=>i=>{clearTimeout(b),b=setTimeout(r,i)},A=async r=>{if(!s.disabled&&(v.isValid||x.isValid||r)){const i=s.resolver?W((await se()).errors):await K(n,!0);i!==t.isValid&&F.state.next({isValid:i})}},k=(r,i)=>{!s.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((r||Array.from(d.mount)).forEach(l=>{l&&(i?E(t.validatingFields,l,i):P(t.validatingFields,l))}),F.state.next({validatingFields:t.validatingFields,isValidating:!W(t.validatingFields)}))},G=(r,i=[],l,m,f=!0,c=!0)=>{if(m&&l&&!s.disabled){if(u.action=!0,c&&Array.isArray(y(n,r))){const h=l(y(n,r),m.argA,m.argB);f&&E(n,r,h)}if(c&&Array.isArray(y(t.errors,r))){const h=l(y(t.errors,r),m.argA,m.argB);f&&E(t.errors,r,h),rr(t.errors,r)}if((v.touchedFields||x.touchedFields)&&c&&Array.isArray(y(t.touchedFields,r))){const h=l(y(t.touchedFields,r),m.argA,m.argB);f&&E(t.touchedFields,r,h)}(v.dirtyFields||x.dirtyFields)&&(t.dirtyFields=ce(a,o)),F.state.next({name:r,isDirty:J(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else E(o,r,i)},g=(r,i)=>{E(t.errors,r,i),F.state.next({errors:t.errors})},B=r=>{t.errors=r,F.state.next({errors:t.errors,isValid:!1})},N=(r,i,l,m)=>{const f=y(n,r);if(f){const c=y(o,r,O(l)?y(a,r):l);O(c)||m&&m.defaultChecked||i?E(o,r,i?c:et(f._f)):p(r,c),u.mount&&A()}},R=(r,i,l,m,f)=>{let c=!1,h=!1;const w={name:r};if(!s.disabled){if(!l||m){(v.isDirty||x.isDirty)&&(h=t.isDirty,t.isDirty=w.isDirty=J(),c=h!==w.isDirty);const D=te(y(a,r),i);h=!!y(t.dirtyFields,r),D?P(t.dirtyFields,r):E(t.dirtyFields,r,!0),w.dirtyFields=t.dirtyFields,c=c||(v.dirtyFields||x.dirtyFields)&&h!==!D}if(l){const D=y(t.touchedFields,r);D||(E(t.touchedFields,r,l),w.touchedFields=t.touchedFields,c=c||(v.touchedFields||x.touchedFields)&&D!==l)}c&&f&&F.state.next(w)}return c?w:{}},re=(r,i,l,m)=>{const f=y(t.errors,r),c=(v.isValid||x.isValid)&&$(i)&&t.isValid!==i;if(s.delayError&&l?(_=U(()=>g(r,l)),_(s.delayError)):(clearTimeout(b),_=null,l?E(t.errors,r,l):P(t.errors,r)),(l?!te(f,l):f)||!W(m)||c){const h={...m,...c&&$(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...h},F.state.next(h)}},se=async r=>{k(r,!0);const i=await s.resolver(o,s.context,Yt(r||d.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return k(r),i},Ae=async r=>{const{errors:i}=await se(r);if(r)for(const l of r){const m=y(i,l);m?E(t.errors,l,m):P(t.errors,l)}else t.errors=i;return i},K=async(r,i,l={valid:!0})=>{for(const m in r){const f=r[m];if(f){const{_f:c,...h}=f;if(c){const w=d.array.has(c.name),D=f._f&&Jt(f._f);D&&v.validatingFields&&k([m],!0);const j=await at(f,d.disabled,o,M,s.shouldUseNativeValidation&&!i,w);if(D&&v.validatingFields&&k([m]),j[c.name]&&(l.valid=!1,i))break;!i&&(y(j,c.name)?w?sr(t.errors,j,c.name):E(t.errors,c.name,j[c.name]):P(t.errors,c.name))}!W(h)&&await K(h,i,l)}}return l.valid},ae=()=>{for(const r of d.unMount){const i=y(n,r);i&&(i._f.refs?i._f.refs.every(l=>!Re(l)):!Re(i._f.ref))&&we(r)}d.unMount=new Set},J=(r,i)=>!s.disabled&&(r&&i&&E(o,r,i),!te(ge(),a)),S=(r,i,l)=>ft(r,d,{...u.mount?o:O(i)?a:X(r)?{[r]:i}:i},l,i),C=r=>Le(y(u.mount?o:a,r,s.shouldUnregister?y(a,r,[]):[])),p=(r,i,l={})=>{const m=y(n,r);let f=i;if(m){const c=m._f;c&&(!c.disabled&&E(o,r,bt(i,c)),f=_e(c.ref)&&H(i)?"":i,yt(c.ref)?[...c.ref.options].forEach(h=>h.selected=f.includes(h.value)):c.refs?he(c.ref)?c.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(f)?h.checked=!!f.find(w=>w===h.value):h.checked=f===h.value||!!f)}):c.refs.forEach(h=>h.checked=h.value===f):Be(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||F.state.next({name:r,values:T(o)})))}(l.shouldDirty||l.shouldTouch)&&R(r,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(r)},I=(r,i,l)=>{for(const m in i){if(!i.hasOwnProperty(m))return;const f=i[m],c=r+"."+m,h=y(n,c);(d.array.has(r)||L(f)||h&&!h._f)&&!oe(f)?I(c,f,l):p(c,f,l)}},q=(r,i,l={})=>{const m=y(n,r),f=d.array.has(r),c=T(i);E(o,r,c),f?(F.array.next({name:r,values:T(o)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&l.shouldDirty&&F.state.next({name:r,dirtyFields:ce(a,o),isDirty:J(r,c)})):m&&!m._f&&!H(c)?I(r,c,l):p(r,c,l),st(r,d)&&F.state.next({...t,name:r}),F.state.next({name:u.mount?r:void 0,values:T(o)})},Q=async r=>{u.mount=!0;const i=r.target;let l=i.name,m=!0;const f=y(n,l),c=D=>{m=Number.isNaN(D)||oe(D)&&isNaN(D.getTime())||te(D,y(o,l,D))},h=tt(s.mode),w=tt(s.reValidateMode);if(f){let D,j;const be=i.type?et(f._f):ut(r),ie=r.type===Fe.BLUR||r.type===Fe.FOCUS_OUT,Et=!Qt(f._f)&&!s.resolver&&!y(t.errors,l)&&!f._f.deps||tr(ie,y(t.touchedFields,l),t.isSubmitted,w,h),De=st(l,d,ie);E(o,l,be),ie?(f._f.onBlur&&f._f.onBlur(r),_&&_(0)):f._f.onChange&&f._f.onChange(r);const Ee=R(l,be,ie),Rt=!W(Ee)||De;if(!ie&&F.state.next({name:l,type:r.type,values:T(o)}),Et)return(v.isValid||x.isValid)&&(s.mode==="onBlur"?ie&&A():ie||A()),Rt&&F.state.next({name:l,...De?{}:Ee});if(!ie&&De&&F.state.next({...t}),s.resolver){const{errors:Ze}=await se([l]);if(c(be),m){const pt=it(t.errors,n,l),ze=it(Ze,n,pt.name||l);D=ze.error,l=ze.name,j=W(Ze)}}else k([l],!0),D=(await at(f,d.disabled,o,M,s.shouldUseNativeValidation))[l],k([l]),c(be),m&&(D?j=!1:(v.isValid||x.isValid)&&(j=await K(n,!0)));m&&(f._f.deps&&le(f._f.deps),re(l,j,D,Ee))}},de=(r,i)=>{if(y(t.errors,i)&&r.focus)return r.focus(),1},le=async(r,i={})=>{let l,m;const f=ye(r);if(s.resolver){const c=await Ae(O(r)?r:f);l=W(c),m=r?!f.some(h=>y(c,h)):l}else r?(m=(await Promise.all(f.map(async c=>{const h=y(n,c);return await K(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!m&&!t.isValid)&&A()):m=l=await K(n);return F.state.next({...!X(r)||(v.isValid||x.isValid)&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),i.shouldFocus&&!m&&me(n,de,r?f:d.mount),m},ge=r=>{const i={...u.mount?o:a};return O(r)?i:X(r)?y(i,r):r.map(l=>y(i,l))},Ie=(r,i)=>({invalid:!!y((i||t).errors,r),isDirty:!!y((i||t).dirtyFields,r),error:y((i||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((i||t).touchedFields,r)}),xt=r=>{r&&ye(r).forEach(i=>P(t.errors,i)),F.state.next({errors:r?t.errors:{}})},He=(r,i,l)=>{const m=(y(n,r,{_f:{}})._f||{}).ref,f=y(t.errors,r)||{},{ref:c,message:h,type:w,...D}=f;E(t.errors,r,{...D,...i,ref:m}),F.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},St=(r,i)=>Y(r)?F.state.subscribe({next:l=>"values"in l&&r(S(void 0,i),l)}):S(r,i,!0),qe=r=>F.state.subscribe({next:i=>{er(r.name,i.name,r.exact)&&Xt(i,r.formState||v,Dt,r.reRenderRoot)&&r.callback({values:{...o},...t,...i,defaultValues:a})}}).unsubscribe,At=r=>(u.mount=!0,x={...x,...r.formState},qe({...r,formState:x})),we=(r,i={})=>{for(const l of r?ye(r):d.mount)d.mount.delete(l),d.array.delete(l),i.keepValue||(P(n,l),P(o,l)),!i.keepError&&P(t.errors,l),!i.keepDirty&&P(t.dirtyFields,l),!i.keepTouched&&P(t.touchedFields,l),!i.keepIsValidating&&P(t.validatingFields,l),!s.shouldUnregister&&!i.keepDefaultValue&&P(a,l);F.state.next({values:T(o)}),F.state.next({...t,...i.keepDirty?{isDirty:J()}:{}}),!i.keepIsValid&&A()},We=({disabled:r,name:i})=>{($(r)&&u.mount||r||d.disabled.has(i))&&(r?d.disabled.add(i):d.disabled.delete(i))},Ce=(r,i={})=>{let l=y(n,r);const m=$(i.disabled)||$(s.disabled);return E(n,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...i}}),d.mount.add(r),l?We({disabled:$(i.disabled)?i.disabled:s.disabled,name:r}):N(r,!0,i.value),{...m?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:fe(i.min),max:fe(i.max),minLength:fe(i.minLength),maxLength:fe(i.maxLength),pattern:fe(i.pattern)}:{},name:r,onChange:Q,onBlur:Q,ref:f=>{if(f){Ce(r,i),l=y(n,r);const c=O(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Kt(c),w=l._f.refs||[];if(h?w.find(D=>D===c):c===l._f.ref)return;E(n,r,{_f:{...l._f,...h?{refs:[...w.filter(Re),c,...Array.isArray(y(a,r))?[{}]:[]],ref:{type:c.type,name:r}}:{ref:c}}}),N(r,!1,void 0,c)}else l=y(n,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(dt(d.array,r)&&u.action)&&d.unMount.add(r)}}},ke=()=>s.shouldFocusError&&me(n,de,d.mount),wt=r=>{$(r)&&(F.state.next({disabled:r}),me(n,(i,l)=>{const m=y(n,l);m&&(i.disabled=m._f.disabled||r,Array.isArray(m._f.refs)&&m._f.refs.forEach(f=>{f.disabled=m._f.disabled||r}))},0,!1))},$e=(r,i)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=T(o);if(F.state.next({isSubmitting:!0}),s.resolver){const{errors:c,values:h}=await se();t.errors=c,f=T(h)}else await K(n);if(d.disabled.size)for(const c of d.disabled)P(f,c);if(P(t.errors,"root"),W(t.errors)){F.state.next({errors:{}});try{await r(f,l)}catch(c){m=c}}else i&&await i({...t.errors},l),ke(),setTimeout(ke);if(F.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Ct=(r,i={})=>{y(n,r)&&(O(i.defaultValue)?q(r,T(y(a,r))):(q(r,i.defaultValue),E(a,r,T(i.defaultValue))),i.keepTouched||P(t.touchedFields,r),i.keepDirty||(P(t.dirtyFields,r),t.isDirty=i.defaultValue?J(r,T(y(a,r))):J()),i.keepError||(P(t.errors,r),v.isValid&&A()),F.state.next({...t}))},je=(r,i={})=>{const l=r?T(r):a,m=T(l),f=W(r),c=f?a:m;if(i.keepDefaultValues||(a=l),!i.keepValues){if(i.keepDirtyValues){const h=new Set([...d.mount,...Object.keys(ce(a,o))]);for(const w of Array.from(h))y(t.dirtyFields,w)?E(c,w,y(o,w)):q(w,y(c,w))}else{if(Oe&&O(r))for(const h of d.mount){const w=y(n,h);if(w&&w._f){const D=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(_e(D)){const j=D.closest("form");if(j){j.reset();break}}}}if(i.keepFieldsRef)for(const h of d.mount)q(h,y(c,h));else n={}}o=s.shouldUnregister?i.keepDefaultValues?T(a):{}:T(c),F.array.next({values:{...c}}),F.state.next({values:{...c}})}d={mount:i.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!i.keepIsValid||!!i.keepDirtyValues,u.watch=!!s.shouldUnregister,F.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:f?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!te(r,a)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:i.keepDirtyValues?i.keepDefaultValues&&o?ce(a,o):t.dirtyFields:i.keepDefaultValues&&r?ce(a,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(r,i)=>je(Y(r)?r(o):r,i),kt=(r,i={})=>{const l=y(n,r),m=l&&l._f;if(m){const f=m.refs?m.refs[0]:m.ref;f.focus&&(f.focus(),i.shouldSelect&&Y(f.select)&&f.select())}},Dt=r=>{t={...t,...r}},Ke={control:{register:Ce,unregister:we,getFieldState:Ie,handleSubmit:$e,setError:He,_subscribe:qe,_runSchema:se,_focusError:ke,_getWatch:S,_getDirty:J,_setValid:A,_setFieldArray:G,_setDisabledField:We,_setErrors:B,_getFieldArray:C,_reset:je,_resetDefaultValues:()=>Y(s.defaultValues)&&s.defaultValues().then(r=>{Ge(r,s.resetOptions),F.state.next({isLoading:!1})}),_removeUnmounted:ae,_disableForm:wt,_subjects:F,_proxyFormState:v,get _fields(){return n},get _formValues(){return o},get _state(){return u},set _state(r){u=r},get _defaultValues(){return a},get _names(){return d},set _names(r){d=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:At,trigger:le,register:Ce,handleSubmit:$e,watch:St,setValue:q,getValues:ge,reset:Ge,resetField:Ct,clearErrors:xt,unregister:we,setError:He,setFocus:kt,getFieldState:Ie};return{...Ke,formControl:Ke}}function xr(e={}){const s=V.useRef(void 0),t=V.useRef(void 0),[n,a]=V.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:n},e.defaultValues&&!Y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...d}=nr(e);s.current={...d,formState:n}}const o=s.current.control;return o._options=e,Ue(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),o._formState.isReady=!0,u},[o]),V.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),V.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),V.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),V.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==n.isDirty&&o._subjects.state.next({isDirty:u})}},[o,n.isDirty]),V.useEffect(()=>{e.values&&!te(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,a(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),V.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),s.current.formState=ct(n,o),s.current}const Ft=ne.createContext(void 0),ar=Ft.Provider,or=()=>{const e=ne.useContext(Ft);return Mt(!!e,"Could not useFormContext() outside a Form, or multiple versions of Flow installed."),e},_t=e=>{const s=ne.useContext(Ot).FieldError??Pt;return Z.jsx(s,{...e})};_t.__docgenInfo={description:"",methods:[],displayName:"FieldErrorView"};const lr={"de-DE":{maxLength:e=>`Bitte gib hÃ¶chstens ${e.number} Zeichen ein`,minLength:e=>`Bitte gib mindestens ${e.number} Zeichen ein`},"en-US":{maxLength:e=>`Please enter at most ${e.number} characters`,minLength:e=>`Please enter at least ${e.number} characters`}};function Vt(e){var M,U,A,k,G;const{children:s,name:t,defaultValue:n,...a}=e,o=Tt(lr),u=jt({...e,rules:{...e.rules,minLength:typeof((M=a.rules)==null?void 0:M.minLength)=="number"?{value:a.rules.minLength,message:o.format("minLength",{number:a.rules.minLength})}:(U=a.rules)==null?void 0:U.minLength,maxLength:typeof((A=a.rules)==null?void 0:A.maxLength)=="number"?{value:a.rules.maxLength,message:o.format("maxLength",{number:a.rules.maxLength})}:(k=a.rules)==null?void 0:k.maxLength}}),d=or(),_=d.form.watch(t)??u.field.value,b={...u.field,value:_,name:t,form:d.id,isRequired:!!((G=a.rules)!=null&&G.required),validationBehavior:"aria",defaultValue:n,isInvalid:u.fieldState.invalid,children:Lt(g=>{var B;return u.fieldState.invalid?Z.jsxs(Z.Fragment,{children:[g.children,Z.jsx(_t,{children:(B=u.fieldState.error)==null?void 0:B.message})]}):g.children})},{value:v,...x}=b,F={SearchField:b,TextField:b,TextArea:b,MarkdownEditor:b,Checkbox:{...b,isSelected:_},CheckboxGroup:b,CheckboxButton:{...b,isSelected:_},FileField:b,FileDropZone:b,NumberField:b,RadioGroup:b,Switch:{...b,isSelected:_},Slider:b,PasswordCreationField:b,DatePicker:b,DateRangePicker:b,TimeField:b,SegmentedControl:b,Select:{...b,selectedKey:_},ComboBox:{...x,selectedKey:_}};return Z.jsx(ot,{mergeInParentContext:!0,props:F,dependencies:[u.fieldState,u.field,_],children:s})}const Sr=e=>Vt;Vt.__docgenInfo={description:"",methods:[],displayName:"Field",composes:["Omit","PropsWithChildren"]};const ur=e=>{const s=t=>{typeof t=="function"&&t()};e instanceof Promise?e.then(s):s(e)},dr=e=>{const s=Ut.useNew({}),t=ne.useRef(0),n=ne.useRef(null);return ne.useEffect(()=>e.subscribe({formState:{errors:!0,isValid:!0},callback:({isValid:o,isSubmitted:u=!1,isSubmitSuccessful:d=!1,submitCount:_=0,errors:b})=>{if(_===0&&t.current>0&&(t.current=0),t.current!==_&&(t.current=_,u))if(d)s.state.onSucceeded(),o&&ur(n.current);else{const v=u&&b&&Object.entries(b).length>0?b:void 0;s.state.onFailed(v)}}}),[e.subscribe,s.state]),{action:s,registerSubmitResult:o=>{n.current=o,Nt(o)&&s.state.onAsyncStart()}}},cr=e=>Z.jsx("form",{...e});function fr(e){const{form:s,children:t,onSubmit:n,formComponent:a=cr,isReadOnly:o,...u}=e,d=ne.useId(),_=ne.useMemo(()=>a,[d]),{action:b,registerSubmitResult:v}=dr(s),x=M=>{const{isSubmitting:U,isValidating:A}=s.control._formState,k=M&&"nativeEvent"in M?M:void 0;if(k==null||k.stopPropagation(),U||A){k==null||k.preventDefault();return}s.handleSubmit(G=>{const g=n(G,k);return v(g),g})(k)},F={SearchField:{isReadOnly:!0},TextField:{isReadOnly:!0},TextArea:{isReadOnly:!0},MarkdownEditor:{isReadOnly:!0},Checkbox:{isReadOnly:!0},CheckboxGroup:{isReadOnly:!0},CheckboxButton:{isReadOnly:!0},FileField:{isReadOnly:!0},FileDropZone:{isReadOnly:!0},NumberField:{isReadOnly:!0},RadioGroup:{isReadOnly:!0},Switch:{isReadOnly:!0},Slider:{isReadOnly:!0},PasswordCreationField:{isReadOnly:!0},DatePicker:{isReadOnly:!0},DateRangePicker:{isReadOnly:!0},TimeField:{isReadOnly:!0},SegmentedControl:{isReadOnly:!0},Select:{isReadOnly:!0},ComboBox:{isReadOnly:!0}};return Z.jsx(ot,{props:o?F:{},mergeInParentContext:!0,children:Z.jsx(qt,{...s,children:Z.jsx(ar,{value:{form:s,id:d},children:Z.jsx(Bt,{actionModel:b,children:Z.jsx(_,{...u,id:d,onSubmit:x,children:t})})})})})}fr.__docgenInfo={description:"",methods:[],displayName:"Form",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"F"}],raw:"UseFormReturn<F>"},description:""},onSubmit:{required:!0,tsType:{name:"SubmitHandler",elements:[{name:"F"}],raw:"SubmitHandler<F>"},description:""},formComponent:{required:!1,tsType:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"onSubmit",value:{name:"union",raw:"FormEventHandler | FormOnSubmitHandler<never>",elements:[{name:"FormEventHandler"},{name:"SubmitHandler",elements:[{name:"never"}],raw:"SubmitHandler<F>"}],required:!1}}]}}],raw:`PropsWithChildren<{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
}>`}],raw:`ComponentType<
  PropsWithChildren<{
    id: string;
    onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  }>
>`},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","PropsWithChildren"]};export{fr as F,Vt as a,Sr as t,xr as u};
