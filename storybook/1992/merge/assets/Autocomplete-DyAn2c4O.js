import{r as i,j as o}from"./iframe-BmaCy5vn.js";import{f as y,P as g,A as v}from"./PropsContextProvider-Cdtu9ZvQ.js";import{u as C}from"./DialogTriggerView-Cgh3ruvs.js";import{b as j}from"./Option-BwXz6ODk.js";import{T as A}from"./Text-Bb5YosKE.js";import{e as E}from"./ReactAriaControlledValueFix-CiaR6bC2.js";import{$ as P}from"./useLocalizedStringFormatter-Bee7TgYK.js";import{$ as O}from"./useFilter-nMf5Umrr.js";import{b as F}from"./useFocusRing-BIF3mfAv.js";import{i as I}from"./OverlayArrow-DPRWr8HF.js";import{s as N}from"./Dialog-DNzI_GfM.js";const w={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},R="flow--autocomplete--popover",S="flow--autocomplete--empty",c={popover:R,empty:S},D=y("Autocomplete",a=>{const{children:l,...m}=a,{contains:f}=O({sensitivity:"base"}),u=P(w),r=i.useRef(null),n=i.useRef(null),e=C("Popover",{reuseControllerFromContext:!1}),d=F({onBlurWithin:e.close}),s={onKeyDown:t=>{t.key==="Enter"&&e.isOpen&&t.preventDefault()},ref:n},x=()=>o.jsx(A,{className:c.empty,children:u.format("autocomplete.empty")}),b={SearchField:s,TextField:s,Option:{tunnelId:"options"},Popover:{className:c.popover}},h=t=>{t?e.isOpen||e.open():e.close()},$=t=>{const p=n.current;p&&E(p,String(t)),e.close()};return o.jsx(g,{props:b,mergeInParentContext:!0,children:o.jsx("div",{...d.focusWithinProps,ref:r,children:o.jsx(I,{getContainer:()=>r.current,children:o.jsxs(N,{onInputChange:h,filter:f,disableAutoFocusFirst:!0,...m,children:[l,o.jsx(j,{onAction:$,triggerRef:n,controller:e,renderEmptyState:x,isNonModal:!0,placement:"bottom start",children:o.jsx(v,{id:"options"})})]})})})})});D.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{D as A};
