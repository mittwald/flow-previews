import{$ as E,b as T,d as W,a as w,c as G,g as A,e as H}from"./utils-BkpHnTsU.js";import{$ as K}from"./FieldError-DMz-rebE.js";import{c as U,b as j,a as z,$ as J}from"./Form-DeoxQrJ0.js";import{$ as Q}from"./Label-zFNLx0tV.js";import{a as X}from"./Text-CUplgO8_.js";import{$ as V,d as Y,a as Z}from"./mergeRefs-Q550Qguu.js";import{$ as S}from"./filterDOMProps-CghfNOdR.js";import{r as x,R as I}from"./iframe-DKbVX-Q4.js";import{$ as ee}from"./useFormReset-Bl7MFLhY.js";import{$ as O}from"./usePress-xBrGITaP.js";import{$ as ae}from"./useFocusable-V5Yb86R1.js";import{l as ie}from"./useFocus-BSzVp7e_.js";import{b as de}from"./FocusScope-Cxy8QZEw.js";import{b as le,a as re,$ as te}from"./useFocusRing-CNTepbVZ.js";import{$ as oe}from"./context-CEbk5IPs.js";import{$ as se}from"./VisuallyHidden-DbgH8FGV.js";import{$ as ne}from"./useControlledState-DPI6eaeZ.js";const k=new WeakMap;function ce(a,e,d){let{value:l,children:v,"aria-label":r,"aria-labelledby":m,onPressStart:i,onPressEnd:n,onPressChange:c,onPress:t,onPressUp:o,onClick:u}=a;const f=a.isDisabled||e.isDisabled;let R=e.selectedValue===l,P=M=>{M.stopPropagation(),e.setSelectedValue(l)},{pressProps:h,isPressed:g}=O({onPressStart:i,onPressEnd:n,onPressChange:c,onPress:t,onPressUp:o,onClick:u,isDisabled:f}),{pressProps:D,isPressed:y}=O({onPressStart:i,onPressEnd:n,onPressChange:c,onPressUp:o,onClick:u,isDisabled:f,onPress(M){var q;t==null||t(M),e.setSelectedValue(l),(q=d.current)===null||q===void 0||q.focus()}}),{focusableProps:C}=ae(V(a,{onFocus:()=>e.setLastFocusedValue(l)}),d),p=V(h,C),s=S(a,{labelable:!0}),$=-1;e.selectedValue!=null?e.selectedValue===l&&($=0):(e.lastFocusedValue===l||e.lastFocusedValue==null)&&($=0),f&&($=void 0);let{name:b,form:F,descriptionId:L,errorMessageId:N,validationBehavior:B}=k.get(e);return ee(d,e.defaultSelectedValue,e.setSelectedValue),U({validationBehavior:B},e,d),{labelProps:V(D,{onClick:M=>M.preventDefault()}),inputProps:V(s,{...p,type:"radio",name:b,form:F,tabIndex:$,disabled:f,required:e.isRequired&&B==="native",checked:R,value:l,onChange:P,"aria-describedby":[a["aria-describedby"],e.isInvalid?N:null,L].filter(Boolean).join(" ")||void 0}),isDisabled:f,isSelected:R,isPressed:g||y}}function fe(a,e){let{name:d,form:l,isReadOnly:v,isRequired:r,isDisabled:m,orientation:i="vertical",validationBehavior:n="aria"}=a,{direction:c}=oe(),{isInvalid:t,validationErrors:o,validationDetails:u}=e.displayValidation,{labelProps:f,fieldProps:R,descriptionProps:P,errorMessageProps:h}=j({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||o}),g=S(a,{labelable:!0}),{focusWithinProps:D}=le({onBlurWithin(p){var s;(s=a.onBlur)===null||s===void 0||s.call(a,p),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),y=p=>{let s;switch(p.key){case"ArrowRight":c==="rtl"&&i!=="vertical"?s="prev":s="next";break;case"ArrowLeft":c==="rtl"&&i!=="vertical"?s="next":s="prev";break;case"ArrowDown":s="next";break;case"ArrowUp":s="prev";break;default:return}p.preventDefault();let $=de(p.currentTarget,{from:p.target,accept:F=>F instanceof ie(F).HTMLInputElement&&F.type==="radio"}),b;s==="next"?(b=$.nextNode(),b||($.currentNode=p.currentTarget,b=$.firstChild())):(b=$.previousNode(),b||($.currentNode=p.currentTarget,b=$.lastChild())),b&&(b.focus(),e.setSelectedValue(b.value))},C=Y(d);return k.set(e,{name:C,form:l,descriptionId:P.id,errorMessageId:h.id,validationBehavior:n}),{radioGroupProps:V(g,{role:"radiogroup",onKeyDown:y,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":v||void 0,"aria-required":r||void 0,"aria-disabled":m||void 0,"aria-orientation":i,...R,...D}),labelProps:f,descriptionProps:P,errorMessageProps:h,isInvalid:t,validationErrors:o,validationDetails:u}}let ue=Math.round(Math.random()*1e10),$e=0;function be(a){let e=x.useMemo(()=>a.name||`radio-group-${ue}-${++$e}`,[a.name]);var d;let[l,v]=ne(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[r]=x.useState(l),[m,i]=x.useState(null),n=z({...a,value:l}),c=u=>{!a.isReadOnly&&!a.isDisabled&&(v(u),n.commitValidation())},t=n.displayValidation.isInvalid;var o;return{...n,name:e,selectedValue:l,defaultSelectedValue:a.value!==void 0?r:(o=a.defaultValue)!==null&&o!==void 0?o:null,setSelectedValue:c,lastFocusedValue:m,setLastFocusedValue:i,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(t?"invalid":null),isInvalid:t}}const ve=x.createContext(null),me=x.createContext(null),_=x.createContext(null),Ee=x.forwardRef(function(e,d){[e,d]=E(e,d,ve);let{validationBehavior:l}=G(J)||{};var v,r;let m=(r=(v=e.validationBehavior)!==null&&v!==void 0?v:l)!==null&&r!==void 0?r:"native",i=be({...e,validationBehavior:m}),[n,c]=A(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:t,labelProps:o,descriptionProps:u,errorMessageProps:f,...R}=fe({...e,label:c,validationBehavior:m},i),P=w({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"}),h=S(e,{global:!0});return I.createElement("div",{...V(h,P,t),ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},I.createElement(H,{values:[[_,i],[Q,{...o,ref:n,elementType:"span"}],[X,{slots:{description:u,errorMessage:f}}],[K,R]]},P.children))}),we=x.forwardRef(function(e,d){let{inputRef:l=null,...v}=e;[e,d]=E(v,d,me);let r=I.useContext(_),m=T(x.useMemo(()=>Z(l,e.inputRef!==void 0?e.inputRef:null),[l,e.inputRef])),{labelProps:i,inputProps:n,isSelected:c,isDisabled:t,isPressed:o}=ce({...W(e),children:typeof e.children=="function"?!0:e.children},r,m),{isFocused:u,isFocusVisible:f,focusProps:R}=re(),P=t||r.isReadOnly,{hoverProps:h,isHovered:g}=te({...e,isDisabled:P}),D=w({...e,defaultClassName:"react-aria-Radio",values:{isSelected:c,isPressed:o,isHovered:g,isFocused:u,isFocusVisible:f,isDisabled:t,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),y=S(e,{global:!0});return delete y.id,delete y.onClick,I.createElement("label",{...V(y,i,h,D),ref:d,"data-selected":c||void 0,"data-pressed":o||void 0,"data-hovered":g||void 0,"data-focused":u||void 0,"data-focus-visible":f||void 0,"data-disabled":t||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},I.createElement(se,{elementType:"span"},I.createElement("input",{...V(n,R),ref:m})),D.children)});export{Ee as $,we as a};
