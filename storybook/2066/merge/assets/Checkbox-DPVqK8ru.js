import{r as m,R,j as P}from"./iframe-C72LIGrp.js";import{w as T,H as z,x as A}from"./IconWarning-DoRUMKye.js";import{f as J}from"./flowComponent-iVWHpCHC.js";import{c as K}from"./clsx-B-dksMZM.js";import{a as L}from"./RSPContexts-CxFI_fU2.js";import{$ as q,c as S,f as Q,a as E,d as U,b as X,g as k}from"./utils-Day1TTYQ.js";import{a as Y}from"./FieldError-DSjxrI1_.js";import{a as Z,$ as M}from"./Form-BHgRaZ3j.js";import{b as ee}from"./Label-CF9BgwC5.js";import{a as ae}from"./Text-_4m1t08i.js";import{$ as V,a as ie}from"./index-D0tOGuOJ.js";import{$ as D}from"./filterDOMProps-CghfNOdR.js";import{$ as B,b as de,a as _,c as le,d as te}from"./useFormValidation-wW6D6XQK.js";import{$ as ne}from"./useControlledState-BbMqle0_.js";import{c as se,a as oe,$ as re}from"./useFocusRing-DuRh0iim.js";import{$ as ce}from"./usePress-CqQxVakl.js";import{$ as fe,a as F}from"./useToggleState-CGl4-wpV.js";import{$ as ue}from"./VisuallyHidden-BStPS_vY.js";function w(a,e,l){let r=B({...a,value:e.isSelected}),{isInvalid:c,validationErrors:f,validationDetails:t}=r.displayValidation,{labelProps:d,inputProps:o,isSelected:n,isPressed:u,isDisabled:i,isReadOnly:s}=fe({...a,isInvalid:c},e,l);de(a,r,l);let{isIndeterminate:b,isRequired:$,validationBehavior:v="aria"}=a;m.useEffect(()=>{l.current&&(l.current.indeterminate=!!b)});let{pressProps:x}=ce({isDisabled:i||s,onPress(){let{[_]:h}=a,{commitValidation:I}=h||r;I()}});return{labelProps:V(d,x),inputProps:{...o,checked:n,"aria-required":$&&v==="aria"||void 0,required:$&&v==="native"},isSelected:n,isPressed:u,isDisabled:i,isReadOnly:s,isInvalid:c,validationErrors:f,validationDetails:t}}const N=new WeakMap;function be(a,e){let{isDisabled:l,name:r,form:c,validationBehavior:f="aria"}=a,{isInvalid:t,validationErrors:d,validationDetails:o}=e.displayValidation,{labelProps:n,fieldProps:u,descriptionProps:i,errorMessageProps:s}=Z({...a,labelElementType:"span",isInvalid:t,errorMessage:a.errorMessage||d});N.set(e,{name:r,form:c,descriptionId:i.id,errorMessageId:s.id,validationBehavior:f});let b=D(a,{labelable:!0}),{focusWithinProps:$}=se({onBlurWithin:a.onBlur,onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange});return{groupProps:V(b,{role:"group","aria-disabled":l||void 0,...u,...$}),labelProps:n,descriptionProps:i,errorMessageProps:s,isInvalid:t,validationErrors:d,validationDetails:o}}function ve(a,e,l){const r=F({isReadOnly:a.isReadOnly||e.isReadOnly,isSelected:e.isSelected(a.value),defaultSelected:e.defaultValue.includes(a.value),onChange(h){h?e.addValue(a.value):e.removeValue(a.value),a.onChange&&a.onChange(h)}});let{name:c,form:f,descriptionId:t,errorMessageId:d,validationBehavior:o}=N.get(e);var n;o=(n=a.validationBehavior)!==null&&n!==void 0?n:o;let{realtimeValidation:u}=B({...a,value:r.isSelected,name:void 0,validationBehavior:"aria"}),i=m.useRef(le),s=()=>{e.setInvalid(a.value,u.isInvalid?u:i.current)};m.useEffect(s);let b=e.realtimeValidation.isInvalid?e.realtimeValidation:u,$=o==="native"?e.displayValidation:b;var v;let x=w({...a,isReadOnly:a.isReadOnly||e.isReadOnly,isDisabled:a.isDisabled||e.isDisabled,name:a.name||c,form:a.form||f,isRequired:(v=a.isRequired)!==null&&v!==void 0?v:e.isRequired,validationBehavior:o,[_]:{realtimeValidation:b,displayValidation:$,resetValidation:e.resetValidation,commitValidation:e.commitValidation,updateValidation(h){i.current=h,s()}}},r,l);return{...x,inputProps:{...x.inputProps,"aria-describedby":[a["aria-describedby"],e.isInvalid?d:null,t].filter(Boolean).join(" ")||void 0}}}function $e(a={}){let[e,l]=ne(a.value,a.defaultValue||[],a.onChange),[r]=m.useState(e),c=!!a.isRequired&&e.length===0,f=m.useRef(new Map),t=B({...a,value:e}),d=t.displayValidation.isInvalid;var o,n;return{...t,value:e,defaultValue:(o=a.defaultValue)!==null&&o!==void 0?o:r,setValue(i){a.isReadOnly||a.isDisabled||l(i)},isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isSelected(i){return e.includes(i)},addValue(i){a.isReadOnly||a.isDisabled||e.includes(i)||(e=e.concat(i),l(e))},removeValue(i){a.isReadOnly||a.isDisabled||e.includes(i)&&l(e.filter(s=>s!==i))},toggleValue(i){a.isReadOnly||a.isDisabled||(e.includes(i)?l(e.filter(s=>s!==i)):l(e.concat(i)))},setInvalid(i,s){let b=new Map(f.current);s.isInvalid?b.set(i,s):b.delete(i),f.current=b,t.updateValidation(te(...b.values()))},validationState:(n=a.validationState)!==null&&n!==void 0?n:d?"invalid":null,isInvalid:d,isRequired:c}}const me=m.createContext(null),j=m.createContext(null),je=m.forwardRef(function(e,l){[e,l]=q(e,l,me);let{validationBehavior:r}=S(M)||{};var c,f;let t=(f=(c=e.validationBehavior)!==null&&c!==void 0?c:r)!==null&&f!==void 0?f:"native",d=$e({...e,validationBehavior:t}),[o,n]=Q(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:u,labelProps:i,descriptionProps:s,errorMessageProps:b,...$}=be({...e,label:n,validationBehavior:t},d),v=E({...e,values:{isDisabled:d.isDisabled,isReadOnly:d.isReadOnly,isRequired:e.isRequired||!1,isInvalid:d.isInvalid,state:d},defaultClassName:"react-aria-CheckboxGroup"}),x=D(e,{global:!0});return R.createElement("div",{...V(x,v,u),ref:l,slot:e.slot||void 0,"data-readonly":d.isReadOnly||void 0,"data-required":e.isRequired||void 0,"data-invalid":d.isInvalid||void 0,"data-disabled":e.isDisabled||void 0},R.createElement(U,{values:[[j,d],[ee,{...i,ref:o,elementType:"span"}],[ae,{slots:{description:s,errorMessage:b}}],[Y,$]]},v.children))}),he=m.forwardRef(function(e,l){let{inputRef:r=null,...c}=e;[e,l]=q(c,l,L);let{validationBehavior:f}=S(M)||{};var t,d;let o=(d=(t=e.validationBehavior)!==null&&t!==void 0?t:f)!==null&&d!==void 0?d:"native",n=m.useContext(j),u=X(m.useMemo(()=>ie(r,e.inputRef!==void 0?e.inputRef:null),[r,e.inputRef])),{labelProps:i,inputProps:s,isSelected:b,isDisabled:$,isReadOnly:v,isPressed:x,isInvalid:h}=n?ve({...k(e),value:e.value,children:typeof e.children=="function"?!0:e.children},n,u):w({...k(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:o},F(e),u),{isFocused:I,isFocusVisible:C,focusProps:W}=oe(),H=$||v,{hoverProps:G,isHovered:p}=re({...e,isDisabled:H}),O=E({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:b,isIndeterminate:e.isIndeterminate||!1,isPressed:x,isHovered:p,isFocused:I,isFocusVisible:C,isDisabled:$,isReadOnly:v,isInvalid:h,isRequired:e.isRequired||!1}}),g=D(e,{global:!0});return delete g.id,delete g.onClick,R.createElement("label",{...V(g,i,G,O),ref:l,slot:e.slot||void 0,"data-selected":b||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":x||void 0,"data-hovered":p||void 0,"data-focused":I||void 0,"data-focus-visible":C||void 0,"data-disabled":$||void 0,"data-readonly":v||void 0,"data-invalid":h||void 0,"data-required":e.isRequired||void 0},R.createElement(ue,{elementType:"span"},R.createElement("input",{...V(s,W),ref:u})),O.children)}),xe="flow--checkbox",Pe="flow--checkbox--icon",y={checkbox:xe,icon:Pe},Re=J("Checkbox",a=>{const{children:e,className:l,ref:r,inCheckboxGroup:c,value:f,isDisabled:t,...d}=a;console.log(d);const o=K(y.checkbox,l);return P.jsx(he,{...c?{}:d,isDisabled:t,className:o,ref:r,value:f,children:({isSelected:n,isIndeterminate:u})=>P.jsxs(P.Fragment,{children:[n?P.jsx(T,{className:y.icon}):u?P.jsx(z,{className:y.icon}):P.jsx(A,{className:y.icon}),e]})})});Re.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Checkbox"};export{je as $,Re as C};
