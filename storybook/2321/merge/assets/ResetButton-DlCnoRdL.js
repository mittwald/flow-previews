import{R as V,r as B,j as N}from"./iframe-C_XCETJ4.js";import{d as tr}from"./dynamic-DjbOT4dP.js";import{v as rr,P as Ie}from"./flowComponent-Dc7MSmoT.js";import{F as sr}from"./FieldError-Cv_CJ9jj.js";import{$ as nr}from"./useLocalizedStringFormatter-BgkeYfOl.js";import{u as ir}from"./useRef-DPssy75n.js";import{b as or}from"./utils-Bso2FrGw.js";import"./Button-BRKehz01.js";import{B as _t}from"./ButtonView-CkPSl8Kd.js";import{A as Ue,a as ar,M as ur,b as lr}from"./ActionBatch-TqepIOEV.js";import{i as cr}from"./browser-BQl26QHV.js";var pe=e=>e.type==="checkbox",ce=e=>e instanceof Date,Y=e=>e==null;const Vt=e=>typeof e=="object";var H=e=>!Y(e)&&!Array.isArray(e)&&Vt(e)&&!ce(e),xt=e=>H(e)&&e.target?pe(e.target)?e.target.checked:e.target.value:e,dr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,St=(e,r)=>e.has(dr(r)),fr=e=>{const r=e.constructor&&e.constructor.prototype;return H(r)&&r.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function j(e){if(e instanceof Date)return new Date(e);const r=typeof FileList<"u"&&e instanceof FileList;if(Be&&(e instanceof Blob||r))return e;const t=Array.isArray(e);if(!t&&!(H(e)&&fr(e)))return e;const n=t?[]:Object.create(Object.getPrototypeOf(e));for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=j(e[i]));return n}var Se=e=>/^\w*$/.test(e),U=e=>e===void 0,je=e=>Array.isArray(e)?e.filter(Boolean):[],qe=e=>je(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!H(e))return t;const n=(Se(r)?[r]:qe(r)).reduce((i,o)=>Y(i)?i:i[o],e);return U(n)||n===e?U(e[r])?t:e[r]:n},X=e=>typeof e=="boolean",Z=e=>typeof e=="function",M=(e,r,t)=>{let n=-1;const i=Se(r)?[r]:qe(r),o=i.length,u=o-1;for(;++n<o;){const c=i[n];let b=t;if(n!==u){const A=e[c];b=H(A)||Array.isArray(A)?A:isNaN(+i[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=b,e=e[c]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},se={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},He=V.createContext(null);He.displayName="HookFormControlContext";const Ke=()=>V.useContext(He);var wt=(e,r,t,n=!0)=>{const i={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const u=o;return r._proxyFormState[u]!==se.all&&(r._proxyFormState[u]=!n||se.all),t&&(t[u]=!0),e[u]}});return i};const We=typeof window<"u"?V.useLayoutEffect:V.useEffect;function mr(e){const r=Ke(),{control:t=r,disabled:n,name:i,exact:o}=e||{},[u,c]=V.useState(t._formState),b=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return We(()=>t._subscribe({name:i,formState:b.current,exact:o,callback:A=>{!n&&c({...t._formState,...A})}}),[i,n,o]),V.useEffect(()=>{b.current.isValid&&t._setValid(!0)},[t]),V.useMemo(()=>wt(u,t,b.current,!1),[u,t])}var J=e=>typeof e=="string",Pe=(e,r,t,n,i)=>J(e)?(n&&r.watch.add(e),y(t,e,i)):Array.isArray(e)?e.map(o=>(n&&r.watch.add(o),y(t,o))):(n&&(r.watchAll=!0),t),Me=e=>Y(e)||!Vt(e);function ne(e,r,t=new WeakSet){if(Me(e)||Me(r))return Object.is(e,r);if(ce(e)&&ce(r))return Object.is(e.getTime(),r.getTime());const n=Object.keys(e),i=Object.keys(r);if(n.length!==i.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of n){const u=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=r[o];if(ce(u)&&ce(c)||H(u)&&H(c)||Array.isArray(u)&&Array.isArray(c)?!ne(u,c,t):!Object.is(u,c))return!1}}return!0}function At(e){const r=Ke(),{control:t=r,name:n,defaultValue:i,disabled:o,exact:u,compute:c}=e||{},b=V.useRef(i),A=V.useRef(c),v=V.useRef(void 0),d=V.useRef(t),_=V.useRef(n);A.current=c;const[p,E]=V.useState(()=>{const g=t._getWatch(n,b.current);return A.current?A.current(g):g}),C=V.useCallback(g=>{const S=Pe(n,t._names,g||t._formValues,!1,b.current);return A.current?A.current(S):S},[t._formValues,t._names,n]),w=V.useCallback(g=>{if(!o){const S=Pe(n,t._names,g||t._formValues,!1,b.current);if(A.current){const P=A.current(S);ne(P,v.current)||(E(P),v.current=P)}else E(S)}},[t._formValues,t._names,o,n]);We(()=>((d.current!==t||!ne(_.current,n))&&(d.current=t,_.current=n,w()),t._subscribe({name:n,formState:{values:!0},exact:u,callback:g=>{w(g.values)}})),[t,u,n,w]),V.useEffect(()=>t._removeUnmounted());const O=d.current!==t,x=_.current,T=V.useMemo(()=>{if(o)return null;const g=!O&&!ne(x,n);return O||g?C():null},[o,O,n,x,C]);return T!==null?T:p}function yr(e){const r=Ke(),{name:t,disabled:n,control:i=r,shouldUnregister:o,defaultValue:u,exact:c=!0}=e,b=St(i._names.array,t),A=V.useMemo(()=>y(i._formValues,t,y(i._defaultValues,t,u)),[i,t,u]),v=At({control:i,name:t,defaultValue:A,exact:c}),d=mr({control:i,name:t,exact:c}),_=V.useRef(e),p=V.useRef(void 0),E=V.useRef(i.register(t,{...e.rules,value:v,...X(e.disabled)?{disabled:e.disabled}:{}}));_.current=e;const C=V.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(d.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(d.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(d.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(d.validatingFields,t)},error:{enumerable:!0,get:()=>y(d.errors,t)}}),[d,t]),w=V.useCallback(g=>E.current.onChange({target:{value:xt(g),name:t},type:_e.CHANGE}),[t]),O=V.useCallback(()=>E.current.onBlur({target:{value:y(i._formValues,t),name:t},type:_e.BLUR}),[t,i._formValues]),x=V.useCallback(g=>{const S=y(i._fields,t);S&&S._f&&g&&(S._f.ref={focus:()=>Z(g.focus)&&g.focus(),select:()=>Z(g.select)&&g.select(),setCustomValidity:P=>Z(g.setCustomValidity)&&g.setCustomValidity(P),reportValidity:()=>Z(g.reportValidity)&&g.reportValidity()})},[i._fields,t]),T=V.useMemo(()=>({name:t,value:v,...X(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:w,onBlur:O,ref:x}),[t,n,d.disabled,w,O,x,v]);return V.useEffect(()=>{const g=i._options.shouldUnregister||o,S=p.current;S&&S!==t&&!b&&i.unregister(S),i.register(t,{..._.current.rules,...X(_.current.disabled)?{disabled:_.current.disabled}:{}});const P=(I,z)=>{const ee=y(i._fields,I);ee&&ee._f&&(ee._f.mount=z)};if(P(t,!0),g){const I=j(y(i._options.defaultValues,t,_.current.defaultValue));M(i._defaultValues,t,I),U(y(i._formValues,t))&&M(i._formValues,t,I)}return!b&&i.register(t),p.current=t,()=>{(b?g&&!i._state.action:g)?i.unregister(t):P(t,!1)}},[t,i,b,o]),V.useEffect(()=>{i._setDisabledField({disabled:n,name:t})},[n,t,i]),V.useMemo(()=>({field:T,formState:d,fieldState:C}),[T,d,C])}const Ct=V.createContext(null);Ct.displayName="HookFormContext";const hr=e=>{const{children:r,watch:t,getValues:n,getFieldState:i,setError:o,clearErrors:u,setValue:c,trigger:b,formState:A,resetField:v,reset:d,handleSubmit:_,unregister:p,control:E,register:C,setFocus:w,subscribe:O}=e;return V.createElement(Ct.Provider,{value:V.useMemo(()=>({watch:t,getValues:n,getFieldState:i,setError:o,clearErrors:u,setValue:c,trigger:b,formState:A,resetField:v,reset:d,handleSubmit:_,unregister:p,control:E,register:C,setFocus:w,subscribe:O}),[u,E,A,i,n,_,C,d,v,o,w,c,O,b,p,t])},V.createElement(He.Provider,{value:E},r))};var gr=(e,r,t,n,i)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:i||!0}}:{},be=e=>Array.isArray(e)?e:[e],ut=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}};function kt(e,r){const t={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],o=r[n];if(i&&H(i)&&o){const u=kt(i,o);H(u)&&(t[n]=u)}else e[n]&&(t[n]=o)}return t}var G=e=>H(e)&&!Object.keys(e).length,$e=e=>e.type==="file",Ve=e=>{if(!Be)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Et=e=>e.type==="select-multiple",Ge=e=>e.type==="radio",br=e=>Ge(e)||pe(e),Le=e=>Ve(e)&&e.isConnected;function vr(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=U(e)?n++:e[r[n++]];return e}function pr(e){for(const r in e)if(e.hasOwnProperty(r)&&!U(e[r]))return!1;return!0}function q(e,r){const t=Array.isArray(r)?r:Se(r)?[r]:qe(r),n=t.length===1?e:vr(e,t),i=t.length-1,o=t[i];return n&&delete n[o],i!==0&&(H(n)&&G(n)||Array.isArray(n)&&pr(n))&&q(e,t.slice(0,-1)),e}var Fr=e=>{for(const r in e)if(Z(e[r]))return!0;return!1};function Rt(e){return Array.isArray(e)||H(e)&&!Fr(e)}function Ne(e,r={}){for(const t in e){const n=e[t];Rt(n)?(r[t]=Array.isArray(n)?[]:{},Ne(n,r[t])):U(n)||(r[t]=!0)}return r}function fe(e,r,t){t||(t=Ne(r));for(const n in e){const i=e[n];if(Rt(i))U(r)||Me(t[n])?t[n]=Ne(i,Array.isArray(i)?[]:{}):fe(i,Y(r)?{}:r[n],t[n]);else{const o=r[n];t[n]=!ne(i,o)}}return t}const lt={value:!1,isValid:!1},ct={value:!0,isValid:!0};var Lt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!U(e[0].attributes.value)?U(e[0].value)||e[0].value===""?ct:{value:e[0].value,isValid:!0}:ct:lt}return lt},Dt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>U(e)?e:r?e===""?NaN:e&&+e:t&&J(e)?new Date(e):n?n(e):e;const dt={isValid:!1,value:null};var Ot=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,dt):dt;function ft(e){const r=e.ref;return $e(r)?r.files:Ge(r)?Ot(e.refs).value:Et(r)?[...r.selectedOptions].map(({value:t})=>t):pe(r)?Lt(e.refs).value:Dt(U(r.value)?e.ref.value:r.value,e)}var _r=(e,r,t,n)=>{const i={};for(const o of e){const u=y(r,o);u&&M(i,o,u._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:n}},xe=e=>e instanceof RegExp,ge=e=>U(e)?e:xe(e)?e.source:H(e)?xe(e.value)?e.value.source:e.value:e,mt=e=>({isOnSubmit:!e||e===se.onSubmit,isOnBlur:e===se.onBlur,isOnChange:e===se.onChange,isOnAll:e===se.all,isOnTouch:e===se.onTouched});const yt="AsyncFunction";var Vr=e=>!!e&&!!e.validate&&!!(Z(e.validate)&&e.validate.constructor.name===yt||H(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===yt)),xr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ht=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ve=(e,r,t,n)=>{for(const i of t||Object.keys(e)){const o=y(e,i);if(o){const{_f:u,...c}=o;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],i)&&!n)return!0;if(u.ref&&r(u.ref,u.name)&&!n)return!0;if(ve(c,r))break}else if(H(c)&&ve(c,r))break}}};function gt(e,r,t){const n=y(e,t);if(n||Se(t))return{error:n,name:t};const i=t.split(".");for(;i.length;){const o=i.join("."),u=y(r,o),c=y(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};i.pop()}return{name:t}}var Sr=(e,r,t,n)=>{t(e);const{name:i,...o}=e;return G(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(u=>r[u]===(!n||se.all))},wr=(e,r,t)=>!e||!r||e===r||be(e).some(n=>n&&(t?n===r:n.startsWith(r)||r.startsWith(n))),Ar=(e,r,t,n,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(r||e):(t?n.isOnBlur:i.isOnBlur)?!e:(t?n.isOnChange:i.isOnChange)?e:!0,Cr=(e,r)=>!je(y(e,r)).length&&q(e,r),kr=(e,r,t)=>{const n=be(y(e,t));return M(n,"root",r[t]),M(e,t,n),e};function bt(e,r,t="validate"){if(J(e)||Array.isArray(e)&&e.every(J)||X(e)&&!e)return{type:t,message:J(e)?e:"",ref:r}}var de=e=>H(e)&&!xe(e)?e:{value:e,message:""},vt=async(e,r,t,n,i,o)=>{const{ref:u,refs:c,required:b,maxLength:A,minLength:v,min:d,max:_,pattern:p,validate:E,name:C,valueAsNumber:w,mount:O}=e._f,x=y(t,C);if(!O||r.has(C))return{};const T=c?c[0]:u,g=k=>{i&&T.reportValidity&&(T.setCustomValidity(X(k)?"":k||""),T.reportValidity())},S={},P=Ge(u),I=pe(u),z=P||I,ee=(w||$e(u))&&U(u.value)&&U(x)||Ve(u)&&u.value===""||x===""||Array.isArray(x)&&!x.length,te=gr.bind(null,C,n,S),Fe=(k,R,K,W=ie.maxLength,re=ie.minLength)=>{const Q=k?R:K;S[C]={type:k?W:re,message:Q,ref:u,...te(k?W:re,Q)}};if(o?!Array.isArray(x)||!x.length:b&&(!z&&(ee||Y(x))||X(x)&&!x||I&&!Lt(c).isValid||P&&!Ot(c).isValid)){const{value:k,message:R}=J(b)?{value:!!b,message:b}:de(b);if(k&&(S[C]={type:ie.required,message:R,ref:T,...te(ie.required,R)},!n))return g(R),S}if(!ee&&(!Y(d)||!Y(_))){let k,R;const K=de(_),W=de(d);if(!Y(x)&&!isNaN(x)){const re=u.valueAsNumber||x&&+x;Y(K.value)||(k=re>K.value),Y(W.value)||(R=re<W.value)}else{const re=u.valueAsDate||new Date(x),Q=he=>new Date(new Date().toDateString()+" "+he),me=u.type=="time",ye=u.type=="week";J(K.value)&&x&&(k=me?Q(x)>Q(K.value):ye?x>K.value:re>new Date(K.value)),J(W.value)&&x&&(R=me?Q(x)<Q(W.value):ye?x<W.value:re<new Date(W.value))}if((k||R)&&(Fe(!!k,K.message,W.message,ie.max,ie.min),!n))return g(S[C].message),S}if((A||v)&&!ee&&(J(x)||o&&Array.isArray(x))){const k=de(A),R=de(v),K=!Y(k.value)&&x.length>+k.value,W=!Y(R.value)&&x.length<+R.value;if((K||W)&&(Fe(K,k.message,R.message),!n))return g(S[C].message),S}if(p&&!ee&&J(x)){const{value:k,message:R}=de(p);if(xe(k)&&!x.match(k)&&(S[C]={type:ie.pattern,message:R,ref:u,...te(ie.pattern,R)},!n))return g(R),S}if(E){if(Z(E)){const k=await E(x,t),R=bt(k,T);if(R&&(S[C]={...R,...te(ie.validate,R.message)},!n))return g(R.message),S}else if(H(E)){let k={};for(const R in E){if(!G(k)&&!n)break;const K=bt(await E[R](x,t),T,R);K&&(k={...K,...te(R,K.message)},g(K.message),n&&(S[C]=k))}if(!G(k)&&(S[C]={ref:T,...k},!n))return S}}return g(!0),S};const Er={mode:se.onSubmit,reValidateMode:se.onChange,shouldFocusError:!0};function Rr(e={}){let r={...Er,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},i=H(r.defaultValues)||H(r.values)?j(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:j(i),u={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,A=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...v};let _={...d};const p={array:ut(),state:ut()},E=r.criteriaMode===se.all,C=s=>a=>{clearTimeout(A),A=setTimeout(s,a)},w=async s=>{if(!u.keepIsValid&&!r.disabled&&(d.isValid||_.isValid||s)){let a;r.resolver?(a=G((await z()).errors),O()):a=await te(n,!0),a!==t.isValid&&p.state.next({isValid:a})}},O=(s,a)=>{!r.disabled&&(d.isValidating||d.validatingFields||_.isValidating||_.validatingFields)&&((s||Array.from(c.mount)).forEach(l=>{l&&(a?M(t.validatingFields,l,a):q(t.validatingFields,l))}),p.state.next({validatingFields:t.validatingFields,isValidating:!G(t.validatingFields)}))},x=(s,a=[],l,h,m=!0,f=!0)=>{if(h&&l&&!r.disabled){if(u.action=!0,f&&Array.isArray(y(n,s))){const F=l(y(n,s),h.argA,h.argB);m&&M(n,s,F)}if(f&&Array.isArray(y(t.errors,s))){const F=l(y(t.errors,s),h.argA,h.argB);m&&M(t.errors,s,F),Cr(t.errors,s)}if((d.touchedFields||_.touchedFields)&&f&&Array.isArray(y(t.touchedFields,s))){const F=l(y(t.touchedFields,s),h.argA,h.argB);m&&M(t.touchedFields,s,F)}(d.dirtyFields||_.dirtyFields)&&(t.dirtyFields=fe(i,o)),p.state.next({name:s,isDirty:k(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else M(o,s,a)},T=(s,a)=>{M(t.errors,s,a),p.state.next({errors:t.errors})},g=s=>{t.errors=s,p.state.next({errors:t.errors,isValid:!1})},S=(s,a,l,h)=>{const m=y(n,s);if(m){const f=y(o,s,U(l)?y(i,s):l);U(f)||h&&h.defaultChecked||a?M(o,s,a?f:ft(m._f)):W(s,f),u.mount&&!u.action&&w()}},P=(s,a,l,h,m)=>{let f=!1,F=!1;const L={name:s};if(!r.disabled){if(!l||h){(d.isDirty||_.isDirty)&&(F=t.isDirty,t.isDirty=L.isDirty=k(),f=F!==L.isDirty);const D=ne(y(i,s),a);F=!!y(t.dirtyFields,s),D?q(t.dirtyFields,s):M(t.dirtyFields,s,!0),L.dirtyFields=t.dirtyFields,f=f||(d.dirtyFields||_.dirtyFields)&&F!==!D}if(l){const D=y(t.touchedFields,s);D||(M(t.touchedFields,s,l),L.touchedFields=t.touchedFields,f=f||(d.touchedFields||_.touchedFields)&&D!==l)}f&&m&&p.state.next(L)}return f?L:{}},I=(s,a,l,h)=>{const m=y(t.errors,s),f=(d.isValid||_.isValid)&&X(a)&&t.isValid!==a;if(r.delayError&&l?(b=C(()=>T(s,l)),b(r.delayError)):(clearTimeout(A),b=null,l?M(t.errors,s,l):q(t.errors,s)),(l?!ne(m,l):m)||!G(h)||f){const F={...h,...f&&X(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...F},p.state.next(F)}},z=async s=>(O(s,!0),await r.resolver(o,r.context,_r(s||c.mount,n,r.criteriaMode,r.shouldUseNativeValidation))),ee=async s=>{const{errors:a}=await z(s);if(O(s),s)for(const l of s){const h=y(a,l);h?M(t.errors,l,h):q(t.errors,l)}else t.errors=a;return a},te=async(s,a,l={valid:!0})=>{for(const h in s){const m=s[h];if(m){const{_f:f,...F}=m;if(f){const L=c.array.has(f.name),D=m._f&&Vr(m._f);D&&d.validatingFields&&O([f.name],!0);const $=await vt(m,c.disabled,o,E,r.shouldUseNativeValidation&&!a,L);if(D&&d.validatingFields&&O([f.name]),$[f.name]&&(l.valid=!1,a||e.shouldUseNativeValidation))break;!a&&(y($,f.name)?L?kr(t.errors,$,f.name):M(t.errors,f.name,$[f.name]):q(t.errors,f.name))}!G(F)&&await te(F,a,l)}}return l.valid},Fe=()=>{for(const s of c.unMount){const a=y(n,s);a&&(a._f.refs?a._f.refs.every(l=>!Le(l)):!Le(a._f.ref))&&Ae(s)}c.unMount=new Set},k=(s,a)=>!r.disabled&&(s&&a&&M(o,s,a),!ne(Qe(),i)),R=(s,a,l)=>Pe(s,c,{...u.mount?o:U(a)?i:J(s)?{[s]:a}:a},l,a),K=s=>je(y(u.mount?o:i,s,r.shouldUnregister?y(i,s,[]):[])),W=(s,a,l={})=>{const h=y(n,s);let m=a;if(h){const f=h._f;f&&(!f.disabled&&M(o,s,Dt(a,f)),m=Ve(f.ref)&&Y(a)?"":a,Et(f.ref)?[...f.ref.options].forEach(F=>F.selected=m.includes(F.value)):f.refs?pe(f.ref)?f.refs.forEach(F=>{(!F.defaultChecked||!F.disabled)&&(Array.isArray(m)?F.checked=!!m.find(L=>L===F.value):F.checked=m===F.value||!!m)}):f.refs.forEach(F=>F.checked=F.value===m):$e(f.ref)?f.ref.value="":(f.ref.value=m,f.ref.type||p.state.next({name:s,values:j(o)})))}(l.shouldDirty||l.shouldTouch)&&P(s,m,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&he(s)},re=(s,a,l)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const m=a[h],f=s+"."+h,F=y(n,f);(c.array.has(s)||H(m)||F&&!F._f)&&!ce(m)?re(f,m,l):W(f,m,l)}},Q=(s,a,l={})=>{const h=y(n,s),m=c.array.has(s),f=j(a);M(o,s,f),m?(p.array.next({name:s,values:j(o)}),(d.isDirty||d.dirtyFields||_.isDirty||_.dirtyFields)&&l.shouldDirty&&p.state.next({name:s,dirtyFields:fe(i,o),isDirty:k(s,f)})):h&&!h._f&&!Y(f)?re(s,f,l):W(s,f,l),ht(s,c)?p.state.next({...t,name:s,values:j(o)}):p.state.next({name:u.mount?s:void 0,values:j(o)})},me=async s=>{u.mount=!0;const a=s.target;let l=a.name,h=!0;const m=y(n,l),f=D=>{h=Number.isNaN(D)||ce(D)&&isNaN(D.getTime())||ne(D,y(o,l,D))},F=mt(r.mode),L=mt(r.reValidateMode);if(m){let D,$;const le=a.type?ft(m._f):xt(s),ae=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Xt=!xr(m._f)&&!r.resolver&&!y(t.errors,l)&&!m._f.deps||Ar(ae,y(t.touchedFields,l),t.isSubmitted,L,F),Ee=ht(l,c,ae);M(o,l,le),ae?(!a||!a.readOnly)&&(m._f.onBlur&&m._f.onBlur(s),b&&b(0)):m._f.onChange&&m._f.onChange(s);const Re=P(l,le,ae),Jt=!G(Re)||Ee;if(!ae&&p.state.next({name:l,type:s.type,values:j(o)}),Xt)return(d.isValid||_.isValid)&&(r.mode==="onBlur"?ae&&w():ae||w()),Jt&&p.state.next({name:l,...Ee?{}:Re});if(!ae&&Ee&&p.state.next({...t}),r.resolver){const{errors:ot}=await z([l]);if(O([l]),f(le),h){const er=gt(t.errors,n,l),at=gt(ot,n,er.name||l);D=at.error,l=at.name,$=G(ot)}}else O([l],!0),D=(await vt(m,c.disabled,o,E,r.shouldUseNativeValidation))[l],O([l]),f(le),h&&(D?$=!1:(d.isValid||_.isValid)&&($=await te(n,!0)));h&&(m._f.deps&&(!Array.isArray(m._f.deps)||m._f.deps.length>0)&&he(m._f.deps),I(l,$,D,Re))}},ye=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},he=async(s,a={})=>{let l,h;const m=be(s);if(r.resolver){const f=await ee(U(s)?s:m);l=G(f),h=s?!m.some(F=>y(f,F)):l}else s?(h=(await Promise.all(m.map(async f=>{const F=y(n,f);return await te(F&&F._f?{[f]:F}:F)}))).every(Boolean),!(!h&&!t.isValid)&&w()):h=l=await te(n);return p.state.next({...!J(s)||(d.isValid||_.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!h&&ve(n,ye,s?m:c.mount),h},Qe=(s,a)=>{let l={...u.mount?o:i};return a&&(l=kt(a.dirtyFields?t.dirtyFields:t.touchedFields,l)),U(s)?l:J(s)?y(l,s):s.map(h=>y(l,h))},Xe=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),Wt=s=>{s&&be(s).forEach(a=>q(t.errors,a)),p.state.next({errors:s?t.errors:{}})},Je=(s,a,l)=>{const h=(y(n,s,{_f:{}})._f||{}).ref,m=y(t.errors,s)||{},{ref:f,message:F,type:L,...D}=m;M(t.errors,s,{...D,...a,ref:h}),p.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},$t=(s,a)=>Z(s)?p.state.subscribe({next:l=>"values"in l&&s(R(void 0,a),l)}):R(s,a,!0),et=s=>p.state.subscribe({next:a=>{wr(s.name,a.name,s.exact)&&Sr(a,s.formState||d,Qt,s.reRenderRoot)&&s.callback({values:{...o},...t,...a,defaultValues:i})}}).unsubscribe,Gt=s=>(u.mount=!0,_={..._,...s.formState},et({...s,formState:{...v,...s.formState}})),Ae=(s,a={})=>{for(const l of s?be(s):c.mount)c.mount.delete(l),c.array.delete(l),a.keepValue||(q(n,l),q(o,l)),!a.keepError&&q(t.errors,l),!a.keepDirty&&q(t.dirtyFields,l),!a.keepTouched&&q(t.touchedFields,l),!a.keepIsValidating&&q(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&q(i,l);p.state.next({values:j(o)}),p.state.next({...t,...a.keepDirty?{isDirty:k()}:{}}),!a.keepIsValid&&w()},tt=({disabled:s,name:a})=>{if(X(s)&&u.mount||s||c.disabled.has(a)){const m=c.disabled.has(a)!==!!s;s?c.disabled.add(a):c.disabled.delete(a),m&&u.mount&&!u.action&&w()}},Ce=(s,a={})=>{let l=y(n,s);const h=X(a.disabled)||X(r.disabled);return M(n,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),c.mount.add(s),l?tt({disabled:X(a.disabled)?a.disabled:r.disabled,name:s}):S(s,!0,a.value),{...h?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ge(a.min),max:ge(a.max),minLength:ge(a.minLength),maxLength:ge(a.maxLength),pattern:ge(a.pattern)}:{},name:s,onChange:me,onBlur:me,ref:m=>{if(m){Ce(s,a),l=y(n,s);const f=U(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,F=br(f),L=l._f.refs||[];if(F?L.find(D=>D===f):f===l._f.ref)return;M(n,s,{_f:{...l._f,...F?{refs:[...L.filter(Le),f,...Array.isArray(y(i,s))?[{}]:[]],ref:{type:f.type,name:s}}:{ref:f}}}),S(s,!1,void 0,f)}else l=y(n,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(St(c.array,s)&&u.action)&&c.unMount.add(s)}}},ke=()=>r.shouldFocusError&&ve(n,ye,c.mount),Zt=s=>{X(s)&&(p.state.next({disabled:s}),ve(n,(a,l)=>{const h=y(n,l);h&&(a.disabled=h._f.disabled||s,Array.isArray(h._f.refs)&&h._f.refs.forEach(m=>{m.disabled=h._f.disabled||s}))},0,!1))},rt=(s,a)=>async l=>{let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let m=j(o);if(p.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:F}=await z();O(),t.errors=f,m=j(F)}else await te(n);if(c.disabled.size)for(const f of c.disabled)q(m,f);if(q(t.errors,"root"),G(t.errors)){p.state.next({errors:{}});try{await s(m,l)}catch(f){h=f}}else a&&await a({...t.errors},l),ke(),setTimeout(ke);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:G(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Yt=(s,a={})=>{y(n,s)&&(U(a.defaultValue)?Q(s,j(y(i,s))):(Q(s,a.defaultValue),M(i,s,j(a.defaultValue))),a.keepTouched||q(t.touchedFields,s),a.keepDirty||(q(t.dirtyFields,s),t.isDirty=a.defaultValue?k(s,j(y(i,s))):k()),a.keepError||(q(t.errors,s),d.isValid&&w()),p.state.next({...t}))},st=(s,a={})=>{const l=s?j(s):i,h=j(l),m=G(s),f=m?i:h;if(a.keepDefaultValues||(i=l),!a.keepValues){if(a.keepDirtyValues){const F=new Set([...c.mount,...Object.keys(fe(i,o))]);for(const L of Array.from(F)){const D=y(t.dirtyFields,L),$=y(o,L),le=y(f,L);D&&!U($)?M(f,L,$):!D&&!U(le)&&Q(L,le)}}else{if(Be&&U(s))for(const F of c.mount){const L=y(n,F);if(L&&L._f){const D=Array.isArray(L._f.refs)?L._f.refs[0]:L._f.ref;if(Ve(D)){const $=D.closest("form");if($){$.reset();break}}}}if(a.keepFieldsRef)for(const F of c.mount)Q(F,y(f,F));else n={}}o=r.shouldUnregister?a.keepDefaultValues?j(i):{}:j(f),p.array.next({values:{...f}}),p.state.next({values:{...f}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!d.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!r.shouldUnregister&&!G(f),u.watch=!!r.shouldUnregister,u.keepIsValid=!!a.keepIsValid,u.action=!1,a.keepErrors||(t.errors={}),p.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:m?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ne(s,i)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:m?{}:a.keepDirtyValues?a.keepDefaultValues&&o?fe(i,o):t.dirtyFields:a.keepDefaultValues&&s?fe(i,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},nt=(s,a)=>st(Z(s)?s(o):s,{...r.resetOptions,...a}),zt=(s,a={})=>{const l=y(n,s),h=l&&l._f;if(h){const m=h.refs?h.refs[0]:h.ref;m.focus&&setTimeout(()=>{m.focus(),a.shouldSelect&&Z(m.select)&&m.select()})}},Qt=s=>{t={...t,...s}},it={control:{register:Ce,unregister:Ae,getFieldState:Xe,handleSubmit:rt,setError:Je,_subscribe:et,_runSchema:z,_updateIsValidating:O,_focusError:ke,_getWatch:R,_getDirty:k,_setValid:w,_setFieldArray:x,_setDisabledField:tt,_setErrors:g,_getFieldArray:K,_reset:st,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(s=>{nt(s,r.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:Fe,_disableForm:Zt,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return o},get _state(){return u},set _state(s){u=s},get _defaultValues(){return i},get _names(){return c},set _names(s){c=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Gt,trigger:he,register:Ce,handleSubmit:rt,watch:$t,setValue:Q,getValues:Qe,reset:nt,resetField:Yt,clearErrors:Wt,unregister:Ae,setError:Je,setFocus:zt,getFieldState:Xe};return{...it,formControl:it}}function bs(e={}){const r=V.useRef(void 0),t=V.useRef(void 0),[n,i]=V.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:n},e.defaultValues&&!Z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=Rr(e);r.current={...c,formState:n}}const o=r.current.control;return o._options=e,We(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),o._formState.isReady=!0,u},[o]),V.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),V.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),V.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),V.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==n.isDirty&&o._subjects.state.next({isDirty:u})}},[o,n.isDirty]),V.useEffect(()=>{var u;e.values&&!ne(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((u=o._options.resetOptions)===null||u===void 0)&&u.keepIsValid||o._setValid(),t.current=e.values,i(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),V.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=V.useMemo(()=>wt(n,o),[o,n]),r.current}const Lr=e=>{const{formState:r,setReadOnly:t}=e,{isSubmitting:n}=r;B.useEffect(()=>{t(n)},[n,t])},Tt=B.createContext(void 0),Pt=e=>{const{form:r,id:t,isReadOnly:n=!1,onAfterSuccessFeedback:i,children:o}=e,[u,c]=B.useState(n),b=n||u;return Lr({formState:r.formState,setReadOnly:c}),N.jsx(Tt,{value:{isReadOnly:b,setReadOnly:c,id:t,form:r,onAfterSuccessFeedback:i},children:o})},we=()=>{const e=Dr();return cr(!!e,"Could not useFormContext() outside a Form, or multiple versions of Flow installed."),e},Dr=()=>B.useContext(Tt);Pt.__docgenInfo={description:"",methods:[],displayName:"FormContextProvider",props:{form:{required:!0,tsType:{name:"UseFormReturn"},description:""},id:{required:!0,tsType:{name:"string"},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""},onAfterSuccessFeedback:{required:!1,tsType:{name:"AfterFormSubmitCallback"},description:""}},composes:["PropsWithChildren"]};const Or={"de-DE":{maxLength:e=>`Bitte gib hÃ¶chstens ${e.number} Zeichen ein`,minLength:e=>`Bitte gib mindestens ${e.number} Zeichen ein`},"en-US":{maxLength:e=>`Please enter at most ${e.number} characters`,minLength:e=>`Please enter at least ${e.number} characters`}},Ze=B.memo(e=>{const r=B.useContext(rr).FieldError??sr;return N.jsx(r,{...e})});Ze.displayName="FieldErrorView";Ze.__docgenInfo={description:"",methods:[],displayName:"FieldErrorView"};function Mt(e){const{children:r,name:t,defaultValue:n,...i}=e,o=nr(Or),u=yr({...e,rules:{...e.rules,minLength:typeof i.rules?.minLength=="number"?{value:i.rules.minLength,message:o.format("minLength",{number:i.rules.minLength})}:i.rules?.minLength,maxLength:typeof i.rules?.maxLength=="number"?{value:i.rules.maxLength,message:o.format("maxLength",{number:i.rules.maxLength})}:i.rules?.maxLength}}),c=we(),b=At({control:c.form.control,name:t})??u.field.value,A=u.fieldState.invalid,v={...u.field,value:b,name:t,form:c.id,isRequired:!!i.rules?.required,isReadOnly:c.isReadOnly,validationBehavior:"aria",defaultValue:n,isInvalid:A,children:tr(_=>N.jsxs(N.Fragment,{children:[_.children,N.jsx(Ze,{children:u.fieldState.error?.message})]}))},d={Autocomplete:{SearchField:v,TextField:v},SearchField:v,TextField:v,TextArea:v,MarkdownEditor:v,Checkbox:{...v,isSelected:b},CheckboxGroup:{...v},CheckboxButton:{...v,isSelected:b},FileField:v,FileDropZone:v,NumberField:v,RadioGroup:v,Switch:{...v,isSelected:b},Slider:v,PasswordCreationField:v,DatePicker:v,DateRangePicker:v,TimeField:v,SegmentedControl:v,Select:{...v,selectedKey:b},ComboBox:{...v,selectedKey:b},Rating:v};return N.jsx(Ie,{props:d,dependencies:[u.fieldState,u.field,b,c.isReadOnly],children:r})}const vs=e=>Mt;Mt.__docgenInfo={description:"",methods:[],displayName:"Field",composes:["Omit","PropsWithChildren"]};const Nt=["shift","alt","meta","mod","ctrl","control"],Tr={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function ue(e){return(Tr[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function It(e){return Nt.includes(e)}function De(e,r=","){return e.toLowerCase().split(r)}function Oe(e,r="+",t=">",n=!1,i,o){let u=[],c=!1;e=e.trim(),e.includes(t)?(c=!0,u=e.toLocaleLowerCase().split(t).map(v=>ue(v))):u=e.toLocaleLowerCase().split(r).map(v=>ue(v));const b={alt:u.includes("alt"),ctrl:u.includes("ctrl")||u.includes("control"),shift:u.includes("shift"),meta:u.includes("meta"),mod:u.includes("mod"),useKey:n},A=u.filter(v=>!Nt.includes(v));return{...b,keys:A,description:i,isSequence:c,hotkey:e,metadata:o}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Ut([ue(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&Bt([ue(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{oe.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{oe.clear()},0)}));const oe=new Set;function Ye(e){return Array.isArray(e)}function Pr(e,r=","){return(Ye(e)?e:e.split(r)).every(t=>oe.has(t.trim().toLowerCase()))}function Ut(e){const r=Array.isArray(e)?e:[e];oe.has("meta")&&oe.forEach(t=>{It(t)||oe.delete(t.toLowerCase())}),r.forEach(t=>{oe.add(t.toLowerCase())})}function Bt(e){const r=Array.isArray(e)?e:[e];e==="meta"?oe.clear():r.forEach(t=>{oe.delete(t.toLowerCase())})}function Mr(e,r,t){(typeof t=="function"&&t(e,r)||t===!0)&&e.preventDefault()}function Nr(e,r,t){return typeof t=="function"?t(e,r):t===!0||t===void 0}const Ir=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function Ur(e){return jt(e,Ir)}function jt(e,r=!1){const{target:t,composed:n}=e;let i,o;return Br(t)&&n?(i=e.composedPath()[0]&&e.composedPath()[0].tagName,o=e.composedPath()[0]&&e.composedPath()[0].role):(i=t&&t.tagName,o=t&&t.role),Ye(r)?!!(i&&r&&r.some(u=>u.toLowerCase()===i.toLowerCase()||u===o)):!!(i&&r&&r)}function Br(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function jr(e,r){return e.length===0&&r?!1:r?e.some(t=>r.includes(t))||e.includes("*"):!0}const qr=(e,r,t=!1)=>{const{alt:n,meta:i,mod:o,shift:u,ctrl:c,keys:b,useKey:A}=r,{code:v,key:d,ctrlKey:_,metaKey:p,shiftKey:E,altKey:C}=e,w=ue(v);if(A){if(b?.length===1&&b.includes(d.toLowerCase())){if(!t){if(n!==C||u!==E)return!1;if(o){if(!p&&!_)return!1}else if(i!==p||c!==_)return!1}return!0}return!1}if(!b?.includes(w)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(w))return!1;if(!t){if(n!==C&&w!=="alt"||u!==E&&w!=="shift")return!1;if(o){if(!p&&!_)return!1}else if(i!==p&&w!=="meta"&&w!=="os"||c!==_&&w!=="ctrl"&&w!=="control")return!1}return b&&b.length===1&&b.includes(w)?!0:b&&b.length>0?b.includes(w)?Pr(b):!1:!b||b.length===0},Hr=B.createContext(void 0),Kr=()=>B.useContext(Hr);function qt(e,r){return e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(e).length===Object.keys(r).length&&Object.keys(e).reduce((t,n)=>t&&qt(e[n],r[n]),!0):e===r}const Wr=B.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),$r=()=>B.useContext(Wr);function Gr(e){const r=B.useRef(void 0);return qt(r.current,e)||(r.current=e),r.current}const pt=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},Zr=typeof window<"u"?B.useLayoutEffect:B.useEffect;function Yr(e,r,t,n){const i=B.useRef(null),o=B.useRef(!1),u=Array.isArray(t)?Array.isArray(n)?void 0:n:t,c=Ye(e)?e.join(u?.delimiter):e,b=Array.isArray(t)?t:Array.isArray(n)?n:void 0,A=B.useCallback(r,b??[]),v=B.useRef(A);b?v.current=A:v.current=r;const d=Gr(u),{activeScopes:_}=$r(),p=Kr();return Zr(()=>{if(d?.enabled===!1||!jr(_,d?.scopes))return;let E=[],C;const w=(g,S=!1)=>{if(!(Ur(g)&&!jt(g,d?.enableOnFormTags))){if(i.current!==null){const P=i.current.getRootNode();if((P instanceof Document||P instanceof ShadowRoot)&&P.activeElement!==i.current&&!i.current.contains(P.activeElement)){pt(g);return}}g.target?.isContentEditable&&!d?.enableOnContentEditable||De(c,d?.delimiter).forEach(P=>{if(P.includes(d?.splitKey??"+")&&P.includes(d?.sequenceSplitKey??">")){console.warn(`Hotkey ${P} contains both ${d?.splitKey??"+"} and ${d?.sequenceSplitKey??">"} which is not supported.`);return}const I=Oe(P,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata);if(I.isSequence){C=setTimeout(()=>{E=[]},d?.sequenceTimeoutMs??1e3);const z=I.useKey?g.key:ue(g.code);if(It(z.toLowerCase()))return;E.push(z);const ee=I.keys?.[E.length-1];if(z!==ee){E=[],C&&clearTimeout(C);return}E.length===I.keys?.length&&(v.current(g,I),C&&clearTimeout(C),E=[])}else if(qr(g,I,d?.ignoreModifiers)||I.keys?.includes("*")){if(d?.ignoreEventWhen?.(g)||S&&o.current)return;if(Mr(g,I,d?.preventDefault),!Nr(g,I,d?.enabled)){pt(g);return}v.current(g,I),S||(o.current=!0)}})}},O=g=>{g.code!==void 0&&(Ut(ue(g.code)),(d?.keydown===void 0&&d?.keyup!==!0||d?.keydown)&&w(g))},x=g=>{g.code!==void 0&&(Bt(ue(g.code)),o.current=!1,d?.keyup&&w(g,!0))},T=i.current||u?.document||document;return T.addEventListener("keyup",x,u?.eventListenerOptions),T.addEventListener("keydown",O,u?.eventListenerOptions),p&&De(c,d?.delimiter).forEach(g=>{p.addHotkey(Oe(g,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata))}),()=>{T.removeEventListener("keyup",x,u?.eventListenerOptions),T.removeEventListener("keydown",O,u?.eventListenerOptions),p&&De(c,d?.delimiter).forEach(g=>{p.removeHotkey(Oe(g,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata))}),E=[],C&&clearTimeout(C)}},[c,d,_]),i}function Te(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}var zr=typeof window<"u"?B.useLayoutEffect:B.useEffect,Ft=new WeakMap;function Qr(e,r){var t=ir(null,function(n){return e.forEach(function(i){return Te(i,n)})});return zr(function(){var n=Ft.get(t);if(n){var i=new Set(n),o=new Set(e),u=t.current;i.forEach(function(c){o.has(c)||Te(c,null)}),o.forEach(function(c){i.has(c)||Te(c,u)})}Ft.set(t,e)},[e]),t}const Xr=e=>{const{ref:r,handleSubmit:t}=e;return Qr([or(r),Yr("mod+enter",t,{enableOnFormTags:!0,enableOnContentEditable:!0})])},Jr=e=>N.jsx("form",{...e});function es(e){const{form:r,children:t,onSubmit:n,formComponent:i=Jr,isReadOnly:o,ref:u,id:c,...b}=e,A=B.useId(),v=c??A,d=B.useMemo(()=>i,[v]),_=B.useRef(void 0),{isSubmitting:p,isValidating:E}=r.formState,C=T=>{typeof T=="function"&&(_.current=T)},w=T=>{const g=T&&"nativeEvent"in T?T:void 0;if(g?.stopPropagation(),!(p||E))return r.handleSubmit((S,P)=>{const I=n(S,P);if(I instanceof Promise)return I.then(C);C(I)})(g)},O=()=>{_.current?.()},x=Xr({ref:u,handleSubmit:w});return N.jsx(hr,{...r,children:N.jsx(Pt,{form:r,isReadOnly:o,id:v,onAfterSuccessFeedback:O,children:N.jsx(d,{...b,ref:x,id:v,onSubmit:w,children:t})})})}es.__docgenInfo={description:"",methods:[],displayName:"Form",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"F"}],raw:"UseFormReturn<F>"},description:""},onSubmit:{required:!0,tsType:{name:"SubmitHandler",elements:[{name:"F"}],raw:"SubmitHandler<F>"},description:""},formComponent:{required:!1,tsType:{name:"FC",elements:[{name:"Omit",elements:[{name:"FC",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: Ref<HTMLFormElement>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"onSubmit",value:{name:"union",raw:"FormEventHandler | FormOnSubmitHandler<never>",elements:[{name:"FormEventHandler"},{name:"SubmitHandler",elements:[{name:"never"}],raw:"SubmitHandler<F>"}],required:!1}},{key:"ref",value:{name:"Ref",elements:[{name:"HTMLFormElement"}],raw:"Ref<HTMLFormElement>",required:!1}}]}}],raw:`PropsWithChildren<{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: Ref<HTMLFormElement>;
}>`}],raw:`FC<
  PropsWithChildren<{
    id: string;
    onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
    ref?: Ref<HTMLFormElement>;
  }>
>`},{name:"literal",value:'"ref"'}],raw:'Omit<FormComponentType, "ref">'}],raw:'FC<Omit<FormComponentType, "ref">>'},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","PropsWithChildren"]};const Ht=e=>{const{children:r,...t}=e,{form:n,isReadOnly:i,id:o}=we(),u={Button:{isReadOnly:i,form:o,color:"secondary",variant:"soft",type:"button"}};return N.jsx(Ue,{onAction:()=>n.reset(),...t,children:N.jsx(Ie,{props:u,dependencies:[i,o],children:r})})};Ht.__docgenInfo={description:"",methods:[],displayName:"FormResetAction"};const ts=(e,r)=>{const{isSubmitting:t,isSubmitSuccessful:n}=e,i=B.useRef(void 0),o=ar.useNew({...r,onAction:()=>(i.current=Promise.withResolvers(),r?.onAction?.(),i.current.promise)});return B.useEffect(()=>{if(t){o.state.isBusy||o.execute();return}if(n){i.current?.resolve();return}i.current?.reject(new ur("Form submission failed"))},[t,n,i]),o},rs=e=>{const{children:r,...t}=e,{form:n}=we(),i=ts(n.formState,t);return N.jsx(Ue,{actionModel:i,...t,children:r})},Kt=e=>{const{children:r,...t}=e,{onAfterSuccessFeedback:n,isReadOnly:i,id:o}=we(),u={Button:{isReadOnly:i,type:"submit",form:o}},c=N.jsx(rs,{...t,children:N.jsx(Ie,{props:u,dependencies:[i,o],children:r})});return n?N.jsx(Ue,{onAction:n,children:N.jsx(lr,{children:c})}):c};Kt.__docgenInfo={description:"",methods:[],displayName:"FormSubmitAction"};const ze=e=>{const{children:r,reset:t,submit:n,...i}=e;return n?N.jsx(Kt,{...i,children:r}):t?N.jsx(Ht,{...i,children:r}):N.jsx(N.Fragment,{children:r})};ze.__docgenInfo={description:"",methods:[],displayName:"FormAction",props:{reset:{required:!1,tsType:{name:"boolean"},description:""},submit:{required:!1,tsType:{name:"boolean"},description:""}},composes:["PropsWithChildren","SupportedActionProps"]};const ss=e=>{const{showFeedback:r,...t}=e;return N.jsx(ze,{submit:!0,showFeedback:r,children:N.jsx(_t,{...t})})};ss.__docgenInfo={description:"",methods:[],displayName:"SubmitButton"};const ns=e=>N.jsx(ze,{reset:!0,children:N.jsx(_t,{...e})});ns.__docgenInfo={description:"",methods:[],displayName:"ResetButton"};export{es as F,ns as R,ss as S,Mt as a,vs as t,bs as u};
