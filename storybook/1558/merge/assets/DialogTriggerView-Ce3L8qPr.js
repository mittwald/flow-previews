import{O as Te,u as Fe,o as Ar}from"./context-BfF8CEMr.js";import{R as b,r as u,j as O}from"./iframe-oDnSRKrU.js";import{$ as Sr}from"./Button-D46_pkFx.js";import{b as Oe,$ as N,a as V,c as Br,d as L,e as ae,f as Tr}from"./utils-BOFgiu6B.js";import{$ as Fr}from"./RSPContexts-wR3TIPq6.js";import{a as Or,b as Kr,c as Rr,d as Ke,e as Ir,f as Nr,g as Lr,h as Re}from"./ClearPropsContextView-C5KU2xgH.js";import{$ as w,d as Pe,f as J,b as de,e as se,c as _r,R as Hr,g as q}from"./mergeRefs-4PJ6advV.js";import{$ as A}from"./filterDOMProps-CghfNOdR.js";import{s as jr,a as zr,o as Vr,u as Ur,n as Ee,g as Ce,i as Wr,v as le}from"./useFocus-CBAj8SSC.js";import{$ as qr}from"./Hidden-B7YQi_X1.js";import{$ as Gr}from"./context-BACVj_LI.js";import{$ as Zr,a as Ie}from"./FocusScope-CFc2lXVF.js";import{c as Jr,$ as Ne}from"./useFocusRing-BvVC0KGc.js";import{$ as Le,a as Yr}from"./useCollator-BUiMLO_A.js";import{$ as Xr}from"./useLabel-IKTU3VFM.js";import{$ as _e}from"./useLocalizedStringFormatter-DYhwfjLN.js";import{$ as Qr}from"./VisuallyHidden-D8Dskj69.js";import{d as ie,a as eo,$ as to,b as ro,c as oo}from"./usePress-BlfeWo8-.js";import{$ as He,a as no,b as ao}from"./Collection-B4_H5DyP.js";import{$ as De,a as so}from"./context-D1pfjzoG.js";import{$ as je,a as lo,b as io,c as uo,d as co,e as fo,f as po,g as $o}from"./CollectionBuilder-BqrWk4D3.js";import{$ as bo}from"./Separator-DoYImFmL.js";import{a as go}from"./Text-BhCBXCIE.js";import{$ as mo,a as vo,b as xo,c as yo,d as ho,e as ze,f as Po,g as Ve}from"./SelectionManager-D05r5y9b.js";import{a as Eo}from"./useFocusable-BIMsrSRy.js";import{$ as Co}from"./useControlledState-C4SjqBt9.js";import{f as Do,P as Mo,v as ko}from"./PropsContextProvider-DCrF-e2x.js";const Ue=b.forwardRef(({children:t,...e},r)=>{let n=u.useRef(!1),o=u.useContext(ie);r=Oe(r||(o==null?void 0:o.ref));let a=w(o||{},{...e,ref:r,register(){n.current=!0,o&&o.register()}});return jr(o,r),u.useEffect(()=>{n.current||(n.current=!0)},[]),b.createElement(ie.Provider,{value:a},t)});function wo({children:t}){let e=u.useMemo(()=>({register:()=>{}}),[]);return b.createElement(ie.Provider,{value:e},t)}function Ao(t){let{ref:e,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:o}=t,a=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=Pe(l=>{r&&Me(l,e)&&(o&&o(l),a.current.isPointerDown=!0)}),s=Pe(l=>{r&&r(l)});u.useEffect(()=>{let l=a.current;if(n)return;const d=e.current,f=zr(d);if(typeof PointerEvent<"u"){let g=y=>{l.isPointerDown&&Me(y,e)&&s(y),l.isPointerDown=!1};return f.addEventListener("pointerdown",i,!0),f.addEventListener("click",g,!0),()=>{f.removeEventListener("pointerdown",i,!0),f.removeEventListener("click",g,!0)}}},[e,n,i,s])}function Me(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const k=[];function So(t,e){let{onClose:r,shouldCloseOnBlur:n,isOpen:o,isDismissable:a=!1,isKeyboardDismissDisabled:i=!1,shouldCloseOnInteractOutside:s}=t;u.useEffect(()=>{if(o&&!k.includes(e))return k.push(e),()=>{let $=k.indexOf(e);$>=0&&k.splice($,1)}},[o,e]);let l=()=>{k[k.length-1]===e&&r&&r()},d=$=>{(!s||s($.target))&&k[k.length-1]===e&&($.stopPropagation(),$.preventDefault())},f=$=>{(!s||s($.target))&&(k[k.length-1]===e&&($.stopPropagation(),$.preventDefault()),l())},g=$=>{$.key==="Escape"&&!i&&!$.nativeEvent.isComposing&&($.stopPropagation(),$.preventDefault(),l())};Ao({ref:e,onInteractOutside:a&&o?f:void 0,onInteractOutsideStart:d});let{focusWithinProps:y}=Jr({isDisabled:!n,onBlurWithin:$=>{!$.relatedTarget||Zr($.relatedTarget)||(!s||s($.relatedTarget))&&(r==null||r())}}),c=$=>{$.target===$.currentTarget&&$.preventDefault()};return{overlayProps:{onKeyDown:g,...y},underlayProps:{onPointerDown:c}}}function We(t,e,r){let{type:n}=t,{isOpen:o}=e;u.useEffect(()=>{r&&r.current&&Or.set(r.current,e.close)});let a;n==="menu"?a=!0:n==="listbox"&&(a="listbox");let i=J();return{triggerProps:{"aria-haspopup":a,"aria-expanded":o,"aria-controls":o?i:void 0,onPress:e.toggle},overlayProps:{id:i}}}const oe=typeof document<"u"&&window.visualViewport,Bo=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let W=0,ne;function To(t={}){let{isDisabled:e}=t;de(()=>{if(!e)return W++,W===1&&(Vr()?ne=Oo():ne=Fo()),()=>{W--,W===0&&ne()}},[e])}function Fo(){let t=window.innerWidth-document.documentElement.clientWidth;return se(t>0&&("scrollbarGutter"in document.documentElement.style?F(document.documentElement,"scrollbarGutter","stable"):F(document.documentElement,"paddingRight",`${t}px`)),F(document.documentElement,"overflow","hidden"))}function Oo(){let t,e,r=d=>{t=Le(d.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=F(t,"overscrollBehavior","contain"))},n=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&d.preventDefault()},o=()=>{e&&e()},a=d=>{let f=d.target;Ko(f)&&(s(),f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",oe&&(oe.height<window.innerHeight?requestAnimationFrame(()=>{ke(f)}):oe.addEventListener("resize",()=>ke(f),{once:!0}))}))},i=null,s=()=>{if(i)return;let d=()=>{window.scrollTo(0,0)},f=window.pageXOffset,g=window.pageYOffset;i=se(j(window,"scroll",d),F(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),F(document.documentElement,"overflow","hidden"),F(document.body,"marginTop",`-${g}px`),()=>{window.scrollTo(f,g)}),window.scrollTo(0,0)},l=se(j(document,"touchstart",r,{passive:!1,capture:!0}),j(document,"touchmove",n,{passive:!1,capture:!0}),j(document,"touchend",o,{passive:!1,capture:!0}),j(document,"focus",a,!0));return()=>{e==null||e(),i==null||i(),l()}}function F(t,e,r){let n=t.style[e];return t.style[e]=r,()=>{t.style[e]=n}}function j(t,e,r,n){return t.addEventListener(e,r,n),()=>{t.removeEventListener(e,r,n)}}function ke(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let n=Le(r);if(n!==document.documentElement&&n!==document.body&&n!==r){let o=n.getBoundingClientRect().top,a=r.getBoundingClientRect().top;a>o+r.clientHeight&&(n.scrollTop+=a-o)}r=n.parentElement}}function Ko(t){return t instanceof HTMLInputElement&&!Bo.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var qe={};qe={dismiss:"تجاهل"};var Ge={};Ge={dismiss:"Отхвърляне"};var Ze={};Ze={dismiss:"Odstranit"};var Je={};Je={dismiss:"Luk"};var Ye={};Ye={dismiss:"Schließen"};var Xe={};Xe={dismiss:"Απόρριψη"};var Qe={};Qe={dismiss:"Dismiss"};var et={};et={dismiss:"Descartar"};var tt={};tt={dismiss:"Lõpeta"};var rt={};rt={dismiss:"Hylkää"};var ot={};ot={dismiss:"Rejeter"};var nt={};nt={dismiss:"התעלם"};var at={};at={dismiss:"Odbaci"};var st={};st={dismiss:"Elutasítás"};var lt={};lt={dismiss:"Ignora"};var it={};it={dismiss:"閉じる"};var ut={};ut={dismiss:"무시"};var dt={};dt={dismiss:"Atmesti"};var ct={};ct={dismiss:"Nerādīt"};var ft={};ft={dismiss:"Lukk"};var pt={};pt={dismiss:"Negeren"};var $t={};$t={dismiss:"Zignoruj"};var bt={};bt={dismiss:"Descartar"};var gt={};gt={dismiss:"Dispensar"};var mt={};mt={dismiss:"Revocare"};var vt={};vt={dismiss:"Пропустить"};var xt={};xt={dismiss:"Zrušiť"};var yt={};yt={dismiss:"Opusti"};var ht={};ht={dismiss:"Odbaci"};var Pt={};Pt={dismiss:"Avvisa"};var Et={};Et={dismiss:"Kapat"};var Ct={};Ct={dismiss:"Скасувати"};var Dt={};Dt={dismiss:"取消"};var Mt={};Mt={dismiss:"關閉"};var kt={};kt={"ar-AE":qe,"bg-BG":Ge,"cs-CZ":Ze,"da-DK":Je,"de-DE":Ye,"el-GR":Xe,"en-US":Qe,"es-ES":et,"et-EE":tt,"fi-FI":rt,"fr-FR":ot,"he-IL":nt,"hr-HR":at,"hu-HU":st,"it-IT":lt,"ja-JP":it,"ko-KR":ut,"lt-LT":dt,"lv-LV":ct,"nb-NO":ft,"nl-NL":pt,"pl-PL":$t,"pt-BR":bt,"pt-PT":gt,"ro-RO":mt,"ru-RU":vt,"sk-SK":xt,"sl-SI":yt,"sr-SP":ht,"sv-SE":Pt,"tr-TR":Et,"uk-UA":Ct,"zh-CN":Dt,"zh-TW":Mt};function Ro(t){return t&&t.__esModule?t.default:t}function we(t){let{onDismiss:e,...r}=t,n=_e(Ro(kt),"@react-aria/overlays"),o=Xr(r,n.format("dismiss")),a=()=>{e&&e()};return b.createElement(Qr,null,b.createElement("button",{...o,tabIndex:-1,onClick:a,style:{width:1,height:1}}))}const Io=typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype;let z=new WeakMap,C=[];function No(t,e){let r=Ur(t==null?void 0:t[0]),n=e instanceof r.Element?{root:e}:e;var o;let a=(o=n==null?void 0:n.root)!==null&&o!==void 0?o:document.body,i=(n==null?void 0:n.shouldUseInert)&&Io,s=new Set(t),l=new Set,d=p=>i&&p instanceof r.HTMLElement?p.inert:p.getAttribute("aria-hidden")==="true",f=(p,v)=>{i&&p instanceof r.HTMLElement?p.inert=v:v?p.setAttribute("aria-hidden","true"):(p.removeAttribute("aria-hidden"),p instanceof r.HTMLElement&&(p.inert=!1))},g=p=>{for(let h of p.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))s.add(h);let v=h=>{if(l.has(h)||s.has(h)||h.parentElement&&l.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let _ of s)if(h.contains(_))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},m=document.createTreeWalker(p,NodeFilter.SHOW_ELEMENT,{acceptNode:v}),D=v(p);if(D===NodeFilter.FILTER_ACCEPT&&y(p),D!==NodeFilter.FILTER_REJECT){let h=m.nextNode();for(;h!=null;)y(h),h=m.nextNode()}},y=p=>{var v;let m=(v=z.get(p))!==null&&v!==void 0?v:0;d(p)&&m===0||(m===0&&f(p,!0),l.add(p),z.set(p,m+1))};C.length&&C[C.length-1].disconnect(),g(a);let c=new MutationObserver(p=>{for(let v of p)if(v.type==="childList"&&![...s,...l].some(m=>m.contains(v.target)))for(let m of v.addedNodes)(m instanceof HTMLElement||m instanceof SVGElement)&&(m.dataset.liveAnnouncer==="true"||m.dataset.reactAriaTopLayer==="true")?s.add(m):m instanceof Element&&g(m)});c.observe(a,{childList:!0,subtree:!0});let $={visibleNodes:s,hiddenNodes:l,observe(){c.observe(a,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return C.push($),()=>{c.disconnect();for(let p of l){let v=z.get(p);v!=null&&(v===1?(f(p,!1),z.delete(p)):z.set(p,v-1))}$===C[C.length-1]?(C.pop(),C.length&&C[C.length-1].observe()):C.splice(C.indexOf($),1)}}function Lo(t){let e=C[C.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function _o(t,e){let{triggerRef:r,popoverRef:n,groupRef:o,isNonModal:a,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:s,...l}=t,d=l.trigger==="SubmenuTrigger",{overlayProps:f,underlayProps:g}=So({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!a||d,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:s},o??n),{overlayProps:y,arrowProps:c,placement:$,triggerAnchorPoint:p}=Kr({...l,targetRef:r,overlayRef:n,isOpen:e.isOpen,onClose:a&&!d?e.close:null});return To({isDisabled:a||!e.isOpen}),u.useEffect(()=>{if(e.isOpen&&n.current){var v,m;return a?Lo((v=o==null?void 0:o.current)!==null&&v!==void 0?v:n.current):No([(m=o==null?void 0:o.current)!==null&&m!==void 0?m:n.current],{shouldUseInert:!0})}},[a,e.isOpen,n,o]),{popoverProps:w(f,y),arrowProps:c,underlayProps:g,placement:$,triggerAnchorPoint:p}}const wt=b.createContext(null);function Ae(t){let e=_r(),{portalContainer:r=e?null:document.body,isExiting:n}=t,[o,a]=u.useState(!1),i=u.useMemo(()=>({contain:o,setContain:a}),[o,a]),{getContainer:s}=Rr();if(!t.portalContainer&&s&&(r=s()),!r)return null;let l=t.children;return t.disableFocusManagement||(l=b.createElement(Ie,{restoreFocus:!0,contain:(t.shouldContainFocus||o)&&!n},l)),l=b.createElement(wt.Provider,{value:i},b.createElement(wo,null,l)),Hr.createPortal(l,r)}function Ho(){let t=u.useContext(wt),e=t==null?void 0:t.setContain;de(()=>{e==null||e(!0)},[e])}function jo(t){let{selectionManager:e,collection:r,disabledKeys:n,ref:o,keyboardDelegate:a,layoutDelegate:i}=t,s=Yr({usage:"search",sensitivity:"base"}),l=e.disabledBehavior,d=u.useMemo(()=>a||new mo({collection:r,disabledKeys:n,disabledBehavior:l,ref:o,collator:s,layoutDelegate:i}),[a,i,r,n,o,s,l]),{collectionProps:f}=vo({...t,ref:o,selectionManager:e,keyboardDelegate:d});return{listProps:f}}const Se=new WeakMap;function zo(t){let e=Se.get(t);if(e!=null)return e;let r=0,n=o=>{for(let a of o)a.type==="section"?n(xo(a,t)):a.type==="item"&&r++};return n(t),Se.set(t,r),r}var At={};At={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var St={};St={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Bt={};Bt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Tt={};Tt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Ft={};Ft={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Ot={};Ot={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Kt={};Kt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Rt={};Rt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var It={};It={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Nt={};Nt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Lt={};Lt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var _t={};_t={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Ht={};Ht={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var jt={};jt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var zt={};zt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Vt={};Vt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Ut={};Ut={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Wt={};Wt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var qt={};qt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Gt={};Gt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Zt={};Zt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Jt={};Jt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Yt={};Yt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Xt={};Xt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Qt={};Qt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var er={};er={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var tr={};tr={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var rr={};rr={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var or={};or={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var nr={};nr={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var ar={};ar={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var sr={};sr={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var lr={};lr={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var ir={};ir={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var ur={};ur={"ar-AE":At,"bg-BG":St,"cs-CZ":Bt,"da-DK":Tt,"de-DE":Ft,"el-GR":Ot,"en-US":Kt,"es-ES":Rt,"et-EE":It,"fi-FI":Nt,"fr-FR":Lt,"he-IL":_t,"hr-HR":Ht,"hu-HU":jt,"it-IT":zt,"ja-JP":Vt,"ko-KR":Ut,"lt-LT":Wt,"lv-LV":qt,"nb-NO":Gt,"nl-NL":Zt,"pl-PL":Jt,"pt-BR":Yt,"pt-PT":Xt,"ro-RO":Qt,"ru-RU":er,"sk-SK":tr,"sl-SI":rr,"sr-SP":or,"sv-SE":nr,"tr-TR":ar,"uk-UA":sr,"zh-CN":lr,"zh-TW":ir};function Vo(t){return t&&t.__esModule?t.default:t}function Uo(t,e,r){let{type:n="menu",isDisabled:o,trigger:a="press"}=t,i=J(),{triggerProps:s,overlayProps:l}=We({type:n},e,r),d=c=>{if(!o&&!(a==="longPress"&&!c.altKey)&&r&&r.current)switch(c.key){case"Enter":case" ":if(a==="longPress"||c.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in c||c.stopPropagation(),c.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in c||c.stopPropagation(),c.preventDefault(),e.toggle("last");break;default:"continuePropagation"in c&&c.continuePropagation()}},f=_e(Vo(ur),"@react-aria/menu"),{longPressProps:g}=yo({isDisabled:o||a!=="longPress",accessibilityDescription:f.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),y={preventFocusOnPress:!0,onPressStart(c){c.pointerType!=="touch"&&c.pointerType!=="keyboard"&&!o&&(Ee(c.target),e.open(c.pointerType==="virtual"?"first":null))},onPress(c){c.pointerType==="touch"&&!o&&(Ee(c.target),e.toggle())}};return delete s.onPress,{menuTriggerProps:{...s,...a==="press"?y:g,id:i,onKeyDown:d},menuProps:{...l,"aria-labelledby":i,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const dr=new WeakMap;function Wo(t,e,r){let{shouldFocusWrap:n=!0,onKeyDown:o,onKeyUp:a,...i}=t;!t["aria-label"]&&t["aria-labelledby"];let s=A(t,{labelable:!0}),{listProps:l}=jo({...i,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:n,linkBehavior:"override"});return dr.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:w(s,{onKeyDown:o,onKeyUp:a},{role:"menu",...l,onKeyDown:d=>{var f;(d.key!=="Escape"||t.shouldUseVirtualFocus)&&((f=l.onKeyDown)===null||f===void 0||f.call(l,d))}})}}function qo(t,e,r){let{id:n,key:o,closeOnSelect:a,isVirtualized:i,"aria-haspopup":s,onPressStart:l,onPressUp:d,onPress:f,onPressChange:g,onPressEnd:y,onClick:c,onHoverStart:$,onHoverChange:p,onHoverEnd:v,onKeyDown:m,onKeyUp:D,onFocus:h,onFocusChange:_,onBlur:X,selectionManager:E=e.selectionManager}=t,M=!!s,S=M&&t["aria-expanded"]==="true";var B;let T=(B=t.isDisabled)!==null&&B!==void 0?B:E.isDisabled(o);var Q;let $e=(Q=t.isSelected)!==null&&Q!==void 0?Q:E.isSelected(o),K=dr.get(e),P=e.collection.getItem(o),be=t.onClose||K.onClose,vr=eo(),xr=()=>{var x;if(!M&&(!(P==null||(x=P.props)===null||x===void 0)&&x.onAction?P.props.onAction():t.onAction&&t.onAction(o),K.onAction)){let H=K.onAction;H(o)}},ee="menuitem";M||(E.selectionMode==="single"?ee="menuitemradio":E.selectionMode==="multiple"&&(ee="menuitemcheckbox"));let ge=q(),me=q(),ve=q(),U={id:n,"aria-disabled":T||void 0,role:ee,"aria-label":t["aria-label"],"aria-labelledby":ge,"aria-describedby":[me,ve].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":s,"aria-expanded":t["aria-expanded"]};E.selectionMode!=="none"&&!M&&(U["aria-checked"]=$e),i&&(U["aria-posinset"]=P==null?void 0:P.index,U["aria-setsize"]=zo(e.collection));let xe=u.useRef(!1),yr=x=>{g==null||g(x),xe.current=x},R=u.useRef(null),hr=x=>{x.pointerType!=="keyboard"&&(R.current={pointerType:x.pointerType}),x.pointerType==="mouse"&&(xe.current||x.target.click()),d==null||d(x)},Pr=x=>{var H,te;c==null||c(x),xr(),oo(x,vr,P.props.href,P==null?void 0:P.props.routerOptions);let re=((H=R.current)===null||H===void 0?void 0:H.pointerType)==="keyboard"?((te=R.current)===null||te===void 0?void 0:te.key)==="Enter"||E.selectionMode==="none"||E.isLink(o):E.selectionMode!=="multiple"||E.isLink(o);re=a??re,be&&!M&&re&&be(),R.current=null},{itemProps:I,isFocused:ye}=ho({id:n,selectionManager:E,key:o,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:K.shouldUseVirtualFocus}),{pressProps:Er,isPressed:Cr}=to({onPressStart:l,onPress:f,onPressUp:hr,onPressChange:yr,onPressEnd:y,isDisabled:T}),{hoverProps:Dr}=Ne({isDisabled:T,onHoverStart(x){!Ce()&&!(S&&s)&&(E.setFocused(!0),E.setFocusedKey(o)),$==null||$(x)},onHoverChange:p,onHoverEnd:v}),{keyboardProps:Mr}=Eo({onKeyDown:x=>{if(x.repeat){x.continuePropagation();return}switch(x.key){case" ":R.current={pointerType:"keyboard",key:" "},x.target.click();break;case"Enter":R.current={pointerType:"keyboard",key:"Enter"},x.target.tagName!=="A"&&x.target.click();break;default:M||x.continuePropagation(),m==null||m(x);break}},onKeyUp:D}),{focusProps:kr}=Wr({onBlur:X,onFocus:h,onFocusChange:_}),he=A(P==null?void 0:P.props);delete he.id;let wr=ro(P==null?void 0:P.props);return{menuItemProps:{...U,...w(he,wr,M?{onFocus:I.onFocus,"data-collection":I["data-collection"],"data-key":I["data-key"]}:I,Er,Dr,Mr,kr,K.shouldUseVirtualFocus||M?{onMouseDown:x=>x.preventDefault()}:void 0,T?void 0:{onClick:Pr}),tabIndex:I.tabIndex!=null&&S&&!K.shouldUseVirtualFocus?-1:I.tabIndex},labelProps:{id:ge},descriptionProps:{id:me},keyboardShortcutProps:{id:ve},isFocused:ye,isFocusVisible:ye&&E.isFocused&&Ce()&&!S,isSelected:$e,isPressed:Cr,isDisabled:T}}function Go(t){let{heading:e,"aria-label":r}=t,n=J();return{itemProps:{role:"presentation"},headingProps:e?{id:n,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?n:void 0}}}function Zo(t,e){let{role:r="dialog"}=t,n=q();n=t["aria-label"]?void 0:n;let o=u.useRef(!1);return u.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){le(e.current);let a=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(o.current=!0,e.current&&(e.current.blur(),le(e.current)),o.current=!1)},500);return()=>{clearTimeout(a)}}},[e]),Ho(),{dialogProps:{...A(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||n,onBlur:a=>{o.current&&a.stopPropagation()}},titleProps:{id:n}}}function ce(t){let e=Ke(t),[r,n]=u.useState(null),[o,a]=u.useState([]),i=()=>{a([]),e.close()};return{focusStrategy:r,...e,open(d=null){n(d),e.open()},toggle(d=null){n(d),e.toggle()},close(){i()},expandedKeysStack:o,openSubmenu:(d,f)=>{a(g=>f>g.length?g:[...g.slice(0,f),d])},closeSubmenu:(d,f)=>{a(g=>g[f]===d?g.slice(0,f):g)}}}class Jo{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var n;return r&&(n=r.prevKey)!==null&&n!==void 0?n:null}getKeyAfter(e){let r=this.keyMap.get(e);var n;return r&&(n=r.nextKey)!==null&&n!==void 0?n:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let n=s=>{if(this.keyMap.set(s.key,s),s.childNodes&&(s.type==="section"||r.has(s.key)))for(let l of s.childNodes)n(l)};for(let s of e)n(s);let o=null,a=0;for(let[s,l]of this.keyMap)o?(o.nextKey=s,l.prevKey=o.key):(this.firstKey=s,l.prevKey=void 0),l.type==="item"&&(l.index=a++),o=l,o.nextKey=void 0;var i;this.lastKey=(i=o==null?void 0:o.key)!==null&&i!==void 0?i:null}}function Yo(t){let{onExpandedChange:e}=t,[r,n]=Co(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),o=ze(t),a=u.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),i=Po(t,u.useCallback(l=>new Jo(l,{expandedKeys:r}),[r]),null);return u.useEffect(()=>{o.focusedKey!=null&&!i.getItem(o.focusedKey)&&o.setFocusedKey(null)},[i,o.focusedKey]),{collection:i,expandedKeys:r,disabledKeys:a,toggleKey:l=>{n(Xo(r,l))},setExpandedKeys:n,selectionManager:new Ve(i,o)}}function Xo(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const cr=u.createContext({}),Rn=je(lo,function(e,r){return[e,r]=N(e,r,cr),b.createElement("header",{className:"react-aria-Header",...e,ref:r},e.children)}),fe=u.createContext(null),Be=u.createContext(null),In=u.forwardRef(function(e,r){[e,r]=N(e,r,fe);let n=u.useContext(Y),o=Ke(e),a=e.isOpen!=null||e.defaultOpen!=null||!n?o:n,i=Ir(r,a.isOpen)||e.isExiting||!1,s=qr(),{direction:l}=Gr();if(s){let d=e.children;return typeof d=="function"&&(d=d({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),b.createElement(b.Fragment,null,d)}return a&&!a.isOpen&&!i?null:b.createElement(Qo,{...e,triggerRef:e.triggerRef,state:a,popoverRef:r,isExiting:i,dir:l})});function Qo({state:t,isExiting:e,UNSTABLE_portalContainer:r,clearContexts:n,...o}){let a=u.useRef(null),i=u.useRef(null),s=u.useContext(Be),l=s&&o.trigger==="SubmenuTrigger";var d;let{popoverProps:f,underlayProps:g,arrowProps:y,placement:c,triggerAnchorPoint:$}=_o({...o,offset:(d=o.offset)!==null&&d!==void 0?d:8,arrowRef:a,groupRef:l?s:i},t),p=o.popoverRef,v=Nr(p,!!c)||o.isEntering||!1,m=V({...o,defaultClassName:"react-aria-Popover",values:{trigger:o.trigger||null,placement:c,isEntering:v,isExiting:e}}),D=!o.isNonModal||o.trigger==="SubmenuTrigger",[h,_]=u.useState(!1);de(()=>{p.current&&_(D&&!p.current.querySelector("[role=dialog]"))},[p,D]),u.useEffect(()=>{h&&o.trigger!=="SubmenuTrigger"&&p.current&&!p.current.contains(document.activeElement)&&le(p.current)},[h,p,o.trigger]);let X=u.useMemo(()=>{let B=m.children;if(n)for(let T of n)B=b.createElement(T.Provider,{value:null},B);return B},[m.children,n]),E={...f.style,"--trigger-anchor-point":$?`${$.x}px ${$.y}px`:void 0,...m.style},M=b.createElement("div",{...w(A(o,{global:!0}),f),...m,role:h?"dialog":void 0,tabIndex:h?-1:void 0,"aria-label":o["aria-label"],"aria-labelledby":o["aria-labelledby"],ref:p,slot:o.slot||void 0,style:E,dir:o.dir,"data-trigger":o.trigger,"data-placement":c,"data-entering":v||void 0,"data-exiting":e||void 0},!o.isNonModal&&b.createElement(we,{onDismiss:t.close}),b.createElement(Lr.Provider,{value:{...y,placement:c,ref:a}},X),b.createElement(we,{onDismiss:t.close}));if(!l)return b.createElement(Ae,{...o,shouldContainFocus:h,isExiting:e,portalContainer:r},!o.isNonModal&&t.isOpen&&b.createElement("div",{"data-testid":"underlay",...g,style:{position:"fixed",inset:0}}),b.createElement("div",{ref:i,style:{display:"contents"}},b.createElement(Be.Provider,{value:i},M)));var S;return b.createElement(Ae,{...o,shouldContainFocus:h,isExiting:e,portalContainer:(S=r??(s==null?void 0:s.current))!==null&&S!==void 0?S:void 0},M)}const en=u.createContext({}),fr=u.createContext(null),pe=u.createContext(null),G=u.createContext(null),Z=u.createContext(null);function tn(t){let e=ce(t),r=u.useRef(null),{menuTriggerProps:n,menuProps:o}=Uo({...t,type:"menu"},e,r),[a,i]=u.useState(null),s=u.useCallback(()=>{r.current&&i(r.current.offsetWidth+"px")},[r]);Re({ref:r,onResize:s});let l=u.useRef(null);return b.createElement(L,{values:[[fr,{...o,ref:l}],[Y,e],[G,e],[fe,{trigger:"MenuTrigger",triggerRef:r,scrollRef:l,placement:"bottom start",style:{"--trigger-width":a},"aria-labelledby":o["aria-labelledby"]}]]},b.createElement(Ue,{...n,ref:r,isPressed:e.isOpen},t.children))}const rn=u.createContext(null);class on extends $o{filter(e,r,n){let o=e.getItem(this.firstChildKey);if(o&&n(o.textValue,this)){let a=this.clone();return r.addDescendants(a,e),a}return null}}on.type="submenutrigger";const Nn=u.forwardRef(function(e,r){return[e,r]=N(e,r,fr),b.createElement(fo,{content:b.createElement(po,e)},n=>b.createElement(nn,{props:e,collection:n,menuRef:r}))});function nn({props:t,collection:e,menuRef:r}){[t,r]=N(t,r,De);let{filter:n,...o}=t,a=u.useMemo(()=>n?e.filter(n):e,[e,n]),i=Yo({...t,collection:a,children:void 0}),s=u.useContext(G),{isVirtualized:l,CollectionRoot:d}=u.useContext(He),{menuProps:f}=Wo({...t,isVirtualized:l,onClose:t.onClose||(s==null?void 0:s.close)},i,r),g=V({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{isEmpty:i.collection.size===0}}),y=null;i.collection.size===0&&t.renderEmptyState&&(y=b.createElement("div",{role:"menuitem",style:{display:"contents"}},t.renderEmptyState()));let c=A(t,{global:!0});return b.createElement(Ie,null,b.createElement("div",{...w(c,g,f),ref:r,slot:t.slot||void 0,"data-empty":i.collection.size===0||void 0,onScroll:t.onScroll},b.createElement(L,{values:[[pe,i],[bo,{elementType:"div"}],[no,{name:"MenuSection",render:pr}],[rn,{parentMenuRef:r,shouldUseVirtualFocus:o==null?void 0:o.shouldUseVirtualFocus}],[ue,null],[De,null],[so,null],[Z,i.selectionManager],[G,s??ce({})]]},b.createElement(d,{collection:i.collection,persistedKeys:ao(i.selectionManager.focusedKey),scrollRef:r})),y))}class an extends Ve{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function pr(t,e,r,n="react-aria-MenuSection"){var o,a;let i=u.useContext(pe),{CollectionBranch:s}=u.useContext(He),[l,d]=Tr();var f;let{headingProps:g,groupProps:y}=Go({heading:d,"aria-label":(f=r.props["aria-label"])!==null&&f!==void 0?f:void 0}),c=V({defaultClassName:n,className:(o=r.props)===null||o===void 0?void 0:o.className,style:(a=r.props)===null||a===void 0?void 0:a.style,values:{}}),$=u.useContext(Z),p=ze(t),v=t.selectionMode!=null?new an($,p):$,m=A(t,{global:!0});return delete m.id,b.createElement("section",{...w(m,c,y),ref:e},b.createElement(L,{values:[[cr,{...g,ref:l}],[Z,v]]},b.createElement(s,{collection:i.collection,parent:r})))}const Ln=io(co,pr),ue=u.createContext(null),_n=je(uo,function(e,r,n){var o;[e,r]=N(e,r,ue);let a=(o=Br(ue))===null||o===void 0?void 0:o.id,i=u.useContext(pe),s=Oe(r),l=u.useContext(Z),{menuItemProps:d,labelProps:f,descriptionProps:g,keyboardShortcutProps:y,...c}=qo({...e,id:a,key:n.key,selectionManager:l},i,s),{hoverProps:$,isHovered:p}=Ne({isDisabled:c.isDisabled}),v=V({...e,id:void 0,children:n.rendered,defaultClassName:"react-aria-MenuItem",values:{...c,isHovered:p,isFocusVisible:c.isFocusVisible,selectionMode:l.selectionMode,selectionBehavior:l.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),m=e.href?"a":"div",D=A(e,{global:!0});return delete D.id,delete D.onClick,b.createElement(m,{...w(D,v,d,$),ref:s,"data-disabled":c.isDisabled||void 0,"data-hovered":p||void 0,"data-focused":c.isFocused||void 0,"data-focus-visible":c.isFocusVisible||void 0,"data-pressed":c.isPressed||void 0,"data-selected":c.isSelected||void 0,"data-selection-mode":l.selectionMode==="none"?void 0:l.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},b.createElement(L,{values:[[go,{slots:{[ae]:f,label:f,description:g}}],[en,y]]},v.children))}),$r=u.createContext(null),Y=u.createContext(null);function sn(t){let e=ce(t),r=u.useRef(null),{triggerProps:n,overlayProps:o}=We({type:"dialog"},e,r),[a,i]=u.useState(null),s=u.useCallback(()=>{r.current&&i(r.current.offsetWidth+"px")},[r]);return Re({ref:r,onResize:s}),n.id=J(),o["aria-labelledby"]=n.id,b.createElement(L,{values:[[Y,e],[G,e],[$r,o],[fe,{trigger:"DialogTrigger",triggerRef:r,"aria-labelledby":o["aria-labelledby"],style:{"--trigger-width":a}}]]},b.createElement(Ue,{...n,ref:r,isPressed:e.isOpen},t.children))}const Hn=u.forwardRef(function(e,r){let n=e["aria-labelledby"];[e,r]=N(e,r,$r);let{dialogProps:o,titleProps:a}=Zo({...e,"aria-labelledby":n},r),i=u.useContext(Y);!o["aria-label"]&&!o["aria-labelledby"]&&e["aria-labelledby"]&&(o["aria-labelledby"]=e["aria-labelledby"]);let s=V({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(i==null?void 0:i.close)||(()=>{})}}),l=A(e,{global:!0});return b.createElement("section",{...w(l,s,o),ref:r,slot:e.slot||void 0},b.createElement(L,{values:[[Fr,{slots:{[ae]:{},title:{...a,level:2}}}],[Sr,{slots:{[ae]:{},close:{onPress:()=>i==null?void 0:i.close()}}}]]},s.children))}),jn=(t,e={})=>{const{reuseControllerFromContext:r=!0,isDefaultOpen:n,onOpen:o,onClose:a}=e,i=Te.useNew({isDefaultOpen:n,onOpen:o,onClose:a}),s=Fe()[t],l=r&&s?s:i;return u.useEffect(()=>{const d=[];return o&&d.push(l.addOnOpen(o)),a&&d.push(l.addOnClose(a)),()=>{d.forEach(f=>f())}},[o,a]),l},br=t=>{const{type:e,controller:r,children:n}=t,o=Fe();return O.jsx(Ar.Provider,{value:{...o,[e]:r},children:n})};br.__docgenInfo={description:"",methods:[],displayName:"OverlayContextProvider",props:{type:{required:!0,tsType:{name:"FlowComponentName"},description:""},controller:{required:!0,tsType:{name:"OverlayController"},description:""}},composes:["PropsWithChildren"]};const gr=t=>O.jsx(sn,{...t});gr.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"DialogTrigger"};const zn=Do("MenuTrigger",t=>O.jsx(tn,{...t}),{type:"provider"}),ln=t=>{const{overlayType:e,isDefaultOpen:r=!1,component:n,children:o,controller:a}=t,i=Te.useNew({isDefaultOpen:r}),s=a??i,l=s.useIsOpen(),d={Button:{onPress:s.open}};return O.jsx(br,{type:e,controller:s,children:O.jsx(Mo,{props:d,children:O.jsx(n,{isOpen:l,children:o})})})};ln.__docgenInfo={description:"",methods:[],displayName:"OverlayTrigger",props:{isDefaultOpen:{required:!1,tsType:{name:"boolean"},description:"Whether the overlay should be open initially."},controller:{required:!1,tsType:{name:"OverlayController"},description:"A controller to control the state of the overlay."},overlayType:{required:!0,tsType:{name:"FlowComponentName"},description:""},component:{required:!0,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  isOpen?: boolean;
  children: ReactNode;
}`,signature:{properties:[{key:"isOpen",value:{name:"boolean",required:!1}},{key:"children",value:{name:"ReactNode",required:!0}}]}}],raw:`ComponentType<{
  isOpen?: boolean;
  children: ReactNode;
}>`},description:""}},composes:["FlowComponentProps","PropsWithChildren"]};const mr=u.memo(t=>{const e=u.useContext(ko).DialogTrigger??gr;return O.jsx(e,{...t})});mr.displayName="DialogTriggerView";mr.__docgenInfo={description:"",methods:[],displayName:"DialogTriggerView"};export{_n as $,mr as D,zn as M,br as O,ln as a,Nn as b,Ln as c,Rn as d,In as e,Hn as f,So as g,To as h,Ho as i,No as j,Y as k,we as l,Ae as m,Uo as n,fe as o,jo as p,zo as q,cr as r,sn as s,$r as t,jn as u};
