import{r as h,R as $}from"./index-BbMBc-iG.js";import{c as T}from"./clsx-B-dksMZM.js";import"./IconApp-B_zPpa1A.js";import{D as G,L as j,E as L}from"./IconWarning-CceziLlX.js";import{C as z}from"./PropsContextProvider-BgoMLKZk.js";import{f as A}from"./flowComponent-CaEd1ouJ.js";import{a as J}from"./RSPContexts-CBHfX6hb.js";import{$ as B,e as E,d as K,a as O,g as Q,c as U,b as X,f as C}from"./utils-D4Vol65q.js";import{$ as V,a as Y,e as q,f as Z,g as ee,d as ae}from"./FieldError-0S5lF-We.js";import{$ as ie,b as k}from"./Form-4lWAVKAg.js";import{a as de}from"./Label-BybFgH_Q.js";import{a as le}from"./Text-oWh285ma.js";import{a as y}from"./index-CPTjWdH1.js";import{$ as S}from"./filterDOMProps-BSfnXAP7.js";import{$ as te}from"./useControlledState-CMnoB41k.js";import{$ as ne,b as re,a as se}from"./useFocusRing-DA2rHHrb.js";import{$ as oe}from"./usePress-DotMbixf.js";import{$ as ce,a as M}from"./useToggleState-DBTCyXsQ.js";import{$ as fe}from"./VisuallyHidden-CAwLSgYE.js";function _(e,a,l){let n=V({...e,value:a.isSelected}),{isInvalid:o,validationErrors:t,validationDetails:d}=n.displayValidation,{labelProps:r,inputProps:f,isSelected:i,isPressed:s,isDisabled:c,isReadOnly:b}=ce({...e,isInvalid:o},a,l);Y(e,n,l);let{isIndeterminate:v,isRequired:u,validationBehavior:x="aria"}=e;h.useEffect(()=>{l.current&&(l.current.indeterminate=!!v)});let{pressProps:m}=oe({isDisabled:c||b,onPress(){let{[q]:P}=e,{commitValidation:R}=P||n;R()}});return{labelProps:y(r,m),inputProps:{...f,checked:i,"aria-required":u&&x==="aria"||void 0,required:u&&x==="native"},isSelected:i,isPressed:s,isDisabled:c,isReadOnly:b,isInvalid:o,validationErrors:t,validationDetails:d}}const F=new WeakMap;function ue(e,a){let{isDisabled:l,name:n,validationBehavior:o="aria"}=e,{isInvalid:t,validationErrors:d,validationDetails:r}=a.displayValidation,{labelProps:f,fieldProps:i,descriptionProps:s,errorMessageProps:c}=ie({...e,labelElementType:"span",isInvalid:t,errorMessage:e.errorMessage||d});F.set(a,{name:n,descriptionId:s.id,errorMessageId:c.id,validationBehavior:o});let b=S(e,{labelable:!0}),{focusWithinProps:v}=ne({onBlurWithin:e.onBlur,onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange});return{groupProps:y(b,{role:"group","aria-disabled":l||void 0,...i,...v}),labelProps:f,descriptionProps:s,errorMessageProps:c,isInvalid:t,validationErrors:d,validationDetails:r}}function be(e,a,l){const n=M({isReadOnly:e.isReadOnly||a.isReadOnly,isSelected:a.isSelected(e.value),onChange(m){m?a.addValue(e.value):a.removeValue(e.value),e.onChange&&e.onChange(m)}});let{name:o,descriptionId:t,errorMessageId:d,validationBehavior:r}=F.get(a);var f;r=(f=e.validationBehavior)!==null&&f!==void 0?f:r;let{realtimeValidation:i}=V({...e,value:n.isSelected,name:void 0,validationBehavior:"aria"}),s=h.useRef(Z),c=()=>{a.setInvalid(e.value,i.isInvalid?i:s.current)};h.useEffect(c);let b=a.realtimeValidation.isInvalid?a.realtimeValidation:i,v=r==="native"?a.displayValidation:b;var u;let x=_({...e,isReadOnly:e.isReadOnly||a.isReadOnly,isDisabled:e.isDisabled||a.isDisabled,name:e.name||o,isRequired:(u=e.isRequired)!==null&&u!==void 0?u:a.isRequired,validationBehavior:r,[q]:{realtimeValidation:b,displayValidation:v,resetValidation:a.resetValidation,commitValidation:a.commitValidation,updateValidation(m){s.current=m,c()}}},n,l);return{...x,inputProps:{...x.inputProps,"aria-describedby":[e["aria-describedby"],a.isInvalid?d:null,t].filter(Boolean).join(" ")||void 0}}}function $e(e={}){let[a,l]=te(e.value,e.defaultValue||[],e.onChange),n=!!e.isRequired&&a.length===0,o=h.useRef(new Map),t=V({...e,value:a}),d=t.displayValidation.isInvalid;var r;return{...t,value:a,setValue(i){e.isReadOnly||e.isDisabled||l(i)},isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isSelected(i){return a.includes(i)},addValue(i){e.isReadOnly||e.isDisabled||a.includes(i)||l(a.concat(i))},removeValue(i){e.isReadOnly||e.isDisabled||a.includes(i)&&l(a.filter(s=>s!==i))},toggleValue(i){e.isReadOnly||e.isDisabled||(a.includes(i)?l(a.filter(s=>s!==i)):l(a.concat(i)))},setInvalid(i,s){let c=new Map(o.current);s.isInvalid?c.set(i,s):c.delete(i),o.current=c,t.updateValidation(ee(...c.values()))},validationState:(r=e.validationState)!==null&&r!==void 0?r:d?"invalid":null,isInvalid:d,isRequired:n}}const ve=h.createContext(null),N=h.createContext(null);function me(e,a){[e,a]=B(e,a,ve);let{validationBehavior:l}=E(k)||{};var n,o;let t=(o=(n=e.validationBehavior)!==null&&n!==void 0?n:l)!==null&&o!==void 0?o:"native",d=$e({...e,validationBehavior:t}),[r,f]=K(),{groupProps:i,labelProps:s,descriptionProps:c,errorMessageProps:b,...v}=ue({...e,label:f,validationBehavior:t},d),u=O({...e,values:{isDisabled:d.isDisabled,isReadOnly:d.isReadOnly,isRequired:e.isRequired||!1,isInvalid:d.isInvalid,state:d},defaultClassName:"react-aria-CheckboxGroup"});return $.createElement("div",{...i,...u,ref:a,slot:e.slot||void 0,"data-readonly":d.isReadOnly||void 0,"data-required":e.isRequired||void 0,"data-invalid":d.isInvalid||void 0,"data-disabled":e.isDisabled||void 0},$.createElement(Q,{values:[[N,d],[de,{...s,ref:r,elementType:"span"}],[le,{slots:{description:c,errorMessage:b}}],[ae,v]]},u.children))}function he(e,a){let{inputRef:l=null,...n}=e;[e,a]=B(n,a,J);let{validationBehavior:o}=E(k)||{};var t,d;let r=(d=(t=e.validationBehavior)!==null&&t!==void 0?t:o)!==null&&d!==void 0?d:"native",f=h.useContext(N),i=U(X(l,e.inputRef!==void 0?e.inputRef:null)),{labelProps:s,inputProps:c,isSelected:b,isDisabled:v,isReadOnly:u,isPressed:x,isInvalid:m}=f?be({...C(e),value:e.value,children:typeof e.children=="function"?!0:e.children},f,i):_({...C(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:r},M(e),i),{isFocused:P,isFocusVisible:R,focusProps:w}=re(),W=v||u,{hoverProps:H,isHovered:g}=se({...e,isDisabled:W}),p=O({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:b,isIndeterminate:e.isIndeterminate||!1,isPressed:x,isHovered:g,isFocused:P,isFocusVisible:R,isDisabled:v,isReadOnly:u,isInvalid:m,isRequired:e.isRequired||!1}}),D=S(e);return delete D.id,$.createElement("label",{...y(D,s,H,p),ref:a,slot:e.slot||void 0,"data-selected":b||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":x||void 0,"data-hovered":g||void 0,"data-focused":P||void 0,"data-focus-visible":R||void 0,"data-disabled":v||void 0,"data-readonly":u||void 0,"data-invalid":m||void 0,"data-required":e.isRequired||void 0},$.createElement(fe,{elementType:"span"},$.createElement("input",{...y(c,w),ref:i})),p.children)}const xe=h.forwardRef(he),Te=h.forwardRef(me),Pe="flow--checkbox",Re="flow--checkbox--icon",I={checkbox:Pe,icon:Re},Ie=A("Checkbox",e=>{const{children:a,className:l,ref:n,...o}=e,t=T(I.checkbox,l);return $.createElement(z,null,$.createElement(xe,{...o,className:t,ref:n},({isSelected:d,isIndeterminate:r})=>$.createElement($.Fragment,null,d?$.createElement(G,{className:I.icon}):r?$.createElement(j,{className:I.icon}):$.createElement(L,{className:I.icon}),a)))});Ie.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Checkbox"};export{Te as $,Ie as C};
