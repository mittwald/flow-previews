import{r as s,R as $}from"./index-BbMBc-iG.js";import{f as j,F as da}from"./FieldError-Bxt0_Hqg.js";import{c as ca}from"./clsx-B-dksMZM.js";import{C as fa,P as ba}from"./PropsContextProvider-BgoMLKZk.js";import{B as fe}from"./Button-1rw05oyV.js";import"./IconApp-B_zPpa1A.js";import{a as ma,M as $a,O as pa,I as va}from"./IconWarning-CceziLlX.js";import{f as xa}from"./flowComponent-CaEd1ouJ.js";import{a as Fa}from"./Button-8ZRRpxMH.js";import{$ as La,e as Pa,d as Da,f as Na,a as Ea,g as Ba}from"./utils-D4Vol65q.js";import{$ as Ca,e as ga,d as ha}from"./FieldError-0S5lF-We.js";import{b as Va}from"./Form-4lWAVKAg.js";import{a as Sa,$ as ya}from"./Group-CfJOOjBS.js";import{a as Ma,$ as Ia}from"./Input-CLGBDd3-.js";import{a as wa}from"./Label-BybFgH_Q.js";import{a as ka}from"./Text-oWh285ma.js";import{$ as pe}from"./filterDOMProps-BSfnXAP7.js";import{$ as Oa,a as Ta}from"./useLocalizedStringFormatter-DYdTqA_9.js";import{$ as Ra}from"./useControlledState-CMnoB41k.js";import{d as B,c as Q,a as be}from"./ProgressBar-tRLoFn7O.js";import{$ as me}from"./NumberFormatter-DT0cDaax.js";import{$ as Aa,a as ja}from"./useSpinButton-Cj-x6hAH.js";import{b as Ka,a as z,d as ee,f as Wa}from"./index-CPTjWdH1.js";import{f as _a,$ as za,v as Ua,w as qa,p as Za}from"./useFocusRing-DA2rHHrb.js";import{$ as Ya}from"./useFormReset-BIr5_auz.js";import{$ as Ha}from"./useEvent-D1lr70i2.js";import{$ as Ga}from"./useTextField-CI6MibmE.js";function Xa(e,a){let{onScroll:r,isDisabled:n}=e,u=s.useCallback(i=>{i.ctrlKey||(i.preventDefault(),i.stopPropagation(),r&&r({deltaX:i.deltaX,deltaY:i.deltaY}))},[r]);Ha(a,"wheel",n?void 0:u)}function Ja(e){let{minValue:a,maxValue:r,step:n,formatOptions:u,value:i,defaultValue:c=NaN,onChange:m,locale:f,isDisabled:P,isReadOnly:x}=e;i===null&&(i=NaN),i!==void 0&&!isNaN(i)&&(n!==void 0&&!isNaN(n)?i=B(i,a,r,n):i=Q(i,a,r)),isNaN(c)||(n!==void 0&&!isNaN(n)?c=B(c,a,r,n):c=Q(c,a,r));let[t,l]=Ra(i,isNaN(c)?NaN:c,m),[d,F]=s.useState(()=>isNaN(t)?"":new me(f,u).format(t)),D=s.useMemo(()=>new Aa(f,u),[f,u]),S=s.useMemo(()=>D.getNumberingSystem(d),[D,d]),E=s.useMemo(()=>new me(f,{...u,numberingSystem:S}),[f,u,S]),C=s.useMemo(()=>E.resolvedOptions(),[E]),L=s.useCallback(o=>isNaN(o)||o===null?"":E.format(o),[E]),N=Ca({...e,value:t}),p=n!==void 0&&!isNaN(n)?n:1;C.style==="percent"&&(n===void 0||isNaN(n))&&(p=.01);let[U,I]=s.useState(t),[q,w]=s.useState(f),[Z,y]=s.useState(u);(!Object.is(t,U)||f!==q||u!==Z)&&(F(L(t)),I(t),w(f),y(u));let b=s.useMemo(()=>D.parse(d),[D,d]),k=()=>{if(!d.length){l(NaN),F(i===void 0?"":L(t));return}if(isNaN(b)){F(L(t));return}let o;n===void 0||isNaN(n)?o=Q(b,a,r):o=B(b,a,r,n),o=D.parse(L(o)),l(o),F(L(i===void 0?o:t))},O=(o,_=0)=>{let g=b;if(isNaN(g)){let h=isNaN(_)?0:_;return B(h,a,r,p)}else{let h=B(g,a,r,p);return o==="+"&&h>g||o==="-"&&h<g?h:B(ae(o,g,p),a,r,p)}},T=()=>{let o=O("+",a);o===t&&F(L(o)),l(o),N.commitValidation()},R=()=>{let o=O("-",r);o===t&&F(L(o)),l(o),N.commitValidation()},Y=()=>{r!=null&&(l(B(r,a,r,p)),N.commitValidation())},K=()=>{a!=null&&(l(a),N.commitValidation())},H=s.useMemo(()=>!P&&!x&&(isNaN(b)||r===void 0||isNaN(r)||B(b,a,r,p)>b||ae("+",b,p)<=r),[P,x,a,r,p,b]),W=s.useMemo(()=>!P&&!x&&(isNaN(b)||a===void 0||isNaN(a)||B(b,a,r,p)<b||ae("-",b,p)>=a),[P,x,a,r,p,b]);return{...N,validate:o=>D.isValidPartialNumber(o,a,r),increment:T,incrementToMax:Y,decrement:R,decrementToMin:K,canIncrement:H,canDecrement:W,minValue:a,maxValue:r,numberValue:b,setNumberValue:l,setInputValue:F,inputValue:d,commit:k}}function ae(e,a,r){let n=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const u=a.toString().split("."),i=r.toString().split("."),c=u[1]&&u[1].length||0,m=i[1]&&i[1].length||0,f=Math.pow(10,Math.max(c,m));a=Math.round(a*f),r=Math.round(r*f),n=e==="+"?a+r:a-r,n/=f}return n}function $e(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Qa(e,a,r){let n=Ka(t=>{let l=r.current;if(!l)return;let d=null;switch(t.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":d=l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentForward":d=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd+1):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentBackward":d=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart-1)+l.value.slice(l.selectionStart):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":d=l.value.slice(l.selectionStart);break;default:t.data!=null&&(d=l.value.slice(0,l.selectionStart)+t.data+l.value.slice(l.selectionEnd));break}(d==null||!a.validate(d))&&t.preventDefault()});s.useEffect(()=>{if(!$e()||!r.current)return;let t=r.current;return t.addEventListener("beforeinput",n,!1),()=>{t.removeEventListener("beforeinput",n,!1)}},[r,n]);let u=$e()?null:t=>{let l=t.target.value.slice(0,t.target.selectionStart)+t.data+t.target.value.slice(t.target.selectionEnd);a.validate(l)||t.preventDefault()},{labelProps:i,inputProps:c,descriptionProps:m,errorMessageProps:f,...P}=Ga(e,r),x=s.useRef(null);return{inputProps:z(c,{onBeforeInput:u,onCompositionStart(){let{value:t,selectionStart:l,selectionEnd:d}=r.current;x.current={value:t,selectionStart:l,selectionEnd:d}},onCompositionEnd(){if(r.current&&!a.validate(r.current.value)){let{value:t,selectionStart:l,selectionEnd:d}=x.current;r.current.value=t,r.current.setSelectionRange(l,d),a.setInputValue(t)}}}),labelProps:i,descriptionProps:m,errorMessageProps:f,...P}}var ve={};ve={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var xe={};xe={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var Fe={};Fe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var Le={};Le={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var Pe={};Pe={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var De={};De={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var Ne={};Ne={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Ee={};Ee={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Be={};Be={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Ce={};Ce={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var ge={};ge={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var he={};he={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Ve={};Ve={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Se={};Se={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var ye={};ye={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var Me={};Me={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Ie={};Ie={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var we={};we={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var ke={};ke={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Oe={};Oe={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Te={};Te={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var Re={};Re={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Ae={};Ae={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var je={};je={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var Ke={};Ke={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var We={};We={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var _e={};_e={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var ze={};ze={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var Ue={};Ue={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var qe={};qe={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ze={};Ze={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var Ye={};Ye={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var He={};He={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ge={};Ge={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var Xe={};Xe={"ar-AE":ve,"bg-BG":xe,"cs-CZ":Fe,"da-DK":Le,"de-DE":Pe,"el-GR":De,"en-US":Ne,"es-ES":Ee,"et-EE":Be,"fi-FI":Ce,"fr-FR":ge,"he-IL":he,"hr-HR":Ve,"hu-HU":Se,"it-IT":ye,"ja-JP":Me,"ko-KR":Ie,"lt-LT":we,"lv-LV":ke,"nb-NO":Oe,"nl-NL":Te,"pl-PL":Re,"pt-BR":Ae,"pt-PT":je,"ro-RO":Ke,"ru-RU":We,"sk-SK":_e,"sl-SI":ze,"sr-SP":Ue,"sv-SE":qe,"tr-TR":Ze,"uk-UA":Ye,"zh-CN":He,"zh-TW":Ge};function er(e){return e&&e.__esModule?e.default:e}function ar(e,a,r){let{id:n,decrementAriaLabel:u,incrementAriaLabel:i,isDisabled:c,isReadOnly:m,isRequired:f,minValue:P,maxValue:x,autoFocus:t,label:l,formatOptions:d,onBlur:F=()=>{},onFocus:D,onFocusChange:S,onKeyDown:E,onKeyUp:C,description:L,errorMessage:N,isWheelDisabled:p,...U}=e,{increment:I,incrementToMax:q,decrement:w,decrementToMin:Z,numberValue:y,inputValue:b,commit:k,commitValidation:O}=a;const T=Oa(er(Xe),"@react-aria/numberfield");let R=ee(n),{focusProps:Y}=_a({onBlur(){k()}}),K=be(d),H=s.useMemo(()=>K.resolvedOptions(),[K]),W=be({...d,currencySign:void 0}),re=s.useMemo(()=>isNaN(y)?"":W.format(y),[W,y]),{spinButtonProps:o,incrementButtonProps:_,decrementButtonProps:g}=ja({isDisabled:c,isReadOnly:m,isRequired:f,maxValue:x,minValue:P,onIncrement:I,onIncrementToMax:q,onDecrement:w,onDecrementToMin:Z,value:y,textValue:re}),[h,Je]=s.useState(!1),{focusWithinProps:Qe}=za({isDisabled:c,onFocusWithinChange:Je}),ea=s.useCallback(v=>{Math.abs(v.deltaY)<=Math.abs(v.deltaX)||(v.deltaY>0?I():v.deltaY<0&&w())},[w,I]);Xa({onScroll:ea,isDisabled:p||c||m||!h},r);var G;let le=((G=H.maximumFractionDigits)!==null&&G!==void 0?G:0)>0,te=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,A="numeric";Ua()?te?A="text":le&&(A="decimal"):qa()&&(te?A="numeric":le&&(A="decimal"));let aa=v=>{a.validate(v)&&a.setInputValue(v)},ra=pe(e),ne=s.useCallback(v=>{v.key==="Enter"?(k(),O()):v.continuePropagation()},[k,O]),{isInvalid:ie,validationErrors:la,validationDetails:ta}=a.displayValidation,{labelProps:oe,inputProps:na,descriptionProps:ia,errorMessageProps:oa}=Qa({...U,...ra,name:void 0,label:l,autoFocus:t,isDisabled:c,isReadOnly:m,isRequired:f,validate:void 0,[ga]:a,value:b,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:R,type:"text",inputMode:A,onChange:aa,onBlur:F,onFocus:D,onFocusChange:S,onKeyDown:s.useMemo(()=>Wa(ne,E),[ne,E]),onKeyUp:C,description:L,errorMessage:N},a,r);Ya(r,a.numberValue,a.setNumberValue);let ue=z(o,Y,na,{role:null,"aria-roledescription":Za()?null:T.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(ue["aria-required"]=void 0);let se=v=>{var J;document.activeElement!==r.current&&(v.pointerType==="mouse"?(J=r.current)===null||J===void 0||J.focus():v.target.focus())},X=e["aria-label"]||(typeof e.label=="string"?e.label:""),V;X||(V=e.label!=null?oe.id:e["aria-labelledby"]);let de=ee(),ce=ee(),ua=z(_,{"aria-label":i||T.format("increase",{fieldLabel:X}).trim(),id:V&&!i?de:null,"aria-labelledby":V&&!i?`${de} ${V}`:null,"aria-controls":R,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:se}),sa=z(g,{"aria-label":u||T.format("decrease",{fieldLabel:X}).trim(),id:V&&!u?ce:null,"aria-labelledby":V&&!u?`${ce} ${V}`:null,"aria-controls":R,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:se});return{groupProps:{...Qe,role:"group","aria-disabled":c,"aria-invalid":ie?"true":void 0},labelProps:oe,inputProps:ue,incrementButtonProps:ua,decrementButtonProps:sa,errorMessageProps:oa,descriptionProps:ia,isInvalid:ie,validationErrors:la,validationDetails:ta}}const rr=s.createContext(null),lr=s.createContext(null);function tr(e,a){[e,a]=La(e,a,rr);let{validationBehavior:r}=Pa(Va)||{};var n,u;let i=(u=(n=e.validationBehavior)!==null&&n!==void 0?n:r)!==null&&u!==void 0?u:"native",{locale:c}=Ta(),m=Ja({...e,locale:c,validationBehavior:i}),f=s.useRef(null),[P,x]=Da(),{labelProps:t,groupProps:l,inputProps:d,incrementButtonProps:F,decrementButtonProps:D,descriptionProps:S,errorMessageProps:E,...C}=ar({...Na(e),label:x,validationBehavior:i},m,f),L=Ea({...e,values:{state:m,isDisabled:e.isDisabled||!1,isInvalid:C.isInvalid||!1},defaultClassName:"react-aria-NumberField"}),N=pe(e);return delete N.id,$.createElement(Ba,{values:[[lr,m],[Sa,l],[Ma,{...d,ref:f}],[wa,{...t,ref:P}],[Fa,{slots:{increment:F,decrement:D}}],[ka,{slots:{description:S,errorMessage:E}}],[ha,C]]},$.createElement("div",{...N,...L,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":C.isInvalid||void 0}),e.name&&$.createElement("input",{type:"hidden",name:e.name,value:isNaN(m.numberValue)?"":m.numberValue}))}const nr=s.forwardRef(tr),ir="flow--number-field--group",or="flow--number-field--input",ur="flow--number-field--decrement-button",sr="flow--number-field--increment-button",dr="flow--number-field--coarse-pointer-icon",M={group:ir,input:or,decrementButton:ur,incrementButton:sr,coarsePointerIcon:dr},cr=xa("NumberField",e=>{const{children:a,className:r,ref:n,...u}=e,i=ca(j.formField,r),c={Label:{className:j.label,optional:!e.isRequired},FieldDescription:{className:j.fieldDescription},FieldError:{className:j.customFieldError}};return $.createElement(fa,null,$.createElement(nr,{...u,className:i},$.createElement(ya,{className:M.group},$.createElement(fe,{ariaSlot:"decrement",className:M.decrementButton,size:"s",variant:"plain",color:"secondary"},$.createElement(ma,null),$.createElement($a,{className:M.coarsePointerIcon})),$.createElement(Ia,{className:M.input,ref:n}),$.createElement(fe,{ariaSlot:"increment",className:M.incrementButton,size:"s",variant:"plain",color:"secondary"},$.createElement(pa,null),$.createElement(va,{className:M.coarsePointerIcon}))),$.createElement(ba,{props:c},a),$.createElement(da,{className:j.fieldError})))});cr.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"NumberField"};export{cr as N};
