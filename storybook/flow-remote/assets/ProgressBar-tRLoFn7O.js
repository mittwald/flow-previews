import{$ as x,d as v,a as P}from"./utils-D4Vol65q.js";import{a as g}from"./Label-BybFgH_Q.js";import{r as b,R as u}from"./index-BbMBc-iG.js";import{a as V}from"./index-CPTjWdH1.js";import{$ as h}from"./filterDOMProps-BSfnXAP7.js";import{$ as N}from"./useLabel-C5NcpKQ2.js";import{a as M}from"./useLocalizedStringFormatter-DYdTqA_9.js";import{$ as I}from"./NumberFormatter-DT0cDaax.js";function p(t,e=-1/0,a=1/0){return Math.min(Math.max(t,e),a)}function i(t,e){let a=t,r=e.toString(),f=r.indexOf("."),l=f>=0?r.length-f:0;if(l>0){let o=Math.pow(10,l);a=Math.round(a*o)/o}return a}function k(t,e,a,r){e=Number(e),a=Number(a);let f=(t-(isNaN(e)?0:e))%r,l=i(Math.abs(f)*2>=r?t+Math.sign(f)*(r-Math.abs(f)):t-f,r);return isNaN(e)?!isNaN(a)&&l>a&&(l=Math.floor(i(a/r,r))*r):l<e?l=e:!isNaN(a)&&l>a&&(l=e+Math.floor(i((a-e)/r,r))*r),l=i(l,r),l}function w(t={}){let{locale:e}=M();return b.useMemo(()=>new I(e,t),[e,t])}function y(t){let{value:e=0,minValue:a=0,maxValue:r=100,valueLabel:f,isIndeterminate:l,formatOptions:o={style:"percent"}}=t,c=h(t,{labelable:!0}),{labelProps:n,fieldProps:$}=N({...t,labelElementType:"span"});e=p(e,a,r);let s=(e-a)/(r-a),d=w(o);if(!l&&!f){let m=o.style==="percent"?s:e;f=d.format(m)}return{progressBarProps:V(c,{...$,"aria-valuenow":l?void 0:e,"aria-valuemin":a,"aria-valuemax":r,"aria-valuetext":l?void 0:f,role:"progressbar"}),labelProps:n}}const B=b.createContext(null);function E(t,e){[t,e]=x(t,e,B);let{value:a=0,minValue:r=0,maxValue:f=100,isIndeterminate:l=!1}=t;a=p(a,r,f);let[o,c]=v(),{progressBarProps:n,labelProps:$}=y({...t,label:c}),s=l?void 0:(a-r)/(f-r)*100,d=P({...t,defaultClassName:"react-aria-ProgressBar",values:{percentage:s,valueText:n["aria-valuetext"],isIndeterminate:l}});return u.createElement("div",{...n,...d,ref:e,slot:t.slot||void 0},u.createElement(g.Provider,{value:{...$,ref:o,elementType:"span"}},d.children))}const q=b.forwardRef(E);export{B as $,w as a,q as b,p as c,k as d};
