import{r as h,R as v}from"./index-B-o1Wr-g.js";import{c as T}from"./clsx-B-dksMZM.js";import"./IconApp-DUZeHGmy.js";import{C as G,K as j,D as K}from"./IconWarning-DX-MxN6U.js";import{C as z}from"./PropsContextProvider-DWb7RnwM.js";import{f as A}from"./flowComponent-B1Fj-awS.js";import{a as J}from"./RSPContexts-BT50PPhj.js";import{$ as B,e as E,d as L,a as O,g as Q,c as U,b as X,f as C}from"./utils-CCebJm36.js";import{$ as V,a as Y,e as q,f as Z,g as ee,d as ae}from"./FieldError-CjNivrvv.js";import{$ as ie,b as k}from"./Form-B_VAMaUE.js";import{a as de}from"./Label-BFvRcNt5.js";import{a as le}from"./Text-CByKVUtS.js";import{a as y}from"./index-ynQ6n1pc.js";import{$ as S}from"./filterDOMProps-CeZl_uWj.js";import{$ as te}from"./useControlledState-BgxdDqm0.js";import{$ as ne,b as re,a as se}from"./useFocusRing-CTDVvBmm.js";import{$ as oe}from"./usePress-C3EQNDer.js";import{$ as ce,a as M}from"./useToggleState-93Gd9adu.js";import{$ as fe}from"./VisuallyHidden-lWpahT0S.js";function _(e,a,l){let n=V({...e,value:a.isSelected}),{isInvalid:o,validationErrors:t,validationDetails:d}=n.displayValidation,{labelProps:r,inputProps:f,isSelected:i,isPressed:s,isDisabled:c,isReadOnly:b}=ce({...e,isInvalid:o},a,l);Y(e,n,l);let{isIndeterminate:$,isRequired:u,validationBehavior:x="aria"}=e;h.useEffect(()=>{l.current&&(l.current.indeterminate=!!$)});let{pressProps:m}=oe({isDisabled:c||b,onPress(){let{[q]:P}=e,{commitValidation:R}=P||n;R()}});return{labelProps:y(r,m),inputProps:{...f,checked:i,"aria-required":u&&x==="aria"||void 0,required:u&&x==="native"},isSelected:i,isPressed:s,isDisabled:c,isReadOnly:b,isInvalid:o,validationErrors:t,validationDetails:d}}const F=new WeakMap;function ue(e,a){let{isDisabled:l,name:n,validationBehavior:o="aria"}=e,{isInvalid:t,validationErrors:d,validationDetails:r}=a.displayValidation,{labelProps:f,fieldProps:i,descriptionProps:s,errorMessageProps:c}=ie({...e,labelElementType:"span",isInvalid:t,errorMessage:e.errorMessage||d});F.set(a,{name:n,descriptionId:s.id,errorMessageId:c.id,validationBehavior:o});let b=S(e,{labelable:!0}),{focusWithinProps:$}=ne({onBlurWithin:e.onBlur,onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange});return{groupProps:y(b,{role:"group","aria-disabled":l||void 0,...i,...$}),labelProps:f,descriptionProps:s,errorMessageProps:c,isInvalid:t,validationErrors:d,validationDetails:r}}function be(e,a,l){const n=M({isReadOnly:e.isReadOnly||a.isReadOnly,isSelected:a.isSelected(e.value),onChange(m){m?a.addValue(e.value):a.removeValue(e.value),e.onChange&&e.onChange(m)}});let{name:o,descriptionId:t,errorMessageId:d,validationBehavior:r}=F.get(a);var f;r=(f=e.validationBehavior)!==null&&f!==void 0?f:r;let{realtimeValidation:i}=V({...e,value:n.isSelected,name:void 0,validationBehavior:"aria"}),s=h.useRef(Z),c=()=>{a.setInvalid(e.value,i.isInvalid?i:s.current)};h.useEffect(c);let b=a.realtimeValidation.isInvalid?a.realtimeValidation:i,$=r==="native"?a.displayValidation:b;var u;let x=_({...e,isReadOnly:e.isReadOnly||a.isReadOnly,isDisabled:e.isDisabled||a.isDisabled,name:e.name||o,isRequired:(u=e.isRequired)!==null&&u!==void 0?u:a.isRequired,validationBehavior:r,[q]:{realtimeValidation:b,displayValidation:$,resetValidation:a.resetValidation,commitValidation:a.commitValidation,updateValidation(m){s.current=m,c()}}},n,l);return{...x,inputProps:{...x.inputProps,"aria-describedby":[e["aria-describedby"],a.isInvalid?d:null,t].filter(Boolean).join(" ")||void 0}}}function ve(e={}){let[a,l]=te(e.value,e.defaultValue||[],e.onChange),n=!!e.isRequired&&a.length===0,o=h.useRef(new Map),t=V({...e,value:a}),d=t.displayValidation.isInvalid;var r;return{...t,value:a,setValue(i){e.isReadOnly||e.isDisabled||l(i)},isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isSelected(i){return a.includes(i)},addValue(i){e.isReadOnly||e.isDisabled||a.includes(i)||l(a.concat(i))},removeValue(i){e.isReadOnly||e.isDisabled||a.includes(i)&&l(a.filter(s=>s!==i))},toggleValue(i){e.isReadOnly||e.isDisabled||(a.includes(i)?l(a.filter(s=>s!==i)):l(a.concat(i)))},setInvalid(i,s){let c=new Map(o.current);s.isInvalid?c.set(i,s):c.delete(i),o.current=c,t.updateValidation(ee(...c.values()))},validationState:(r=e.validationState)!==null&&r!==void 0?r:d?"invalid":null,isInvalid:d,isRequired:n}}const $e=h.createContext(null),N=h.createContext(null);function me(e,a){[e,a]=B(e,a,$e);let{validationBehavior:l}=E(k)||{};var n,o;let t=(o=(n=e.validationBehavior)!==null&&n!==void 0?n:l)!==null&&o!==void 0?o:"native",d=ve({...e,validationBehavior:t}),[r,f]=L(),{groupProps:i,labelProps:s,descriptionProps:c,errorMessageProps:b,...$}=ue({...e,label:f,validationBehavior:t},d),u=O({...e,values:{isDisabled:d.isDisabled,isReadOnly:d.isReadOnly,isRequired:e.isRequired||!1,isInvalid:d.isInvalid,state:d},defaultClassName:"react-aria-CheckboxGroup"});return v.createElement("div",{...i,...u,ref:a,slot:e.slot||void 0,"data-readonly":d.isReadOnly||void 0,"data-required":e.isRequired||void 0,"data-invalid":d.isInvalid||void 0,"data-disabled":e.isDisabled||void 0},v.createElement(Q,{values:[[N,d],[de,{...s,ref:r,elementType:"span"}],[le,{slots:{description:c,errorMessage:b}}],[ae,$]]},u.children))}function he(e,a){let{inputRef:l=null,...n}=e;[e,a]=B(n,a,J);let{validationBehavior:o}=E(k)||{};var t,d;let r=(d=(t=e.validationBehavior)!==null&&t!==void 0?t:o)!==null&&d!==void 0?d:"native",f=h.useContext(N),i=U(X(l,e.inputRef!==void 0?e.inputRef:null)),{labelProps:s,inputProps:c,isSelected:b,isDisabled:$,isReadOnly:u,isPressed:x,isInvalid:m}=f?be({...C(e),value:e.value,children:typeof e.children=="function"?!0:e.children},f,i):_({...C(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:r},M(e),i),{isFocused:P,isFocusVisible:R,focusProps:w}=re(),W=$||u,{hoverProps:H,isHovered:p}=se({...e,isDisabled:W}),g=O({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:b,isIndeterminate:e.isIndeterminate||!1,isPressed:x,isHovered:p,isFocused:P,isFocusVisible:R,isDisabled:$,isReadOnly:u,isInvalid:m,isRequired:e.isRequired||!1}}),D=S(e);return delete D.id,v.createElement("label",{...y(D,s,H,g),ref:a,slot:e.slot||void 0,"data-selected":b||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":x||void 0,"data-hovered":p||void 0,"data-focused":P||void 0,"data-focus-visible":R||void 0,"data-disabled":$||void 0,"data-readonly":u||void 0,"data-invalid":m||void 0,"data-required":e.isRequired||void 0},v.createElement(fe,{elementType:"span"},v.createElement("input",{...y(c,w),ref:i})),g.children)}const xe=h.forwardRef(he),Te=h.forwardRef(me),Pe="flow--checkbox",Re="flow--checkbox--icon",I={checkbox:Pe,icon:Re},Ie=A("Checkbox",e=>{const{children:a,className:l,refProp:n,...o}=e,t=T(I.checkbox,l);return v.createElement(z,null,v.createElement(xe,{...o,className:t,ref:n},({isSelected:d,isIndeterminate:r})=>v.createElement(v.Fragment,null,d?v.createElement(G,{className:I.icon}):r?v.createElement(j,{className:I.icon}):v.createElement(K,{className:I.icon}),a)))});Ie.__docgenInfo={description:"",methods:[],displayName:"Checkbox"};export{Te as $,Ie as C};
