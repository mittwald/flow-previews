import{a as $r}from"./Button-DpaYcQnV.js";import{c as ye,$ as R,h as pr,i as br,a as T,g as k,e as gr,d as mr,j as $e}from"./utils-CCebJm36.js";import{$ as vr}from"./RSPContexts-BT50PPhj.js";import{e as xr,b as yr,a as Pe,c as Pr,d as hr}from"./OverlayArrow-BMY-498z.js";import{$ as he,a as Er,b as Dr}from"./Collection-CYXS91v-.js";import{a as Ee,d as Cr,b as wr,c as Mr}from"./CollectionBuilder-cPXIJfS-.js";import{R as $,r as c}from"./index-B-o1Wr-g.js";import{a as Ar}from"./Separator-D4kl22nw.js";import{a as kr}from"./Text-CByKVUtS.js";import{a as S,b as pe,d as W,c as j,f as ee,$ as Sr,e as H}from"./index-ynQ6n1pc.js";import{$ as C}from"./filterDOMProps-CeZl_uWj.js";import{d as Br,e as Kr,g as Fr,h as Rr,c as Tr,$ as De,a as Or,b as Ce}from"./SelectionManager-Dnw_ATjh.js";import{h as te,b as Ir,$ as Lr,a as Nr}from"./usePress-C3EQNDer.js";import{g as _r,d as Hr,$ as zr,p as Wr,a as we,k as jr,f as Ur,e as be,b as Vr}from"./useFocusRing-CTDVvBmm.js";import{$ as Me}from"./useLocalizedStringFormatter-BQr1rA-c.js";import{e as Ae,$ as qr}from"./useCollator-DiB6vpBo.js";import{b as Gr}from"./useFocusable-CjESOWAx.js";import{c as Zr,a as ke}from"./FocusScope-Deam_7e8.js";import{$ as Jr}from"./useControlledState-BgxdDqm0.js";import{F as Yr}from"./index-DolzVqEf.js";import{b as Xr}from"./Hidden-CRdWNeH8.js";import{a as Qr}from"./useLabel-DrlXsFf-.js";import{$ as ea}from"./VisuallyHidden-lWpahT0S.js";const Se=$.forwardRef(({children:e,...t},r)=>{let a=c.useRef(!1),o=c.useContext(te);r=ye(r||(o==null?void 0:o.ref));let s=S(o||{},{...t,ref:r,register(){a.current=!0,o&&o.register()}});return _r(o,r),c.useEffect(()=>{a.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),a.current=!0)},[]),$.createElement(te.Provider,{value:s},e)});function ta({children:e}){let t=c.useMemo(()=>({register:()=>{}}),[]);return $.createElement(te.Provider,{value:t},e)}function ra(e){let{ref:t,onInteractOutside:r,isDisabled:a,onInteractOutsideStart:o}=e,s=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=pe(n=>{r&&N(n,t)&&(o&&o(n),s.current.isPointerDown=!0)}),l=pe(n=>{r&&r(n)});c.useEffect(()=>{let n=s.current;if(a)return;const d=t.current,i=Hr(d);if(typeof PointerEvent<"u"){let p=g=>{n.isPointerDown&&N(g,t)&&l(g),n.isPointerDown=!1};return i.addEventListener("pointerdown",u,!0),i.addEventListener("pointerup",p,!0),()=>{i.removeEventListener("pointerdown",u,!0),i.removeEventListener("pointerup",p,!0)}}else{let p=f=>{n.ignoreEmulatedMouseEvents?n.ignoreEmulatedMouseEvents=!1:n.isPointerDown&&N(f,t)&&l(f),n.isPointerDown=!1},g=f=>{n.ignoreEmulatedMouseEvents=!0,n.isPointerDown&&N(f,t)&&l(f),n.isPointerDown=!1};return i.addEventListener("mousedown",u,!0),i.addEventListener("mouseup",p,!0),i.addEventListener("touchstart",u,!0),i.addEventListener("touchend",g,!0),()=>{i.removeEventListener("mousedown",u,!0),i.removeEventListener("mouseup",p,!0),i.removeEventListener("touchstart",u,!0),i.removeEventListener("touchend",g,!0)}}},[t,a,u,l])}function N(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}const h=[];function aa(e,t){let{onClose:r,shouldCloseOnBlur:a,isOpen:o,isDismissable:s=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:l}=e;c.useEffect(()=>(o&&h.push(t),()=>{let b=h.indexOf(t);b>=0&&h.splice(b,1)}),[o,t]);let n=()=>{h[h.length-1]===t&&r&&r()},d=b=>{(!l||l(b.target))&&h[h.length-1]===t&&(b.stopPropagation(),b.preventDefault())},i=b=>{(!l||l(b.target))&&(h[h.length-1]===t&&(b.stopPropagation(),b.preventDefault()),n())},p=b=>{b.key==="Escape"&&!u&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),n())};ra({ref:t,onInteractOutside:s&&o?i:void 0,onInteractOutsideStart:d});let{focusWithinProps:g}=zr({isDisabled:!a,onBlurWithin:b=>{!b.relatedTarget||Zr(b.relatedTarget)||(!l||l(b.relatedTarget))&&(r==null||r())}}),f=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:p,...g},underlayProps:{onPointerDown:f}}}function Be(e,t,r){let{type:a}=e,{isOpen:o}=t;c.useEffect(()=>{r&&r.current&&xr.set(r.current,t.close)});let s;a==="menu"?s=!0:a==="listbox"&&(s="listbox");let u=W();return{triggerProps:{"aria-haspopup":s,"aria-expanded":o,"aria-controls":o?u:void 0,onPress:t.toggle},overlayProps:{id:u}}}const X=typeof document<"u"&&window.visualViewport,oa=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let _=0,Q;function na(e={}){let{isDisabled:t}=e;j(()=>{if(!t)return _++,_===1&&(Wr()?Q=ia():Q=sa()),()=>{_--,_===0&&Q()}},[t])}function sa(){return ee(A(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),A(document.documentElement,"overflow","hidden"))}function ia(){let e,t,r=d=>{e=Ae(d.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=A(e,"overscrollBehavior","contain"))},a=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&d.preventDefault()},o=d=>{let i=d.target;me(i)&&i!==document.activeElement&&(d.preventDefault(),l(),i.style.transform="translateY(-2000px)",i.focus(),requestAnimationFrame(()=>{i.style.transform=""})),t&&t()},s=d=>{let i=d.target;me(i)&&(l(),i.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{i.style.transform="",X&&(X.height<window.innerHeight?requestAnimationFrame(()=>{ge(i)}):X.addEventListener("resize",()=>ge(i),{once:!0}))}))},u=null,l=()=>{if(u)return;let d=()=>{window.scrollTo(0,0)},i=window.pageXOffset,p=window.pageYOffset;u=ee(K(window,"scroll",d),A(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),A(document.documentElement,"overflow","hidden"),A(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(i,p)}),window.scrollTo(0,0)},n=ee(K(document,"touchstart",r,{passive:!1,capture:!0}),K(document,"touchmove",a,{passive:!1,capture:!0}),K(document,"touchend",o,{passive:!1,capture:!0}),K(document,"focus",s,!0));return()=>{t==null||t(),u==null||u(),n()}}function A(e,t,r){let a=e.style[t];return e.style[t]=r,()=>{e.style[t]=a}}function K(e,t,r,a){return e.addEventListener(t,r,a),()=>{e.removeEventListener(t,r,a)}}function ge(e){let t=document.scrollingElement||document.documentElement,r=e;for(;r&&r!==t;){let a=Ae(r);if(a!==document.documentElement&&a!==document.body&&a!==r){let o=a.getBoundingClientRect().top,s=r.getBoundingClientRect().top;s>o+r.clientHeight&&(a.scrollTop+=s-o)}r=a.parentElement}}function me(e){return e instanceof HTMLInputElement&&!oa.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var Ke={};Ke={dismiss:"تجاهل"};var Fe={};Fe={dismiss:"Отхвърляне"};var Re={};Re={dismiss:"Odstranit"};var Te={};Te={dismiss:"Luk"};var Oe={};Oe={dismiss:"Schließen"};var Ie={};Ie={dismiss:"Απόρριψη"};var Le={};Le={dismiss:"Dismiss"};var Ne={};Ne={dismiss:"Descartar"};var _e={};_e={dismiss:"Lõpeta"};var He={};He={dismiss:"Hylkää"};var ze={};ze={dismiss:"Rejeter"};var We={};We={dismiss:"התעלם"};var je={};je={dismiss:"Odbaci"};var Ue={};Ue={dismiss:"Elutasítás"};var Ve={};Ve={dismiss:"Ignora"};var qe={};qe={dismiss:"閉じる"};var Ge={};Ge={dismiss:"무시"};var Ze={};Ze={dismiss:"Atmesti"};var Je={};Je={dismiss:"Nerādīt"};var Ye={};Ye={dismiss:"Lukk"};var Xe={};Xe={dismiss:"Negeren"};var Qe={};Qe={dismiss:"Zignoruj"};var et={};et={dismiss:"Descartar"};var tt={};tt={dismiss:"Dispensar"};var rt={};rt={dismiss:"Revocare"};var at={};at={dismiss:"Пропустить"};var ot={};ot={dismiss:"Zrušiť"};var nt={};nt={dismiss:"Opusti"};var st={};st={dismiss:"Odbaci"};var it={};it={dismiss:"Avvisa"};var lt={};lt={dismiss:"Kapat"};var ut={};ut={dismiss:"Скасувати"};var dt={};dt={dismiss:"取消"};var ct={};ct={dismiss:"關閉"};var ft={};ft={"ar-AE":Ke,"bg-BG":Fe,"cs-CZ":Re,"da-DK":Te,"de-DE":Oe,"el-GR":Ie,"en-US":Le,"es-ES":Ne,"et-EE":_e,"fi-FI":He,"fr-FR":ze,"he-IL":We,"hr-HR":je,"hu-HU":Ue,"it-IT":Ve,"ja-JP":qe,"ko-KR":Ge,"lt-LT":Ze,"lv-LV":Je,"nb-NO":Ye,"nl-NL":Xe,"pl-PL":Qe,"pt-BR":et,"pt-PT":tt,"ro-RO":rt,"ru-RU":at,"sk-SK":ot,"sl-SI":nt,"sr-SP":st,"sv-SE":it,"tr-TR":lt,"uk-UA":ut,"zh-CN":dt,"zh-TW":ct};function la(e){return e&&e.__esModule?e.default:e}function ve(e){let{onDismiss:t,...r}=e,a=Me(la(ft),"@react-aria/overlays"),o=Qr(r,a.format("dismiss")),s=()=>{t&&t()};return $.createElement(ea,null,$.createElement("button",{...o,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}let F=new WeakMap,x=[];function ua(e,t=document.body){let r=new Set(e),a=new Set,o=n=>{for(let g of n.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(g);let d=g=>{if(r.has(g)||g.parentElement&&a.has(g.parentElement)&&g.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of r)if(g.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),p=d(n);if(p===NodeFilter.FILTER_ACCEPT&&s(n),p!==NodeFilter.FILTER_REJECT){let g=i.nextNode();for(;g!=null;)s(g),g=i.nextNode()}},s=n=>{var d;let i=(d=F.get(n))!==null&&d!==void 0?d:0;n.getAttribute("aria-hidden")==="true"&&i===0||(i===0&&n.setAttribute("aria-hidden","true"),a.add(n),F.set(n,i+1))};x.length&&x[x.length-1].disconnect(),o(t);let u=new MutationObserver(n=>{for(let d of n)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...r,...a].some(i=>i.contains(d.target))){for(let i of d.removedNodes)i instanceof Element&&(r.delete(i),a.delete(i));for(let i of d.addedNodes)(i instanceof HTMLElement||i instanceof SVGElement)&&(i.dataset.liveAnnouncer==="true"||i.dataset.reactAriaTopLayer==="true")?r.add(i):i instanceof Element&&o(i)}});u.observe(t,{childList:!0,subtree:!0});let l={observe(){u.observe(t,{childList:!0,subtree:!0})},disconnect(){u.disconnect()}};return x.push(l),()=>{u.disconnect();for(let n of a){let d=F.get(n);d!=null&&(d===1?(n.removeAttribute("aria-hidden"),F.delete(n)):F.set(n,d-1))}l===x[x.length-1]?(x.pop(),x.length&&x[x.length-1].observe()):x.splice(x.indexOf(l),1)}}function da(e,t){let{triggerRef:r,popoverRef:a,isNonModal:o,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:u,...l}=e,{overlayProps:n,underlayProps:d}=aa({isOpen:t.isOpen&&!l["data-react-aria-top-layer"],onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:s,shouldCloseOnInteractOutside:u},a),{overlayProps:i,arrowProps:p,placement:g}=yr({...l,targetRef:r,overlayRef:a,isOpen:t.isOpen,onClose:o?t.close:void 0});return na({isDisabled:o||!t.isOpen}),j(()=>{if(t.isOpen&&!o&&a.current)return ua([a.current])},[o,t.isOpen,a]),{popoverProps:S(n,i),arrowProps:p,underlayProps:d,placement:g}}const ca=c.createContext({});function fa(){var e;return(e=c.useContext(ca))!==null&&e!==void 0?e:{}}const $t=$.createContext(null);function $a(e){let t=Sr(),{portalContainer:r=t?null:document.body,isExiting:a}=e,[o,s]=c.useState(!1),u=c.useMemo(()=>({contain:o,setContain:s}),[o,s]),{getContainer:l}=fa();if(!e.portalContainer&&l&&(r=l()),!r)return null;let n=e.children;return e.disableFocusManagement||(n=$.createElement(ke,{restoreFocus:!0,contain:o&&!a},n)),n=$.createElement($t.Provider,{value:u},$.createElement(ta,null,n)),Yr.createPortal(n,r)}function pa(){let e=c.useContext($t),t=e==null?void 0:e.setContain;j(()=>{t==null||t(!0)},[t])}function ba(e){let{selectionManager:t,collection:r,disabledKeys:a,ref:o,keyboardDelegate:s,layoutDelegate:u}=e,l=qr({usage:"search",sensitivity:"base"}),n=t.disabledBehavior,d=c.useMemo(()=>s||new Br({collection:r,disabledKeys:a,disabledBehavior:n,ref:o,collator:l,layoutDelegate:u}),[s,u,r,a,o,l,n]),{collectionProps:i}=Kr({...e,ref:o,selectionManager:t,keyboardDelegate:d});return{listProps:i}}const xe=new WeakMap;function ga(e){let t=xe.get(e);if(t!=null)return t;let r=0,a=o=>{for(let s of o)s.type==="section"?a(Fr(s,e)):r++};return a(e),xe.set(e,r),r}var pt={};pt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var bt={};bt={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var gt={};gt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var mt={};mt={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var vt={};vt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var xt={};xt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var yt={};yt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Pt={};Pt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var ht={};ht={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Et={};Et={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Dt={};Dt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Ct={};Ct={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var wt={};wt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Mt={};Mt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var At={};At={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var kt={};kt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var St={};St={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Bt={};Bt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Kt={};Kt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Ft={};Ft={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Rt={};Rt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Tt={};Tt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Ot={};Ot={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var It={};It={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Lt={};Lt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Nt={};Nt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var _t={};_t={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Ht={};Ht={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var zt={};zt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Wt={};Wt={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var jt={};jt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Ut={};Ut={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Vt={};Vt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var qt={};qt={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var Gt={};Gt={"ar-AE":pt,"bg-BG":bt,"cs-CZ":gt,"da-DK":mt,"de-DE":vt,"el-GR":xt,"en-US":yt,"es-ES":Pt,"et-EE":ht,"fi-FI":Et,"fr-FR":Dt,"he-IL":Ct,"hr-HR":wt,"hu-HU":Mt,"it-IT":At,"ja-JP":kt,"ko-KR":St,"lt-LT":Bt,"lv-LV":Kt,"nb-NO":Ft,"nl-NL":Rt,"pl-PL":Tt,"pt-BR":Ot,"pt-PT":It,"ro-RO":Lt,"ru-RU":Nt,"sk-SK":_t,"sl-SI":Ht,"sr-SP":zt,"sv-SE":Wt,"tr-TR":jt,"uk-UA":Ut,"zh-CN":Vt,"zh-TW":qt};function ma(e){return e&&e.__esModule?e.default:e}function va(e,t,r){let{type:a="menu",isDisabled:o,trigger:s="press"}=e,u=W(),{triggerProps:l,overlayProps:n}=Be({type:a},t,r),d=f=>{if(!o&&!(s==="longPress"&&!f.altKey)&&r&&r.current)switch(f.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),t.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},i=Me(ma(Gt),"@react-aria/menu"),{longPressProps:p}=Rr({isDisabled:o||s!=="longPress",accessibilityDescription:i.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),g={onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!o&&t.open(f.pointerType==="virtual"?"first":null)},onPress(f){f.pointerType==="touch"&&!o&&t.toggle()}};return delete l.onPress,{menuTriggerProps:{...l,...s==="press"?g:p,id:u,onKeyDown:d},menuProps:{...n,"aria-labelledby":u,autoFocus:t.focusStrategy||!0,onClose:t.close}}}const Zt=new WeakMap;function xa(e,t,r){let{shouldFocusWrap:a=!0,onKeyDown:o,onKeyUp:s,...u}=e;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let l=C(e,{labelable:!0}),{listProps:n}=ba({...u,ref:r,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:a,linkBehavior:"override"});return Zt.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:S(l,{onKeyDown:o,onKeyUp:s},{role:"menu",...n,onKeyDown:d=>{var i;d.key!=="Escape"&&((i=n.onKeyDown)===null||i===void 0||i.call(n,d))}})}}function ya(e,t,r){let{id:a,key:o,closeOnSelect:s,isVirtualized:u,"aria-haspopup":l,onPressStart:n,onPressUp:d,onPress:i,onPressChange:p,onPressEnd:g,onHoverStart:f,onHoverChange:b,onHoverEnd:E,onKeyDown:D,onKeyUp:O,onFocus:I,onFocusChange:V,onBlur:tr,selectionManager:y=t.selectionManager}=e,P=!!l,se=P&&e["aria-expanded"]==="true";var q;let w=(q=e.isDisabled)!==null&&q!==void 0?q:y.isDisabled(o);var G;let ie=(G=e.isSelected)!==null&&G!==void 0?G:y.isSelected(o),Z=Zt.get(t),v=t.collection.getItem(o),M=e.onClose||Z.onClose,rr=Ir(),le=m=>{var Y;if(!P){if(!(v==null||(Y=v.props)===null||Y===void 0)&&Y.onAction?v.props.onAction():e.onAction&&e.onAction(o),Z.onAction){let fr=Z.onAction;fr(o)}m.target instanceof HTMLAnchorElement&&v&&rr.open(m.target,m,v.props.href,v.props.routerOptions)}},J="menuitem";P||(y.selectionMode==="single"?J="menuitemradio":y.selectionMode==="multiple"&&(J="menuitemcheckbox"));let ue=H(),de=H(),ce=H(),L={id:a,"aria-disabled":w||void 0,role:J,"aria-label":e["aria-label"],"aria-labelledby":ue,"aria-describedby":[de,ce].filter(Boolean).join(" ")||void 0,"aria-controls":e["aria-controls"],"aria-haspopup":l,"aria-expanded":e["aria-expanded"]};y.selectionMode!=="none"&&!P&&(L["aria-checked"]=ie),u&&(L["aria-posinset"]=v==null?void 0:v.index,L["aria-setsize"]=ga(t.collection));let ar=m=>{m.pointerType==="keyboard"&&le(m),n==null||n(m)},or=m=>{m.pointerType!=="keyboard"&&(le(m),!P&&M&&(s??(y.selectionMode!=="multiple"||y.isLink(o)))&&M()),d==null||d(m)},{itemProps:B,isFocused:nr}=Tr({selectionManager:y,key:o,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:sr,isPressed:ir}=Lr({onPressStart:ar,onPress:i,onPressUp:or,onPressChange:p,onPressEnd:g,isDisabled:w}),{hoverProps:lr}=we({isDisabled:w,onHoverStart(m){!jr()&&!(se&&l==="dialog")&&(y.setFocused(!0),y.setFocusedKey(o)),f==null||f(m)},onHoverChange:b,onHoverEnd:E}),{keyboardProps:ur}=Gr({onKeyDown:m=>{if(m.repeat){m.continuePropagation();return}switch(m.key){case" ":!w&&y.selectionMode==="none"&&!P&&s!==!1&&M&&M();break;case"Enter":!w&&s!==!1&&!P&&M&&M();break;default:P||m.continuePropagation(),D==null||D(m);break}},onKeyUp:O}),{focusProps:dr}=Ur({onBlur:tr,onFocus:I,onFocusChange:V}),fe=C(v==null?void 0:v.props);delete fe.id;let cr=Nr(v==null?void 0:v.props);return{menuItemProps:{...L,...S(fe,cr,P?{onFocus:B.onFocus,"data-key":B["data-key"]}:B,sr,lr,ur,dr),tabIndex:B.tabIndex!=null&&se?-1:B.tabIndex},labelProps:{id:ue},descriptionProps:{id:de},keyboardShortcutProps:{id:ce},isFocused:nr,isSelected:ie,isPressed:ir,isDisabled:w}}function Pa(e){let{heading:t,"aria-label":r}=e,a=W();return{itemProps:{role:"presentation"},headingProps:t?{id:a,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":t?a:void 0}}}function ha(e,t){let{role:r="dialog"}=e,a=H();a=e["aria-label"]?void 0:a;let o=c.useRef(!1);return c.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){be(t.current);let s=setTimeout(()=>{document.activeElement===t.current&&(o.current=!0,t.current&&(t.current.blur(),be(t.current)),o.current=!1)},500);return()=>{clearTimeout(s)}}},[t]),pa(),{dialogProps:{...C(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||a,onBlur:s=>{o.current&&s.stopPropagation()}},titleProps:{id:a}}}function Jt(e){let t=Pe(e),[r,a]=c.useState(null),[o,s]=c.useState([]),u=()=>{s([]),t.close()};return{focusStrategy:r,...t,open(d=null){a(d),t.open()},toggle(d=null){a(d),t.toggle()},close(){u()},expandedKeysStack:o,openSubmenu:(d,i)=>{s(p=>i>p.length?p:[...p.slice(0,i),d])},closeSubmenu:(d,i)=>{s(p=>p[i]===d?p.slice(0,i):p)}}}class Ea{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let r=this.keyMap.get(t);var a;return r&&(a=r.prevKey)!==null&&a!==void 0?a:null}getKeyAfter(t){let r=this.keyMap.get(t);var a;return r&&(a=r.nextKey)!==null&&a!==void 0?a:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var r;return(r=this.keyMap.get(t))!==null&&r!==void 0?r:null}at(t){const r=[...this.getKeys()];return this.getItem(r[t])}constructor(t,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t,r=r||new Set;let a=l=>{if(this.keyMap.set(l.key,l),l.childNodes&&(l.type==="section"||r.has(l.key)))for(let n of l.childNodes)a(n)};for(let l of t)a(l);let o=null,s=0;for(let[l,n]of this.keyMap)o?(o.nextKey=l,n.prevKey=o.key):(this.firstKey=l,n.prevKey=void 0),n.type==="item"&&(n.index=s++),o=n,o.nextKey=void 0;var u;this.lastKey=(u=o==null?void 0:o.key)!==null&&u!==void 0?u:null}}function Da(e){let{onExpandedChange:t}=e,[r,a]=Jr(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,t),o=De(e),s=c.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),u=Or(e,c.useCallback(n=>new Ea(n,{expandedKeys:r}),[r]),null);return c.useEffect(()=>{o.focusedKey!=null&&!u.getItem(o.focusedKey)&&o.setFocusedKey(null)},[u,o.focusedKey]),{collection:u,expandedKeys:r,disabledKeys:s,toggleKey:n=>{a(Ca(r,n))},setExpandedKeys:a,selectionManager:new Ce(u,o)}}function Ca(e,t){let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r}const Yt=c.createContext({}),ao=Ee("header",function(t,r){return[t,r]=R(t,r,Yt),$.createElement("header",{className:"react-aria-Header",...t,ref:r},t.children)}),ae=c.createContext(null);function wa(e,t){[e,t]=R(e,t,ae);let r=c.useContext(U),a=Pe(e),o=e.isOpen!=null||e.defaultOpen!=null||!r?a:r,s=pr(t,o.isOpen)||e.isExiting||!1;if(Xr()){let l=e.children;return typeof l=="function"&&(l=l({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),$.createElement($.Fragment,null,l)}return o&&!o.isOpen&&!s?null:$.createElement(Ma,{...e,triggerRef:e.triggerRef,state:o,popoverRef:t,isExiting:s})}const oo=c.forwardRef(wa);function Ma({state:e,isExiting:t,UNSTABLE_portalContainer:r,...a}){let o=c.useRef(null),[s,u]=c.useState(0);j(()=>{o.current&&e.isOpen&&u(o.current.getBoundingClientRect().width)},[e.isOpen,o]);var l;let{popoverProps:n,underlayProps:d,arrowProps:i,placement:p}=da({...a,offset:(l=a.offset)!==null&&l!==void 0?l:8,arrowSize:s},e),g=a.popoverRef,f=br(g,!!p)||a.isEntering||!1,b=T({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:p,isEntering:f,isExiting:t}}),E={...n.style,...b.style};return $.createElement($a,{...a,isExiting:t,portalContainer:r},!a.isNonModal&&e.isOpen&&$.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),$.createElement("div",{...S(C(a),n),...b,ref:g,slot:a.slot||void 0,style:E,"data-trigger":a.trigger,"data-placement":p,"data-entering":f||void 0,"data-exiting":t||void 0},!a.isNonModal&&$.createElement(ve,{onDismiss:e.close}),$.createElement(Pr.Provider,{value:{...i,placement:p,ref:o}},b.children),$.createElement(ve,{onDismiss:e.close})))}const Aa=c.createContext({}),Xt=c.createContext(null),oe=c.createContext(null),ne=c.createContext(null),z=c.createContext(null);function no(e){let t=Jt(e),r=c.useRef(null),{menuTriggerProps:a,menuProps:o}=va({...e,type:"menu"},t,r),[s,u]=c.useState(null),l=c.useCallback(()=>{r.current&&u(r.current.offsetWidth+"px")},[r]);hr({ref:r,onResize:l});let n=c.useRef(null);return $.createElement(k,{values:[[Xt,{...o,ref:n}],[U,t],[ne,t],[ae,{trigger:"MenuTrigger",triggerRef:r,scrollRef:n,placement:"bottom start",style:{"--trigger-width":s}}]]},$.createElement(Se,{...a,ref:r,isPressed:t.isOpen},e.children))}const ka=c.createContext(null);function Sa(e,t){return[e,t]=R(e,t,Xt),$.createElement(wr,{content:$.createElement(Mr,e)},r=>r.size>0&&$.createElement(Ba,{props:e,collection:r,menuRef:t}))}function Ba({props:e,collection:t,menuRef:r}){let a=Da({...e,collection:t,children:void 0}),o=c.useContext(ne),{isVirtualized:s,CollectionRoot:u}=c.useContext(he),{menuProps:l}=xa({...e,isVirtualized:s,onClose:e.onClose||(o==null?void 0:o.close)},a,r),n=T({defaultClassName:"react-aria-Menu",className:e.className,style:e.style,values:{}});return $.createElement(ke,null,$.createElement("div",{...C(e),...l,...n,ref:r,slot:e.slot||void 0,onScroll:e.onScroll},$.createElement(k,{values:[[oe,a],[Ar,{elementType:"div"}],[Er,{name:"MenuSection",render:Qt}],[ka,{parentMenuRef:r}],[re,null],[z,a.selectionManager]]},$.createElement(u,{collection:t,persistedKeys:Dr(a.selectionManager.focusedKey),scrollRef:r}))))}const so=c.forwardRef(Sa);class Ka extends Ce{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(t,r){return this.parent.setFocusedKey(t,r)}setFocused(t){this.parent.setFocused(t)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(t,r){super(t.collection,r),this.parent=t}}function Qt(e,t,r,a="react-aria-MenuSection"){var o,s;let u=c.useContext(oe),{CollectionBranch:l}=c.useContext(he),[n,d]=mr();var i;let{headingProps:p,groupProps:g}=Pa({heading:d,"aria-label":(i=r.props["aria-label"])!==null&&i!==void 0?i:void 0}),f=T({defaultClassName:a,className:(o=r.props)===null||o===void 0?void 0:o.className,style:(s=r.props)===null||s===void 0?void 0:s.style,values:{}}),b=c.useContext(z),E=De(e),D=e.selectionMode!=null?new Ka(b,E):b;return $.createElement("section",{...C(e),...g,...f,ref:t},$.createElement(k,{values:[[Yt,{...p,ref:n}],[z,D]]},$.createElement(l,{collection:u.collection,parent:r})))}const io=Cr("section",Qt),re=c.createContext(null),lo=Ee("item",function(t,r,a){var o;[t,r]=R(t,r,re);let s=(o=gr(re))===null||o===void 0?void 0:o.id,u=c.useContext(oe),l=ye(r),n=c.useContext(z),{menuItemProps:d,labelProps:i,descriptionProps:p,keyboardShortcutProps:g,...f}=ya({...t,id:s,key:a.key,selectionManager:n},u,l),{isFocusVisible:b,focusProps:E}=Vr(),{hoverProps:D,isHovered:O}=we({isDisabled:f.isDisabled}),I=T({...t,id:void 0,children:a.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:O,isFocusVisible:b,selectionMode:n.selectionMode,selectionBehavior:n.selectionBehavior,hasSubmenu:!!t["aria-haspopup"],isOpen:t["aria-expanded"]==="true"}}),V=t.href?"a":"div";return $.createElement(V,{...S(d,E,D),...I,ref:l,"data-disabled":f.isDisabled||void 0,"data-hovered":O||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":b||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":n.selectionMode==="none"?void 0:n.selectionMode,"data-has-submenu":!!t["aria-haspopup"]||void 0,"data-open":t["aria-expanded"]==="true"||void 0},$.createElement(k,{values:[[kr,{slots:{label:i,description:p}}],[Aa,g]]},I.children))}),er=c.createContext(null),U=c.createContext(null);function uo(e){let t=Jt(e),r=c.useRef(null),{triggerProps:a,overlayProps:o}=Be({type:"dialog"},t,r);return a.id=W(),o["aria-labelledby"]=a.id,$.createElement(k,{values:[[U,t],[ne,t],[er,o],[ae,{trigger:"DialogTrigger",triggerRef:r}]]},$.createElement(Se,{...a,ref:r,isPressed:t.isOpen},e.children))}function Fa(e,t){let r=e["aria-labelledby"];[e,t]=R(e,t,er);let{dialogProps:a,titleProps:o}=ha({...e,"aria-labelledby":r},t),s=c.useContext(U);!a["aria-label"]&&!a["aria-labelledby"]&&(e["aria-labelledby"]?a["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));let u=T({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(s==null?void 0:s.close)||(()=>{})}});return $.createElement("section",{...C(e),...a,...u,ref:t,slot:e.slot||void 0},$.createElement(k,{values:[[vr,{slots:{[$e]:{},title:{...o,level:2}}}],[$r,{slots:{[$e]:{},close:{onPress:()=>s==null?void 0:s.close()}}}]]},u.children))}const co=c.forwardRef(Fa);export{uo as $,oo as a,co as b,io as c,ao as d,aa as e,na as f,pa as g,ua as h,U as i,$a as j,ve as k,ba as l,ga as m,Yt as n,so as o,lo as p,no as q,va as r,ae as s,er as t};
