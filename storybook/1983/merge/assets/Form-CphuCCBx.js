import{R as S,r as K,j as H}from"./iframe-BJ0F67WV.js";import{d as Mt}from"./dynamic-D4EbkcOt.js";import{P as lt}from"./flowComponent-3J-YZQgx.js";import{F as Ut}from"./FieldError-B5pU0GHC.js";import{v as Bt}from"./IconWarning-D8lhACCL.js";import{$ as Nt}from"./useLocalizedStringFormatter-CatcJgnD.js";import{a as It,A as Wt}from"./Action-DQsKkgIU.js";import{i as qt}from"./browser-ENr42WFT.js";var he=e=>e.type==="checkbox",ae=e=>e instanceof Date,q=e=>e==null;const ut=e=>typeof e=="object";var L=e=>!q(e)&&!Array.isArray(e)&&ut(e)&&!ae(e),dt=e=>L(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Ht=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ct=(e,s)=>e.has(Ht(s)),jt=e=>{const s=e.constructor&&e.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let s;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Pe&&(e instanceof Blob||i))&&(t||L(e)))if(s=t?[]:{},!t&&!jt(e))s=e;else for(const o in e)e.hasOwnProperty(o)&&(s[o]=B(e[o]));else return e;return s}var xe=e=>/^\w*$/.test(e),P=e=>e===void 0,Le=e=>Array.isArray(e)?e.filter(Boolean):[],Te=e=>Le(e.replace(/["|']|\]/g,"").split(/\.|\[/)),m=(e,s,t)=>{if(!s||!L(e))return t;const i=(xe(s)?[s]:Te(s)).reduce((o,a)=>q(o)?o:o[a],e);return P(i)||i===e?P(e[s])?t:e[s]:i},G=e=>typeof e=="boolean",E=(e,s,t)=>{let i=-1;const o=xe(s)?[s]:Te(s),a=o.length,u=a-1;for(;++i<a;){const d=o[i];let _=t;if(i!==u){const v=e[d];_=L(v)||Array.isArray(v)?v:isNaN(+o[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=_,e=e[d]}};const Fe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Y={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Oe=S.createContext(null);Oe.displayName="HookFormContext";const Me=()=>S.useContext(Oe),$t=e=>{const{children:s,...t}=e;return S.createElement(Oe.Provider,{value:t},s)};var ft=(e,s,t,i=!0)=>{const o={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(o,a,{get:()=>{const u=a;return s._proxyFormState[u]!==Y.all&&(s._proxyFormState[u]=!i||Y.all),t&&(t[u]=!0),e[u]}});return o};const Ue=typeof window<"u"?S.useLayoutEffect:S.useEffect;function mt(e){const s=Me(),{control:t=s.control,disabled:i,name:o,exact:a}=e||{},[u,d]=S.useState(t._formState),_=S.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ue(()=>t._subscribe({name:o,formState:_.current,exact:a,callback:v=>{!i&&d({...t._formState,...v})}}),[o,i,a]),S.useEffect(()=>{_.current.isValid&&t._setValid(!0)},[t]),S.useMemo(()=>ft(u,t,_.current,!1),[u,t])}var ee=e=>typeof e=="string",yt=(e,s,t,i,o)=>ee(e)?(i&&s.watch.add(e),m(t,e,o)):Array.isArray(e)?e.map(a=>(i&&s.watch.add(a),m(t,a))):(i&&(s.watchAll=!0),t),Re=e=>q(e)||!ut(e);function re(e,s,t=new WeakSet){if(Re(e)||Re(s))return e===s;if(ae(e)&&ae(s))return e.getTime()===s.getTime();const i=Object.keys(e),o=Object.keys(s);if(i.length!==o.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const a of i){const u=e[a];if(!o.includes(a))return!1;if(a!=="ref"){const d=s[a];if(ae(u)&&ae(d)||L(u)&&L(d)||Array.isArray(u)&&Array.isArray(d)?!re(u,d,t):u!==d)return!1}}return!0}function Gt(e){const s=Me(),{control:t=s.control,name:i,defaultValue:o,disabled:a,exact:u,compute:d}=e||{},_=S.useRef(o),v=S.useRef(d),F=S.useRef(void 0);v.current=d;const V=S.useMemo(()=>t._getWatch(i,_.current),[t,i]),[h,T]=S.useState(v.current?v.current(V):V);return Ue(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:O=>{if(!a){const A=yt(i,t._names,O.values||t._formValues,!1,_.current);if(v.current){const M=v.current(A);re(M,F.current)||(T(M),F.current=M)}else T(A)}}}),[t,a,i,u]),S.useEffect(()=>t._removeUnmounted()),h}function Kt(e){const s=Me(),{name:t,disabled:i,control:o=s.control,shouldUnregister:a,defaultValue:u}=e,d=ct(o._names.array,t),_=S.useMemo(()=>m(o._formValues,t,m(o._defaultValues,t,u)),[o,t,u]),v=Gt({control:o,name:t,defaultValue:_,exact:!0}),F=mt({control:o,name:t,exact:!0}),V=S.useRef(e),h=S.useRef(o.register(t,{...e.rules,value:v,...G(e.disabled)?{disabled:e.disabled}:{}}));V.current=e;const T=S.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!m(F.errors,t)},isDirty:{enumerable:!0,get:()=>!!m(F.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!m(F.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!m(F.validatingFields,t)},error:{enumerable:!0,get:()=>m(F.errors,t)}}),[F,t]),O=S.useCallback(b=>h.current.onChange({target:{value:dt(b),name:t},type:Fe.CHANGE}),[t]),A=S.useCallback(()=>h.current.onBlur({target:{value:m(o._formValues,t),name:t},type:Fe.BLUR}),[t,o._formValues]),M=S.useCallback(b=>{const k=m(o._fields,t);k&&b&&(k._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:I=>b.setCustomValidity(I),reportValidity:()=>b.reportValidity()})},[o._fields,t]),N=S.useMemo(()=>({name:t,value:v,...G(i)||F.disabled?{disabled:F.disabled||i}:{},onChange:O,onBlur:A,ref:M}),[t,i,F.disabled,O,A,M,v]);return S.useEffect(()=>{const b=o._options.shouldUnregister||a;o.register(t,{...V.current.rules,...G(V.current.disabled)?{disabled:V.current.disabled}:{}});const k=(I,D)=>{const se=m(o._fields,I);se&&se._f&&(se._f.mount=D)};if(k(t,!0),b){const I=B(m(o._options.defaultValues,t));E(o._defaultValues,t,I),P(m(o._formValues,t))&&E(o._formValues,t,I)}return!d&&o.register(t),()=>{(d?b&&!o._state.action:b)?o.unregister(t):k(t,!1)}},[t,o,d,a]),S.useEffect(()=>{o._setDisabledField({disabled:i,name:t})},[i,t,o]),S.useMemo(()=>({field:N,formState:F,fieldState:T}),[N,F,T])}var Zt=(e,s,t,i,o)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:o||!0}}:{},me=e=>Array.isArray(e)?e:[e],Je=()=>{let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next&&a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}},$=e=>L(e)&&!Object.keys(e).length,Be=e=>e.type==="file",J=e=>typeof e=="function",_e=e=>{if(!Pe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ht=e=>e.type==="select-multiple",Ne=e=>e.type==="radio",zt=e=>Ne(e)||he(e),De=e=>_e(e)&&e.isConnected;function Yt(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=P(e)?i++:e[s[i++]];return e}function Jt(e){for(const s in e)if(e.hasOwnProperty(s)&&!P(e[s]))return!1;return!0}function U(e,s){const t=Array.isArray(s)?s:xe(s)?[s]:Te(s),i=t.length===1?e:Yt(e,t),o=t.length-1,a=t[o];return i&&delete i[a],o!==0&&(L(i)&&$(i)||Array.isArray(i)&&Jt(i))&&U(e,t.slice(0,-1)),e}var gt=e=>{for(const s in e)if(J(e[s]))return!0;return!1};function Se(e,s={}){const t=Array.isArray(e);if(L(e)||t)for(const i in e)Array.isArray(e[i])||L(e[i])&&!gt(e[i])?(s[i]=Array.isArray(e[i])?[]:{},Se(e[i],s[i])):q(e[i])||(s[i]=!0);return s}function bt(e,s,t){const i=Array.isArray(e);if(L(e)||i)for(const o in e)Array.isArray(e[o])||L(e[o])&&!gt(e[o])?P(s)||Re(t[o])?t[o]=Array.isArray(e[o])?Se(e[o],[]):{...Se(e[o])}:bt(e[o],q(s)?{}:s[o],t[o]):t[o]=!re(e[o],s[o]);return t}var ce=(e,s)=>bt(e,s,Se(s));const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var vt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!P(e[0].attributes.value)?P(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe},Ft=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>P(e)?e:s?e===""?NaN:e&&+e:t&&ee(e)?new Date(e):i?i(e):e;const et={isValid:!1,value:null};var _t=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,et):et;function tt(e){const s=e.ref;return Be(s)?s.files:Ne(s)?_t(e.refs).value:ht(s)?[...s.selectedOptions].map(({value:t})=>t):he(s)?vt(e.refs).value:Ft(P(s.value)?e.ref.value:s.value,e)}var Qt=(e,s,t,i)=>{const o={};for(const a of e){const u=m(s,a);u&&E(o,a,u._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:i}},Ve=e=>e instanceof RegExp,fe=e=>P(e)?e:Ve(e)?e.source:L(e)?Ve(e.value)?e.value.source:e.value:e,rt=e=>({isOnSubmit:!e||e===Y.onSubmit,isOnBlur:e===Y.onBlur,isOnChange:e===Y.onChange,isOnAll:e===Y.all,isOnTouch:e===Y.onTouched});const st="AsyncFunction";var Xt=e=>!!e&&!!e.validate&&!!(J(e.validate)&&e.validate.constructor.name===st||L(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===st)),er=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),it=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,s,t,i)=>{for(const o of t||Object.keys(e)){const a=m(e,o);if(a){const{_f:u,...d}=a;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],o)&&!i)return!0;if(u.ref&&s(u.ref,u.name)&&!i)return!0;if(ye(d,s))break}else if(L(d)&&ye(d,s))break}}};function nt(e,s,t){const i=m(e,t);if(i||xe(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const a=o.join("."),u=m(s,a),d=m(e,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(d&&d.type)return{name:a,error:d};if(d&&d.root&&d.root.type)return{name:`${a}.root`,error:d.root};o.pop()}return{name:t}}var tr=(e,s,t,i)=>{t(e);const{name:o,...a}=e;return $(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(u=>s[u]===(!i||Y.all))},rr=(e,s,t)=>!e||!s||e===s||me(e).some(i=>i&&(t?i===s:i.startsWith(s)||s.startsWith(i))),sr=(e,s,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(s||e):(t?i.isOnBlur:o.isOnBlur)?!e:(t?i.isOnChange:o.isOnChange)?e:!0,ir=(e,s)=>!Le(m(e,s)).length&&U(e,s),nr=(e,s,t)=>{const i=me(m(e,t));return E(i,"root",s[t]),E(e,t,i),e},ve=e=>ee(e);function ot(e,s,t="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||G(e)&&!e)return{type:t,message:ve(e)?e:"",ref:s}}var ue=e=>L(e)&&!Ve(e)?e:{value:e,message:""},at=async(e,s,t,i,o,a)=>{const{ref:u,refs:d,required:_,maxLength:v,minLength:F,min:V,max:h,pattern:T,validate:O,name:A,valueAsNumber:M,mount:N}=e._f,b=m(t,A);if(!N||s.has(A))return{};const k=d?d[0]:u,I=x=>{o&&k.reportValidity&&(k.setCustomValidity(G(x)?"":x||""),k.reportValidity())},D={},se=Ne(u),ie=he(u),Ae=se||ie,z=(M||Be(u))&&P(u.value)&&P(b)||_e(u)&&u.value===""||b===""||Array.isArray(b)&&!b.length,oe=Zt.bind(null,A,i,D),Q=(x,p,R,W=te.maxLength,j=te.minLength)=>{const X=x?p:R;D[A]={type:x?W:j,message:X,ref:u,...oe(x?W:j,X)}};if(a?!Array.isArray(b)||!b.length:_&&(!Ae&&(z||q(b))||G(b)&&!b||ie&&!vt(d).isValid||se&&!_t(d).isValid)){const{value:x,message:p}=ve(_)?{value:!!_,message:_}:ue(_);if(x&&(D[A]={type:te.required,message:p,ref:k,...oe(te.required,p)},!i))return I(p),D}if(!z&&(!q(V)||!q(h))){let x,p;const R=ue(h),W=ue(V);if(!q(b)&&!isNaN(b)){const j=u.valueAsNumber||b&&+b;q(R.value)||(x=j>R.value),q(W.value)||(p=j<W.value)}else{const j=u.valueAsDate||new Date(b),X=ge=>new Date(new Date().toDateString()+" "+ge),de=u.type=="time",le=u.type=="week";ee(R.value)&&b&&(x=de?X(b)>X(R.value):le?b>R.value:j>new Date(R.value)),ee(W.value)&&b&&(p=de?X(b)<X(W.value):le?b<W.value:j<new Date(W.value))}if((x||p)&&(Q(!!x,R.message,W.message,te.max,te.min),!i))return I(D[A].message),D}if((v||F)&&!z&&(ee(b)||a&&Array.isArray(b))){const x=ue(v),p=ue(F),R=!q(x.value)&&b.length>+x.value,W=!q(p.value)&&b.length<+p.value;if((R||W)&&(Q(R,x.message,p.message),!i))return I(D[A].message),D}if(T&&!z&&ee(b)){const{value:x,message:p}=ue(T);if(Ve(x)&&!b.match(x)&&(D[A]={type:te.pattern,message:p,ref:u,...oe(te.pattern,p)},!i))return I(p),D}if(O){if(J(O)){const x=await O(b,t),p=ot(x,k);if(p&&(D[A]={...p,...oe(te.validate,p.message)},!i))return I(p.message),D}else if(L(O)){let x={};for(const p in O){if(!$(x)&&!i)break;const R=ot(await O[p](b,t),k,p);R&&(x={...R,...oe(p,R.message)},I(R.message),i&&(D[A]=x))}if(!$(x)&&(D[A]={ref:k,...x},!i))return D}}return I(!0),D};const or={mode:Y.onSubmit,reValidateMode:Y.onChange,shouldFocusError:!0};function ar(e={}){let s={...or,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:J(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},o=L(s.defaultValues)||L(s.values)?B(s.defaultValues||s.values)||{}:{},a=s.shouldUnregister?{}:B(o),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_,v=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={...F};const h={array:Je(),state:Je()},T=s.criteriaMode===Y.all,O=r=>n=>{clearTimeout(v),v=setTimeout(r,n)},A=async r=>{if(!s.disabled&&(F.isValid||V.isValid||r)){const n=s.resolver?$((await ie()).errors):await z(i,!0);n!==t.isValid&&h.state.next({isValid:n})}},M=(r,n)=>{!s.disabled&&(F.isValidating||F.validatingFields||V.isValidating||V.validatingFields)&&((r||Array.from(d.mount)).forEach(l=>{l&&(n?E(t.validatingFields,l,n):U(t.validatingFields,l))}),h.state.next({validatingFields:t.validatingFields,isValidating:!$(t.validatingFields)}))},N=(r,n=[],l,y,f=!0,c=!0)=>{if(y&&l&&!s.disabled){if(u.action=!0,c&&Array.isArray(m(i,r))){const g=l(m(i,r),y.argA,y.argB);f&&E(i,r,g)}if(c&&Array.isArray(m(t.errors,r))){const g=l(m(t.errors,r),y.argA,y.argB);f&&E(t.errors,r,g),ir(t.errors,r)}if((F.touchedFields||V.touchedFields)&&c&&Array.isArray(m(t.touchedFields,r))){const g=l(m(t.touchedFields,r),y.argA,y.argB);f&&E(t.touchedFields,r,g)}(F.dirtyFields||V.dirtyFields)&&(t.dirtyFields=ce(o,a)),h.state.next({name:r,isDirty:Q(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else E(a,r,n)},b=(r,n)=>{E(t.errors,r,n),h.state.next({errors:t.errors})},k=r=>{t.errors=r,h.state.next({errors:t.errors,isValid:!1})},I=(r,n,l,y)=>{const f=m(i,r);if(f){const c=m(a,r,P(l)?m(o,r):l);P(c)||y&&y.defaultChecked||n?E(a,r,n?c:tt(f._f)):R(r,c),u.mount&&A()}},D=(r,n,l,y,f)=>{let c=!1,g=!1;const w={name:r};if(!s.disabled){if(!l||y){(F.isDirty||V.isDirty)&&(g=t.isDirty,t.isDirty=w.isDirty=Q(),c=g!==w.isDirty);const C=re(m(o,r),n);g=!!m(t.dirtyFields,r),C?U(t.dirtyFields,r):E(t.dirtyFields,r,!0),w.dirtyFields=t.dirtyFields,c=c||(F.dirtyFields||V.dirtyFields)&&g!==!C}if(l){const C=m(t.touchedFields,r);C||(E(t.touchedFields,r,l),w.touchedFields=t.touchedFields,c=c||(F.touchedFields||V.touchedFields)&&C!==l)}c&&f&&h.state.next(w)}return c?w:{}},se=(r,n,l,y)=>{const f=m(t.errors,r),c=(F.isValid||V.isValid)&&G(n)&&t.isValid!==n;if(s.delayError&&l?(_=O(()=>b(r,l)),_(s.delayError)):(clearTimeout(v),_=null,l?E(t.errors,r,l):U(t.errors,r)),(l?!re(f,l):f)||!$(y)||c){const g={...y,...c&&G(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...g},h.state.next(g)}},ie=async r=>{M(r,!0);const n=await s.resolver(a,s.context,Qt(r||d.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return M(r),n},Ae=async r=>{const{errors:n}=await ie(r);if(r)for(const l of r){const y=m(n,l);y?E(t.errors,l,y):U(t.errors,l)}else t.errors=n;return n},z=async(r,n,l={valid:!0})=>{for(const y in r){const f=r[y];if(f){const{_f:c,...g}=f;if(c){const w=d.array.has(c.name),C=f._f&&Xt(f._f);C&&F.validatingFields&&M([y],!0);const Z=await at(f,d.disabled,a,T,s.shouldUseNativeValidation&&!n,w);if(C&&F.validatingFields&&M([y]),Z[c.name]&&(l.valid=!1,n))break;!n&&(m(Z,c.name)?w?nr(t.errors,Z,c.name):E(t.errors,c.name,Z[c.name]):U(t.errors,c.name))}!$(g)&&await z(g,n,l)}}return l.valid},oe=()=>{for(const r of d.unMount){const n=m(i,r);n&&(n._f.refs?n._f.refs.every(l=>!De(l)):!De(n._f.ref))&&we(r)}d.unMount=new Set},Q=(r,n)=>!s.disabled&&(r&&n&&E(a,r,n),!re(ge(),o)),x=(r,n,l)=>yt(r,d,{...u.mount?a:P(n)?o:ee(r)?{[r]:n}:n},l,n),p=r=>Le(m(u.mount?a:o,r,s.shouldUnregister?m(o,r,[]):[])),R=(r,n,l={})=>{const y=m(i,r);let f=n;if(y){const c=y._f;c&&(!c.disabled&&E(a,r,Ft(n,c)),f=_e(c.ref)&&q(n)?"":n,ht(c.ref)?[...c.ref.options].forEach(g=>g.selected=f.includes(g.value)):c.refs?he(c.ref)?c.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(w=>w===g.value):g.checked=f===g.value||!!f)}):c.refs.forEach(g=>g.checked=g.value===f):Be(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||h.state.next({name:r,values:B(a)})))}(l.shouldDirty||l.shouldTouch)&&D(r,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(r)},W=(r,n,l)=>{for(const y in n){if(!n.hasOwnProperty(y))return;const f=n[y],c=r+"."+y,g=m(i,c);(d.array.has(r)||L(f)||g&&!g._f)&&!ae(f)?W(c,f,l):R(c,f,l)}},j=(r,n,l={})=>{const y=m(i,r),f=d.array.has(r),c=B(n);E(a,r,c),f?(h.array.next({name:r,values:B(a)}),(F.isDirty||F.dirtyFields||V.isDirty||V.dirtyFields)&&l.shouldDirty&&h.state.next({name:r,dirtyFields:ce(o,a),isDirty:Q(r,c)})):y&&!y._f&&!q(c)?W(r,c,l):R(r,c,l),it(r,d)&&h.state.next({...t,name:r}),h.state.next({name:u.mount?r:void 0,values:B(a)})},X=async r=>{u.mount=!0;const n=r.target;let l=n.name,y=!0;const f=m(i,l),c=C=>{y=Number.isNaN(C)||ae(C)&&isNaN(C.getTime())||re(C,m(a,l,C))},g=rt(s.mode),w=rt(s.reValidateMode);if(f){let C,Z;const be=n.type?tt(f._f):dt(r),ne=r.type===Fe.BLUR||r.type===Fe.FOCUS_OUT,Lt=!er(f._f)&&!s.resolver&&!m(t.errors,l)&&!f._f.deps||sr(ne,m(t.touchedFields,l),t.isSubmitted,w,g),Ee=it(l,d,ne);E(a,l,be),ne?(f._f.onBlur&&f._f.onBlur(r),_&&_(0)):f._f.onChange&&f._f.onChange(r);const ke=D(l,be,ne),Tt=!$(ke)||Ee;if(!ne&&h.state.next({name:l,type:r.type,values:B(a)}),Lt)return(F.isValid||V.isValid)&&(s.mode==="onBlur"?ne&&A():ne||A()),Tt&&h.state.next({name:l,...Ee?{}:ke});if(!ne&&Ee&&h.state.next({...t}),s.resolver){const{errors:ze}=await ie([l]);if(c(be),y){const Ot=nt(t.errors,i,l),Ye=nt(ze,i,Ot.name||l);C=Ye.error,l=Ye.name,Z=$(ze)}}else M([l],!0),C=(await at(f,d.disabled,a,T,s.shouldUseNativeValidation))[l],M([l]),c(be),y&&(C?Z=!1:(F.isValid||V.isValid)&&(Z=await z(i,!0)));y&&(f._f.deps&&le(f._f.deps),se(l,Z,C,ke))}},de=(r,n)=>{if(m(t.errors,n)&&r.focus)return r.focus(),1},le=async(r,n={})=>{let l,y;const f=me(r);if(s.resolver){const c=await Ae(P(r)?r:f);l=$(c),y=r?!f.some(g=>m(c,g)):l}else r?(y=(await Promise.all(f.map(async c=>{const g=m(i,c);return await z(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&A()):y=l=await z(i);return h.state.next({...!ee(r)||(F.isValid||V.isValid)&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),n.shouldFocus&&!y&&ye(i,de,r?f:d.mount),y},ge=r=>{const n={...u.mount?a:o};return P(r)?n:ee(r)?m(n,r):r.map(l=>m(n,l))},We=(r,n)=>({invalid:!!m((n||t).errors,r),isDirty:!!m((n||t).dirtyFields,r),error:m((n||t).errors,r),isValidating:!!m(t.validatingFields,r),isTouched:!!m((n||t).touchedFields,r)}),pt=r=>{r&&me(r).forEach(n=>U(t.errors,n)),h.state.next({errors:r?t.errors:{}})},qe=(r,n,l)=>{const y=(m(i,r,{_f:{}})._f||{}).ref,f=m(t.errors,r)||{},{ref:c,message:g,type:w,...C}=f;E(t.errors,r,{...C,...n,ref:y}),h.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},Ct=(r,n)=>J(r)?h.state.subscribe({next:l=>"values"in l&&r(x(void 0,n),l)}):x(r,n,!0),He=r=>h.state.subscribe({next:n=>{rr(r.name,n.name,r.exact)&&tr(n,r.formState||F,Pt,r.reRenderRoot)&&r.callback({values:{...a},...t,...n,defaultValues:o})}}).unsubscribe,Et=r=>(u.mount=!0,V={...V,...r.formState},He({...r,formState:V})),we=(r,n={})=>{for(const l of r?me(r):d.mount)d.mount.delete(l),d.array.delete(l),n.keepValue||(U(i,l),U(a,l)),!n.keepError&&U(t.errors,l),!n.keepDirty&&U(t.dirtyFields,l),!n.keepTouched&&U(t.touchedFields,l),!n.keepIsValidating&&U(t.validatingFields,l),!s.shouldUnregister&&!n.keepDefaultValue&&U(o,l);h.state.next({values:B(a)}),h.state.next({...t,...n.keepDirty?{isDirty:Q()}:{}}),!n.keepIsValid&&A()},je=({disabled:r,name:n})=>{(G(r)&&u.mount||r||d.disabled.has(n))&&(r?d.disabled.add(n):d.disabled.delete(n))},pe=(r,n={})=>{let l=m(i,r);const y=G(n.disabled)||G(s.disabled);return E(i,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...n}}),d.mount.add(r),l?je({disabled:G(n.disabled)?n.disabled:s.disabled,name:r}):I(r,!0,n.value),{...y?{disabled:n.disabled||s.disabled}:{},...s.progressive?{required:!!n.required,min:fe(n.min),max:fe(n.max),minLength:fe(n.minLength),maxLength:fe(n.maxLength),pattern:fe(n.pattern)}:{},name:r,onChange:X,onBlur:X,ref:f=>{if(f){pe(r,n),l=m(i,r);const c=P(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=zt(c),w=l._f.refs||[];if(g?w.find(C=>C===c):c===l._f.ref)return;E(i,r,{_f:{...l._f,...g?{refs:[...w.filter(De),c,...Array.isArray(m(o,r))?[{}]:[]],ref:{type:c.type,name:r}}:{ref:c}}}),I(r,!1,void 0,c)}else l=m(i,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(ct(d.array,r)&&u.action)&&d.unMount.add(r)}}},Ce=()=>s.shouldFocusError&&ye(i,de,d.mount),kt=r=>{G(r)&&(h.state.next({disabled:r}),ye(i,(n,l)=>{const y=m(i,l);y&&(n.disabled=y._f.disabled||r,Array.isArray(y._f.refs)&&y._f.refs.forEach(f=>{f.disabled=y._f.disabled||r}))},0,!1))},$e=(r,n)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=B(a);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:c,values:g}=await ie();t.errors=c,f=B(g)}else await z(i);if(d.disabled.size)for(const c of d.disabled)U(f,c);if(U(t.errors,"root"),$(t.errors)){h.state.next({errors:{}});try{await r(f,l)}catch(c){y=c}}else n&&await n({...t.errors},l),Ce(),setTimeout(Ce);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},Dt=(r,n={})=>{m(i,r)&&(P(n.defaultValue)?j(r,B(m(o,r))):(j(r,n.defaultValue),E(o,r,B(n.defaultValue))),n.keepTouched||U(t.touchedFields,r),n.keepDirty||(U(t.dirtyFields,r),t.isDirty=n.defaultValue?Q(r,B(m(o,r))):Q()),n.keepError||(U(t.errors,r),F.isValid&&A()),h.state.next({...t}))},Ge=(r,n={})=>{const l=r?B(r):o,y=B(l),f=$(r),c=f?o:y;if(n.keepDefaultValues||(o=l),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...d.mount,...Object.keys(ce(o,a))]);for(const w of Array.from(g))m(t.dirtyFields,w)?E(c,w,m(a,w)):j(w,m(c,w))}else{if(Pe&&P(r))for(const g of d.mount){const w=m(i,g);if(w&&w._f){const C=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(_e(C)){const Z=C.closest("form");if(Z){Z.reset();break}}}}if(n.keepFieldsRef)for(const g of d.mount)j(g,m(c,g));else i={}}a=s.shouldUnregister?n.keepDefaultValues?B(o):{}:B(c),h.array.next({values:{...c}}),h.state.next({values:{...c}})}d={mount:n.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!F.isValid||!!n.keepIsValid||!!n.keepDirtyValues,u.watch=!!s.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:f?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!re(r,o)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&a?ce(o,a):t.dirtyFields:n.keepDefaultValues&&r?ce(o,r):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(r,n)=>Ge(J(r)?r(a):r,n),Rt=(r,n={})=>{const l=m(i,r),y=l&&l._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),n.shouldSelect&&J(f.select)&&f.select())}},Pt=r=>{t={...t,...r}},Ze={control:{register:pe,unregister:we,getFieldState:We,handleSubmit:$e,setError:qe,_subscribe:He,_runSchema:ie,_focusError:Ce,_getWatch:x,_getDirty:Q,_setValid:A,_setFieldArray:N,_setDisabledField:je,_setErrors:k,_getFieldArray:p,_reset:Ge,_resetDefaultValues:()=>J(s.defaultValues)&&s.defaultValues().then(r=>{Ke(r,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:oe,_disableForm:kt,_subjects:h,_proxyFormState:F,get _fields(){return i},get _formValues(){return a},get _state(){return u},set _state(r){u=r},get _defaultValues(){return o},get _names(){return d},set _names(r){d=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:Et,trigger:le,register:pe,handleSubmit:$e,watch:Ct,setValue:j,getValues:ge,reset:Ke,resetField:Dt,clearErrors:pt,unregister:we,setError:qe,setFocus:Rt,getFieldState:We};return{...Ze,formControl:Ze}}function Ar(e={}){const s=S.useRef(void 0),t=S.useRef(void 0),[i,o]=S.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!J(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...d}=ar(e);s.current={...d,formState:i}}const a=s.current.control;return a._options=e,Ue(()=>{const u=a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),a._formState.isReady=!0,u},[a]),S.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),S.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),S.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),S.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),S.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==i.isDirty&&a._subjects.state.next({isDirty:u})}},[a,i.isDirty]),S.useEffect(()=>{e.values&&!re(e.values,t.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=e.values,o(u=>({...u}))):a._resetDefaultValues()},[a,e.values]),S.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),s.current.formState=ft(i,a),s.current}const St=K.createContext(void 0),lr=St.Provider,Ie=()=>{const e=K.useContext(St);return qt(!!e,"Could not useFormContext() outside a Form, or multiple versions of Flow installed."),e},Vt=e=>{const s=K.useContext(Bt).FieldError??Ut;return H.jsx(s,{...e})};Vt.__docgenInfo={description:"",methods:[],displayName:"FieldErrorView"};const ur={"de-DE":{maxLength:e=>`Bitte gib höchstens ${e.number} Zeichen ein`,minLength:e=>`Bitte gib mindestens ${e.number} Zeichen ein`},"en-US":{maxLength:e=>`Please enter at most ${e.number} characters`,minLength:e=>`Please enter at least ${e.number} characters`}};function xt(e){var T,O,A,M,N;const{children:s,name:t,defaultValue:i,...o}=e,a=Nt(ur),u=Kt({...e,rules:{...e.rules,minLength:typeof((T=o.rules)==null?void 0:T.minLength)=="number"?{value:o.rules.minLength,message:a.format("minLength",{number:o.rules.minLength})}:(O=o.rules)==null?void 0:O.minLength,maxLength:typeof((A=o.rules)==null?void 0:A.maxLength)=="number"?{value:o.rules.maxLength,message:a.format("maxLength",{number:o.rules.maxLength})}:(M=o.rules)==null?void 0:M.maxLength}}),d=Ie(),_=d.form.watch(t)??u.field.value,v={...u.field,value:_,name:t,form:d.id,isRequired:!!((N=o.rules)!=null&&N.required),validationBehavior:"aria",defaultValue:i,isInvalid:u.fieldState.invalid,children:Mt(b=>{var k;return u.fieldState.invalid?H.jsxs(H.Fragment,{children:[b.children,H.jsx(Vt,{children:(k=u.fieldState.error)==null?void 0:k.message})]}):b.children})},{value:F,...V}=v,h={SearchField:v,TextField:v,TextArea:v,MarkdownEditor:v,Checkbox:{...v,isSelected:_},CheckboxGroup:v,CheckboxButton:{...v,isSelected:_},FileField:v,FileDropZone:v,NumberField:v,RadioGroup:v,Switch:{...v,isSelected:_},Slider:v,PasswordCreationField:v,DatePicker:v,DateRangePicker:v,TimeField:v,SegmentedControl:v,Select:{...v,selectedKey:_},ComboBox:{...V,selectedKey:_}};return H.jsx(lt,{props:h,dependencies:[u.fieldState,u.field,_],children:s})}const wr=e=>xt;xt.__docgenInfo={description:"",methods:[],displayName:"Field",composes:["Omit","PropsWithChildren"]};const At=e=>{const{isStarted:s,hasFailedWithError:t,hasSucceeded:i,children:o}=e,a=It.useNew({});return K.useEffect(()=>{i?a.state.onSucceeded():t?a.state.onFailed(t):s&&a.state.onAsyncStart()},[s,t,i]),H.jsx(Wt,{actionModel:a,children:o})};At.__docgenInfo={description:"",methods:[],displayName:"ActionStateContext",props:{isStarted:{required:!1,tsType:{name:"boolean"},description:""},hasSucceeded:{required:!1,tsType:{name:"boolean"},description:""},hasFailedWithError:{required:!1,tsType:{name:"unknown"},description:""}},composes:["PropsWithChildren"]};const dr=e=>{const{children:s,isAsyncSubmit:t}=e,i=Ie().form,[o,a]=K.useState(void 0),[u,d]=K.useState(!1),[_,v]=K.useState(!1);return K.useEffect(()=>{const{isSubmitted:F,isSubmitting:V,isSubmitSuccessful:h,errors:T}=i.formState;a(F&&T&&Object.entries(T).length>0?T:void 0),d(F&&h),v(V&&t.current)},[i.formState.isSubmitted,i.formState.isSubmitting,i.formState.isSubmitSuccessful,i.formState.errors,t.current]),H.jsx(At,{isStarted:_,hasFailedWithError:o,hasSucceeded:u,children:s})},wt=e=>{const{children:s,isAsyncSubmit:t}=e;return H.jsx(dr,{isAsyncSubmit:t,children:s})};wt.__docgenInfo={description:"",methods:[],displayName:"SubmitButtonStateProvider",props:{isAsyncSubmit:{required:!0,tsType:{name:"RefObject",elements:[{name:"boolean"}],raw:"RefObject<boolean>"},description:""}},composes:["PropsWithChildren"]};const cr=e=>{const s=t=>{typeof t=="function"&&t()};e instanceof Promise?e.then(s):s(e)},fr=e=>{const{submitHandlerResultRef:s}=e,t=Ie().form,{isValid:i,isSubmitSuccessful:o}=mt(t);return K.useEffect(()=>{o&&i&&cr(s.current)},[o,i,t]),null},mr=e=>H.jsx("form",{...e});function yr(e){const{form:s,children:t,onSubmit:i,formComponent:o=mr,isReadOnly:a,...u}=e,d=K.useId(),_=K.useRef(!1),v=K.useRef(null),F=K.useMemo(()=>o,[d]),V=O=>{const{isSubmitting:A,isValidating:M}=s.control._formState,N=O&&"nativeEvent"in O?O:void 0;if(N==null||N.stopPropagation(),A||M){N==null||N.preventDefault();return}v.current=void 0,s.handleSubmit(b=>{const k=i(b,N);return _.current=k instanceof Promise,v.current=k,k})(N)},h={isReadOnly:!0},T={SearchField:h,TextField:h,TextArea:h,MarkdownEditor:h,Checkbox:h,CheckboxGroup:h,CheckboxButton:h,FileField:h,FileDropZone:h,NumberField:h,RadioGroup:h,Switch:h,Slider:h,PasswordCreationField:h,DatePicker:h,DateRangePicker:h,TimeField:h,SegmentedControl:h,Select:h,ComboBox:h,Button:h};return H.jsx(lt,{props:a?T:{},children:H.jsx($t,{...s,children:H.jsxs(lr,{value:{form:s,id:d},children:[H.jsx(wt,{isAsyncSubmit:_,children:H.jsx(F,{...u,id:d,onSubmit:V,children:t})}),H.jsx(fr,{submitHandlerResultRef:v})]})})})}yr.__docgenInfo={description:"",methods:[],displayName:"Form",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"F"}],raw:"UseFormReturn<F>"},description:""},onSubmit:{required:!0,tsType:{name:"Parameters[0]",raw:`Parameters<
  UseFormReturn<F>["handleSubmit"]
>[0]`},description:""},formComponent:{required:!1,tsType:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"onSubmit",value:{name:"union",raw:"FormEventHandler | FormOnSubmitHandler<never>",elements:[{name:"FormEventHandler"},{name:"Parameters[0]",raw:`Parameters<
  UseFormReturn<F>["handleSubmit"]
>[0]`}],required:!1}}]}}],raw:`PropsWithChildren<{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
}>`}],raw:`ComponentType<
  PropsWithChildren<{
    id: string;
    onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  }>
>`},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","PropsWithChildren"]};export{yr as F,xt as a,wr as t,Ar as u};
