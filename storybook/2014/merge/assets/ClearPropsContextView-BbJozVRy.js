import{b as X,r as $e}from"./mergeRefs-Ct0p8Qt4.js";import{r as b,R as ae,j as J}from"./iframe-Dp_ptgTO.js";import{k as he}from"./useFocus-BGDVbxBE.js";import{$ as K}from"./ProgressBar-DMXo3Oxb.js";import{$ as xe}from"./context-dvnbYm3m.js";import{$ as be}from"./useControlledState-rqltzUWl.js";import{$ as we,a as Ce}from"./utils-jLhJmKpa.js";import{$ as Ee}from"./filterDOMProps-CghfNOdR.js";import{b as Pe,p as Le,v as Re}from"./PropsContextProvider-BVkYESiU.js";function Te(){return typeof window.ResizeObserver<"u"}function ee(t){const{ref:e,box:o,onResize:n}=t;b.useEffect(()=>{let l=e==null?void 0:e.current;if(l)if(Te()){const r=new window.ResizeObserver(s=>{s.length&&n()});return r.observe(l,{box:o}),()=>{l&&r.unobserve(l)}}else return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)}},[n,e,o])}function Qe(t,e=!0){let[o,n]=b.useState(!0),l=o&&e;return X(()=>{if(l&&t.current&&"getAnimations"in t.current)for(let r of t.current.getAnimations())r instanceof CSSTransition&&r.cancel()},[t,l]),se(t,l,b.useCallback(()=>n(!1),[])),l}function Ve(t,e){let[o,n]=b.useState(e?"open":"closed");switch(o){case"open":e||n("exiting");break;case"closed":case"exiting":e&&n("open");break}let l=o==="exiting";return se(t,l,b.useCallback(()=>{n(r=>r==="exiting"?"closed":r)},[])),l}function se(t,e,o){X(()=>{if(e&&t.current){if(!("getAnimations"in t.current)){o();return}let n=t.current.getAnimations();if(n.length===0){o();return}let l=!1;return Promise.all(n.map(r=>r.finished)).then(()=>{l||$e.flushSync(()=>{o()})}).catch(()=>{}),()=>{l=!0}}},[t,e,o])}const M={top:"top",bottom:"top",left:"left",right:"left"},G={top:"bottom",bottom:"top",left:"right",right:"left"},_e={top:"left",left:"top"},Q={top:"height",left:"width"},ce={width:"totalWidth",height:"totalHeight"},Z={};let P=typeof document<"u"?window.visualViewport:null;function te(t){let e=0,o=0,n=0,l=0,r=0,s=0,i={};var h;let d=((h=P==null?void 0:P.scale)!==null&&h!==void 0?h:1)>1;if(t.tagName==="BODY"){let u=document.documentElement;n=u.clientWidth,l=u.clientHeight;var p;e=(p=P==null?void 0:P.width)!==null&&p!==void 0?p:n;var v;o=(v=P==null?void 0:P.height)!==null&&v!==void 0?v:l,i.top=u.scrollTop||t.scrollTop,i.left=u.scrollLeft||t.scrollLeft,P&&(r=P.offsetTop,s=P.offsetLeft)}else({width:e,height:o,top:r,left:s}=Y(t,!1)),i.top=t.scrollTop,i.left=t.scrollLeft,n=e,l=o;if(he()&&(t.tagName==="BODY"||t.tagName==="HTML")&&d){i.top=0,i.left=0;var m;r=(m=P==null?void 0:P.pageTop)!==null&&m!==void 0?m:0;var c;s=(c=P==null?void 0:P.pageLeft)!==null&&c!==void 0?c:0}return{width:e,height:o,totalWidth:n,totalHeight:l,scroll:i,top:r,left:s}}function Se(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function oe(t,e,o,n,l,r,s){var i;let h=(i=l.scroll[t])!==null&&i!==void 0?i:0,d=n[Q[t]],p=n.scroll[M[t]]+r,v=d+n.scroll[M[t]]-r,m=e-h+s[t]-n[M[t]],c=e-h+o+s[t]-n[M[t]];return m<p?p-m:c>v?Math.max(v-c,p-m):0}function Ae(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function le(t){if(Z[t])return Z[t];let[e,o]=t.split(" "),n=M[e]||"right",l=_e[n];M[o]||(o="center");let r=Q[n],s=Q[l];return Z[t]={placement:e,crossPlacement:o,axis:n,crossAxis:l,size:r,crossSize:s},Z[t]}function q(t,e,o,n,l,r,s,i,h,d){let{placement:p,crossPlacement:v,axis:m,crossAxis:c,size:u,crossSize:g}=n,f={};var R;f[c]=(R=t[c])!==null&&R!==void 0?R:0;var a,C,w,T;v==="center"?f[c]+=(((a=t[g])!==null&&a!==void 0?a:0)-((C=o[g])!==null&&C!==void 0?C:0))/2:v!==c&&(f[c]+=((w=t[g])!==null&&w!==void 0?w:0)-((T=o[g])!==null&&T!==void 0?T:0)),f[c]+=r;const $=t[c]-o[g]+h+d,_=t[c]+t[g]-h-d;if(f[c]=K(f[c],$,_),p===m){const k=i?s[u]:e[ce[u]];f[G[m]]=Math.floor(k-t[m]+l)}else f[m]=Math.floor(t[m]+t[u]+l);return f}function He(t,e,o,n,l,r,s,i){const h=n?o.height:e[ce.height];var d;let p=t.top!=null?o.top+t.top:o.top+(h-((d=t.bottom)!==null&&d!==void 0?d:0)-s);var v,m,c,u,g,f;let R=i!=="top"?Math.max(0,e.height+e.top+((v=e.scroll.top)!==null&&v!==void 0?v:0)-p-(((m=l.top)!==null&&m!==void 0?m:0)+((c=l.bottom)!==null&&c!==void 0?c:0)+r)):Math.max(0,p+s-(e.top+((u=e.scroll.top)!==null&&u!==void 0?u:0))-(((g=l.top)!==null&&g!==void 0?g:0)+((f=l.bottom)!==null&&f!==void 0?f:0)+r));return Math.min(e.height-r*2,R)}function ne(t,e,o,n,l,r){let{placement:s,axis:i,size:h}=r;var d,p;if(s===i)return Math.max(0,o[i]-t[i]-((d=t.scroll[i])!==null&&d!==void 0?d:0)+e[i]-((p=n[i])!==null&&p!==void 0?p:0)-n[G[i]]-l);var v;return Math.max(0,t[h]+t[i]+t.scroll[i]-e[i]-o[i]-o[h]-((v=n[i])!==null&&v!==void 0?v:0)-n[G[i]]-l)}function ye(t,e,o,n,l,r,s,i,h,d,p,v,m,c,u,g){let f=le(t),{size:R,crossAxis:a,crossSize:C,placement:w,crossPlacement:T}=f,$=q(e,i,o,f,p,v,d,m,u,g),_=p,k=ne(i,d,e,l,r+p,f);if(s&&n[R]>k){let W=le(`${G[w]} ${T}`),ge=q(e,i,o,W,p,v,d,m,u,g);ne(i,d,e,l,r+p,W)>k&&(f=W,$=ge,_=p)}let H="bottom";f.axis==="top"?f.placement==="top"?H="top":f.placement==="bottom"&&(H="bottom"):f.crossAxis==="top"&&(f.crossPlacement==="top"?H="bottom":f.crossPlacement==="bottom"&&(H="top"));let y=oe(a,$[a],o[C],i,h,r,d);$[a]+=y;let z=He($,i,d,m,l,r,o.height,H);c&&c<z&&(z=c),o.height=Math.min(o.height,z),$=q(e,i,o,f,_,v,d,m,u,g),y=oe(a,$[a],o[C],i,h,r,d),$[a]+=y;let E={},L=e[a]-$[a]-l[M[a]],O=L+.5*e[C];const B=u/2+g;var S,N,F,I;const A=M[a]==="left"?((S=l.left)!==null&&S!==void 0?S:0)+((N=l.right)!==null&&N!==void 0?N:0):((F=l.top)!==null&&F!==void 0?F:0)+((I=l.bottom)!==null&&I!==void 0?I:0),j=o[C]-A-u/2-g,U=e[a]+u/2-($[a]+l[M[a]]),pe=e[a]+e[C]-u/2-($[a]+l[M[a]]),me=K(O,U,pe);E[a]=K(me,B,j),{placement:w,crossPlacement:T}=f,u?L=E[a]:T==="right"?L+=e[C]:T==="center"&&(L+=e[C]/2);let D=w==="left"||w==="top"?o[R]:0,ve={x:w==="top"||w==="bottom"?L:D,y:w==="left"||w==="right"?L:D};return{position:$,maxHeight:z,arrowOffsetLeft:E.left,arrowOffsetTop:E.top,placement:w,triggerAnchorPoint:ve}}function ze(t){let{placement:e,targetNode:o,overlayNode:n,scrollNode:l,padding:r,shouldFlip:s,boundaryElement:i,offset:h,crossOffset:d,maxHeight:p,arrowSize:v=0,arrowBoundaryOffset:m=0}=t,c=n instanceof HTMLElement?Ie(n):document.documentElement,u=c===document.documentElement;const g=window.getComputedStyle(c).position;let f=!!g&&g!=="static",R=u?Y(o,!1):re(o,c,!1);if(!u){let{marginTop:E,marginLeft:L}=window.getComputedStyle(o);R.top+=parseInt(E,10)||0,R.left+=parseInt(L,10)||0}let a=Y(n,!0),C=Ae(n);var w,T;a.width+=((w=C.left)!==null&&w!==void 0?w:0)+((T=C.right)!==null&&T!==void 0?T:0);var $,_;a.height+=(($=C.top)!==null&&$!==void 0?$:0)+((_=C.bottom)!==null&&_!==void 0?_:0);let k=Se(l),H=te(i),y=te(c),z=i.tagName==="BODY"?Y(c,!1):re(c,i,!1);return c.tagName==="HTML"&&i.tagName==="BODY"&&(y.scroll.top=0,y.scroll.left=0),ye(e,R,a,k,C,r,s,H,y,z,h,d,f,p,v,m)}function V(t,e){let{top:o,left:n,width:l,height:r}=t.getBoundingClientRect();return e&&t instanceof t.ownerDocument.defaultView.HTMLElement&&(l=t.offsetWidth,r=t.offsetHeight),{top:o,left:n,width:l,height:r}}function Y(t,e){let{top:o,left:n,width:l,height:r}=V(t,e),{scrollTop:s,scrollLeft:i,clientTop:h,clientLeft:d}=document.documentElement;return{top:o+s-h,left:n+i-d,width:l,height:r}}function re(t,e,o){let n=window.getComputedStyle(t),l;if(n.position==="fixed")l=V(t,o);else{l=Y(t,o);let r=Y(e,o),s=window.getComputedStyle(e);r.top+=(parseInt(s.borderTopWidth,10)||0)-e.scrollTop,r.left+=(parseInt(s.borderLeftWidth,10)||0)-e.scrollLeft,l.top-=r.top,l.left-=r.left}return l.top-=parseInt(n.marginTop,10)||0,l.left-=parseInt(n.marginLeft,10)||0,l}function Ie(t){let e=t.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!ie(e)&&(e=document.documentElement),e==null)for(e=t.parentElement;e&&!ie(e);)e=e.parentElement;return e||document.documentElement}function ie(t){let e=window.getComputedStyle(t);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const Me=new WeakMap;function ke(t){let{triggerRef:e,isOpen:o,onClose:n}=t;b.useEffect(()=>{if(!o||n===null)return;let l=r=>{let s=r.target;if(!e.current||s instanceof Node&&!s.contains(e.current)||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement)return;let i=n||Me.get(e.current);i&&i()};return window.addEventListener("scroll",l,!0),()=>{window.removeEventListener("scroll",l,!0)}},[o,n,e])}let x=typeof document<"u"?window.visualViewport:null;function De(t){let{direction:e}=xe(),{arrowSize:o,targetRef:n,overlayRef:l,arrowRef:r,scrollRef:s=l,placement:i="bottom",containerPadding:h=12,shouldFlip:d=!0,boundaryElement:p=typeof document<"u"?document.body:null,offset:v=0,crossOffset:m=0,shouldUpdatePosition:c=!0,isOpen:u=!0,onClose:g,maxHeight:f,arrowBoundaryOffset:R=0}=t,[a,C]=b.useState(null),w=[c,i,l.current,n.current,r==null?void 0:r.current,s.current,h,d,p,v,m,u,e,f,R,o],T=b.useRef(x==null?void 0:x.scale);b.useEffect(()=>{u&&(T.current=x==null?void 0:x.scale)},[u]);let $=b.useCallback(()=>{if(c===!1||!u||!l.current||!n.current||!p||(x==null?void 0:x.scale)!==T.current)return;let E=null;if(s.current&&s.current.contains(document.activeElement)){var L;let A=(L=document.activeElement)===null||L===void 0?void 0:L.getBoundingClientRect(),j=s.current.getBoundingClientRect();var O;if(E={type:"top",offset:((O=A==null?void 0:A.top)!==null&&O!==void 0?O:0)-j.top},E.offset>j.height/2){E.type="bottom";var B;E.offset=((B=A==null?void 0:A.bottom)!==null&&B!==void 0?B:0)-j.bottom}}let S=l.current;if(!f&&l.current){var N;S.style.top="0px",S.style.bottom="";var F;S.style.maxHeight=((F=(N=window.visualViewport)===null||N===void 0?void 0:N.height)!==null&&F!==void 0?F:window.innerHeight)+"px"}let I=ze({placement:Ne(i,e),overlayNode:l.current,targetNode:n.current,scrollNode:s.current||l.current,padding:h,shouldFlip:d,boundaryElement:p,offset:v,crossOffset:m,maxHeight:f,arrowSize:o??(r!=null&&r.current?V(r.current,!0).width:0),arrowBoundaryOffset:R});if(I.position){if(S.style.top="",S.style.bottom="",S.style.left="",S.style.right="",Object.keys(I.position).forEach(A=>S.style[A]=I.position[A]+"px"),S.style.maxHeight=I.maxHeight!=null?I.maxHeight+"px":"",E&&document.activeElement&&s.current){let A=document.activeElement.getBoundingClientRect(),j=s.current.getBoundingClientRect(),U=A[E.type]-j[E.type];s.current.scrollTop+=U-E.offset}C(I)}},w);X($,w),Oe($),ee({ref:l,onResize:$}),ee({ref:n,onResize:$});let _=b.useRef(!1);X(()=>{let E,L=()=>{_.current=!0,clearTimeout(E),E=setTimeout(()=>{_.current=!1},500),$()},O=()=>{_.current&&L()};return x==null||x.addEventListener("resize",L),x==null||x.addEventListener("scroll",O),()=>{x==null||x.removeEventListener("resize",L),x==null||x.removeEventListener("scroll",O)}},[$]);let k=b.useCallback(()=>{_.current||g==null||g()},[g,_]);ke({triggerRef:n,isOpen:u,onClose:g&&k});var H,y,z;return{overlayProps:{style:{position:a?"absolute":"fixed",top:a?void 0:0,left:a?void 0:0,zIndex:1e5,...a==null?void 0:a.position,maxHeight:(H=a==null?void 0:a.maxHeight)!==null&&H!==void 0?H:"100vh"}},placement:(y=a==null?void 0:a.placement)!==null&&y!==void 0?y:null,triggerAnchorPoint:(z=a==null?void 0:a.triggerAnchorPoint)!==null&&z!==void 0?z:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:a==null?void 0:a.arrowOffsetLeft,top:a==null?void 0:a.arrowOffsetTop}},updatePosition:$}}function Oe(t){X(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function Ne(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}const fe=b.createContext({});function et(t){let{getContainer:e}=t,{getContainer:o}=Fe();return ae.createElement(fe.Provider,{value:{getContainer:e===null?void 0:e??o}},t.children)}function Fe(){var t;return(t=b.useContext(fe))!==null&&t!==void 0?t:{}}function tt(t){let[e,o]=be(t.isOpen,t.defaultOpen||!1,t.onOpenChange);const n=b.useCallback(()=>{o(!0)},[o]),l=b.useCallback(()=>{o(!1)},[o]),r=b.useCallback(()=>{o(!e)},[o,e]);return{isOpen:e,setOpen:o,open:n,close:l,toggle:r}}const je=b.createContext({placement:"bottom"}),ot=b.forwardRef(function(e,o){[e,o]=we(e,o,je);let n=e.placement,l={position:"absolute",transform:n==="top"||n==="bottom"?"translateX(-50%)":"translateY(-50%)"};n!=null&&(l[n]="100%");let r=Ce({...e,defaultClassName:"react-aria-OverlayArrow",values:{placement:n}});r.style&&Object.keys(r.style).forEach(i=>r.style[i]===void 0&&delete r.style[i]);let s=Ee(e);return ae.createElement("div",{...s,...r,style:{...l,...r.style},ref:o,"data-placement":n})}),de=t=>{const{children:e}=t;return J.jsx(Pe,{mode:"reset",children:J.jsx(Le.Provider,{value:{},children:e})})};de.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"ClearPropsContext"};const ue=b.memo(t=>{const e=b.useContext(Re).ClearPropsContext??de;return J.jsx(e,{...t})});ue.displayName="ClearPropsContextView";ue.__docgenInfo={description:"",methods:[],displayName:"ClearPropsContextView"};export{ot as $,ue as C,Me as a,De as b,Fe as c,tt as d,Ve as e,Qe as f,je as g,ee as h,et as i};
