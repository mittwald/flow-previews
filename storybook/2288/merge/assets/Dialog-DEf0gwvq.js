import{a as Dr}from"./Button-DKCc9Jm1.js";import{b as we,$ as O,a as _,c as Mr,d as I,e as ne,f as kr}from"./utils-up3lG_mb.js";import{a as he,b as Sr,$ as Ar}from"./RSPContexts-rkHdJ27o.js";import{a as Br,b as Fr,c as wr,d as Ke,e as Kr,f as Rr,g as Tr,h as Re}from"./OverlayArrow-BYxGCDbr.js";import{$ as Te,a as Or,b as Ir}from"./Collection-B11FEq3B.js";import{$ as Oe,a as Nr,b as Lr,c as Hr,d as zr,e as _r,f as Vr,g as Ur}from"./CollectionBuilder-qtEk7bDG.js";import{R as b,r as u}from"./iframe-DkT4d7Ot.js";import{$ as jr,a as Wr}from"./SelectionIndicator-B0xJhgeU.js";import{$ as Gr}from"./Separator-DkPkeG73.js";import{a as Zr}from"./Text-C_PPHbON.js";import{$ as S,b as Z,c as ue,d as Ie,e as Jr,R as qr,f as j}from"./index-BIhgoFLA.js";import{$ as A}from"./filterDOMProps-BNnC3YgW.js";import{$ as te,a as Qr,b as Xr,c as Yr,d as ea,e as ta,f as Ne,g as ra,h as Le}from"./SelectionManager-6QPEfufX.js";import{a as se,$ as aa}from"./usePress-loL-ySzv.js";import{c as oa,d as na,e as sa,f as la,g as Pe,$ as ia,h as Ee,i as ua,a as da,b as ca,j as le}from"./useFocus-Bn0bRGba.js";import{b as Ce,c as fa,$ as He}from"./useFocusRing-Bn6GFEBK.js";import{a as $a}from"./useFocusable-oFwI_mrj.js";import{$ as ze}from"./useLocalizedStringFormatter-D2x8dv8x.js";import{$ as _e,a as ba,b as pa}from"./useCollator-5WPUQbPc.js";import{$ as ga}from"./useControlledState-B7-cf8QC.js";import{$ as ma,a as Ve}from"./FocusScope-D5JuRjyj.js";import{a as va}from"./Hidden-B_u69euq.js";import{$ as xa}from"./context-BhNnKB4w.js";import{$ as ya}from"./useLabel-D_TjIfTk.js";import{$ as ha}from"./VisuallyHidden-BhWvypZu.js";const Ue=b.forwardRef(({children:t,...e},r)=>{let o=u.useRef(!1),a=u.useContext(se);r=we(r||a?.ref);let n=S(a||{},{...e,ref:r,register(){o.current=!0,a&&a.register()}});return oa(a,r),u.useEffect(()=>{o.current||(o.current=!0)},[]),b.createElement(se.Provider,{value:n},t)});function Pa({children:t}){let e=u.useMemo(()=>({register:()=>{}}),[]);return b.createElement(se.Provider,{value:e},t)}function Ea(t){let{ref:e,onInteractOutside:r,isDisabled:o,onInteractOutsideStart:a}=t,n=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=Ce(s=>{r&&De(s,e)&&(a&&a(s),n.current.isPointerDown=!0)}),l=Ce(s=>{r&&r(s)});u.useEffect(()=>{let s=n.current;if(o)return;const d=e.current,f=na(d);if(typeof PointerEvent<"u"){let g=y=>{s.isPointerDown&&De(y,e)&&l(y),s.isPointerDown=!1};return f.addEventListener("pointerdown",i,!0),f.addEventListener("click",g,!0),()=>{f.removeEventListener("pointerdown",i,!0),f.removeEventListener("click",g,!0)}}},[e,o])}function De(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const k=[];function Ca(t,e){let{onClose:r,shouldCloseOnBlur:o,isOpen:a,isDismissable:n=!1,isKeyboardDismissDisabled:i=!1,shouldCloseOnInteractOutside:l}=t;u.useEffect(()=>{if(a&&!k.includes(e))return k.push(e),()=>{let p=k.indexOf(e);p>=0&&k.splice(p,1)}},[a,e]);let s=()=>{k[k.length-1]===e&&r&&r()},d=p=>{(!l||l(p.target))&&k[k.length-1]===e&&(p.stopPropagation(),p.preventDefault())},f=p=>{(!l||l(p.target))&&(k[k.length-1]===e&&(p.stopPropagation(),p.preventDefault()),s())},g=p=>{p.key==="Escape"&&!i&&!p.nativeEvent.isComposing&&(p.stopPropagation(),p.preventDefault(),s())};Ea({ref:e,onInteractOutside:n&&a?f:void 0,onInteractOutsideStart:d});let{focusWithinProps:y}=fa({isDisabled:!o,onBlurWithin:p=>{!p.relatedTarget||ma(p.relatedTarget)||(!l||l(p.relatedTarget))&&r?.()}}),c=p=>{p.target===p.currentTarget&&p.preventDefault()};return{overlayProps:{onKeyDown:g,...y},underlayProps:{onPointerDown:c}}}function je(t,e,r){let{type:o}=t,{isOpen:a}=e;u.useEffect(()=>{r&&r.current&&Br.set(r.current,e.close)});let n;o==="menu"?n=!0:o==="listbox"&&(n="listbox");let i=Z();return{triggerProps:{"aria-haspopup":n,"aria-expanded":a,"aria-controls":a?i:void 0,onPress:e.toggle},overlayProps:{id:i}}}const z=typeof document<"u"&&window.visualViewport;let U=0,re;function Da(t={}){let{isDisabled:e}=t;ue(()=>{if(!e)return U++,U===1&&(sa()?re=ka():re=Ma()),()=>{U--,U===0&&re()}},[e])}function Ma(){let t=window.innerWidth-document.documentElement.clientWidth;return Ie(t>0&&("scrollbarGutter"in document.documentElement.style?ae(document.documentElement,"scrollbarGutter","stable"):ae(document.documentElement,"paddingRight",`${t}px`)),ae(document.documentElement,"overflow","hidden"))}function ka(){let t,e=!1,r=s=>{let d=s.target;t=ba(d)?d:_e(d,!0),e=!1;let f=d.ownerDocument.defaultView.getSelection();f&&!f.isCollapsed&&f.containsNode(d,!0)&&(e=!0),"selectionStart"in d&&"selectionEnd"in d&&d.selectionStart<d.selectionEnd&&d.ownerDocument.activeElement===d&&(e=!0)},o=document.createElement("style");o.textContent=`
@layer {
  * {
    overscroll-behavior: contain;
  }
}`.trim(),document.head.prepend(o);let a=s=>{if(!(s.touches.length===2||e)){if(!t||t===document.documentElement||t===document.body){s.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&s.preventDefault()}},n=s=>{let d=s.target,f=s.relatedTarget;if(f&&te(f))f.focus({preventScroll:!0}),Me(f,te(d));else if(!f){var g;let y=(g=d.parentElement)===null||g===void 0?void 0:g.closest("[tabindex]");y?.focus({preventScroll:!0})}},i=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(s){let d=document.activeElement!=null&&te(document.activeElement);i.call(this,{...s,preventScroll:!0}),(!s||!s.preventScroll)&&Me(this,d)};let l=Ie(oe(document,"touchstart",r,{passive:!1,capture:!0}),oe(document,"touchmove",a,{passive:!1,capture:!0}),oe(document,"blur",n,!0));return()=>{l(),o.remove(),HTMLElement.prototype.focus=i}}function ae(t,e,r){let o=t.style[e];return t.style[e]=r,()=>{t.style[e]=o}}function oe(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}function Me(t,e){e||!z?ke(t):z.addEventListener("resize",()=>ke(t),{once:!0})}function ke(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let o=_e(r);if(o!==document.documentElement&&o!==document.body&&o!==r){let a=o.getBoundingClientRect(),n=r.getBoundingClientRect();if(n.top<a.top||n.bottom>a.top+r.clientHeight){let i=a.bottom;z&&(i=Math.min(i,z.offsetTop+z.height));let l=n.top-a.top-((i-a.top)/2-n.height/2);o.scrollTo({top:Math.max(0,Math.min(o.scrollHeight-o.clientHeight,o.scrollTop+l)),behavior:"smooth"})}}r=o.parentElement}}var We={};We={dismiss:"تجاهل"};var Ge={};Ge={dismiss:"Отхвърляне"};var Ze={};Ze={dismiss:"Odstranit"};var Je={};Je={dismiss:"Luk"};var qe={};qe={dismiss:"Schließen"};var Qe={};Qe={dismiss:"Απόρριψη"};var Xe={};Xe={dismiss:"Dismiss"};var Ye={};Ye={dismiss:"Descartar"};var et={};et={dismiss:"Lõpeta"};var tt={};tt={dismiss:"Hylkää"};var rt={};rt={dismiss:"Rejeter"};var at={};at={dismiss:"התעלם"};var ot={};ot={dismiss:"Odbaci"};var nt={};nt={dismiss:"Elutasítás"};var st={};st={dismiss:"Ignora"};var lt={};lt={dismiss:"閉じる"};var it={};it={dismiss:"무시"};var ut={};ut={dismiss:"Atmesti"};var dt={};dt={dismiss:"Nerādīt"};var ct={};ct={dismiss:"Lukk"};var ft={};ft={dismiss:"Negeren"};var $t={};$t={dismiss:"Zignoruj"};var bt={};bt={dismiss:"Descartar"};var pt={};pt={dismiss:"Dispensar"};var gt={};gt={dismiss:"Revocare"};var mt={};mt={dismiss:"Пропустить"};var vt={};vt={dismiss:"Zrušiť"};var xt={};xt={dismiss:"Opusti"};var yt={};yt={dismiss:"Odbaci"};var ht={};ht={dismiss:"Avvisa"};var Pt={};Pt={dismiss:"Kapat"};var Et={};Et={dismiss:"Скасувати"};var Ct={};Ct={dismiss:"取消"};var Dt={};Dt={dismiss:"關閉"};var Mt={};Mt={"ar-AE":We,"bg-BG":Ge,"cs-CZ":Ze,"da-DK":Je,"de-DE":qe,"el-GR":Qe,"en-US":Xe,"es-ES":Ye,"et-EE":et,"fi-FI":tt,"fr-FR":rt,"he-IL":at,"hr-HR":ot,"hu-HU":nt,"it-IT":st,"ja-JP":lt,"ko-KR":it,"lt-LT":ut,"lv-LV":dt,"nb-NO":ct,"nl-NL":ft,"pl-PL":$t,"pt-BR":bt,"pt-PT":pt,"ro-RO":gt,"ru-RU":mt,"sk-SK":vt,"sl-SI":xt,"sr-SP":yt,"sv-SE":ht,"tr-TR":Pt,"uk-UA":Et,"zh-CN":Ct,"zh-TW":Dt};function Sa(t){return t&&t.__esModule?t.default:t}function Se(t){let{onDismiss:e,...r}=t,o=ze(Sa(Mt),"@react-aria/overlays"),a=ya(r,o.format("dismiss")),n=()=>{e&&e()};return b.createElement(ha,null,b.createElement("button",{...a,tabIndex:-1,onClick:n,style:{width:1,height:1}}))}const Aa=typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype;let H=new WeakMap,C=[];function Ba(t,e){let r=la(t?.[0]),o=e instanceof r.Element?{root:e}:e;var a;let n=(a=o?.root)!==null&&a!==void 0?a:document.body,i=o?.shouldUseInert&&Aa,l=new Set(t),s=new Set,d=$=>i&&$ instanceof r.HTMLElement?$.inert:$.getAttribute("aria-hidden")==="true",f=($,v)=>{i&&$ instanceof r.HTMLElement?$.inert=v:v?$.setAttribute("aria-hidden","true"):($.removeAttribute("aria-hidden"),$ instanceof r.HTMLElement&&($.inert=!1))},g=$=>{for(let h of $.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))l.add(h);let v=h=>{if(s.has(h)||l.has(h)||h.parentElement&&s.has(h.parentElement)&&h.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let N of l)if(h.contains(N))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},m=document.createTreeWalker($,NodeFilter.SHOW_ELEMENT,{acceptNode:v}),D=v($);if(D===NodeFilter.FILTER_ACCEPT&&y($),D!==NodeFilter.FILTER_REJECT){let h=m.nextNode();for(;h!=null;)y(h),h=m.nextNode()}},y=$=>{var v;let m=(v=H.get($))!==null&&v!==void 0?v:0;d($)&&m===0||(m===0&&f($,!0),s.add($),H.set($,m+1))};C.length&&C[C.length-1].disconnect(),g(n);let c=new MutationObserver($=>{for(let v of $)if(v.type==="childList"&&![...l,...s].some(m=>m.contains(v.target)))for(let m of v.addedNodes)(m instanceof HTMLElement||m instanceof SVGElement)&&(m.dataset.liveAnnouncer==="true"||m.dataset.reactAriaTopLayer==="true")?l.add(m):m instanceof Element&&g(m)});c.observe(n,{childList:!0,subtree:!0});let p={visibleNodes:l,hiddenNodes:s,observe(){c.observe(n,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return C.push(p),()=>{c.disconnect();for(let $ of s){let v=H.get($);v!=null&&(v===1?(f($,!1),H.delete($)):H.set($,v-1))}p===C[C.length-1]?(C.pop(),C.length&&C[C.length-1].observe()):C.splice(C.indexOf(p),1)}}function Fa(t){let e=C[C.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function wa(t,e){let{triggerRef:r,popoverRef:o,groupRef:a,isNonModal:n,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:l,...s}=t,d=s.trigger==="SubmenuTrigger",{overlayProps:f,underlayProps:g}=Ca({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!n||d,isKeyboardDismissDisabled:i,shouldCloseOnInteractOutside:l},a??o),{overlayProps:y,arrowProps:c,placement:p,triggerAnchorPoint:$}=Fr({...s,targetRef:r,overlayRef:o,isOpen:e.isOpen,onClose:n&&!d?e.close:null});return Da({isDisabled:n||!e.isOpen}),u.useEffect(()=>{if(e.isOpen&&o.current){var v,m;return n?Fa((v=a?.current)!==null&&v!==void 0?v:o.current):Ba([(m=a?.current)!==null&&m!==void 0?m:o.current],{shouldUseInert:!0})}},[n,e.isOpen,o,a]),{popoverProps:S(f,y),arrowProps:c,underlayProps:g,placement:p,triggerAnchorPoint:$}}const kt=b.createContext(null);function Ae(t){let e=Jr(),{portalContainer:r=e?null:document.body,isExiting:o}=t,[a,n]=u.useState(!1),i=u.useMemo(()=>({contain:a,setContain:n}),[a,n]),{getContainer:l}=wr();if(!t.portalContainer&&l&&(r=l()),!r)return null;let s=t.children;return t.disableFocusManagement||(s=b.createElement(Ve,{restoreFocus:!0,contain:(t.shouldContainFocus||a)&&!o},s)),s=b.createElement(kt.Provider,{value:i},b.createElement(Pa,null,s)),qr.createPortal(s,r)}function Ka(){let t=u.useContext(kt),e=t?.setContain;ue(()=>{e?.(!0)},[e])}function Ra(t){let{selectionManager:e,collection:r,disabledKeys:o,ref:a,keyboardDelegate:n,layoutDelegate:i}=t,l=pa({usage:"search",sensitivity:"base"}),s=e.disabledBehavior,d=u.useMemo(()=>n||new Qr({collection:r,disabledKeys:o,disabledBehavior:s,ref:a,collator:l,layoutDelegate:i}),[n,i,r,o,a,l,s]),{collectionProps:f}=Xr({...t,ref:a,selectionManager:e,keyboardDelegate:d});return{listProps:f}}const Be=new WeakMap;function Ta(t){let e=Be.get(t);if(e!=null)return e;let r=0,o=a=>{for(let n of a)n.type==="section"?o(Yr(n,t)):n.type==="item"&&r++};return o(t),Be.set(t,r),r}var St={};St={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var At={};At={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Bt={};Bt={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Ft={};Ft={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var wt={};wt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Kt={};Kt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Rt={};Rt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Tt={};Tt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Ot={};Ot={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var It={};It={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Nt={};Nt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Lt={};Lt={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Ht={};Ht={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var zt={};zt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var _t={};_t={longPressMessage:"Premi a lungo o premi Alt + Freccia giù per aprire il menu"};var Vt={};Vt={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Ut={};Ut={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var jt={};jt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Wt={};Wt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Gt={};Gt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Zt={};Zt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Jt={};Jt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var qt={};qt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Qt={};Qt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Xt={};Xt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Yt={};Yt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var er={};er={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var tr={};tr={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var rr={};rr={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var ar={};ar={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var or={};or={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var nr={};nr={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var sr={};sr={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var lr={};lr={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var ir={};ir={"ar-AE":St,"bg-BG":At,"cs-CZ":Bt,"da-DK":Ft,"de-DE":wt,"el-GR":Kt,"en-US":Rt,"es-ES":Tt,"et-EE":Ot,"fi-FI":It,"fr-FR":Nt,"he-IL":Lt,"hr-HR":Ht,"hu-HU":zt,"it-IT":_t,"ja-JP":Vt,"ko-KR":Ut,"lt-LT":jt,"lv-LV":Wt,"nb-NO":Gt,"nl-NL":Zt,"pl-PL":Jt,"pt-BR":qt,"pt-PT":Qt,"ro-RO":Xt,"ru-RU":Yt,"sk-SK":er,"sl-SI":tr,"sr-SP":rr,"sv-SE":ar,"tr-TR":or,"uk-UA":nr,"zh-CN":sr,"zh-TW":lr};function Oa(t){return t&&t.__esModule?t.default:t}function Ia(t,e,r){let{type:o="menu",isDisabled:a,trigger:n="press"}=t,i=Z(),{triggerProps:l,overlayProps:s}=je({type:o},e,r),d=c=>{if(!a&&!(n==="longPress"&&!c.altKey)&&r&&r.current)switch(c.key){case"Enter":case" ":if(n==="longPress"||c.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in c||c.stopPropagation(),c.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in c||c.stopPropagation(),c.preventDefault(),e.toggle("last");break;default:"continuePropagation"in c&&c.continuePropagation()}},f=ze(Oa(ir),"@react-aria/menu"),{longPressProps:g}=ea({isDisabled:a||n!=="longPress",accessibilityDescription:f.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),y={preventFocusOnPress:!0,onPressStart(c){c.pointerType!=="touch"&&c.pointerType!=="keyboard"&&!a&&(Pe(c.target),e.open(c.pointerType==="virtual"?"first":null))},onPress(c){c.pointerType==="touch"&&!a&&(Pe(c.target),e.toggle())}};return delete l.onPress,{menuTriggerProps:{...l,...n==="press"?y:g,id:i,onKeyDown:d},menuProps:{...s,"aria-labelledby":i,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const ur=new WeakMap;function Na(t,e,r){let{shouldFocusWrap:o=!0,onKeyDown:a,onKeyUp:n,...i}=t;!t["aria-label"]&&t["aria-labelledby"];let l=A(t,{labelable:!0}),{listProps:s}=Ra({...i,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return ur.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:S(l,{onKeyDown:a,onKeyUp:n},{role:"menu",...s,onKeyDown:d=>{var f;(d.key!=="Escape"||t.shouldUseVirtualFocus)&&((f=s.onKeyDown)===null||f===void 0||f.call(s,d))}})}}function La(t,e,r){let{id:o,key:a,closeOnSelect:n,isVirtualized:i,"aria-haspopup":l,onPressStart:s,onPressUp:d,onPress:f,onPressChange:g,onPressEnd:y,onClick:c,onHoverStart:p,onHoverChange:$,onHoverEnd:v,onKeyDown:m,onKeyUp:D,onFocus:h,onFocusChange:N,onBlur:q,selectionManager:E=e.selectionManager}=t,M=!!l,B=M&&t["aria-expanded"]==="true";var F;let w=(F=t.isDisabled)!==null&&F!==void 0?F:E.isDisabled(a);var Q;let $e=(Q=t.isSelected)!==null&&Q!==void 0?Q:E.isSelected(a),K=ur.get(e),P=e.collection.getItem(a),be=t.onClose||K.onClose,br=ia(),pr=()=>{var x;if(!M&&(!(P==null||(x=P.props)===null||x===void 0)&&x.onAction?P.props.onAction():t.onAction&&t.onAction(a),K.onAction)){let L=K.onAction;L(a)}},X="menuitem";M||(E.selectionMode==="single"?X="menuitemradio":E.selectionMode==="multiple"&&(X="menuitemcheckbox"));let pe=j(),ge=j(),me=j(),V={id:o,"aria-disabled":w||void 0,role:X,"aria-label":t["aria-label"],"aria-labelledby":pe,"aria-describedby":[ge,me].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":l,"aria-expanded":t["aria-expanded"]};E.selectionMode!=="none"&&!M&&(V["aria-checked"]=$e),i&&(V["aria-posinset"]=P?.index,V["aria-setsize"]=Ta(e.collection));let ve=u.useRef(!1),gr=x=>{g?.(x),ve.current=x},R=u.useRef(null),mr=x=>{x.pointerType!=="keyboard"&&(R.current={pointerType:x.pointerType}),x.pointerType==="mouse"&&(ve.current||x.target.click()),d?.(x)},vr=x=>{var L,Y;c?.(x),pr(),ca(x,br,P.props.href,P?.props.routerOptions);let ee=((L=R.current)===null||L===void 0?void 0:L.pointerType)==="keyboard"?((Y=R.current)===null||Y===void 0?void 0:Y.key)==="Enter"||E.selectionMode==="none"||E.isLink(a):E.selectionMode!=="multiple"||E.isLink(a);ee=n??ee,be&&!M&&ee&&be(),R.current=null},{itemProps:T,isFocused:xe}=ta({id:o,selectionManager:E,key:a,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:K.shouldUseVirtualFocus}),{pressProps:xr,isPressed:yr}=aa({onPressStart:s,onPress:f,onPressUp:mr,onPressChange:gr,onPressEnd:y,isDisabled:w}),{hoverProps:hr}=He({isDisabled:w,onHoverStart(x){!Ee()&&!(B&&l)&&(E.setFocused(!0),E.setFocusedKey(a)),p?.(x)},onHoverChange:$,onHoverEnd:v}),{keyboardProps:Pr}=$a({onKeyDown:x=>{if(x.repeat){x.continuePropagation();return}switch(x.key){case" ":R.current={pointerType:"keyboard",key:" "},x.target.click();break;case"Enter":R.current={pointerType:"keyboard",key:"Enter"},x.target.tagName!=="A"&&x.target.click();break;default:M||x.continuePropagation(),m?.(x);break}},onKeyUp:D}),{focusProps:Er}=ua({onBlur:q,onFocus:h,onFocusChange:N}),ye=A(P?.props);delete ye.id;let Cr=da(P?.props);return{menuItemProps:{...V,...S(ye,Cr,M?{onFocus:T.onFocus,"data-collection":T["data-collection"],"data-key":T["data-key"]}:T,xr,hr,Pr,Er,K.shouldUseVirtualFocus||M?{onMouseDown:x=>x.preventDefault()}:void 0,w?void 0:{onClick:vr}),tabIndex:T.tabIndex!=null&&B&&!K.shouldUseVirtualFocus?-1:T.tabIndex},labelProps:{id:pe},descriptionProps:{id:ge},keyboardShortcutProps:{id:me},isFocused:xe,isFocusVisible:xe&&E.isFocused&&Ee()&&!B,isSelected:$e,isPressed:yr,isDisabled:w}}function Ha(t){let{heading:e,"aria-label":r}=t,o=Z();return{itemProps:{role:"presentation"},headingProps:e?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?o:void 0}}}function za(t,e){let{role:r="dialog"}=t,o=j();o=t["aria-label"]?void 0:o;let a=u.useRef(!1);return u.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){le(e.current);let n=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(a.current=!0,e.current&&(e.current.blur(),le(e.current)),a.current=!1)},500);return()=>{clearTimeout(n)}}},[e]),Ka(),{dialogProps:{...A(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||o,onBlur:n=>{a.current&&n.stopPropagation()}},titleProps:{id:o}}}function de(t){let e=Ke(t),[r,o]=u.useState(null),[a,n]=u.useState([]),i=()=>{n([]),e.close()};return{focusStrategy:r,...e,open(d=null){o(d),e.open()},toggle(d=null){o(d),e.toggle()},close(){i()},expandedKeysStack:a,openSubmenu:(d,f)=>{n(g=>f>g.length?g:[...g.slice(0,f),d])},closeSubmenu:(d,f)=>{n(g=>g[f]===d?g.slice(0,f):g)}}}class _a{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var o;return r&&(o=r.prevKey)!==null&&o!==void 0?o:null}getKeyAfter(e){let r=this.keyMap.get(e);var o;return r&&(o=r.nextKey)!==null&&o!==void 0?o:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let o=l=>{if(this.keyMap.set(l.key,l),l.childNodes&&(l.type==="section"||r.has(l.key)))for(let s of l.childNodes)o(s)};for(let l of e)o(l);let a=null,n=0;for(let[l,s]of this.keyMap)a?(a.nextKey=l,s.prevKey=a.key):(this.firstKey=l,s.prevKey=void 0),s.type==="item"&&(s.index=n++),a=s,a.nextKey=void 0;var i;this.lastKey=(i=a?.key)!==null&&i!==void 0?i:null}}function Va(t){let{onExpandedChange:e}=t,[r,o]=ga(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),a=Ne(t),n=u.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),i=ra(t,u.useCallback(s=>new _a(s,{expandedKeys:r}),[r]),null);return u.useEffect(()=>{a.focusedKey!=null&&!i.getItem(a.focusedKey)&&a.setFocusedKey(null)},[i,a.focusedKey]),{collection:i,expandedKeys:r,disabledKeys:n,toggleKey:s=>{o(Ua(r,s))},setExpandedKeys:o,selectionManager:new Le(i,a)}}function Ua(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const dr=u.createContext({}),Eo=Oe(Nr,function(e,r){return[e,r]=O(e,r,dr),b.createElement("header",{className:"react-aria-Header",...e,ref:r},e.children)}),ce=u.createContext(null),Fe=u.createContext(null),Co=u.forwardRef(function(e,r){[e,r]=O(e,r,ce);let o=u.useContext(J),a=Ke(e),n=e.isOpen!=null||e.defaultOpen!=null||!o?a:o,i=Kr(r,n.isOpen)||e.isExiting||!1,l=va(),{direction:s}=xa();if(l){let d=e.children;return typeof d=="function"&&(d=d({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),b.createElement(b.Fragment,null,d)}return n&&!n.isOpen&&!i?null:b.createElement(ja,{...e,triggerRef:e.triggerRef,state:n,popoverRef:r,isExiting:i,dir:s})});function ja({state:t,isExiting:e,UNSTABLE_portalContainer:r,clearContexts:o,...a}){let n=u.useRef(null),i=u.useRef(null),l=u.useContext(Fe),s=l&&a.trigger==="SubmenuTrigger";var d;let{popoverProps:f,underlayProps:g,arrowProps:y,placement:c,triggerAnchorPoint:p}=wa({...a,offset:(d=a.offset)!==null&&d!==void 0?d:8,arrowRef:n,groupRef:s?l:i},t),$=a.popoverRef,v=Rr($,!!c)||a.isEntering||!1,m=_({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:c,isEntering:v,isExiting:e}}),D=!a.isNonModal||a.trigger==="SubmenuTrigger",[h,N]=u.useState(!1);ue(()=>{$.current&&N(D&&!$.current.querySelector("[role=dialog]"))},[$,D]),u.useEffect(()=>{h&&a.trigger!=="SubmenuTrigger"&&$.current&&!$.current.contains(document.activeElement)&&le($.current)},[h,$,a.trigger]);let q=u.useMemo(()=>{let F=m.children;if(o)for(let w of o)F=b.createElement(w.Provider,{value:null},F);return F},[m.children,o]),E={...f.style,"--trigger-anchor-point":p?`${p.x}px ${p.y}px`:void 0,...m.style},M=b.createElement("div",{...S(A(a,{global:!0}),f),...m,role:h?"dialog":void 0,tabIndex:h?-1:void 0,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"],ref:$,slot:a.slot||void 0,style:E,dir:a.dir,"data-trigger":a.trigger,"data-placement":c,"data-entering":v||void 0,"data-exiting":e||void 0},!a.isNonModal&&b.createElement(Se,{onDismiss:t.close}),b.createElement(Tr.Provider,{value:{...y,placement:c,ref:n}},q),b.createElement(Se,{onDismiss:t.close}));if(!s)return b.createElement(Ae,{...a,shouldContainFocus:h,isExiting:e,portalContainer:r},!a.isNonModal&&t.isOpen&&b.createElement("div",{"data-testid":"underlay",...g,style:{position:"fixed",inset:0}}),b.createElement("div",{ref:i,style:{display:"contents"}},b.createElement(Fe.Provider,{value:i},M)));var B;return b.createElement(Ae,{...a,shouldContainFocus:h,isExiting:e,portalContainer:(B=r??l?.current)!==null&&B!==void 0?B:void 0},M)}const Wa=u.createContext({}),cr=u.createContext(null),fe=u.createContext(null),W=u.createContext(null),G=u.createContext(null);function Do(t){let e=de(t),r=u.useRef(null),{menuTriggerProps:o,menuProps:a}=Ia({...t,type:"menu"},e,r),[n,i]=u.useState(null),l=u.useCallback(()=>{r.current&&i(r.current.offsetWidth+"px")},[r]);Re({ref:r,onResize:l});let s=u.useRef(null);return b.createElement(I,{values:[[cr,{...a,ref:s}],[J,e],[W,e],[ce,{trigger:"MenuTrigger",triggerRef:r,scrollRef:s,placement:"bottom start",style:{"--trigger-width":n},"aria-labelledby":a["aria-labelledby"]}]]},b.createElement(Ue,{...o,ref:r,isPressed:e.isOpen},t.children))}const Ga=u.createContext(null);class Za extends Ur{filter(e,r,o){let a=e.getItem(this.firstChildKey);if(a&&o(a.textValue,this)){let n=this.clone();return r.addDescendants(n,e),n}return null}}Za.type="submenutrigger";const Mo=u.forwardRef(function(e,r){return[e,r]=O(e,r,cr),b.createElement(_r,{content:b.createElement(Vr,e)},o=>b.createElement(Ja,{props:e,collection:o,menuRef:r}))});function Ja({props:t,collection:e,menuRef:r}){[t,r]=O(t,r,he);let{filter:o,...a}=t,n=u.useMemo(()=>o?e.filter(o):e,[e,o]),i=Va({...t,collection:n,children:void 0}),l=u.useContext(W),{isVirtualized:s,CollectionRoot:d}=u.useContext(Te),{menuProps:f}=Na({...t,isVirtualized:s,onClose:t.onClose||l?.close},i,r),g=_({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{isEmpty:i.collection.size===0}}),y=null;i.collection.size===0&&t.renderEmptyState&&(y=b.createElement("div",{role:"menuitem",style:{display:"contents"}},t.renderEmptyState()));let c=A(t,{global:!0});return b.createElement(Ve,null,b.createElement("div",{...S(c,g,f),ref:r,slot:t.slot||void 0,"data-empty":i.collection.size===0||void 0,onScroll:t.onScroll},b.createElement(I,{values:[[fe,i],[Gr,{elementType:"div"}],[Or,{name:"MenuSection",render:fr}],[Ga,{parentMenuRef:r,shouldUseVirtualFocus:a?.shouldUseVirtualFocus}],[ie,null],[he,null],[Sr,null],[G,i.selectionManager],[W,l??de({})]]},b.createElement(Wr,null,b.createElement(d,{collection:i.collection,persistedKeys:Ir(i.selectionManager.focusedKey),scrollRef:r}))),y))}class qa extends Le{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function fr(t,e,r,o="react-aria-MenuSection"){var a,n;let i=u.useContext(fe),{CollectionBranch:l}=u.useContext(Te),[s,d]=kr();var f;let{headingProps:g,groupProps:y}=Ha({heading:d,"aria-label":(f=r.props["aria-label"])!==null&&f!==void 0?f:void 0}),c=_({defaultClassName:o,className:(a=r.props)===null||a===void 0?void 0:a.className,style:(n=r.props)===null||n===void 0?void 0:n.style,values:{}}),p=u.useContext(G),$=Ne(t),v=t.selectionMode!=null?new qa(p,$):p,m=A(t,{global:!0});return delete m.id,b.createElement("section",{...S(m,c,y),ref:e},b.createElement(I,{values:[[dr,{...g,ref:s}],[G,v]]},b.createElement(l,{collection:i.collection,parent:r})))}const ko=Lr(zr,fr),ie=u.createContext(null),So=Oe(Hr,function(e,r,o){var a;[e,r]=O(e,r,ie);let n=(a=Mr(ie))===null||a===void 0?void 0:a.id,i=u.useContext(fe),l=we(r),s=u.useContext(G),{menuItemProps:d,labelProps:f,descriptionProps:g,keyboardShortcutProps:y,...c}=La({...e,id:n,key:o.key,selectionManager:s},i,l),{hoverProps:p,isHovered:$}=He({isDisabled:c.isDisabled}),v=_({...e,id:void 0,children:o.rendered,defaultClassName:"react-aria-MenuItem",values:{...c,isHovered:$,isFocusVisible:c.isFocusVisible,selectionMode:s.selectionMode,selectionBehavior:s.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),m=e.href?"a":"div",D=A(e,{global:!0});return delete D.id,delete D.onClick,b.createElement(m,{...S(D,v,d,p),ref:l,"data-disabled":c.isDisabled||void 0,"data-hovered":$||void 0,"data-focused":c.isFocused||void 0,"data-focus-visible":c.isFocusVisible||void 0,"data-pressed":c.isPressed||void 0,"data-selected":c.isSelected||void 0,"data-selection-mode":s.selectionMode==="none"?void 0:s.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},b.createElement(I,{values:[[Zr,{slots:{[ne]:f,label:f,description:g}}],[Wa,y],[jr,{isSelected:c.isSelected}]]},v.children))}),$r=u.createContext(null),J=u.createContext(null);function Ao(t){let e=de(t),r=u.useRef(null),{triggerProps:o,overlayProps:a}=je({type:"dialog"},e,r),[n,i]=u.useState(null),l=u.useCallback(()=>{r.current&&i(r.current.offsetWidth+"px")},[r]);return Re({ref:r,onResize:l}),o.id=Z(),a["aria-labelledby"]=o.id,b.createElement(I,{values:[[J,e],[W,e],[$r,a],[ce,{trigger:"DialogTrigger",triggerRef:r,"aria-labelledby":a["aria-labelledby"],style:{"--trigger-width":n}}]]},b.createElement(Ue,{...o,ref:r,isPressed:e.isOpen},t.children))}const Bo=u.forwardRef(function(e,r){let o=e["aria-labelledby"];[e,r]=O(e,r,$r);let{dialogProps:a,titleProps:n}=za({...e,"aria-labelledby":o},r),i=u.useContext(J);!a["aria-label"]&&!a["aria-labelledby"]&&e["aria-labelledby"]&&(a["aria-labelledby"]=e["aria-labelledby"]);let l=_({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:i?.close||(()=>{})}}),s=A(e,{global:!0});return b.createElement("section",{...S(s,l,a),ref:r,slot:e.slot||void 0},b.createElement(I,{values:[[Ar,{slots:{[ne]:{},title:{...n,level:2}}}],[Dr,{slots:{[ne]:{},close:{onPress:()=>i?.close()}}}]]},l.children))});export{Ao as $,Co as a,Bo as b,Do as c,ko as d,Eo as e,Mo as f,So as g,Ca as h,Da as i,Ka as j,Ba as k,J as l,Se as m,Ae as n,Ra as o,Ta as p,dr as q,Ia as r,ce as s,$r as t};
