import{r as f,j as a}from"./iframe-1hZ9wzBW.js";import{f as V,P as S}from"./flowComponent-BAYinPoy.js";import{b as U}from"./utils-CnJx27u5.js";import{u as _}from"./useFieldComponent-B-hW6CDY.js";import{c as k}from"./clsx-B-dksMZM.js";import{u as I}from"./useControlledHostValueProps-CUKmYRsD.js";import{F as Z}from"./FieldDescription-BgHJgSRB.js";import{$ as q}from"./useLocalizedStringFormatter-DjDcrgZQ.js";import{$ as B,a as G}from"./TextField-Dy2tPgEd.js";const J="flow--text-area",K="flow--text-area--horizontal-resize",O="flow--text-area--vertical-resize",Q="flow--text-area--resize",W="flow--text-area--input",s={textArea:J,horizontalResize:K,verticalResize:O,resize:Q,input:W},X={"de-DE":{"textArea.characters":(e,n)=>`${n.select({0:()=>`${e.count}`,other:()=>`${e.count}/${e.maxCount}`},e.maxCount)} Zeichen`},"en-US":{"textArea.characters":(e,n)=>`${n.select({0:()=>`${e.count}`,other:()=>`${e.count}/${e.maxCount}`},e.maxCount)} characters`}},Y=V("TextArea",e=>{const{children:n,placeholder:v,rows:i=5,autoResizeMaxRows:h=i,ref:$,allowVerticalResize:g,allowHorizontalResize:R,showCharacterCount:d,className:b,...H}=I(e),[E,A]=f.useState(e.defaultValue?.length??e.value?.length??0),{FieldErrorView:j,FieldErrorCaptureContext:y,fieldPropsContext:L,fieldProps:m}=_(e);let{allowResize:o}=e;g?o="vertical":R&&(o="horizontal");const N=k(s.textArea,typeof o=="boolean"&&o?s.resize:null,o==="horizontal"?s.horizontalResize:o==="vertical"?s.verticalResize:null,m.className,b),P=t=>{d&&A(t.length),e.onChange&&e.onChange(t)},F=q(X).format("textArea.characters",{count:E,maxCount:e.maxLength??0}),r=U($),x=t=>`calc(var(--line-height--m) * ${t} + (var(--form-control--padding-y) * 2))`,[l,M]=f.useState(!1),u=i!==h,w=o&&(!u||u&&l);f.useEffect(()=>{const t=r.current;if(!t)return;const T=t.offsetHeight;let c=!1;const z=()=>{c=!0},p=()=>{if(!c||l)return;t.offsetHeight!==T&&(M(!0),c=!1)},C=()=>{c=!1};return window.addEventListener("mousedown",z),window.addEventListener("mousemove",p),window.addEventListener("mouseup",C),()=>{window.removeEventListener("mousedown",z),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",C)}},[l]);const D=()=>{if(r.current&&u&&!w){r.current.style.height="0px";const t=r.current.scrollHeight;r.current.style.height=t+2+"px"}};return a.jsx(B,{...H,...m,className:N,onChange:P,children:a.jsxs(S,{props:L,children:[a.jsx(y,{children:n}),a.jsx(G,{rows:i,"aria-hidden":e["aria-hidden"],placeholder:v,className:s.input,ref:r,onChange:D,style:{minHeight:x(i),maxHeight:w?void 0:x(h)}}),d&&a.jsx(Z,{children:F}),a.jsx(j,{})]})})});Y.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"TextArea"};export{Y as T};
