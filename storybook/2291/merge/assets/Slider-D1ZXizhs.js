import{r as c,R as N,j as V}from"./iframe-BIoFjWpr.js";import{f as we,I as xe,P as le,a as ye}from"./flowComponent-scX312by.js";import{c as De}from"./clsx-B-dksMZM.js";import{B as ie}from"./Button-60lZfz3H.js";import{E as Ve,F as Me}from"./IconWarning-EC1k16Yv.js";import{$ as _,f as ce,a as W,d as fe,c as ke,b as Re}from"./utils-DZ7CVsEQ.js";import{u as Ke}from"./useFieldComponent-DpF862rt.js";import{$ as Se}from"./useLocalizedStringFormatter-BdL-N6vb.js";import{$ as be}from"./Label-CY_Zdhv-.js";import{c as Ee,$ as A}from"./index-BNUHznNp.js";import{$ as me}from"./filterDOMProps-BNnC3YgW.js";import{b as q,a as ee,c as Fe}from"./ProgressBar-gq9TT67v.js";import{$ as Ce}from"./useControlledState-A9PECuda.js";import{d as te,b as oe,$ as pe,a as Ie}from"./useFocusRing-C05eNqGk.js";import{I as je,g as Le}from"./useFocus-CQPopARV.js";import{b as Ne,c as Ae}from"./usePress-Uox4pFjd.js";import{a as he}from"./useLabel-CIJOcLbZ.js";import{$ as ge}from"./context-CeBhVpDW.js";import{$ as He}from"./useFormReset-DTiYdK4X.js";import{a as Ue,$ as Be}from"./useFocusable-CwNae-cD.js";import{$ as ze}from"./VisuallyHidden-iLNm3MD9.js";function $e(a){let{onMoveStart:e,onMove:t,onMoveEnd:i}=a,s=c.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:l,removeGlobalListener:g}=te(),f=c.useCallback((d,b,o,r)=>{o===0&&r===0||(s.current.didMove||(s.current.didMove=!0,e?.({type:"movestart",pointerType:b,shiftKey:d.shiftKey,metaKey:d.metaKey,ctrlKey:d.ctrlKey,altKey:d.altKey})),t?.({type:"move",pointerType:b,deltaX:o,deltaY:r,shiftKey:d.shiftKey,metaKey:d.metaKey,ctrlKey:d.ctrlKey,altKey:d.altKey}))},[e,t,s]),$=oe(f),x=c.useCallback((d,b)=>{Ne(),s.current.didMove&&i?.({type:"moveend",pointerType:b,shiftKey:d.shiftKey,metaKey:d.metaKey,ctrlKey:d.ctrlKey,altKey:d.altKey})},[i,s]),m=oe(x),[y,v]=c.useState(null);return Ee(()=>{if(y==="pointer"){let d=o=>{if(o.pointerId===s.current.id){var r,h;let T=o.pointerType||"mouse";var D,R;$(o,T,o.pageX-((D=(r=s.current.lastPosition)===null||r===void 0?void 0:r.pageX)!==null&&D!==void 0?D:0),o.pageY-((R=(h=s.current.lastPosition)===null||h===void 0?void 0:h.pageY)!==null&&R!==void 0?R:0)),s.current.lastPosition={pageX:o.pageX,pageY:o.pageY}}},b=o=>{if(o.pointerId===s.current.id){let r=o.pointerType||"mouse";m(o,r),s.current.id=null,g(window,"pointermove",d,!1),g(window,"pointerup",b,!1),g(window,"pointercancel",b,!1),v(null)}};return l(window,"pointermove",d,!1),l(window,"pointerup",b,!1),l(window,"pointercancel",b,!1),()=>{g(window,"pointermove",d,!1),g(window,"pointerup",b,!1),g(window,"pointercancel",b,!1)}}},[y,l,g]),{moveProps:c.useMemo(()=>{let d={},b=()=>{Ae(),s.current.didMove=!1};d.onPointerDown=r=>{r.button===0&&s.current.id==null&&(b(),r.stopPropagation(),r.preventDefault(),s.current.lastPosition={pageX:r.pageX,pageY:r.pageY},s.current.id=r.pointerId,v("pointer"))};let o=(r,h,D)=>{b(),f(r,"keyboard",h,D),x(r,"keyboard")};return d.onKeyDown=r=>{switch(r.key){case"Left":case"ArrowLeft":r.preventDefault(),r.stopPropagation(),o(r,-1,0);break;case"Right":case"ArrowRight":r.preventDefault(),r.stopPropagation(),o(r,1,0);break;case"Up":case"ArrowUp":r.preventDefault(),r.stopPropagation(),o(r,0,-1);break;case"Down":case"ArrowDown":r.preventDefault(),r.stopPropagation(),o(r,0,1);break}},d},[s,f,x])}}const Ge=0,Xe=100,Oe=1;function Ye(a){const{isDisabled:e=!1,minValue:t=Ge,maxValue:i=Xe,numberFormatter:s,step:l=Oe,orientation:g="horizontal"}=a;let f=c.useMemo(()=>{let n=(i-t)/10;return n=q(n,0,n+l,l),Math.max(n,l)},[l,i,t]),$=c.useCallback(n=>n?.map((P,M)=>{let z=M===0?t:n[M-1],G=M===n.length-1?i:n[M+1];return q(P,z,G,l)}),[t,i,l]),x=c.useMemo(()=>$(ue(a.value)),[a.value,$]),m=c.useMemo(()=>{var n;return $((n=ue(a.defaultValue))!==null&&n!==void 0?n:[t])},[a.defaultValue,t,$]),y=de(a.value,a.defaultValue,a.onChange),v=de(a.value,a.defaultValue,a.onChangeEnd);const[p,d]=Ce(x,m,y);let[b]=c.useState(p);const[o,r]=c.useState(new Array(p.length).fill(!1)),h=c.useRef(new Array(p.length).fill(!0)),[D,R]=c.useState(void 0),T=c.useRef(p),w=c.useRef(o);let I=n=>{T.current=n,d(n)},j=n=>{w.current=n,r(n)};function B(n){return(n-t)/(i-t)}function X(n){return n===0?t:p[n-1]}function O(n){return n===p.length-1?i:p[n+1]}function H(n){return h.current[n]}function L(n,P){h.current[n]=P}function k(n,P){if(e||!H(n))return;const M=X(n),z=O(n);P=q(P,M,z,l);let G=se(T.current,n,P);I(G)}function K(n,P){if(e||!H(n))return;P&&(T.current=p);const M=w.current[n];w.current=se(w.current,n,P),j(w.current),v&&M&&!w.current.some(Boolean)&&v(T.current)}function S(n){return s.format(n)}function u(n,P){k(n,F(P))}function E(n){return Math.round((n-t)/l)*l+t}function F(n){const P=n*(i-t)+t;return ee(E(P),t,i)}function U(n,P=1){let M=Math.max(P,l);k(n,q(p[n]+M,t,i,l))}function Y(n,P=1){let M=Math.max(P,l);k(n,q(p[n]-M,t,i,l))}return{values:p,defaultValues:a.defaultValue!==void 0?m:b,getThumbValue:n=>p[n],setThumbValue:k,setThumbPercent:u,isThumbDragging:n=>o[n],setThumbDragging:K,focusedThumb:D,setFocusedThumb:R,getThumbPercent:n=>B(p[n]),getValuePercent:B,getThumbValueLabel:n=>S(p[n]),getFormattedValue:S,getThumbMinValue:X,getThumbMaxValue:O,getPercentValue:F,isThumbEditable:H,setThumbEditable:L,incrementThumb:U,decrementThumb:Y,step:l,pageSize:f,orientation:g,isDisabled:e}}function se(a,e,t){return a[e]===t?a:[...a.slice(0,e),t,...a.slice(e+1)]}function ue(a){if(a!=null)return Array.isArray(a)?a:[a]}function de(a,e,t){return i=>{t?.(typeof a=="number"||typeof e=="number"?i[0]:i)}}const re=new WeakMap;function Z(a,e){let t=re.get(a);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function qe(a,e,t){let{labelProps:i,fieldProps:s}=he(a),l=a.orientation==="vertical";var g;re.set(e,{id:(g=i.id)!==null&&g!==void 0?g:s.id,"aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]});let{direction:f}=ge(),{addGlobalListener:$,removeGlobalListener:x}=te();const m=c.useRef(null),y=f==="rtl",v=c.useRef(null),{moveProps:p}=$e({onMoveStart(){v.current=null},onMove({deltaX:r,deltaY:h}){if(!t.current)return;let{height:D,width:R}=t.current.getBoundingClientRect(),T=l?D:R;v.current==null&&m.current!=null&&(v.current=e.getThumbPercent(m.current)*T);let w=l?h:r;if((l||y)&&(w=-w),v.current+=w,m.current!=null&&t.current){const I=ee(v.current/T,0,1);e.setThumbPercent(m.current,I)}},onMoveEnd(){m.current!=null&&(e.setThumbDragging(m.current,!1),m.current=null)}});let d=c.useRef(void 0),b=(r,h,D,R)=>{if(t.current&&!a.isDisabled&&e.values.every((T,w)=>!e.isThumbDragging(w))){let{height:T,width:w,top:I,left:j}=t.current.getBoundingClientRect(),B=l?T:w,L=((l?R:D)-(l?I:j))/B;(f==="rtl"||l)&&(L=1-L);let k=e.getPercentValue(L),K,S=e.values.findIndex(u=>k-u<0);if(S===0)K=S;else if(S===-1)K=e.values.length-1;else{let u=e.values[S-1],E=e.values[S];Math.abs(u-k)<Math.abs(E-k)?K=S-1:K=S}K>=0&&e.isThumbEditable(K)?(r.preventDefault(),m.current=K,e.setFocusedThumb(K),d.current=h,e.setThumbDragging(m.current,!0),e.setThumbValue(K,k),$(window,"mouseup",o,!1),$(window,"touchend",o,!1),$(window,"pointerup",o,!1)):m.current=null}},o=r=>{var h,D;((D=r.pointerId)!==null&&D!==void 0?D:(h=r.changedTouches)===null||h===void 0?void 0:h[0].identifier)===d.current&&(m.current!=null&&(e.setThumbDragging(m.current,!1),m.current=null),x(window,"mouseup",o,!1),x(window,"touchend",o,!1),x(window,"pointerup",o,!1))};return"htmlFor"in i&&i.htmlFor&&(delete i.htmlFor,i.onClick=()=>{var r;(r=document.getElementById(Z(e,0)))===null||r===void 0||r.focus(),je("keyboard")}),{labelProps:i,groupProps:{role:"group",...s},trackProps:A({onMouseDown(r){r.button!==0||r.altKey||r.ctrlKey||r.metaKey||b(r,void 0,r.clientX,r.clientY)},onPointerDown(r){r.pointerType==="mouse"&&(r.button!==0||r.altKey||r.ctrlKey||r.metaKey)||b(r,r.pointerId,r.clientX,r.clientY)},onTouchStart(r){b(r,r.changedTouches[0].identifier,r.changedTouches[0].clientX,r.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},p),outputProps:{htmlFor:e.values.map((r,h)=>Z(e,h)).join(" "),"aria-live":"off"}}}function We(a,e){let{index:t=0,isRequired:i,validationState:s,isInvalid:l,trackRef:g,inputRef:f,orientation:$=e.orientation,name:x,form:m}=a,y=a.isDisabled||e.isDisabled,v=$==="vertical",{direction:p}=ge(),{addGlobalListener:d,removeGlobalListener:b}=te(),o=re.get(e);var r;const{labelProps:h,fieldProps:D}=he({...a,id:Z(e,t),"aria-labelledby":`${o.id} ${(r=a["aria-labelledby"])!==null&&r!==void 0?r:""}`.trim()}),R=e.values[t],T=c.useCallback(()=>{f.current&&Le(f.current)},[f]),w=e.focusedThumb===t;c.useEffect(()=>{w&&T()},[w,T]);let I=p==="rtl",j=c.useRef(null),{keyboardProps:B}=Ue({onKeyDown(u){let{getThumbMaxValue:E,getThumbMinValue:F,decrementThumb:U,incrementThumb:Y,setThumbValue:n,setThumbDragging:P,pageSize:M}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(u.key)){u.continuePropagation();return}switch(u.preventDefault(),P(t,!0),u.key){case"PageUp":Y(t,M);break;case"PageDown":U(t,M);break;case"Home":n(t,F(t));break;case"End":n(t,E(t));break}P(t,!1)}}),{moveProps:X}=$e({onMoveStart(){j.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:u,deltaY:E,pointerType:F,shiftKey:U}){const{getThumbPercent:Y,setThumbPercent:n,decrementThumb:P,incrementThumb:M,step:z,pageSize:G}=e;if(!g.current)return;let{width:Pe,height:Te}=g.current.getBoundingClientRect(),ae=v?Te:Pe;if(j.current==null&&(j.current=Y(t)*ae),F==="keyboard")u>0&&I||u<0&&!I||E>0?P(t,U?G:z):M(t,U?G:z);else{let Q=v?E:u;(v||I)&&(Q=-Q),j.current+=Q,n(t,ee(j.current/ae,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!y);const{focusableProps:O}=Be(A(a,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),f);let H=c.useRef(void 0),L=u=>{T(),H.current=u,e.setThumbDragging(t,!0),d(window,"mouseup",k,!1),d(window,"touchend",k,!1),d(window,"pointerup",k,!1)},k=u=>{var E,F;((F=u.pointerId)!==null&&F!==void 0?F:(E=u.changedTouches)===null||E===void 0?void 0:E[0].identifier)===H.current&&(T(),e.setThumbDragging(t,!1),b(window,"mouseup",k,!1),b(window,"touchend",k,!1),b(window,"pointerup",k,!1))},K=e.getThumbPercent(t);(v||p==="rtl")&&(K=1-K);let S=y?{}:A(B,X,{onMouseDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||L()},onPointerDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||L(u.pointerId)},onTouchStart:u=>{L(u.changedTouches[0].identifier)}});return He(f,e.defaultValues[t],u=>{e.setThumbValue(t,u)}),{inputProps:A(O,D,{type:"range",tabIndex:y?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:R,name:x,form:m,disabled:y,"aria-orientation":$,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":i||void 0,"aria-invalid":l||s==="invalid"||void 0,"aria-errormessage":a["aria-errormessage"],"aria-describedby":[o["aria-describedby"],a["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[o["aria-details"],a["aria-details"]].filter(Boolean).join(" "),onChange:u=>{e.setThumbValue(t,parseFloat(u.target.value))}}),thumbProps:{...S,style:{position:"absolute",[v?"top":"left"]:`${K*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:h,isDragging:e.isThumbDragging(t),isDisabled:y,isFocused:w}}const Je=c.createContext(null),J=c.createContext(null),ne=c.createContext(null),ve=c.createContext(null),Qe=c.forwardRef(function(e,t){[e,t]=_(e,t,Je);let i=c.useRef(null),s=Fe(e.formatOptions),l=Ye({...e,numberFormatter:s}),[g,f]=ce(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:$,trackProps:x,labelProps:m,outputProps:y}=qe({...e,label:f},l,i),v=W({...e,values:{orientation:l.orientation,isDisabled:l.isDisabled,state:l},defaultClassName:"react-aria-Slider"}),p=me(e,{global:!0});return delete p.id,N.createElement(fe,{values:[[J,l],[ne,{...x,ref:i}],[ve,y],[be,{...m,ref:g}]]},N.createElement("div",{...A(p,v,$),ref:t,slot:e.slot||void 0,"data-orientation":l.orientation,"data-disabled":l.isDisabled||void 0}))}),Ze=c.forwardRef(function(e,t){[e,t]=_(e,t,ve);let{children:i,style:s,className:l,...g}=e,f=c.useContext(J),$=W({className:l,style:s,children:i,defaultChildren:f.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:f.orientation,isDisabled:f.isDisabled,state:f}});return N.createElement("output",{...g,...$,ref:t,"data-orientation":f.orientation||void 0,"data-disabled":f.isDisabled||void 0})}),_e=c.forwardRef(function(e,t){[e,t]=_(e,t,ne);let i=c.useContext(J),{onHoverStart:s,onHoverEnd:l,onHoverChange:g,...f}=e,{hoverProps:$,isHovered:x}=pe({onHoverStart:s,onHoverEnd:l,onHoverChange:g}),m=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:i.orientation,isDisabled:i.isDisabled,isHovered:x,state:i}});return N.createElement("div",{...A(f,$),...m,ref:t,"data-hovered":x||void 0,"data-orientation":i.orientation||void 0,"data-disabled":i.isDisabled||void 0})}),et=c.forwardRef(function(e,t){let{inputRef:i=null}=e,s=c.useContext(J),{ref:l}=ke(ne),{index:g=0}=e,f=c.useRef(null),$=i||f,[x,m]=ce(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:y,inputProps:v,labelProps:p,isDragging:d,isFocused:b,isDisabled:o}=We({...e,index:g,trackRef:l,inputRef:$,label:m},s),{focusProps:r,isFocusVisible:h}=Ie(),{hoverProps:D,isHovered:R}=pe(e),T=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:s,isHovered:R,isDragging:d,isFocused:b,isFocusVisible:h,isDisabled:o}}),w=me(e,{global:!0});return delete w.id,N.createElement("div",{...A(w,y,D),...T,ref:t,style:{...y.style,...T.style},"data-hovered":R||void 0,"data-dragging":d||void 0,"data-focused":b||void 0,"data-focus-visible":h||void 0,"data-disabled":o||void 0},N.createElement(ze,null,N.createElement("input",{ref:$,...A(v,r)})),N.createElement(fe,{values:[[be,{...p,ref:x}]]},T.children))}),tt="flow--slider",rt="flow--slider--text",nt="flow--slider--value",at="flow--slider--track",lt="flow--slider--fill",it="flow--slider--initial-marker",ot="flow--slider--handle",st="flow--slider--increment",ut="flow--slider--decrement",dt="flow--slider--disabled",C={slider:tt,text:rt,value:nt,track:at,fill:lt,initialMarker:it,handle:ot,increment:st,decrement:ut,disabled:dt},ct={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhÃ¶hen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},ft=we("Slider",a=>{const{className:e,children:t,name:i,isDisabled:s,defaultValue:l,showInitialMarker:g,isReadOnly:f,ref:$,...x}=a,m=De(C.slider,s&&C.disabled,e),{FieldErrorView:y,FieldErrorCaptureContext:v,fieldPropsContext:p,fieldProps:d}=Ke(a),b=Se(ct),o=Re($),r={...p,Label:{unstyled:!0,tunnelId:"label",...p.Label}};return V.jsx("div",{...d,children:V.jsx(Qe,{...x,className:m,isDisabled:s,defaultValue:l,children:V.jsx(xe,{children:V.jsxs(le,{props:r,children:[V.jsx(v,{children:t}),V.jsxs("div",{className:C.text,children:[V.jsx(Ze,{className:C.value}),V.jsx(ye,{id:"label"})]}),V.jsx(_e,{className:C.track,children:({state:h})=>V.jsxs(le,{props:{Button:{isPending:!1,isFailed:!1,isSucceeded:!1,isReadOnly:f,excludeFromTabOrder:!0,isDisabled:s,variant:"plain",color:"secondary"}},children:[V.jsx(ie,{onPress:()=>h.decrementThumb(0),"aria-label":b.format("slider.decrement"),className:C.decrement,children:V.jsx(Ve,{})}),V.jsx(ie,{onPress:()=>h.incrementThumb(0),"aria-label":b.format("slider.increment"),className:C.increment,children:V.jsx(Me,{})}),V.jsx("div",{className:C.fill,style:{width:h.getThumbPercent(0)*100+"%"}}),g&&l&&typeof l=="number"&&V.jsx("div",{className:C.initialMarker,style:{left:`calc(${h.getValuePercent(l)*100}% - 2px)`}}),V.jsx(et,{inputRef:o,name:i,className:C.handle,isDisabled:f})]})}),V.jsx(y,{})]})})})})});ft.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{ft as S};
