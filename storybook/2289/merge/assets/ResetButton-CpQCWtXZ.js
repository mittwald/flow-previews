import{R as V,r as N,j as Y}from"./iframe-Ci26vI3B.js";import{d as Qt}from"./dynamic-CWUTf5k8.js";import{v as Xt,P as Jt}from"./flowComponent-BCoZzahf.js";import{F as er}from"./FieldError-CpZGKwRg.js";import{$ as tr}from"./useLocalizedStringFormatter-D463xrfM.js";import{u as rr}from"./useRef-KFnBoEQ2.js";import{b as sr}from"./utils-Prtw8tAI.js";import"./Button-Bgg1raPB.js";import{a as ir,A as nr}from"./Action-BUuW9nUE.js";import{B as vt}from"./ButtonView-CpgiMrkS.js";import{i as or}from"./browser-CkG7QNAh.js";var Fe=e=>e.type==="checkbox",ce=e=>e instanceof Date,Z=e=>e==null;const Ft=e=>typeof e=="object";var q=e=>!Z(e)&&!Array.isArray(e)&&Ft(e)&&!ce(e),pt=e=>q(e)&&e.target?Fe(e.target)?e.target.checked:e.target.value:e,ar=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_t=(e,r)=>e.has(ar(r)),lr=e=>{const r=e.constructor&&e.constructor.prototype;return q(r)&&r.hasOwnProperty("isPrototypeOf")},Ie=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){if(e instanceof Date)return new Date(e);const r=typeof FileList<"u"&&e instanceof FileList;if(Ie&&(e instanceof Blob||r))return e;const t=Array.isArray(e);if(!t&&!(q(e)&&lr(e)))return e;const i=t?[]:Object.create(Object.getPrototypeOf(e));for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=B(e[n]));return i}var xe=e=>/^\w*$/.test(e),M=e=>e===void 0,Ue=e=>Array.isArray(e)?e.filter(Boolean):[],Be=e=>Ue(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!q(e))return t;const i=(xe(r)?[r]:Be(r)).reduce((n,o)=>Z(n)?n:n[o],e);return M(i)||i===e?M(e[r])?t:e[r]:i},X=e=>typeof e=="boolean",G=e=>typeof e=="function",D=(e,r,t)=>{let i=-1;const n=xe(r)?[r]:Be(r),o=n.length,l=o-1;for(;++i<o;){const c=n[i];let g=t;if(i!==l){const S=e[c];g=q(S)||Array.isArray(S)?S:isNaN(+n[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=g,e=e[c]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},se={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ne={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},He=V.createContext(null);He.displayName="HookFormControlContext";const qe=()=>V.useContext(He);var Vt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const l=o;return r._proxyFormState[l]!==se.all&&(r._proxyFormState[l]=!i||se.all),t&&(t[l]=!0),e[l]}});return n};const je=typeof window<"u"?V.useLayoutEffect:V.useEffect;function ur(e){const r=qe(),{control:t=r,disabled:i,name:n,exact:o}=e||{},[l,c]=V.useState(t._formState),g=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return je(()=>t._subscribe({name:n,formState:g.current,exact:o,callback:S=>{!i&&c({...t._formState,...S})}}),[n,i,o]),V.useEffect(()=>{g.current.isValid&&t._setValid(!0)},[t]),V.useMemo(()=>Vt(l,t,g.current,!1),[l,t])}var J=e=>typeof e=="string",Pe=(e,r,t,i,n)=>J(e)?(i&&r.watch.add(e),y(t,e,n)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),y(t,o))):(i&&(r.watchAll=!0),t),Me=e=>Z(e)||!Ft(e);function ie(e,r,t=new WeakSet){if(Me(e)||Me(r))return Object.is(e,r);if(ce(e)&&ce(r))return Object.is(e.getTime(),r.getTime());const i=Object.keys(e),n=Object.keys(r);if(i.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of i){const l=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const c=r[o];if(ce(l)&&ce(c)||q(l)&&q(c)||Array.isArray(l)&&Array.isArray(c)?!ie(l,c,t):!Object.is(l,c))return!1}}return!0}function wt(e){const r=qe(),{control:t=r,name:i,defaultValue:n,disabled:o,exact:l,compute:c}=e||{},g=V.useRef(n),S=V.useRef(c),v=V.useRef(void 0),d=V.useRef(t),_=V.useRef(i);S.current=c;const[F,k]=V.useState(()=>{const b=t._getWatch(i,g.current);return S.current?S.current(b):b}),C=V.useCallback(b=>{const x=Pe(i,t._names,b||t._formValues,!1,g.current);return S.current?S.current(x):x},[t._formValues,t._names,i]),A=V.useCallback(b=>{if(!o){const x=Pe(i,t._names,b||t._formValues,!1,g.current);if(S.current){const P=S.current(x);ie(P,v.current)||(k(P),v.current=P)}else k(x)}},[t._formValues,t._names,o,i]);je(()=>((d.current!==t||!ie(_.current,i))&&(d.current=t,_.current=i,A()),t._subscribe({name:i,formState:{values:!0},exact:l,callback:b=>{A(b.values)}})),[t,l,i,A]),V.useEffect(()=>t._removeUnmounted());const T=d.current!==t,w=_.current,I=V.useMemo(()=>{if(o)return null;const b=!T&&!ie(w,i);return T||b?C():null},[o,T,i,w,C]);return I!==null?I:F}function cr(e){const r=qe(),{name:t,disabled:i,control:n=r,shouldUnregister:o,defaultValue:l,exact:c=!0}=e,g=_t(n._names.array,t),S=V.useMemo(()=>y(n._formValues,t,y(n._defaultValues,t,l)),[n,t,l]),v=wt({control:n,name:t,defaultValue:S,exact:c}),d=ur({control:n,name:t,exact:c}),_=V.useRef(e),F=V.useRef(void 0),k=V.useRef(n.register(t,{...e.rules,value:v,...X(e.disabled)?{disabled:e.disabled}:{}}));_.current=e;const C=V.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(d.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(d.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(d.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(d.validatingFields,t)},error:{enumerable:!0,get:()=>y(d.errors,t)}}),[d,t]),A=V.useCallback(b=>k.current.onChange({target:{value:pt(b),name:t},type:_e.CHANGE}),[t]),T=V.useCallback(()=>k.current.onBlur({target:{value:y(n._formValues,t),name:t},type:_e.BLUR}),[t,n._formValues]),w=V.useCallback(b=>{const x=y(n._fields,t);x&&x._f&&b&&(x._f.ref={focus:()=>G(b.focus)&&b.focus(),select:()=>G(b.select)&&b.select(),setCustomValidity:P=>G(b.setCustomValidity)&&b.setCustomValidity(P),reportValidity:()=>G(b.reportValidity)&&b.reportValidity()})},[n._fields,t]),I=V.useMemo(()=>({name:t,value:v,...X(i)||d.disabled?{disabled:d.disabled||i}:{},onChange:A,onBlur:T,ref:w}),[t,i,d.disabled,A,T,w,v]);return V.useEffect(()=>{const b=n._options.shouldUnregister||o,x=F.current;x&&x!==t&&!g&&n.unregister(x),n.register(t,{..._.current.rules,...X(_.current.disabled)?{disabled:_.current.disabled}:{}});const P=(U,z)=>{const ee=y(n._fields,U);ee&&ee._f&&(ee._f.mount=z)};if(P(t,!0),b){const U=B(y(n._options.defaultValues,t,_.current.defaultValue));D(n._defaultValues,t,U),M(y(n._formValues,t))&&D(n._formValues,t,U)}return!g&&n.register(t),F.current=t,()=>{(g?b&&!n._state.action:b)?n.unregister(t):P(t,!1)}},[t,n,g,o]),V.useEffect(()=>{n._setDisabledField({disabled:i,name:t})},[i,t,n]),V.useMemo(()=>({field:I,formState:d,fieldState:C}),[I,d,C])}const xt=V.createContext(null);xt.displayName="HookFormContext";const dr=e=>{const{children:r,watch:t,getValues:i,getFieldState:n,setError:o,clearErrors:l,setValue:c,trigger:g,formState:S,resetField:v,reset:d,handleSubmit:_,unregister:F,control:k,register:C,setFocus:A,subscribe:T}=e;return V.createElement(xt.Provider,{value:V.useMemo(()=>({watch:t,getValues:i,getFieldState:n,setError:o,clearErrors:l,setValue:c,trigger:g,formState:S,resetField:v,reset:d,handleSubmit:_,unregister:F,control:k,register:C,setFocus:A,subscribe:T}),[l,k,S,n,i,_,C,d,v,o,A,c,T,g,F,t])},V.createElement(He.Provider,{value:k},r))};var fr=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},be=e=>Array.isArray(e)?e:[e],nt=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}};function St(e,r){const t={};for(const i in e)if(e.hasOwnProperty(i)){const n=e[i],o=r[i];if(n&&q(n)&&o){const l=St(n,o);q(l)&&(t[i]=l)}else e[i]&&(t[i]=o)}return t}var $=e=>q(e)&&!Object.keys(e).length,Ke=e=>e.type==="file",Ve=e=>{if(!Ie)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ct=e=>e.type==="select-multiple",We=e=>e.type==="radio",mr=e=>We(e)||Fe(e),Le=e=>Ve(e)&&e.isConnected;function yr(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=M(e)?i++:e[r[i++]];return e}function hr(e){for(const r in e)if(e.hasOwnProperty(r)&&!M(e[r]))return!1;return!0}function H(e,r){const t=Array.isArray(r)?r:xe(r)?[r]:Be(r),i=t.length===1?e:yr(e,t),n=t.length-1,o=t[n];return i&&delete i[o],n!==0&&(q(i)&&$(i)||Array.isArray(i)&&hr(i))&&H(e,t.slice(0,-1)),e}var gr=e=>{for(const r in e)if(G(e[r]))return!0;return!1};function Et(e){return Array.isArray(e)||q(e)&&!gr(e)}function Ne(e,r={}){for(const t in e){const i=e[t];Et(i)?(r[t]=Array.isArray(i)?[]:{},Ne(i,r[t])):M(i)||(r[t]=!0)}return r}function fe(e,r,t){t||(t=Ne(r));for(const i in e){const n=e[i];if(Et(n))M(r)||Me(t[i])?t[i]=Ne(n,Array.isArray(n)?[]:{}):fe(n,Z(r)?{}:r[i],t[i]);else{const o=r[i];t[i]=!ie(n,o)}}return t}const ot={value:!1,isValid:!1},at={value:!0,isValid:!0};var kt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||e[0].value===""?at:{value:e[0].value,isValid:!0}:at:ot}return ot},At=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>M(e)?e:r?e===""?NaN:e&&+e:t&&J(e)?new Date(e):i?i(e):e;const lt={isValid:!1,value:null};var Rt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,lt):lt;function ut(e){const r=e.ref;return Ke(r)?r.files:We(r)?Rt(e.refs).value:Ct(r)?[...r.selectedOptions].map(({value:t})=>t):Fe(r)?kt(e.refs).value:At(M(r.value)?e.ref.value:r.value,e)}var br=(e,r,t,i)=>{const n={};for(const o of e){const l=y(r,o);l&&D(n,o,l._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},we=e=>e instanceof RegExp,ge=e=>M(e)?e:we(e)?e.source:q(e)?we(e.value)?e.value.source:e.value:e,ct=e=>({isOnSubmit:!e||e===se.onSubmit,isOnBlur:e===se.onBlur,isOnChange:e===se.onChange,isOnAll:e===se.all,isOnTouch:e===se.onTouched});const dt="AsyncFunction";var vr=e=>!!e&&!!e.validate&&!!(G(e.validate)&&e.validate.constructor.name===dt||q(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===dt)),Fr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ft=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ve=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const o=y(e,n);if(o){const{_f:l,...c}=o;if(l){if(l.refs&&l.refs[0]&&r(l.refs[0],n)&&!i)return!0;if(l.ref&&r(l.ref,l.name)&&!i)return!0;if(ve(c,r))break}else if(q(c)&&ve(c,r))break}}};function mt(e,r,t){const i=y(e,t);if(i||xe(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),l=y(r,o),c=y(e,o);if(l&&!Array.isArray(l)&&t!==o)return{name:t};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};n.pop()}return{name:t}}var pr=(e,r,t,i)=>{t(e);const{name:n,...o}=e;return $(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(l=>r[l]===(!i||se.all))},_r=(e,r,t)=>!e||!r||e===r||be(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Vr=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,wr=(e,r)=>!Ue(y(e,r)).length&&H(e,r),xr=(e,r,t)=>{const i=be(y(e,t));return D(i,"root",r[t]),D(e,t,i),e};function yt(e,r,t="validate"){if(J(e)||Array.isArray(e)&&e.every(J)||X(e)&&!e)return{type:t,message:J(e)?e:"",ref:r}}var de=e=>q(e)&&!we(e)?e:{value:e,message:""},ht=async(e,r,t,i,n,o)=>{const{ref:l,refs:c,required:g,maxLength:S,minLength:v,min:d,max:_,pattern:F,validate:k,name:C,valueAsNumber:A,mount:T}=e._f,w=y(t,C);if(!T||r.has(C))return{};const I=c?c[0]:l,b=E=>{n&&I.reportValidity&&(I.setCustomValidity(X(E)?"":E||""),I.reportValidity())},x={},P=We(l),U=Fe(l),z=P||U,ee=(A||Ke(l))&&M(l.value)&&M(w)||Ve(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,te=fr.bind(null,C,i,x),pe=(E,R,j,K=ne.maxLength,re=ne.minLength)=>{const Q=E?R:j;x[C]={type:E?K:re,message:Q,ref:l,...te(E?K:re,Q)}};if(o?!Array.isArray(w)||!w.length:g&&(!z&&(ee||Z(w))||X(w)&&!w||U&&!kt(c).isValid||P&&!Rt(c).isValid)){const{value:E,message:R}=J(g)?{value:!!g,message:g}:de(g);if(E&&(x[C]={type:ne.required,message:R,ref:I,...te(ne.required,R)},!i))return b(R),x}if(!ee&&(!Z(d)||!Z(_))){let E,R;const j=de(_),K=de(d);if(!Z(w)&&!isNaN(w)){const re=l.valueAsNumber||w&&+w;Z(j.value)||(E=re>j.value),Z(K.value)||(R=re<K.value)}else{const re=l.valueAsDate||new Date(w),Q=he=>new Date(new Date().toDateString()+" "+he),me=l.type=="time",ye=l.type=="week";J(j.value)&&w&&(E=me?Q(w)>Q(j.value):ye?w>j.value:re>new Date(j.value)),J(K.value)&&w&&(R=me?Q(w)<Q(K.value):ye?w<K.value:re<new Date(K.value))}if((E||R)&&(pe(!!E,j.message,K.message,ne.max,ne.min),!i))return b(x[C].message),x}if((S||v)&&!ee&&(J(w)||o&&Array.isArray(w))){const E=de(S),R=de(v),j=!Z(E.value)&&w.length>+E.value,K=!Z(R.value)&&w.length<+R.value;if((j||K)&&(pe(j,E.message,R.message),!i))return b(x[C].message),x}if(F&&!ee&&J(w)){const{value:E,message:R}=de(F);if(we(E)&&!w.match(E)&&(x[C]={type:ne.pattern,message:R,ref:l,...te(ne.pattern,R)},!i))return b(R),x}if(k){if(G(k)){const E=await k(w,t),R=yt(E,I);if(R&&(x[C]={...R,...te(ne.validate,R.message)},!i))return b(R.message),x}else if(q(k)){let E={};for(const R in k){if(!$(E)&&!i)break;const j=yt(await k[R](w,t),I,R);j&&(E={...j,...te(R,j.message)},b(j.message),i&&(x[C]=E))}if(!$(E)&&(x[C]={ref:I,...E},!i))return x}}return b(!0),x};const Sr={mode:se.onSubmit,reValidateMode:se.onChange,shouldFocusError:!0};function Cr(e={}){let r={...Sr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:G(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=q(r.defaultValues)||q(r.values)?B(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:B(n),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,S=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...v};let _={...d};const F={array:nt(),state:nt()},k=r.criteriaMode===se.all,C=s=>a=>{clearTimeout(S),S=setTimeout(s,a)},A=async s=>{if(!l.keepIsValid&&!r.disabled&&(d.isValid||_.isValid||s)){let a;r.resolver?(a=$((await z()).errors),T()):a=await te(i,!0),a!==t.isValid&&F.state.next({isValid:a})}},T=(s,a)=>{!r.disabled&&(d.isValidating||d.validatingFields||_.isValidating||_.validatingFields)&&((s||Array.from(c.mount)).forEach(u=>{u&&(a?D(t.validatingFields,u,a):H(t.validatingFields,u))}),F.state.next({validatingFields:t.validatingFields,isValidating:!$(t.validatingFields)}))},w=(s,a=[],u,h,m=!0,f=!0)=>{if(h&&u&&!r.disabled){if(l.action=!0,f&&Array.isArray(y(i,s))){const p=u(y(i,s),h.argA,h.argB);m&&D(i,s,p)}if(f&&Array.isArray(y(t.errors,s))){const p=u(y(t.errors,s),h.argA,h.argB);m&&D(t.errors,s,p),wr(t.errors,s)}if((d.touchedFields||_.touchedFields)&&f&&Array.isArray(y(t.touchedFields,s))){const p=u(y(t.touchedFields,s),h.argA,h.argB);m&&D(t.touchedFields,s,p)}(d.dirtyFields||_.dirtyFields)&&(t.dirtyFields=fe(n,o)),F.state.next({name:s,isDirty:E(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(o,s,a)},I=(s,a)=>{D(t.errors,s,a),F.state.next({errors:t.errors})},b=s=>{t.errors=s,F.state.next({errors:t.errors,isValid:!1})},x=(s,a,u,h)=>{const m=y(i,s);if(m){const f=y(o,s,M(u)?y(n,s):u);M(f)||h&&h.defaultChecked||a?D(o,s,a?f:ut(m._f)):K(s,f),l.mount&&!l.action&&A()}},P=(s,a,u,h,m)=>{let f=!1,p=!1;const L={name:s};if(!r.disabled){if(!u||h){(d.isDirty||_.isDirty)&&(p=t.isDirty,t.isDirty=L.isDirty=E(),f=p!==L.isDirty);const O=ie(y(n,s),a);p=!!y(t.dirtyFields,s),O?H(t.dirtyFields,s):D(t.dirtyFields,s,!0),L.dirtyFields=t.dirtyFields,f=f||(d.dirtyFields||_.dirtyFields)&&p!==!O}if(u){const O=y(t.touchedFields,s);O||(D(t.touchedFields,s,u),L.touchedFields=t.touchedFields,f=f||(d.touchedFields||_.touchedFields)&&O!==u)}f&&m&&F.state.next(L)}return f?L:{}},U=(s,a,u,h)=>{const m=y(t.errors,s),f=(d.isValid||_.isValid)&&X(a)&&t.isValid!==a;if(r.delayError&&u?(g=C(()=>I(s,u)),g(r.delayError)):(clearTimeout(S),g=null,u?D(t.errors,s,u):H(t.errors,s)),(u?!ie(m,u):m)||!$(h)||f){const p={...h,...f&&X(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...p},F.state.next(p)}},z=async s=>(T(s,!0),await r.resolver(o,r.context,br(s||c.mount,i,r.criteriaMode,r.shouldUseNativeValidation))),ee=async s=>{const{errors:a}=await z(s);if(T(s),s)for(const u of s){const h=y(a,u);h?D(t.errors,u,h):H(t.errors,u)}else t.errors=a;return a},te=async(s,a,u={valid:!0})=>{for(const h in s){const m=s[h];if(m){const{_f:f,...p}=m;if(f){const L=c.array.has(f.name),O=m._f&&vr(m._f);O&&d.validatingFields&&T([f.name],!0);const W=await ht(m,c.disabled,o,k,r.shouldUseNativeValidation&&!a,L);if(O&&d.validatingFields&&T([f.name]),W[f.name]&&(u.valid=!1,a||e.shouldUseNativeValidation))break;!a&&(y(W,f.name)?L?xr(t.errors,W,f.name):D(t.errors,f.name,W[f.name]):H(t.errors,f.name))}!$(p)&&await te(p,a,u)}}return u.valid},pe=()=>{for(const s of c.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(u=>!Le(u)):!Le(a._f.ref))&&Ce(s)}c.unMount=new Set},E=(s,a)=>!r.disabled&&(s&&a&&D(o,s,a),!ie(Ze(),n)),R=(s,a,u)=>Pe(s,c,{...l.mount?o:M(a)?n:J(s)?{[s]:a}:a},u,a),j=s=>Ue(y(l.mount?o:n,s,r.shouldUnregister?y(n,s,[]):[])),K=(s,a,u={})=>{const h=y(i,s);let m=a;if(h){const f=h._f;f&&(!f.disabled&&D(o,s,At(a,f)),m=Ve(f.ref)&&Z(a)?"":a,Ct(f.ref)?[...f.ref.options].forEach(p=>p.selected=m.includes(p.value)):f.refs?Fe(f.ref)?f.refs.forEach(p=>{(!p.defaultChecked||!p.disabled)&&(Array.isArray(m)?p.checked=!!m.find(L=>L===p.value):p.checked=m===p.value||!!m)}):f.refs.forEach(p=>p.checked=p.value===m):Ke(f.ref)?f.ref.value="":(f.ref.value=m,f.ref.type||F.state.next({name:s,values:B(o)})))}(u.shouldDirty||u.shouldTouch)&&P(s,m,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&he(s)},re=(s,a,u)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const m=a[h],f=s+"."+h,p=y(i,f);(c.array.has(s)||q(m)||p&&!p._f)&&!ce(m)?re(f,m,u):K(f,m,u)}},Q=(s,a,u={})=>{const h=y(i,s),m=c.array.has(s),f=B(a);D(o,s,f),m?(F.array.next({name:s,values:B(o)}),(d.isDirty||d.dirtyFields||_.isDirty||_.dirtyFields)&&u.shouldDirty&&F.state.next({name:s,dirtyFields:fe(n,o),isDirty:E(s,f)})):h&&!h._f&&!Z(f)?re(s,f,u):K(s,f,u),ft(s,c)?F.state.next({...t,name:s,values:B(o)}):F.state.next({name:l.mount?s:void 0,values:B(o)})},me=async s=>{l.mount=!0;const a=s.target;let u=a.name,h=!0;const m=y(i,u),f=O=>{h=Number.isNaN(O)||ce(O)&&isNaN(O.getTime())||ie(O,y(o,u,O))},p=ct(r.mode),L=ct(r.reValidateMode);if(m){let O,W;const ue=a.type?ut(m._f):pt(s),ae=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Zt=!Fr(m._f)&&!r.resolver&&!y(t.errors,u)&&!m._f.deps||Vr(ae,y(t.touchedFields,u),t.isSubmitted,L,p),Ae=ft(u,c,ae);D(o,u,ue),ae?(!a||!a.readOnly)&&(m._f.onBlur&&m._f.onBlur(s),g&&g(0)):m._f.onChange&&m._f.onChange(s);const Re=P(u,ue,ae),Yt=!$(Re)||Ae;if(!ae&&F.state.next({name:u,type:s.type,values:B(o)}),Zt)return(d.isValid||_.isValid)&&(r.mode==="onBlur"?ae&&A():ae||A()),Yt&&F.state.next({name:u,...Ae?{}:Re});if(!ae&&Ae&&F.state.next({...t}),r.resolver){const{errors:st}=await z([u]);if(T([u]),f(ue),h){const zt=mt(t.errors,i,u),it=mt(st,i,zt.name||u);O=it.error,u=it.name,W=$(st)}}else T([u],!0),O=(await ht(m,c.disabled,o,k,r.shouldUseNativeValidation))[u],T([u]),f(ue),h&&(O?W=!1:(d.isValid||_.isValid)&&(W=await te(i,!0)));h&&(m._f.deps&&(!Array.isArray(m._f.deps)||m._f.deps.length>0)&&he(m._f.deps),U(u,W,O,Re))}},ye=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},he=async(s,a={})=>{let u,h;const m=be(s);if(r.resolver){const f=await ee(M(s)?s:m);u=$(f),h=s?!m.some(p=>y(f,p)):u}else s?(h=(await Promise.all(m.map(async f=>{const p=y(i,f);return await te(p&&p._f?{[f]:p}:p)}))).every(Boolean),!(!h&&!t.isValid)&&A()):h=u=await te(i);return F.state.next({...!J(s)||(d.isValid||_.isValid)&&u!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!h&&ve(i,ye,s?m:c.mount),h},Ze=(s,a)=>{let u={...l.mount?o:n};return a&&(u=St(a.dirtyFields?t.dirtyFields:t.touchedFields,u)),M(s)?u:J(s)?y(u,s):s.map(h=>y(u,h))},Ye=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),Ht=s=>{s&&be(s).forEach(a=>H(t.errors,a)),F.state.next({errors:s?t.errors:{}})},ze=(s,a,u)=>{const h=(y(i,s,{_f:{}})._f||{}).ref,m=y(t.errors,s)||{},{ref:f,message:p,type:L,...O}=m;D(t.errors,s,{...O,...a,ref:h}),F.state.next({name:s,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&h&&h.focus&&h.focus()},qt=(s,a)=>G(s)?F.state.subscribe({next:u=>"values"in u&&s(R(void 0,a),u)}):R(s,a,!0),Qe=s=>F.state.subscribe({next:a=>{_r(s.name,a.name,s.exact)&&pr(a,s.formState||d,Gt,s.reRenderRoot)&&s.callback({values:{...o},...t,...a,defaultValues:n})}}).unsubscribe,jt=s=>(l.mount=!0,_={..._,...s.formState},Qe({...s,formState:{...v,...s.formState}})),Ce=(s,a={})=>{for(const u of s?be(s):c.mount)c.mount.delete(u),c.array.delete(u),a.keepValue||(H(i,u),H(o,u)),!a.keepError&&H(t.errors,u),!a.keepDirty&&H(t.dirtyFields,u),!a.keepTouched&&H(t.touchedFields,u),!a.keepIsValidating&&H(t.validatingFields,u),!r.shouldUnregister&&!a.keepDefaultValue&&H(n,u);F.state.next({values:B(o)}),F.state.next({...t,...a.keepDirty?{isDirty:E()}:{}}),!a.keepIsValid&&A()},Xe=({disabled:s,name:a})=>{if(X(s)&&l.mount||s||c.disabled.has(a)){const m=c.disabled.has(a)!==!!s;s?c.disabled.add(a):c.disabled.delete(a),m&&l.mount&&!l.action&&A()}},Ee=(s,a={})=>{let u=y(i,s);const h=X(a.disabled)||X(r.disabled);return D(i,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),c.mount.add(s),u?Xe({disabled:X(a.disabled)?a.disabled:r.disabled,name:s}):x(s,!0,a.value),{...h?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ge(a.min),max:ge(a.max),minLength:ge(a.minLength),maxLength:ge(a.maxLength),pattern:ge(a.pattern)}:{},name:s,onChange:me,onBlur:me,ref:m=>{if(m){Ee(s,a),u=y(i,s);const f=M(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,p=mr(f),L=u._f.refs||[];if(p?L.find(O=>O===f):f===u._f.ref)return;D(i,s,{_f:{...u._f,...p?{refs:[...L.filter(Le),f,...Array.isArray(y(n,s))?[{}]:[]],ref:{type:f.type,name:s}}:{ref:f}}}),x(s,!1,void 0,f)}else u=y(i,s,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(_t(c.array,s)&&l.action)&&c.unMount.add(s)}}},ke=()=>r.shouldFocusError&&ve(i,ye,c.mount),Kt=s=>{X(s)&&(F.state.next({disabled:s}),ve(i,(a,u)=>{const h=y(i,u);h&&(a.disabled=h._f.disabled||s,Array.isArray(h._f.refs)&&h._f.refs.forEach(m=>{m.disabled=h._f.disabled||s}))},0,!1))},Je=(s,a)=>async u=>{let h;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let m=B(o);if(F.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:p}=await z();T(),t.errors=f,m=B(p)}else await te(i);if(c.disabled.size)for(const f of c.disabled)H(m,f);if(H(t.errors,"root"),$(t.errors)){F.state.next({errors:{}});try{await s(m,u)}catch(f){h=f}}else a&&await a({...t.errors},u),ke(),setTimeout(ke);if(F.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Wt=(s,a={})=>{y(i,s)&&(M(a.defaultValue)?Q(s,B(y(n,s))):(Q(s,a.defaultValue),D(n,s,B(a.defaultValue))),a.keepTouched||H(t.touchedFields,s),a.keepDirty||(H(t.dirtyFields,s),t.isDirty=a.defaultValue?E(s,B(y(n,s))):E()),a.keepError||(H(t.errors,s),d.isValid&&A()),F.state.next({...t}))},et=(s,a={})=>{const u=s?B(s):n,h=B(u),m=$(s),f=m?n:h;if(a.keepDefaultValues||(n=u),!a.keepValues){if(a.keepDirtyValues){const p=new Set([...c.mount,...Object.keys(fe(n,o))]);for(const L of Array.from(p)){const O=y(t.dirtyFields,L),W=y(o,L),ue=y(f,L);O&&!M(W)?D(f,L,W):!O&&!M(ue)&&Q(L,ue)}}else{if(Ie&&M(s))for(const p of c.mount){const L=y(i,p);if(L&&L._f){const O=Array.isArray(L._f.refs)?L._f.refs[0]:L._f.ref;if(Ve(O)){const W=O.closest("form");if(W){W.reset();break}}}}if(a.keepFieldsRef)for(const p of c.mount)Q(p,y(f,p));else i={}}o=r.shouldUnregister?a.keepDefaultValues?B(n):{}:B(f),F.array.next({values:{...f}}),F.state.next({values:{...f}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!r.shouldUnregister&&!$(f),l.watch=!!r.shouldUnregister,l.keepIsValid=!!a.keepIsValid,l.action=!1,a.keepErrors||(t.errors={}),F.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:m?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ie(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:m?{}:a.keepDirtyValues?a.keepDefaultValues&&o?fe(n,o):t.dirtyFields:a.keepDefaultValues&&s?fe(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},tt=(s,a)=>et(G(s)?s(o):s,{...r.resetOptions,...a}),$t=(s,a={})=>{const u=y(i,s),h=u&&u._f;if(h){const m=h.refs?h.refs[0]:h.ref;m.focus&&setTimeout(()=>{m.focus(),a.shouldSelect&&G(m.select)&&m.select()})}},Gt=s=>{t={...t,...s}},rt={control:{register:Ee,unregister:Ce,getFieldState:Ye,handleSubmit:Je,setError:ze,_subscribe:Qe,_runSchema:z,_updateIsValidating:T,_focusError:ke,_getWatch:R,_getDirty:E,_setValid:A,_setFieldArray:w,_setDisabledField:Xe,_setErrors:b,_getFieldArray:j,_reset:et,_resetDefaultValues:()=>G(r.defaultValues)&&r.defaultValues().then(s=>{tt(s,r.resetOptions),F.state.next({isLoading:!1})}),_removeUnmounted:pe,_disableForm:Kt,_subjects:F,_proxyFormState:d,get _fields(){return i},get _formValues(){return o},get _state(){return l},set _state(s){l=s},get _defaultValues(){return n},get _names(){return c},set _names(s){c=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:jt,trigger:he,register:Ee,handleSubmit:Je,watch:qt,setValue:Q,getValues:Ze,reset:tt,resetField:Wt,clearErrors:Ht,unregister:Ce,setError:ze,setFocus:$t,getFieldState:Ye};return{...rt,formControl:rt}}function ds(e={}){const r=V.useRef(void 0),t=V.useRef(void 0),[i,n]=V.useState({isDirty:!1,isValidating:!1,isLoading:G(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:G(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!G(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=Cr(e);r.current={...c,formState:i}}const o=r.current.control;return o._options=e,je(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),o._formState.isReady=!0,l},[o]),V.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),V.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),V.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),V.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==i.isDirty&&o._subjects.state.next({isDirty:l})}},[o,i.isDirty]),V.useEffect(()=>{var l;e.values&&!ie(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((l=o._options.resetOptions)===null||l===void 0)&&l.keepIsValid||o._setValid(),t.current=e.values,n(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),V.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=V.useMemo(()=>Vt(i,o),[o,i]),r.current}const Er=e=>{const{form:r,setReadOnly:t}=e,i=ir.useNew({}),{isSubmitting:n,isSubmitted:o,isSubmitSuccessful:l}=r.formState,c=N.useRef(n);return N.useEffect(()=>{const g=c.current&&!n;c.current=n,n?(t(!0),i.state.onAsyncStart()):g&&(l?i.state.onSucceeded():i.state.onFailed(new Error("Form submission failed")),t(!1))},[c,n,o,l,i,t]),i},Lt=N.createContext(void 0),Ot=e=>{const{form:r,id:t,isReadOnly:i=!1,children:n}=e,[o,l]=N.useState(i),c=i||o,g=Er({form:r,setReadOnly:l});return Y.jsx(Lt,{value:{isReadOnly:c,setReadOnly:l,id:t,form:r,formSubmitAction:g},children:n})},Se=()=>{const e=kr();return or(!!e,"Could not useFormContext() outside a Form, or multiple versions of Flow installed."),e},kr=()=>N.useContext(Lt);Ot.__docgenInfo={description:"",methods:[],displayName:"FormContextProvider",props:{form:{required:!0,tsType:{name:"UseFormReturn"},description:""},id:{required:!0,tsType:{name:"string"},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["PropsWithChildren"]};const Ar={"de-DE":{maxLength:e=>`Bitte gib hÃ¶chstens ${e.number} Zeichen ein`,minLength:e=>`Bitte gib mindestens ${e.number} Zeichen ein`},"en-US":{maxLength:e=>`Please enter at most ${e.number} characters`,minLength:e=>`Please enter at least ${e.number} characters`}},$e=N.memo(e=>{const r=N.useContext(Xt).FieldError??er;return Y.jsx(r,{...e})});$e.displayName="FieldErrorView";$e.__docgenInfo={description:"",methods:[],displayName:"FieldErrorView"};function Dt(e){const{children:r,name:t,defaultValue:i,...n}=e,o=tr(Ar),l=cr({...e,rules:{...e.rules,minLength:typeof n.rules?.minLength=="number"?{value:n.rules.minLength,message:o.format("minLength",{number:n.rules.minLength})}:n.rules?.minLength,maxLength:typeof n.rules?.maxLength=="number"?{value:n.rules.maxLength,message:o.format("maxLength",{number:n.rules.maxLength})}:n.rules?.maxLength}}),c=Se(),g=wt({control:c.form.control,name:t})??l.field.value,S=l.fieldState.invalid,v={...l.field,value:g,name:t,form:c.id,isRequired:!!n.rules?.required,isReadOnly:c.isReadOnly,validationBehavior:"aria",defaultValue:i,isInvalid:S,children:Qt(_=>Y.jsxs(Y.Fragment,{children:[_.children,Y.jsx($e,{children:l.fieldState.error?.message})]}))},d={Autocomplete:{SearchField:v,TextField:v},SearchField:v,TextField:v,TextArea:v,MarkdownEditor:v,Checkbox:{...v,isSelected:g},CheckboxGroup:{...v},CheckboxButton:{...v,isSelected:g},FileField:v,FileDropZone:v,NumberField:v,RadioGroup:v,Switch:{...v,isSelected:g},Slider:v,PasswordCreationField:v,DatePicker:v,DateRangePicker:v,TimeField:v,SegmentedControl:v,Select:{...v,selectedKey:g},ComboBox:{...v,selectedKey:g},Rating:v};return Y.jsx(Jt,{props:d,dependencies:[l.fieldState,l.field,g,c.isReadOnly],children:r})}const fs=e=>Dt;Dt.__docgenInfo={description:"",methods:[],displayName:"Field",composes:["Omit","PropsWithChildren"]};const Tt=["shift","alt","meta","mod","ctrl","control"],Rr={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function le(e){return(Rr[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Pt(e){return Tt.includes(e)}function Oe(e,r=","){return e.toLowerCase().split(r)}function De(e,r="+",t=">",i=!1,n,o){let l=[],c=!1;e=e.trim(),e.includes(t)?(c=!0,l=e.toLocaleLowerCase().split(t).map(v=>le(v))):l=e.toLocaleLowerCase().split(r).map(v=>le(v));const g={alt:l.includes("alt"),ctrl:l.includes("ctrl")||l.includes("control"),shift:l.includes("shift"),meta:l.includes("meta"),mod:l.includes("mod"),useKey:i},S=l.filter(v=>!Tt.includes(v));return{...g,keys:S,description:n,isSequence:c,hotkey:e,metadata:o}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Mt([le(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&Nt([le(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{oe.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{oe.clear()},0)}));const oe=new Set;function Ge(e){return Array.isArray(e)}function Lr(e,r=","){return(Ge(e)?e:e.split(r)).every(t=>oe.has(t.trim().toLowerCase()))}function Mt(e){const r=Array.isArray(e)?e:[e];oe.has("meta")&&oe.forEach(t=>{Pt(t)||oe.delete(t.toLowerCase())}),r.forEach(t=>{oe.add(t.toLowerCase())})}function Nt(e){const r=Array.isArray(e)?e:[e];e==="meta"?oe.clear():r.forEach(t=>{oe.delete(t.toLowerCase())})}function Or(e,r,t){(typeof t=="function"&&t(e,r)||t===!0)&&e.preventDefault()}function Dr(e,r,t){return typeof t=="function"?t(e,r):t===!0||t===void 0}const Tr=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function Pr(e){return It(e,Tr)}function It(e,r=!1){const{target:t,composed:i}=e;let n,o;return Mr(t)&&i?(n=e.composedPath()[0]&&e.composedPath()[0].tagName,o=e.composedPath()[0]&&e.composedPath()[0].role):(n=t&&t.tagName,o=t&&t.role),Ge(r)?!!(n&&r&&r.some(l=>l.toLowerCase()===n.toLowerCase()||l===o)):!!(n&&r&&r)}function Mr(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function Nr(e,r){return e.length===0&&r?!1:r?e.some(t=>r.includes(t))||e.includes("*"):!0}const Ir=(e,r,t=!1)=>{const{alt:i,meta:n,mod:o,shift:l,ctrl:c,keys:g,useKey:S}=r,{code:v,key:d,ctrlKey:_,metaKey:F,shiftKey:k,altKey:C}=e,A=le(v);if(S){if(g?.length===1&&g.includes(d.toLowerCase())){if(!t){if(i!==C||l!==k)return!1;if(o){if(!F&&!_)return!1}else if(n!==F||c!==_)return!1}return!0}return!1}if(!g?.includes(A)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(A))return!1;if(!t){if(i!==C&&A!=="alt"||l!==k&&A!=="shift")return!1;if(o){if(!F&&!_)return!1}else if(n!==F&&A!=="meta"&&A!=="os"||c!==_&&A!=="ctrl"&&A!=="control")return!1}return g&&g.length===1&&g.includes(A)?!0:g&&g.length>0?g.includes(A)?Lr(g):!1:!g||g.length===0},Ur=N.createContext(void 0),Br=()=>N.useContext(Ur);function Ut(e,r){return e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(e).length===Object.keys(r).length&&Object.keys(e).reduce((t,i)=>t&&Ut(e[i],r[i]),!0):e===r}const Hr=N.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),qr=()=>N.useContext(Hr);function jr(e){const r=N.useRef(void 0);return Ut(r.current,e)||(r.current=e),r.current}const gt=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},Kr=typeof window<"u"?N.useLayoutEffect:N.useEffect;function Wr(e,r,t,i){const n=N.useRef(null),o=N.useRef(!1),l=Array.isArray(t)?Array.isArray(i)?void 0:i:t,c=Ge(e)?e.join(l?.delimiter):e,g=Array.isArray(t)?t:Array.isArray(i)?i:void 0,S=N.useCallback(r,g??[]),v=N.useRef(S);g?v.current=S:v.current=r;const d=jr(l),{activeScopes:_}=qr(),F=Br();return Kr(()=>{if(d?.enabled===!1||!Nr(_,d?.scopes))return;let k=[],C;const A=(b,x=!1)=>{if(!(Pr(b)&&!It(b,d?.enableOnFormTags))){if(n.current!==null){const P=n.current.getRootNode();if((P instanceof Document||P instanceof ShadowRoot)&&P.activeElement!==n.current&&!n.current.contains(P.activeElement)){gt(b);return}}b.target?.isContentEditable&&!d?.enableOnContentEditable||Oe(c,d?.delimiter).forEach(P=>{if(P.includes(d?.splitKey??"+")&&P.includes(d?.sequenceSplitKey??">")){console.warn(`Hotkey ${P} contains both ${d?.splitKey??"+"} and ${d?.sequenceSplitKey??">"} which is not supported.`);return}const U=De(P,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata);if(U.isSequence){C=setTimeout(()=>{k=[]},d?.sequenceTimeoutMs??1e3);const z=U.useKey?b.key:le(b.code);if(Pt(z.toLowerCase()))return;k.push(z);const ee=U.keys?.[k.length-1];if(z!==ee){k=[],C&&clearTimeout(C);return}k.length===U.keys?.length&&(v.current(b,U),C&&clearTimeout(C),k=[])}else if(Ir(b,U,d?.ignoreModifiers)||U.keys?.includes("*")){if(d?.ignoreEventWhen?.(b)||x&&o.current)return;if(Or(b,U,d?.preventDefault),!Dr(b,U,d?.enabled)){gt(b);return}v.current(b,U),x||(o.current=!0)}})}},T=b=>{b.code!==void 0&&(Mt(le(b.code)),(d?.keydown===void 0&&d?.keyup!==!0||d?.keydown)&&A(b))},w=b=>{b.code!==void 0&&(Nt(le(b.code)),o.current=!1,d?.keyup&&A(b,!0))},I=n.current||l?.document||document;return I.addEventListener("keyup",w,l?.eventListenerOptions),I.addEventListener("keydown",T,l?.eventListenerOptions),F&&Oe(c,d?.delimiter).forEach(b=>{F.addHotkey(De(b,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata))}),()=>{I.removeEventListener("keyup",w,l?.eventListenerOptions),I.removeEventListener("keydown",T,l?.eventListenerOptions),F&&Oe(c,d?.delimiter).forEach(b=>{F.removeHotkey(De(b,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata))}),k=[],C&&clearTimeout(C)}},[c,d,_]),n}function Te(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}var $r=typeof window<"u"?N.useLayoutEffect:N.useEffect,bt=new WeakMap;function Gr(e,r){var t=rr(null,function(i){return e.forEach(function(n){return Te(n,i)})});return $r(function(){var i=bt.get(t);if(i){var n=new Set(i),o=new Set(e),l=t.current;n.forEach(function(c){o.has(c)||Te(c,null)}),o.forEach(function(c){n.has(c)||Te(c,l)})}bt.set(t,e)},[e]),t}const Zr=e=>{const{ref:r,handleSubmit:t}=e;return Gr([sr(r),Wr("mod+enter",t,{enableOnFormTags:!0,enableOnContentEditable:!0})])},Yr=e=>Y.jsx("form",{...e});function zr(e){const{form:r,children:t,onSubmit:i,formComponent:n=Yr,isReadOnly:o,ref:l,id:c,...g}=e,S=N.useId(),v=c??S,d=N.useMemo(()=>n,[v]),_=k=>{const C=k&&"nativeEvent"in k?k:void 0;return C?.stopPropagation(),r.handleSubmit(i)(C)},F=Zr({ref:l,handleSubmit:_});return Y.jsx(dr,{...r,children:Y.jsx(Ot,{form:r,isReadOnly:o,id:v,children:Y.jsx(d,{...g,ref:F,id:v,onSubmit:_,children:t})})})}zr.__docgenInfo={description:"",methods:[],displayName:"Form",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"F"}],raw:"UseFormReturn<F>"},description:""},onSubmit:{required:!0,tsType:{name:"SubmitHandler",elements:[{name:"F"}],raw:"SubmitHandler<F>"},description:""},formComponent:{required:!1,tsType:{name:"FC",elements:[{name:"Omit",elements:[{name:"FC",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: Ref<HTMLFormElement>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"onSubmit",value:{name:"union",raw:"FormEventHandler | FormOnSubmitHandler<never>",elements:[{name:"FormEventHandler"},{name:"SubmitHandler",elements:[{name:"never"}],raw:"SubmitHandler<F>"}],required:!1}},{key:"ref",value:{name:"Ref",elements:[{name:"HTMLFormElement"}],raw:"Ref<HTMLFormElement>",required:!1}}]}}],raw:`PropsWithChildren<{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: Ref<HTMLFormElement>;
}>`}],raw:`FC<
  PropsWithChildren<{
    id: string;
    onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
    ref?: Ref<HTMLFormElement>;
  }>
>`},{name:"literal",value:'"ref"'}],raw:'Omit<FormComponentType, "ref">'}],raw:'FC<Omit<FormComponentType, "ref">>'},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","PropsWithChildren"]};const Bt=e=>{const{children:r}=e,t=Se().formSubmitAction;return Y.jsx(nr,{actionModel:t,children:r})};Bt.__docgenInfo={description:"",methods:[],displayName:"FormSubmitAction"};const Qr=e=>{const{children:r,isReadOnly:t,...i}=e,n=Se(),o=t||n.isReadOnly;return Y.jsx(Bt,{children:Y.jsx(vt,{...i,type:"submit",form:n.id,isReadOnly:o,children:r})})};Qr.__docgenInfo={description:"",methods:[],displayName:"SubmitButton"};const Xr=e=>{const{children:r,onPress:t,isReadOnly:i,...n}=e,o=Se(),l=i||o.isReadOnly,c=g=>{o.form.reset(),t?.(g)};return Y.jsx(vt,{color:"secondary",variant:"soft",...n,type:"button",onPress:c,isReadOnly:l,children:r})};Xr.__docgenInfo={description:"",methods:[],displayName:"ResetButton"};export{zr as F,Xr as R,Qr as S,Dt as a,fs as t,ds as u};
