import{r as m,R as B}from"./index-BwDkhjyp.js";import{$ as H}from"./flowComponent-DnUs06RV.js";const J=Symbol.for("react-aria.i18n.locale"),X=Symbol.for("react-aria.i18n.strings");let f;class h{getStringForLocale(e,t){let a=this.getStringsForLocale(t)[e];if(!a)throw new Error(`Could not find intl message ${e} in ${t} locale`);return a}getStringsForLocale(e){let t=this.strings[e];return t||(t=Q(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[J];if(f===void 0){let a=window[X];if(!a)return null;f={};for(let n in a)f[n]=new h({[t]:a[n]},t)}let i=f==null?void 0:f[e];if(!i)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return i}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}function Q(r,e,t="en-US"){if(e[r])return e[r];let i=ee(r);if(e[i])return e[i];for(let a in e)if(a.startsWith(i+"-"))return e[a];return e[t]}function ee(r){return Intl.Locale?new Intl.Locale(r).language:r.split("-")[0]}const R=new Map,N=new Map;class te{format(e,t){let i=this.strings.getStringForLocale(e,this.locale);return typeof i=="function"?i(t,this):i}plural(e,t,i="cardinal"){let a=t["="+e];if(a)return typeof a=="function"?a():a;let n=this.locale+":"+i,l=R.get(n);l||(l=new Intl.PluralRules(this.locale,{type:i}),R.set(n,l));let o=l.select(e);return a=t[o]||t.other,typeof a=="function"?a():a}number(e){let t=N.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),N.set(this.locale,t)),t.format(e)}select(e,t){let i=e[t]||e.other;return typeof i=="function"?i():i}constructor(e,t){this.locale=e,this.strings=t}}let S=new Map,x=!1;try{x=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let p=!1;try{p=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const j={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class z{format(e){let t="";if(!x&&this.options.signDisplay!=null?t=ie(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!p){var i;let{unit:a,unitDisplay:n="short",locale:l}=this.resolvedOptions();if(!a)return t;let o=(i=j[a])===null||i===void 0?void 0:i[n];t+=o[l]||o.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(t);return[...i.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!x&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!p&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=re(e,t),this.options=t}}function re(r,e={}){let{numberingSystem:t}=e;if(t&&r.includes("-nu-")&&(r.includes("-u-")||(r+="-u-"),r+=`-nu-${t}`),e.style==="unit"&&!p){var i;let{unit:l,unitDisplay:o="short"}=e;if(!l)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=j[l])===null||i===void 0)&&i[o]))throw new Error(`Unsupported unit ${l} with unitDisplay = ${o}`);e={...e,style:"decimal"}}let a=r+(e?Object.entries(e).sort((l,o)=>l[0]<o[0]?-1:1).join():"");if(S.has(a))return S.get(a);let n=new Intl.NumberFormat(r,e);return S.set(a,n),n}function ie(r,e,t){if(e==="auto")return r.format(t);if(e==="never")return r.format(Math.abs(t));{let i=!1;if(e==="always"?i=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):i=t>0),i){let a=r.format(-t),n=r.format(t),l=a.replace(n,"").replace(/\u200e|\u061C/,"");return[...l].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(n,"!!!").replace(l,"+").replace("!!!",n)}else return r.format(t)}}const ae=new RegExp("^.*\\(.*\\).*$"),ne=["latn","arab","hanidec"];class se{parse(e){return w(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,i){return w(this.locale,this.options,e).isValidPartialNumber(e,t,i)}getNumberingSystem(e){return w(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const E=new Map;function w(r,e,t){let i=I(r,e);if(!r.includes("-nu-")&&!i.isValidPartialNumber(t)){for(let a of ne)if(a!==i.options.numberingSystem){let n=I(r+(r.includes("-u-")?"-nu-":"-u-nu-")+a,e);if(n.isValidPartialNumber(t))return n}}return i}function I(r,e){let t=r+(e?Object.entries(e).sort((a,n)=>a[0]<n[0]?-1:1).join():""),i=E.get(t);return i||(i=new le(r,e),E.set(t,i)),i}class le{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=d(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let a=t.indexOf("-");t=t.replace("-","");let n=t.indexOf(".");n===-1&&(n=t.length),t=t.replace(".",""),n-2===0?t=`0.${t}`:n-2===-1?t=`0.0${t}`:n-2===-2?t="0.00":t=`${t.slice(0,n-2)}.${t.slice(n-2)}`,a>-1&&(t=`-${t}`)}let i=t?+t:NaN;if(isNaN(i))return NaN;if(this.options.style==="percent"){let a={...this.options,style:"decimal",minimumFractionDigits:Math.min(this.options.minimumFractionDigits+2,20),maximumFractionDigits:Math.min(this.options.maximumFractionDigits+2,20)};return new se(this.locale,a).parse(new z(this.locale,a).format(i))}return this.options.currencySign==="accounting"&&ae.test(e)&&(i=-1*i),i}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=d(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=d(e,"."," ")),e}isValidPartialNumber(e,t=-1/0,i=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&i>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=d(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=ce(e,this.formatter,this.options,t);var i,a;this.options.style==="percent"&&(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)>18||((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const C=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),oe=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function ce(r,e,t,i){var a,n,l,o;let b=new Intl.NumberFormat(r,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21}),g=b.formatToParts(-10000.111),O=b.formatToParts(10000.111),k=oe.map(s=>b.formatToParts(s));var $;let G=($=(a=g.find(s=>s.type==="minusSign"))===null||a===void 0?void 0:a.value)!==null&&$!==void 0?$:"-",y=(n=O.find(s=>s.type==="plusSign"))===null||n===void 0?void 0:n.value;!y&&((i==null?void 0:i.signDisplay)==="exceptZero"||(i==null?void 0:i.signDisplay)==="always")&&(y="+");let W=(l=new Intl.NumberFormat(r,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(s=>s.type==="decimal"))===null||l===void 0?void 0:l.value,U=(o=g.find(s=>s.type==="group"))===null||o===void 0?void 0:o.value,V=g.filter(s=>!C.has(s.type)).map(s=>M(s.value)),Z=k.flatMap(s=>s.filter(c=>!C.has(c.type)).map(c=>M(c.value))),D=[...new Set([...V,...Z])].sort((s,c)=>c.length-s.length),K=D.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${D.join("|")}|[\\p{White_Space}]`,"gu"),L=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),q=new Map(L.map((s,c)=>[s,c])),Y=new RegExp(`[${L.join("")}]`,"g");return{minusSign:G,plusSign:y,decimal:W,group:U,literals:K,numeral:Y,index:s=>String(q.get(s))}}function d(r,e,t){return r.replaceAll?r.replaceAll(e,t):r.split(e).join(t)}function M(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const fe=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),ue=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function me(r){if(Intl.Locale){let t=new Intl.Locale(r).maximize(),i=typeof t.getTextInfo=="function"?t.getTextInfo():t.textInfo;if(i)return i.direction==="rtl";if(t.script)return fe.has(t.script)}let e=r.split("-")[0];return ue.has(e)}const de=Symbol.for("react-aria.i18n.locale");function A(){let r=typeof window<"u"&&window[de]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([r])}catch{r="en-US"}return{locale:r,direction:me(r)?"rtl":"ltr"}}let P=A(),u=new Set;function T(){P=A();for(let r of u)r(P)}function pe(){let r=H(),[e,t]=m.useState(P);return m.useEffect(()=>(u.size===0&&window.addEventListener("languagechange",T),u.add(t),()=>{u.delete(t),u.size===0&&window.removeEventListener("languagechange",T)}),[]),r?{locale:"en-US",direction:"ltr"}:e}const he=B.createContext(null);function F(){let r=pe();return m.useContext(he)||r}const _=new WeakMap;function be(r){let e=_.get(r);return e||(e=new h(r),_.set(r,e)),e}function ge(r,e){return e&&h.getGlobalDictionaryForPackage(e)||be(r)}function ve(r,e){let{locale:t}=F(),i=ge(r,e);return m.useMemo(()=>new te(t,i),[t,i])}function xe(r={}){let{locale:e}=F();return m.useMemo(()=>new z(e,r),[e,r])}let v=new Map;function Pe(r){let{locale:e}=F(),t=e+(r?Object.entries(r).sort((a,n)=>a[0]<n[0]?-1:1).join():"");if(v.has(t))return v.get(t);let i=new Intl.Collator(e,r);return v.set(t,i),i}export{ve as $,xe as a,F as b,Pe as c,z as d,se as e};
