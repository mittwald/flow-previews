import{$ as o}from"./mergeRefs-Bbw3w7Zz.js";import{$ as g}from"./filterDOMProps-CrrfCvhk.js";import{$ as x}from"./useFormReset-CJ-aoIOb.js";import{$ as n}from"./usePress-wge_TV6C.js";import{$ as y}from"./useFocusable-CpPH01B7.js";import{$ as h}from"./useControlledState-N3OdDP8Q.js";function q(e,a,t){let{isDisabled:i=!1,isReadOnly:d=!1,value:r,name:s,children:k,"aria-label":C,"aria-labelledby":D,validationState:c="valid",isInvalid:f}=e,$=l=>{l.stopPropagation(),a.setSelected(l.target.checked)},{pressProps:b,isPressed:u}=n({isDisabled:i}),{pressProps:m,isPressed:p}=n({onPress(){var l;a.toggle(),(l=t.current)===null||l===void 0||l.focus()},isDisabled:i||d}),{focusableProps:v}=y(e,t),S=o(b,v),P=g(e,{labelable:!0});return x(t,a.isSelected,a.setSelected),{labelProps:o(m,{onClick:l=>l.preventDefault()}),inputProps:o(P,{"aria-invalid":f||c==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":d||void 0,onChange:$,disabled:i,...r==null?{}:{value:r},name:s,type:"checkbox",...S}),isSelected:a.isSelected,isPressed:u||p,isDisabled:i,isReadOnly:d,isInvalid:f||c==="invalid"}}function w(e={}){let{isReadOnly:a}=e,[t,i]=h(e.isSelected,e.defaultSelected||!1,e.onChange);function d(s){a||i(s)}function r(){a||i(!t)}return{isSelected:t,setSelected:d,toggle:r}}export{q as $,w as a};
