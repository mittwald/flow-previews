import{r as x,j as s}from"./iframe-DdrpCK7O.js";import{f as b,P as y}from"./PropsContextProvider-B-M9Ok3D.js";import{u as g}from"./DialogTriggerView-B77w19zZ.js";import{T as C}from"./Text-CaSL42bb.js";import{$}from"./useLocalizedStringFormatter-DTJzl0HQ.js";import{$ as h}from"./useFilter-BdjTZ2K5.js";import{s as v}from"./Dialog-B-Srzcok.js";const E="flow--autocomplete--empty",I={empty:E},w={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},j=b("Autocomplete",a=>{const{children:c,...l}=a,i=$(w),{contains:m}=h({sensitivity:"base"}),o=x.useRef(null),t=g("ContextMenu",{reuseControllerFromContext:!1}),n=t.useIsOpen(),p={onKeyDown:e=>{e.key==="Enter"&&n&&e.preventDefault()},ref:o},f={ContextMenu:{placement:"bottom start",controller:t,isNonModal:!0,renderEmptyState:()=>s.jsx(C,{className:I.empty,children:i.format("autocomplete.empty")}),onAction:e=>{const r=o.current;if(r){Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set?.call(r,String(e));const d=new Event("input",{bubbles:!0});r.dispatchEvent(d)}},triggerRef:o},SearchField:p,TextField:p},u=e=>{e?n||t.open():t.close()};return s.jsx(y,{props:f,mergeInParentContext:!0,dependencies:[n,t],children:s.jsx(v,{onInputChange:u,filter:m,...l,children:c})})});j.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{j as A};
