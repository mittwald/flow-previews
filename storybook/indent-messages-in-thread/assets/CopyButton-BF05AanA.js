import{j as p}from"./jsx-runtime-D_zvdyIk.js";import"./index-BZISi7jw.js";import{g as h}from"./_commonjsHelpers-CqkleIqs.js";import{B as D}from"./Button-aN8KAKdX.js";import{f as T,C as E,p as R}from"./IconWarning-C6QfuWaX.js";import{T as S,a as j}from"./Tooltip-D1bGwq0W.js";import"./react-children-utilities-fm2cgFnI.js";import{A}from"./Action-BIF7Fl6d.js";import{$ as k}from"./useLocalizedStringFormatter-D6AjEcek.js";import{o as B}from"./onlyText-DBswRDk6.js";var g,v;function I(){return v||(v=1,g=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var r=document.activeElement,s=[],l=0;l<o.rangeCount;l++)s.push(o.getRangeAt(l));switch(r.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":r.blur();break;default:r=null;break}return o.removeAllRanges(),function(){o.type==="Caret"&&o.removeAllRanges(),o.rangeCount||s.forEach(function(u){o.addRange(u)}),r&&r.focus()}}),g}var C,x;function U(){if(x)return C;x=1;var o=I(),r={"text/plain":"Text","text/html":"Url",default:"Text"},s="Copy to clipboard: #{key}, Enter";function l(n){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,t)}function u(n,t){var a,d,b,f,i,e,m=!1;t||(t={}),a=t.debug||!1;try{b=o(),f=document.createRange(),i=document.getSelection(),e=document.createElement("span"),e.textContent=n,e.ariaHidden="true",e.style.all="unset",e.style.position="fixed",e.style.top=0,e.style.clip="rect(0, 0, 0, 0)",e.style.whiteSpace="pre",e.style.webkitUserSelect="text",e.style.MozUserSelect="text",e.style.msUserSelect="text",e.style.userSelect="text",e.addEventListener("copy",function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),typeof c.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var y=r[t.format]||r.default;window.clipboardData.setData(y,n)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,n);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(e),f.selectNodeContents(e),i.addRange(f);var w=document.execCommand("copy");if(!w)throw new Error("copy command was unsuccessful");m=!0}catch(c){a&&console.error("unable to copy using execCommand: ",c),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",n),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(y){a&&console.error("unable to copy using clipboardData: ",y),a&&console.error("falling back to prompt"),d=l("message"in t?t.message:s),window.prompt(d,n)}}finally{i&&(typeof i.removeRange=="function"?i.removeRange(f):i.removeAllRanges()),e&&document.body.removeChild(e),b()}return m}return C=u,C}var F=U();const N=h(F),P={"de-DE":{"copyButton.copy":"Kopieren"},"en-EN":{"copyButton.copy":"Copy"}},q=T("CopyButton",o=>{const{text:r,ref:s,variant:l="plain",color:u="secondary",...n}=o,a=k(P).format("copyButton.copy"),d=()=>{N(B(r))};return p.jsx(E,{children:p.jsxs(S,{children:[p.jsx(A,{action:d,showFeedback:!0,children:p.jsx(D,{"aria-label":a,...n,ref:s,variant:l,color:u,children:p.jsx(R,{})})}),p.jsx(j,{children:a})]})})});q.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"CopyButton"};export{q as C};
