import{h as p}from"./CollectionBuilder-CfVVvz4n.js";import{r as y,a as i}from"./iframe-BGjIo6hw.js";const o=y.createContext(null),s={CollectionRoot({collection:e,renderDropIndicator:t}){return d(e,null,t)},CollectionBranch({collection:e,parent:t,renderDropIndicator:l}){return d(e,t,l)}};function d(e,t,l){return p({items:t?e.getChildren(t.key):e,dependencies:[l],children(f){let n=f.render(f);return!l||f.type!=="item"?n:i.createElement(i.Fragment,null,l({type:"item",key:f.key,dropPosition:"before"}),n,x(e,f,l))}})}function x(e,t,l){let f=t.key,n=e.getKeyAfter(f),a=n!=null?e.getItem(n):null;for(;a!=null&&a.type!=="item";)n=e.getKeyAfter(a.key),a=n!=null?e.getItem(n):null;let u=t.nextKey!=null?e.getItem(t.nextKey):null;for(;u!=null&&u.type!=="item";)u=u.nextKey!=null?e.getItem(u.nextKey):null;let m=[];if(u==null){let r=t;for(;r&&(!a||r.parentKey!==a.parentKey&&a.level<r.level);){let $=l({type:"item",key:r.key,dropPosition:"after"});y.isValidElement($)&&m.push(y.cloneElement($,{key:`${r.key}-after`})),r=r.parentKey!=null?e.getItem(r.parentKey):null}}return m}const g=y.createContext(s);function b(e){return y.useMemo(()=>e!=null?new Set([e]):null,[e])}export{g as $,o as a,b,s as c};
