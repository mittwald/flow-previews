import{r as s,R as $}from"./index-Cs7sjTYM.js";import{f as j,F as da}from"./FormField.module-BZl3Zmvb.js";import{c as ca}from"./clsx-B-dksMZM.js";import{C as fa,P as ba}from"./PropsContextProvider-DXo7lD_U.js";import{B as fe}from"./Button-LvzQeJxk.js";import"./IconApp-BHp1-pnQ.js";import{a as ma,D as $a,H as pa,I as va}from"./IconWarning-6UHFXu6F.js";import{f as xa}from"./flowComponent-CoaKa5Zc.js";import{a as Fa}from"./Button-B89OlhFY.js";import{$ as La,e as Pa,d as Da,f as Na,a as Ea,g as Ba}from"./utils-Cd8r7pc9.js";import{$ as Ca,h as ga,e as ha,f as Va}from"./Form-CDVAwZBo.js";import{a as Sa,$ as ya}from"./Group-1uS31LKS.js";import{a as Ma,$ as Ia}from"./Input-zQ88cEWx.js";import{a as wa}from"./Label-C-iBdzH7.js";import{a as ka}from"./Text-Bnjm0IRl.js";import{$ as pe}from"./filterDOMProps-CeZl_uWj.js";import{$ as Oa,a as Ra}from"./useLocalizedStringFormatter-TZkCr3Qr.js";import{$ as Ta}from"./useControlledState-B7K2eYzO.js";import{d as B,c as Q,a as be}from"./ProgressBar-K2upHjuk.js";import{$ as me}from"./NumberFormatter-DNR9MAW-.js";import{$ as Aa,a as ja}from"./useSpinButton-CA5woKrF.js";import{b as Ka,a as z,d as ee,f as Wa}from"./index-j_f0pOtZ.js";import{f as _a,$ as za,u as Ua,v as qa,p as Za}from"./useFocusRing-DdBFev_0.js";import{$ as Ha}from"./useFormReset-BmVKDtZT.js";import{$ as Ya}from"./useEvent-BjqsPY1I.js";import{$ as Ga}from"./useTextField-BFt9_4PS.js";function Xa(e,a){let{onScroll:r,isDisabled:i}=e,u=s.useCallback(n=>{n.ctrlKey||(n.preventDefault(),n.stopPropagation(),r&&r({deltaX:n.deltaX,deltaY:n.deltaY}))},[r]);Ya(a,"wheel",i?void 0:u)}function Ja(e){let{minValue:a,maxValue:r,step:i,formatOptions:u,value:n,defaultValue:c=NaN,onChange:m,locale:f,isDisabled:P,isReadOnly:x}=e;n===null&&(n=NaN),n!==void 0&&!isNaN(n)&&(i!==void 0&&!isNaN(i)?n=B(n,a,r,i):n=Q(n,a,r)),isNaN(c)||(i!==void 0&&!isNaN(i)?c=B(c,a,r,i):c=Q(c,a,r));let[l,t]=Ta(n,isNaN(c)?NaN:c,m),[d,F]=s.useState(()=>isNaN(l)?"":new me(f,u).format(l)),D=s.useMemo(()=>new Aa(f,u),[f,u]),S=s.useMemo(()=>D.getNumberingSystem(d),[D,d]),E=s.useMemo(()=>new me(f,{...u,numberingSystem:S}),[f,u,S]),C=s.useMemo(()=>E.resolvedOptions(),[E]),L=s.useCallback(o=>isNaN(o)||o===null?"":E.format(o),[E]),N=Ca({...e,value:l}),p=i!==void 0&&!isNaN(i)?i:1;C.style==="percent"&&(i===void 0||isNaN(i))&&(p=.01);let[U,I]=s.useState(l),[q,w]=s.useState(f),[Z,y]=s.useState(u);(!Object.is(l,U)||f!==q||u!==Z)&&(F(L(l)),I(l),w(f),y(u));let b=s.useMemo(()=>D.parse(d),[D,d]),k=()=>{if(!d.length){t(NaN),F(n===void 0?"":L(l));return}if(isNaN(b)){F(L(l));return}let o;i===void 0||isNaN(i)?o=Q(b,a,r):o=B(b,a,r,i),o=D.parse(L(o)),t(o),F(L(n===void 0?o:l))},O=(o,_=0)=>{let g=b;if(isNaN(g)){let h=isNaN(_)?0:_;return B(h,a,r,p)}else{let h=B(g,a,r,p);return o==="+"&&h>g||o==="-"&&h<g?h:B(ae(o,g,p),a,r,p)}},R=()=>{let o=O("+",a);o===l&&F(L(o)),t(o),N.commitValidation()},T=()=>{let o=O("-",r);o===l&&F(L(o)),t(o),N.commitValidation()},H=()=>{r!=null&&(t(B(r,a,r,p)),N.commitValidation())},K=()=>{a!=null&&(t(a),N.commitValidation())},Y=s.useMemo(()=>!P&&!x&&(isNaN(b)||r===void 0||isNaN(r)||B(b,a,r,p)>b||ae("+",b,p)<=r),[P,x,a,r,p,b]),W=s.useMemo(()=>!P&&!x&&(isNaN(b)||a===void 0||isNaN(a)||B(b,a,r,p)<b||ae("-",b,p)>=a),[P,x,a,r,p,b]);return{...N,validate:o=>D.isValidPartialNumber(o,a,r),increment:R,incrementToMax:H,decrement:T,decrementToMin:K,canIncrement:Y,canDecrement:W,minValue:a,maxValue:r,numberValue:b,setNumberValue:t,setInputValue:F,inputValue:d,commit:k}}function ae(e,a,r){let i=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const u=a.toString().split("."),n=r.toString().split("."),c=u[1]&&u[1].length||0,m=n[1]&&n[1].length||0,f=Math.pow(10,Math.max(c,m));a=Math.round(a*f),r=Math.round(r*f),i=e==="+"?a+r:a-r,i/=f}return i}function $e(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Qa(e,a,r){let i=Ka(l=>{let t=r.current,d;switch(l.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":d=t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteContentForward":d=t.selectionEnd===t.selectionStart?t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd+1):t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteContentBackward":d=t.selectionEnd===t.selectionStart?t.value.slice(0,t.selectionStart-1)+t.value.slice(t.selectionStart):t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":d=t.value.slice(t.selectionStart);break;default:l.data!=null&&(d=t.value.slice(0,t.selectionStart)+l.data+t.value.slice(t.selectionEnd));break}(d==null||!a.validate(d))&&l.preventDefault()});s.useEffect(()=>{if(!$e())return;let l=r.current;return l.addEventListener("beforeinput",i,!1),()=>{l.removeEventListener("beforeinput",i,!1)}},[r,i]);let u=$e()?null:l=>{let t=l.target.value.slice(0,l.target.selectionStart)+l.data+l.target.value.slice(l.target.selectionEnd);a.validate(t)||l.preventDefault()},{labelProps:n,inputProps:c,descriptionProps:m,errorMessageProps:f,...P}=Ga(e,r),x=s.useRef(null);return{inputProps:z(c,{onBeforeInput:u,onCompositionStart(){let{value:l,selectionStart:t,selectionEnd:d}=r.current;x.current={value:l,selectionStart:t,selectionEnd:d}},onCompositionEnd(){if(!a.validate(r.current.value)){let{value:l,selectionStart:t,selectionEnd:d}=x.current;r.current.value=l,r.current.setSelectionRange(t,d),a.setInputValue(l)}}}),labelProps:n,descriptionProps:m,errorMessageProps:f,...P}}var ve={};ve={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var xe={};xe={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var Fe={};Fe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var Le={};Le={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var Pe={};Pe={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var De={};De={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var Ne={};Ne={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Ee={};Ee={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Be={};Be={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Ce={};Ce={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var ge={};ge={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var he={};he={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Ve={};Ve={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Se={};Se={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var ye={};ye={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var Me={};Me={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Ie={};Ie={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var we={};we={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var ke={};ke={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Oe={};Oe={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Re={};Re={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var Te={};Te={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Ae={};Ae={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var je={};je={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var Ke={};Ke={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var We={};We={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var _e={};_e={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var ze={};ze={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var Ue={};Ue={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var qe={};qe={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ze={};Ze={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var He={};He={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var Ye={};Ye={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ge={};Ge={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var Xe={};Xe={"ar-AE":ve,"bg-BG":xe,"cs-CZ":Fe,"da-DK":Le,"de-DE":Pe,"el-GR":De,"en-US":Ne,"es-ES":Ee,"et-EE":Be,"fi-FI":Ce,"fr-FR":ge,"he-IL":he,"hr-HR":Ve,"hu-HU":Se,"it-IT":ye,"ja-JP":Me,"ko-KR":Ie,"lt-LT":we,"lv-LV":ke,"nb-NO":Oe,"nl-NL":Re,"pl-PL":Te,"pt-BR":Ae,"pt-PT":je,"ro-RO":Ke,"ru-RU":We,"sk-SK":_e,"sl-SI":ze,"sr-SP":Ue,"sv-SE":qe,"tr-TR":Ze,"uk-UA":He,"zh-CN":Ye,"zh-TW":Ge};function er(e){return e&&e.__esModule?e.default:e}function ar(e,a,r){let{id:i,decrementAriaLabel:u,incrementAriaLabel:n,isDisabled:c,isReadOnly:m,isRequired:f,minValue:P,maxValue:x,autoFocus:l,label:t,formatOptions:d,onBlur:F=()=>{},onFocus:D,onFocusChange:S,onKeyDown:E,onKeyUp:C,description:L,errorMessage:N,isWheelDisabled:p,...U}=e,{increment:I,incrementToMax:q,decrement:w,decrementToMin:Z,numberValue:y,inputValue:b,commit:k,commitValidation:O}=a;const R=Oa(er(Xe),"@react-aria/numberfield");let T=ee(i),{focusProps:H}=_a({onBlur(){k()}}),K=be(d),Y=s.useMemo(()=>K.resolvedOptions(),[K]),W=be({...d,currencySign:void 0}),re=s.useMemo(()=>isNaN(y)?"":W.format(y),[W,y]),{spinButtonProps:o,incrementButtonProps:_,decrementButtonProps:g}=ja({isDisabled:c,isReadOnly:m,isRequired:f,maxValue:x,minValue:P,onIncrement:I,onIncrementToMax:q,onDecrement:w,onDecrementToMin:Z,value:y,textValue:re}),[h,Je]=s.useState(!1),{focusWithinProps:Qe}=za({isDisabled:c,onFocusWithinChange:Je}),ea=s.useCallback(v=>{Math.abs(v.deltaY)<=Math.abs(v.deltaX)||(v.deltaY>0?I():v.deltaY<0&&w())},[w,I]);Xa({onScroll:ea,isDisabled:p||c||m||!h},r);var G;let te=((G=Y.maximumFractionDigits)!==null&&G!==void 0?G:0)>0,le=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,A="numeric";Ua()?le?A="text":te&&(A="decimal"):qa()&&(le?A="numeric":te&&(A="decimal"));let aa=v=>{a.validate(v)&&a.setInputValue(v)},ra=pe(e),ie=s.useCallback(v=>{v.key==="Enter"?(k(),O()):v.continuePropagation()},[k,O]),{isInvalid:ne,validationErrors:ta,validationDetails:la}=a.displayValidation,{labelProps:oe,inputProps:ia,descriptionProps:na,errorMessageProps:oa}=Qa({...U,...ra,name:void 0,label:t,autoFocus:l,isDisabled:c,isReadOnly:m,isRequired:f,validate:void 0,[ga]:a,value:b,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:T,type:"text",inputMode:A,onChange:aa,onBlur:F,onFocus:D,onFocusChange:S,onKeyDown:s.useMemo(()=>Wa(ie,E),[ie,E]),onKeyUp:C,description:L,errorMessage:N},a,r);Ha(r,a.numberValue,a.setNumberValue);let ue=z(o,H,ia,{role:null,"aria-roledescription":Za()?null:R.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(ue["aria-required"]=void 0);let se=v=>{var J;document.activeElement!==r.current&&(v.pointerType==="mouse"?(J=r.current)===null||J===void 0||J.focus():v.target.focus())},X=e["aria-label"]||(typeof e.label=="string"?e.label:""),V;X||(V=e.label!=null?oe.id:e["aria-labelledby"]);let de=ee(),ce=ee(),ua=z(_,{"aria-label":n||R.format("increase",{fieldLabel:X}).trim(),id:V&&!n?de:null,"aria-labelledby":V&&!n?`${de} ${V}`:null,"aria-controls":T,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:se}),sa=z(g,{"aria-label":u||R.format("decrease",{fieldLabel:X}).trim(),id:V&&!u?ce:null,"aria-labelledby":V&&!u?`${ce} ${V}`:null,"aria-controls":T,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:se});return{groupProps:{...Qe,role:"group","aria-disabled":c,"aria-invalid":ne?"true":void 0},labelProps:oe,inputProps:ue,incrementButtonProps:ua,decrementButtonProps:sa,errorMessageProps:oa,descriptionProps:na,isInvalid:ne,validationErrors:ta,validationDetails:la}}const rr=s.createContext(null),tr=s.createContext(null);function lr(e,a){[e,a]=La(e,a,rr);let{validationBehavior:r}=Pa(ha)||{};var i,u;let n=(u=(i=e.validationBehavior)!==null&&i!==void 0?i:r)!==null&&u!==void 0?u:"native",{locale:c}=Ra(),m=Ja({...e,locale:c,validationBehavior:n}),f=s.useRef(null),[P,x]=Da(),{labelProps:l,groupProps:t,inputProps:d,incrementButtonProps:F,decrementButtonProps:D,descriptionProps:S,errorMessageProps:E,...C}=ar({...Na(e),label:x,validationBehavior:n},m,f),L=Ea({...e,values:{state:m,isDisabled:e.isDisabled||!1,isInvalid:C.isInvalid||!1},defaultClassName:"react-aria-NumberField"}),N=pe(e);return delete N.id,$.createElement(Ba,{values:[[tr,m],[Sa,t],[Ma,{...d,ref:f}],[wa,{...l,ref:P}],[Fa,{slots:{increment:F,decrement:D}}],[ka,{slots:{description:S,errorMessage:E}}],[Va,C]]},$.createElement("div",{...N,...L,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":C.isInvalid||void 0}),e.name&&$.createElement("input",{type:"hidden",name:e.name,value:isNaN(m.numberValue)?"":m.numberValue}))}const ir=s.forwardRef(lr),nr="flow--number-field--group",or="flow--number-field--input",ur="flow--number-field--decrement-button",sr="flow--number-field--increment-button",dr="flow--number-field--coarse-pointer-icon",cr="flow--number-field--touch-icon",M={group:nr,input:or,decrementButton:ur,incrementButton:sr,coarsePointerIcon:dr,touchIcon:cr},fr=xa("NumberField",e=>{const{children:a,className:r,refProp:i,...u}=e,n=ca(j.formField,r),c={Label:{className:j.label,optional:!e.isRequired},FieldDescription:{className:j.fieldDescription},FieldError:{className:j.customFieldError}};return $.createElement(fa,null,$.createElement(ir,{...u,className:n},$.createElement(ya,{className:M.group},$.createElement(fe,{ariaSlot:"decrement",className:M.decrementButton,size:"s",variant:"plain",color:"secondary"},$.createElement(ma,null),$.createElement($a,{className:M.coarsePointerIcon})),$.createElement(Ia,{className:M.input,ref:i}),$.createElement(fe,{ariaSlot:"increment",className:M.incrementButton,size:"s",variant:"plain",color:"secondary"},$.createElement(pa,null),$.createElement(va,{className:M.coarsePointerIcon}))),$.createElement(ba,{props:c},a),$.createElement(da,{className:j.fieldError})))});fr.__docgenInfo={description:"",methods:[],displayName:"NumberField"};export{fr as N};
