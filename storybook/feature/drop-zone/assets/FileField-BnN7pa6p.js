import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{f as l}from"./FormField.module-B9AzUSUD.js";import{$ as b,a as g}from"./useFormValidation-BP6joqgG.js";import{a as F}from"./FieldError-D2eBwE7I.js";import{a as h,$ as y}from"./Input-Dom3MqAg.js";import"./index-BdpSHsi2.js";import{f as m}from"./utils-q_Aud5Js.js";import{P as u,f as I}from"./PropsContextProvider-CZUDzCR9.js";const P="flow--file-field--trigger",j={trigger:P},v=a=>{const{children:d,isDisabled:n,onChange:e,ref:p}=a,s=m(p),o=()=>{var i,r;(i=s.current)!=null&&i.value&&(s.current.value="",e==null||e(null)),(r=s.current)==null||r.click()},f=i=>{e==null||e(i.target.files)},c={Button:{onPress:o,className:j.trigger,isDisabled:n}};return t.jsxs(u,{props:c,mergeInParentContext:!0,children:[d,t.jsx(h,{style:{display:"none"},type:"file",ref:s,onChange:f})]})};v.__docgenInfo={description:"@internal",methods:[],displayName:"FileInput",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: FileList | null) => void",signature:{arguments:[{type:{name:"union",raw:"FileList | null",elements:[{name:"FileList"},{name:"null"}]},name:"files"}],return:{name:"void"}}},description:""},isDisabled:{required:!1,tsType:{name:"boolean"},description:""},ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""}},composes:["PropsWithChildren"]};const C=I("FileField",a=>{const{children:d,ref:n,isRequired:e,isInvalid:p,isDisabled:s,validationBehavior:o,onChange:f,...c}=a,i=m(n),r=b({value:void 0,validationBehavior:o,isInvalid:p});g({validationBehavior:o},r,i);const x={...c,ref:i,"aria-invalid":r.displayValidation.isInvalid,value:void 0},$={Label:{className:l.label,optional:!a.isRequired},FieldDescription:{className:l.fieldDescription},FieldError:{className:l.customFieldError}};return t.jsx(y.Provider,{value:x,children:t.jsx(F.Provider,{value:r.displayValidation,children:t.jsx(u,{props:$,children:t.jsx("div",{"data-required":!!e||void 0,"data-invalid":r.displayValidation.isInvalid||void 0,className:l.formField,children:t.jsx(v,{ref:n,onChange:f,isDisabled:s,children:d})})})})})});C.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"FileField"};export{C as F};
