import{g as Le,$ as B,h as Se,i as Ie,a as Ne,e as k,j as Fe}from"./utils-BFFU14Eb.js";import{$ as Ae}from"./RSPContexts-BseA8goh.js";import{e as Me,b as Be,a as _,c as ke}from"./OverlayArrow-DfSRANAL.js";import{a as R,b as I,d as W,c as w,f as D,$ as _e,e as We}from"./index-j_f0pOtZ.js";import{$ as L}from"./filterDOMProps-CeZl_uWj.js";import{h as T}from"./usePress-Dcn7RY69.js";import{g as He,d as qe,$ as Ke,q as Ue,e as N}from"./useFocusRing-CqFdZJbR.js";import{R as f,r as p}from"./index-Cs7sjTYM.js";import{b as je,a as Ve}from"./FocusScope-DxaEUeh1.js";import{f as ze}from"./index-Cf-03bMR.js";import{b as Ye}from"./Hidden-C2kgQquV.js";import{a as H}from"./getScrollParent-CcmJp979.js";import{a as Ge}from"./useLabel-BA8WH6BO.js";import{$ as Je}from"./useLocalizedStringFormatter-TZkCr3Qr.js";import{$ as Ze}from"./VisuallyHidden-BOk7_Rfy.js";import{O as q,u as K,o as Xe}from"./context-B3WeE0v4.js";import{P as Qe}from"./PropsContextProvider-CRusYdr1.js";const et=f.forwardRef(({children:e,...t},n)=>{let r=p.useRef(!1),o=p.useContext(T);n=Le(n||(o==null?void 0:o.ref));let l=R(o||{},{...t,ref:n,register(){r.current=!0,o&&o.register()}});return He(o,n),p.useEffect(()=>{r.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),r.current=!0)},[]),f.createElement(T.Provider,{value:l},e)});function tt({children:e}){let t=p.useMemo(()=>({register:()=>{}}),[]);return f.createElement(T.Provider,{value:t},e)}function rt(e){let{ref:t,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:o}=e,l=p.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),c=I(s=>{n&&h(s,t)&&(o&&o(s),l.current.isPointerDown=!0)}),i=I(s=>{n&&n(s)});p.useEffect(()=>{let s=l.current;if(r)return;const d=t.current,a=qe(d);if(typeof PointerEvent<"u"){let m=$=>{s.isPointerDown&&h($,t)&&i($),s.isPointerDown=!1};return a.addEventListener("pointerdown",c,!0),a.addEventListener("pointerup",m,!0),()=>{a.removeEventListener("pointerdown",c,!0),a.removeEventListener("pointerup",m,!0)}}else{let m=b=>{s.ignoreEmulatedMouseEvents?s.ignoreEmulatedMouseEvents=!1:s.isPointerDown&&h(b,t)&&i(b),s.isPointerDown=!1},$=b=>{s.ignoreEmulatedMouseEvents=!0,s.isPointerDown&&h(b,t)&&i(b),s.isPointerDown=!1};return a.addEventListener("mousedown",c,!0),a.addEventListener("mouseup",m,!0),a.addEventListener("touchstart",c,!0),a.addEventListener("touchend",$,!0),()=>{a.removeEventListener("mousedown",c,!0),a.removeEventListener("mouseup",m,!0),a.removeEventListener("touchstart",c,!0),a.removeEventListener("touchend",$,!0)}}},[t,r,c,i])}function h(e,t){if(e.button>0)return!1;if(e.target){const n=e.target.ownerDocument;if(!n||!n.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}const x=[];function nt(e,t){let{onClose:n,shouldCloseOnBlur:r,isOpen:o,isDismissable:l=!1,isKeyboardDismissDisabled:c=!1,shouldCloseOnInteractOutside:i}=e;p.useEffect(()=>(o&&x.push(t),()=>{let u=x.indexOf(t);u>=0&&x.splice(u,1)}),[o,t]);let s=()=>{x[x.length-1]===t&&n&&n()},d=u=>{(!i||i(u.target))&&x[x.length-1]===t&&(u.stopPropagation(),u.preventDefault())},a=u=>{(!i||i(u.target))&&(x[x.length-1]===t&&(u.stopPropagation(),u.preventDefault()),s())},m=u=>{u.key==="Escape"&&!c&&!u.nativeEvent.isComposing&&(u.stopPropagation(),u.preventDefault(),s())};rt({ref:t,onInteractOutside:l&&o?a:null,onInteractOutsideStart:d});let{focusWithinProps:$}=Ke({isDisabled:!r,onBlurWithin:u=>{!u.relatedTarget||je(u.relatedTarget)||(!i||i(u.relatedTarget))&&n()}}),b=u=>{u.target===u.currentTarget&&u.preventDefault()};return{overlayProps:{onKeyDown:m,...$},underlayProps:{onPointerDown:b}}}function ot(e,t,n){let{type:r}=e,{isOpen:o}=t;p.useEffect(()=>{n&&n.current&&Me.set(n.current,t.close)});let l;r==="menu"?l=!0:r==="listbox"&&(l="listbox");let c=W();return{triggerProps:{"aria-haspopup":l,"aria-expanded":o,"aria-controls":o?c:null,onPress:t.toggle},overlayProps:{id:c}}}const P=typeof document<"u"&&window.visualViewport,at=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let C=0,O;function st(e={}){let{isDisabled:t}=e;w(()=>{if(!t)return C++,C===1&&(Ue()?O=lt():O=it()),()=>{C--,C===0&&O()}},[t])}function it(){return D(g(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),g(document.documentElement,"overflow","hidden"))}function lt(){let e,t,n=d=>{e=H(d.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=g(e,"overscrollBehavior","contain"))},r=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&d.preventDefault()},o=d=>{let a=d.target;A(a)&&a!==document.activeElement&&(d.preventDefault(),i(),a.style.transform="translateY(-2000px)",a.focus(),requestAnimationFrame(()=>{a.style.transform=""})),t&&t()},l=d=>{let a=d.target;A(a)&&(i(),a.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{a.style.transform="",P&&(P.height<window.innerHeight?requestAnimationFrame(()=>{F(a)}):P.addEventListener("resize",()=>F(a),{once:!0}))}))},c=null,i=()=>{if(c)return;let d=()=>{window.scrollTo(0,0)},a=window.pageXOffset,m=window.pageYOffset;c=D(E(window,"scroll",d),g(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),g(document.documentElement,"overflow","hidden"),g(document.body,"marginTop",`-${m}px`),()=>{window.scrollTo(a,m)}),window.scrollTo(0,0)},s=D(E(document,"touchstart",n,{passive:!1,capture:!0}),E(document,"touchmove",r,{passive:!1,capture:!0}),E(document,"touchend",o,{passive:!1,capture:!0}),E(document,"focus",l,!0));return()=>{t==null||t(),c==null||c(),s()}}function g(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function E(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function F(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=H(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top;o>r+e.clientHeight&&(n.scrollTop+=o-r)}e=n.parentElement}}function A(e){return e instanceof HTMLInputElement&&!at.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var U={};U={dismiss:"تجاهل"};var j={};j={dismiss:"Отхвърляне"};var V={};V={dismiss:"Odstranit"};var z={};z={dismiss:"Luk"};var Y={};Y={dismiss:"Schließen"};var G={};G={dismiss:"Απόρριψη"};var J={};J={dismiss:"Dismiss"};var Z={};Z={dismiss:"Descartar"};var X={};X={dismiss:"Lõpeta"};var Q={};Q={dismiss:"Hylkää"};var ee={};ee={dismiss:"Rejeter"};var te={};te={dismiss:"התעלם"};var re={};re={dismiss:"Odbaci"};var ne={};ne={dismiss:"Elutasítás"};var oe={};oe={dismiss:"Ignora"};var ae={};ae={dismiss:"閉じる"};var se={};se={dismiss:"무시"};var ie={};ie={dismiss:"Atmesti"};var le={};le={dismiss:"Nerādīt"};var de={};de={dismiss:"Lukk"};var ce={};ce={dismiss:"Negeren"};var ue={};ue={dismiss:"Zignoruj"};var fe={};fe={dismiss:"Descartar"};var pe={};pe={dismiss:"Dispensar"};var $e={};$e={dismiss:"Revocare"};var me={};me={dismiss:"Пропустить"};var be={};be={dismiss:"Zrušiť"};var ve={};ve={dismiss:"Opusti"};var xe={};xe={dismiss:"Odbaci"};var ge={};ge={dismiss:"Avvisa"};var Ee={};Ee={dismiss:"Kapat"};var ye={};ye={dismiss:"Скасувати"};var he={};he={dismiss:"取消"};var Ce={};Ce={dismiss:"關閉"};var we={};we={"ar-AE":U,"bg-BG":j,"cs-CZ":V,"da-DK":z,"de-DE":Y,"el-GR":G,"en-US":J,"es-ES":Z,"et-EE":X,"fi-FI":Q,"fr-FR":ee,"he-IL":te,"hr-HR":re,"hu-HU":ne,"it-IT":oe,"ja-JP":ae,"ko-KR":se,"lt-LT":ie,"lv-LV":le,"nb-NO":de,"nl-NL":ce,"pl-PL":ue,"pt-BR":fe,"pt-PT":pe,"ro-RO":$e,"ru-RU":me,"sk-SK":be,"sl-SI":ve,"sr-SP":xe,"sv-SE":ge,"tr-TR":Ee,"uk-UA":ye,"zh-CN":he,"zh-TW":Ce};function dt(e){return e&&e.__esModule?e.default:e}function M(e){let{onDismiss:t,...n}=e,r=Je(dt(we),"@react-aria/overlays"),o=Ge(n,r.format("dismiss")),l=()=>{t&&t()};return f.createElement(Ze,null,f.createElement("button",{...o,tabIndex:-1,onClick:l,style:{width:1,height:1}}))}let y=new WeakMap,v=[];function ct(e,t=document.body){let n=new Set(e),r=new Set,o=s=>{for(let $ of s.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add($);let d=$=>{if(n.has($)||r.has($.parentElement)&&$.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let b of n)if($.contains(b))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},a=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),m=d(s);if(m===NodeFilter.FILTER_ACCEPT&&l(s),m!==NodeFilter.FILTER_REJECT){let $=a.nextNode();for(;$!=null;)l($),$=a.nextNode()}},l=s=>{var d;let a=(d=y.get(s))!==null&&d!==void 0?d:0;s.getAttribute("aria-hidden")==="true"&&a===0||(a===0&&s.setAttribute("aria-hidden","true"),r.add(s),y.set(s,a+1))};v.length&&v[v.length-1].disconnect(),o(t);let c=new MutationObserver(s=>{for(let d of s)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...n,...r].some(a=>a.contains(d.target))){for(let a of d.removedNodes)a instanceof Element&&(n.delete(a),r.delete(a));for(let a of d.addedNodes)(a instanceof HTMLElement||a instanceof SVGElement)&&(a.dataset.liveAnnouncer==="true"||a.dataset.reactAriaTopLayer==="true")?n.add(a):a instanceof Element&&o(a)}});c.observe(t,{childList:!0,subtree:!0});let i={observe(){c.observe(t,{childList:!0,subtree:!0})},disconnect(){c.disconnect()}};return v.push(i),()=>{c.disconnect();for(let s of r){let d=y.get(s);d===1?(s.removeAttribute("aria-hidden"),y.delete(s)):y.set(s,d-1)}i===v[v.length-1]?(v.pop(),v.length&&v[v.length-1].observe()):v.splice(v.indexOf(i),1)}}function ut(e,t){let{triggerRef:n,popoverRef:r,isNonModal:o,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:c,...i}=e,{overlayProps:s,underlayProps:d}=nt({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:l,shouldCloseOnInteractOutside:c},r),{overlayProps:a,arrowProps:m,placement:$}=Be({...i,targetRef:n,overlayRef:r,isOpen:t.isOpen,onClose:o?t.close:null});return st({isDisabled:o||!t.isOpen}),w(()=>{if(t.isOpen&&!o&&r.current)return ct([r.current])},[o,t.isOpen,r]),{popoverProps:R(s,a),arrowProps:m,underlayProps:d,placement:$}}const ft=p.createContext({});function pt(){var e;return(e=p.useContext(ft))!==null&&e!==void 0?e:{}}const Pe=f.createContext(null);function $t(e){let t=_e(),{portalContainer:n=t?null:document.body,isExiting:r}=e,[o,l]=p.useState(!1),c=p.useMemo(()=>({contain:o,setContain:l}),[o,l]),{getContainer:i}=pt();if(!e.portalContainer&&i&&(n=i()),!n)return null;let s=e.children;return e.disableFocusManagement||(s=f.createElement(Ve,{restoreFocus:!0,contain:o&&!r},s)),s=f.createElement(Pe.Provider,{value:c},f.createElement(tt,null,s)),ze.createPortal(s,n)}function mt(){let e=p.useContext(Pe),t=e==null?void 0:e.setContain;w(()=>{t==null||t(!0)},[t])}function bt(e,t){let{role:n="dialog"}=e,r=We();r=e["aria-label"]?void 0:r;let o=p.useRef(!1);return p.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){N(t.current);let l=setTimeout(()=>{document.activeElement===t.current&&(o.current=!0,t.current&&(t.current.blur(),N(t.current)),o.current=!1)},500);return()=>{clearTimeout(l)}}},[t]),mt(),{dialogProps:{...L(e,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||r,onBlur:l=>{o.current&&l.stopPropagation()}},titleProps:{id:r}}}const Oe=p.createContext(null);function vt(e,t){[e,t]=B(e,t,Oe);let n=p.useContext(S),r=_(e),o=e.isOpen!=null||e.defaultOpen!=null||!n?r:n,l=Se(t,o.isOpen)||e.isExiting||!1;if(Ye()){let i=e.children;return typeof i=="function"&&(i=i({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),f.createElement(f.Fragment,null,i)}return o&&!o.isOpen&&!l?null:f.createElement(xt,{...e,triggerRef:e.triggerRef,state:o,popoverRef:t,isExiting:l})}const kt=p.forwardRef(vt);function xt({state:e,isExiting:t,UNSTABLE_portalContainer:n,...r}){let o=p.useRef(null),[l,c]=p.useState(0);w(()=>{o.current&&e.isOpen&&c(o.current.getBoundingClientRect().width)},[e.isOpen,o]);var i;let{popoverProps:s,underlayProps:d,arrowProps:a,placement:m}=ut({...r,offset:(i=r.offset)!==null&&i!==void 0?i:8,arrowSize:l},e),$=r.popoverRef,b=Ie($,!!m)||r.isEntering||!1,u=Ne({...r,defaultClassName:"react-aria-Popover",values:{trigger:r.trigger||null,placement:m,isEntering:b,isExiting:t}}),Re={...s.style,...u.style};return f.createElement($t,{isExiting:t,portalContainer:n},!r.isNonModal&&e.isOpen&&f.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),f.createElement("div",{...R(L(r),s),...u,ref:$,slot:r.slot||void 0,style:Re,"data-trigger":r.trigger,"data-placement":m,"data-entering":b||void 0,"data-exiting":t||void 0},!r.isNonModal&&f.createElement(M,{onDismiss:e.close}),f.createElement(ke.Provider,{value:{...a,placement:m,ref:o}},u.children),f.createElement(M,{onDismiss:e.close})))}const De=p.createContext(null),S=p.createContext(null);function _t(e){let t=_(e),n=p.useRef(null),{triggerProps:r,overlayProps:o}=ot({type:"dialog"},t,n);return r.id=W(),o["aria-labelledby"]=r.id,f.createElement(k,{values:[[S,t],[De,o],[Oe,{trigger:"DialogTrigger",triggerRef:n}]]},f.createElement(et,{...r,ref:n,isPressed:t.isOpen},e.children))}function gt(e,t){let n=e["aria-labelledby"];[e,t]=B(e,t,De);let{dialogProps:r,titleProps:o}=bt({...e,"aria-labelledby":n},t),l=p.useContext(S),c=e.children;typeof c=="function"&&(c=c({close:(l==null?void 0:l.close)||(()=>{})})),!r["aria-label"]&&!r["aria-labelledby"]&&(e["aria-labelledby"]?r["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));var i;return f.createElement("section",{...L(e),...r,ref:t,slot:e.slot||void 0,style:e.style,className:(i=e.className)!==null&&i!==void 0?i:"react-aria-Dialog"},f.createElement(k,{values:[[Ae,{slots:{[Fe]:{},title:{...o,level:2}}}]]},c))}const Wt=p.forwardRef(gt),Ht=(e,t={})=>{const{reuseControllerFromContext:n=!0,isDefaultOpen:r,onOpen:o,onClose:l}=t,c=q.useNew({isDefaultOpen:r,onOpen:o,onClose:l}),i=K()[e],s=n&&i?i:c;return p.useEffect(()=>{const d=[];return o&&d.push(s.addOnOpen(o)),l&&d.push(s.addOnClose(l)),()=>{d.forEach(a=>a())}},[o,l]),s},Te=e=>{const{type:t,controller:n,children:r}=e,o=K();return f.createElement(Xe.Provider,{value:{...o,[t]:n}},r)};Te.__docgenInfo={description:"",methods:[],displayName:"OverlayContextProvider",props:{type:{required:!0,tsType:{name:"FlowComponentPropsTypes"},description:""},controller:{required:!0,tsType:{name:"OverlayController"},description:""}},composes:["PropsWithChildren"]};const Et=e=>{const{overlayType:t,isDefaultOpen:n=!1,component:r,children:o,controller:l}=e,c=q.useNew({isDefaultOpen:n}),i=l??c,s=i.useIsOpen(),d={Button:{onPress:i.open}};return f.createElement(Te,{type:t,controller:i},f.createElement(Qe,{props:d,mergeInParentContext:!0},f.createElement(r,{isOpen:s},o)))};Et.__docgenInfo={description:"",methods:[],displayName:"OverlayTrigger",props:{tunnelId:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"@internal"},wrapWith:{required:!1,tsType:{name:"ReactElement"},description:""},isDefaultOpen:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},controller:{required:!1,tsType:{name:"OverlayController"},description:""},overlayType:{required:!0,tsType:{name:"FlowComponentPropsTypes"},description:""},component:{required:!0,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  isOpen?: boolean;
  children: ReactNode;
}`,signature:{properties:[{key:"isOpen",value:{name:"boolean",required:!1}},{key:"children",value:{name:"ReactNode",required:!0}}]}}],raw:`ComponentType<{
  isOpen?: boolean;
  children: ReactNode;
}>`},description:""}}};export{_t as $,Et as O,kt as a,Te as b,Wt as c,nt as d,st as e,mt as f,ct as g,S as h,$t as i,M as j,Oe as k,et as l,rt as m,ot as n,De as o,Ht as u};
