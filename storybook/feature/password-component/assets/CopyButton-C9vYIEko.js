import{R as s}from"./index-BwDkhjyp.js";import{g as d}from"./_commonjsHelpers-BosuxZz1.js";import{B as y}from"./Button-35pCrNCZ.js";import"./IconApp-Rpgm6RsJ.js";import{g}from"./IconWarning-B2iaes-f.js";import{a as b,T as C}from"./TooltipTrigger-Zrh4Lr9K.js";import{o as v}from"./react-children-utilities-CseWD4BL.js";import{C as w}from"./PropsContextProvider-DwTel3aB.js";import{f as E}from"./flowComponent-AS0Hu7py.js";import{A as D}from"./Action-Dz1KgLbV.js";import{$ as x}from"./useLocalizedStringFormatter-CbSA8sNn.js";var h=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,a=[],n=0;n<t.rangeCount;n++)a.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||a.forEach(function(i){t.addRange(i)}),e&&e.focus()}},R=h,u={"text/plain":"Text","text/html":"Url",default:"Text"},T="Copy to clipboard: #{key}, Enter";function A(t){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function k(t,e){var a,n,i,l,c,o,p=!1;e||(e={}),a=e.debug||!1;try{i=R(),l=document.createRange(),c=document.getSelection(),o=document.createElement("span"),o.textContent=t,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(r){if(r.stopPropagation(),e.format)if(r.preventDefault(),typeof r.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var m=u[e.format]||u.default;window.clipboardData.setData(m,t)}else r.clipboardData.clearData(),r.clipboardData.setData(e.format,t);e.onCopy&&(r.preventDefault(),e.onCopy(r.clipboardData))}),document.body.appendChild(o),l.selectNodeContents(o),c.addRange(l);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");p=!0}catch(r){a&&console.error("unable to copy using execCommand: ",r),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),p=!0}catch(m){a&&console.error("unable to copy using clipboardData: ",m),a&&console.error("falling back to prompt"),n=A("message"in e?e.message:T),window.prompt(n,t)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(l):c.removeAllRanges()),o&&document.body.removeChild(o),i()}return p}var B=k;const S=d(B),I={"de-DE":{"copyButton.copy":"Kopieren"},"en-EN":{"copyButton.copy":"Copy"}},P=E("CopyButton",t=>{const{text:e,refProp:a,...n}=t,l=x(I).format("copyButton.copy"),c=()=>{S(v(e))};return s.createElement(w,null,s.createElement(b,null,s.createElement(D,{action:c,showFeedback:!0},s.createElement(y,{"aria-label":l,...n,ref:a},s.createElement(g,null))),s.createElement(C,null,l)))});P.__docgenInfo={description:"",methods:[],displayName:"CopyButton"};export{P as C};
