import{$ as q,b as O,c as E,a as C,e as k,g as L,f as N,d as _}from"./utils-BFFU14Eb.js";import{$ as T,a as W}from"./FieldError-esCwSIkI.js";import{a as A,$ as G,c as H}from"./Form-zKDPw3tU.js";import{$ as K}from"./Label-6hm79Lf2.js";import{a as j}from"./Text-CpSy2HXY.js";import{a as x,d as U}from"./index-j_f0pOtZ.js";import{$ as B}from"./filterDOMProps-CeZl_uWj.js";import{r as h,R as I}from"./index-Cs7sjTYM.js";import{$ as z}from"./useControlledState-B7K2eYzO.js";import{$ as J}from"./FocusScope-DxaEUeh1.js";import{$ as Q,b as X,a as Y}from"./useFocusRing-CqFdZJbR.js";import{a as Z}from"./useLocalizedStringFormatter-TZkCr3Qr.js";import{$ as ee}from"./useFormReset-BmVKDtZT.js";import{$ as ae}from"./useFocusable-Dv7TsfPg.js";import{$ as M}from"./usePress-Dcn7RY69.js";import{$ as ie}from"./VisuallyHidden-BOk7_Rfy.js";const S=new WeakMap;function de(e,a,t){let{value:d,children:l,"aria-label":f,"aria-labelledby":i}=e;const r=e.isDisabled||a.isDisabled;let u=l!=null,o=f!=null||i!=null;!u&&!o&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let n=a.selectedValue===d,v=F=>{F.stopPropagation(),a.setSelectedValue(d)},{pressProps:p,isPressed:P}=M({isDisabled:r}),{pressProps:b,isPressed:R}=M({isDisabled:r,onPress(){a.setSelectedValue(d)}}),{focusableProps:y}=ae(x(e,{onFocus:()=>a.setLastFocusedValue(d)}),t),V=x(p,y),g=B(e,{labelable:!0}),D=-1;a.selectedValue!=null?a.selectedValue===d&&(D=0):(a.lastFocusedValue===d||a.lastFocusedValue==null)&&(D=0),r&&(D=void 0);let{name:$,descriptionId:s,errorMessageId:m,validationBehavior:c}=S.get(a);return ee(t,a.selectedValue,a.setSelectedValue),A({validationBehavior:c},a,t),{labelProps:x(b,{onClick:F=>F.preventDefault()}),inputProps:x(g,{...V,type:"radio",name:$,tabIndex:D,disabled:r,required:a.isRequired&&c==="native",checked:n,value:d,onChange:v,"aria-describedby":[e["aria-describedby"],a.isInvalid?m:null,s].filter(Boolean).join(" ")||void 0}),isDisabled:r,isSelected:n,isPressed:P||R}}function le(e,a){let{name:t,isReadOnly:d,isRequired:l,isDisabled:f,orientation:i="vertical",validationBehavior:r="aria"}=e,{direction:u}=Z(),{isInvalid:o,validationErrors:n,validationDetails:v}=a.displayValidation,{labelProps:p,fieldProps:P,descriptionProps:b,errorMessageProps:R}=G({...e,labelElementType:"span",isInvalid:a.isInvalid,errorMessage:e.errorMessage||n}),y=B(e,{labelable:!0}),{focusWithinProps:V}=Q({onBlurWithin($){var s;(s=e.onBlur)===null||s===void 0||s.call(e,$),a.selectedValue||a.setLastFocusedValue(null)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),g=$=>{let s;switch($.key){case"ArrowRight":u==="rtl"&&i!=="vertical"?s="prev":s="next";break;case"ArrowLeft":u==="rtl"&&i!=="vertical"?s="next":s="prev";break;case"ArrowDown":s="next";break;case"ArrowUp":s="prev";break;default:return}$.preventDefault();let m=J($.currentTarget,{from:$.target}),c;s==="next"?(c=m.nextNode(),c||(m.currentNode=$.currentTarget,c=m.firstChild())):(c=m.previousNode(),c||(m.currentNode=$.currentTarget,c=m.lastChild())),c&&(c.focus(),a.setSelectedValue(c.value))},D=U(t);return S.set(a,{name:D,descriptionId:b.id,errorMessageId:R.id,validationBehavior:r}),{radioGroupProps:x(y,{role:"radiogroup",onKeyDown:g,"aria-invalid":a.isInvalid||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":d||void 0,"aria-required":l||void 0,"aria-disabled":f||void 0,"aria-orientation":i,...P,...V}),labelProps:p,descriptionProps:b,errorMessageProps:R,isInvalid:o,validationErrors:n,validationDetails:v}}let re=Math.round(Math.random()*1e10),te=0;function se(e){let a=h.useMemo(()=>e.name||`radio-group-${re}-${++te}`,[e.name]);var t;let[d,l]=z(e.value,(t=e.defaultValue)!==null&&t!==void 0?t:null,e.onChange),[f,i]=h.useState(null),r=T({...e,value:d}),u=n=>{!e.isReadOnly&&!e.isDisabled&&(l(n),r.commitValidation())},o=r.displayValidation.isInvalid;return{...r,name:a,selectedValue:d,setSelectedValue:u,lastFocusedValue:f,setLastFocusedValue:i,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||(o?"invalid":null),isInvalid:o}}const oe=h.createContext(null),ne=h.createContext(null),w=h.createContext(null);function ce(e,a){[e,a]=q(e,a,oe);let{validationBehavior:t}=O(H)||{};var d,l;let f=(l=(d=e.validationBehavior)!==null&&d!==void 0?d:t)!==null&&l!==void 0?l:"native",i=se({...e,validationBehavior:f}),[r,u]=E(),{radioGroupProps:o,labelProps:n,descriptionProps:v,errorMessageProps:p,...P}=le({...e,label:u,validationBehavior:f},i),b=C({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return I.createElement("div",{...o,...b,ref:a,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},I.createElement(k,{values:[[w,i],[K,{...n,ref:r,elementType:"span"}],[j,{slots:{description:v,errorMessage:p}}],[W,P]]},b.children))}function fe(e,a){let{inputRef:t=null,...d}=e;[e,a]=q(d,a,ne);let l=I.useContext(w),f=L(N(t,e.inputRef!==void 0?e.inputRef:null)),{labelProps:i,inputProps:r,isSelected:u,isDisabled:o,isPressed:n}=de({..._(e),children:typeof e.children=="function"?!0:e.children},l,f),{isFocused:v,isFocusVisible:p,focusProps:P}=X(),b=o||l.isReadOnly,{hoverProps:R,isHovered:y}=Y({...e,isDisabled:b}),V=C({...e,defaultClassName:"react-aria-Radio",values:{isSelected:u,isPressed:n,isHovered:y,isFocused:v,isFocusVisible:p,isDisabled:o,isReadOnly:l.isReadOnly,isInvalid:l.isInvalid,isRequired:l.isRequired}}),g=B(e);return delete g.id,I.createElement("label",{...x(g,i,R,V),ref:a,"data-selected":u||void 0,"data-pressed":n||void 0,"data-hovered":y||void 0,"data-focused":v||void 0,"data-focus-visible":p||void 0,"data-disabled":o||void 0,"data-readonly":l.isReadOnly||void 0,"data-invalid":l.isInvalid||void 0,"data-required":l.isRequired||void 0},I.createElement(ie,{elementType:"span"},I.createElement("input",{...x(r,P),ref:f})),V.children)}const Be=h.forwardRef(ce),Me=h.forwardRef(fe);export{Be as $,Me as a};
