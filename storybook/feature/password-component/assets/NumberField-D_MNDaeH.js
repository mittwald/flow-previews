import{r as m,R as E}from"./index-Cs7sjTYM.js";import{f as K,F as Qa}from"./FormField.module-DHQpNdM-.js";import{c as et}from"./clsx-B-dksMZM.js";import{C as at,P as tt}from"./PropsContextProvider-58HgA8rU.js";import{B as pe}from"./Button-ETWxWgqR.js";import"./IconApp-COwJ0ZRR.js";import{I as rt,B as it,H as nt,a as lt}from"./IconWarning-CBdDJmJC.js";import{f as st}from"./flowComponent-BqZrLudx.js";import{a as ot}from"./Button-DB69cHYY.js";import{a as ut,c as dt,d as ct,e as mt,b as ft,f as bt}from"./utils-Ca6JWPXc.js";import{h as pt,a as $t,d as vt,e as xt}from"./Form-yihfkm38.js";import{a as ht,$ as yt}from"./Group-CctDJj_x.js";import{a as gt,b as Pt,$ as Et}from"./Input-DrqkB9m8.js";import{$ as Dt}from"./Label-D27JuWFB.js";import{$ as Nt}from"./Text-DkFxhH4d.js";import{$ as Pe}from"./filterDOMProps-CeZl_uWj.js";import{$ as Ee,a as Ft}from"./useLocalizedStringFormatter-QuGsJjbc.js";import{$ as Lt}from"./useControlledState-B7K2eYzO.js";import{a as w,$ as Q}from"./number-nHrFdSb-.js";import{a as re,$ as $e}from"./useNumberFormatter-CBYlUdKN.js";import{c as ie,b as H,a as ee,f as St}from"./index-C8LjR2Bd.js";import{w as Bt,$ as Ct,z as Vt,y as wt,q as It}from"./useFocusable-OJvPCLGe.js";import{$ as Mt}from"./useFormReset-DlrFI1sj.js";import{$ as Rt}from"./useEvent-Be9f7BQw.js";import{a as Tt,$ as kt}from"./LiveAnnouncer-CuNtP5Ew.js";import{d as At}from"./usePress-DiyYDbeg.js";function Ot(e,a){let{onScroll:t,isDisabled:r}=e,l=m.useCallback(n=>{n.ctrlKey||(n.preventDefault(),n.stopPropagation(),t&&t({deltaX:n.deltaX,deltaY:n.deltaY}))},[t]);Rt(a,"wheel",r?void 0:l)}const zt=new RegExp("^.*\\(.*\\).*$"),_t=["latn","arab","hanidec"];class De{parse(a){return ae(this.locale,this.options,a).parse(a)}isValidPartialNumber(a,t,r){return ae(this.locale,this.options,a).isValidPartialNumber(a,t,r)}getNumberingSystem(a){return ae(this.locale,this.options,a).options.numberingSystem}constructor(a,t={}){this.locale=a,this.options=t}}const ve=new Map;function ae(e,a,t){let r=xe(e,a);if(!e.includes("-nu-")&&!r.isValidPartialNumber(t)){for(let l of _t)if(l!==r.options.numberingSystem){let n=xe(e+(e.includes("-u-")?"-nu-":"-u-nu-")+l,a);if(n.isValidPartialNumber(t))return n}}return r}function xe(e,a){let t=e+(a?Object.entries(a).sort((l,n)=>l[0]<n[0]?-1:1).join():""),r=ve.get(t);return r||(r=new jt(e,a),ve.set(t,r)),r}class jt{parse(a){let t=this.sanitize(a);if(this.symbols.group&&(t=q(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=t.indexOf("-");t=t.replace("-","");let d=t.indexOf(".");d===-1&&(d=t.length),t=t.replace(".",""),d-2===0?t=`0.${t}`:d-2===-1?t=`0.0${t}`:d-2===-2?t="0.00":t=`${t.slice(0,d-2)}.${t.slice(d-2)}`,o>-1&&(t=`-${t}`)}let r=t?+t:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var l,n;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((l=this.options.minimumFractionDigits)!==null&&l!==void 0?l:0)+2,20),maximumFractionDigits:Math.min(((n=this.options.maximumFractionDigits)!==null&&n!==void 0?n:0)+2,20)};return new De(this.locale,o).parse(new re(this.locale,o).format(r))}return this.options.currencySign==="accounting"&&zt.test(a)&&(r=-1*r),r}sanitize(a){return a=a.replace(this.symbols.literals,""),this.symbols.minusSign&&(a=a.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(a=a.replace(",",this.symbols.decimal),a=a.replace("،",this.symbols.decimal)),this.symbols.group&&(a=q(a,".",this.symbols.group))),this.options.locale==="fr-FR"&&(a=q(a,"."," ")),a}isValidPartialNumber(a,t=-1/0,r=1/0){return a=this.sanitize(a),this.symbols.minusSign&&a.startsWith(this.symbols.minusSign)&&t<0?a=a.slice(this.symbols.minusSign.length):this.symbols.plusSign&&a.startsWith(this.symbols.plusSign)&&r>0&&(a=a.slice(this.symbols.plusSign.length)),this.symbols.group&&a.startsWith(this.symbols.group)||this.symbols.decimal&&a.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(a=q(a,this.symbols.group,"")),a=a.replace(this.symbols.numeral,""),this.symbols.decimal&&(a=a.replace(this.symbols.decimal,"")),a.length===0)}constructor(a,t={}){this.locale=a,this.formatter=new Intl.NumberFormat(a,t),this.options=this.formatter.resolvedOptions(),this.symbols=Ut(a,this.formatter,this.options,t);var r,l;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((l=this.options.maximumFractionDigits)!==null&&l!==void 0?l:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const he=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Kt=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Ut(e,a,t,r){var l,n,o,d;let b=new Intl.NumberFormat(e,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21}),$=b.formatToParts(-10000.111),h=b.formatToParts(10000.111),s=Kt.map(f=>b.formatToParts(f));var i;let c=(i=(l=$.find(f=>f.type==="minusSign"))===null||l===void 0?void 0:l.value)!==null&&i!==void 0?i:"-",v=(n=h.find(f=>f.type==="plusSign"))===null||n===void 0?void 0:n.value;!v&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(v="+");let D=(o=new Intl.NumberFormat(e,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(f=>f.type==="decimal"))===null||o===void 0?void 0:o.value,F=(d=$.find(f=>f.type==="group"))===null||d===void 0?void 0:d.value,L=$.filter(f=>!he.has(f.type)).map(f=>ye(f.value)),y=s.flatMap(f=>f.filter(u=>!he.has(u.type)).map(u=>ye(u.value))),g=[...new Set([...L,...y])].sort((f,u)=>u.length-f.length),x=g.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${g.join("|")}|[\\p{White_Space}]`,"gu"),C=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),B=new Map(C.map((f,u)=>[f,u])),I=new RegExp(`[${C.join("")}]`,"g");return{minusSign:c,plusSign:v,decimal:D,group:F,literals:x,numeral:I,index:f=>String(B.get(f))}}function q(e,a,t){return e.replaceAll?e.replaceAll(a,t):e.split(a).join(t)}function ye(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ge(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Wt(e,a,t){let r=ie(s=>{let i=t.current,c;switch(s.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":c=i.value.slice(0,i.selectionStart)+i.value.slice(i.selectionEnd);break;case"deleteContentForward":c=i.selectionEnd===i.selectionStart?i.value.slice(0,i.selectionStart)+i.value.slice(i.selectionEnd+1):i.value.slice(0,i.selectionStart)+i.value.slice(i.selectionEnd);break;case"deleteContentBackward":c=i.selectionEnd===i.selectionStart?i.value.slice(0,i.selectionStart-1)+i.value.slice(i.selectionStart):i.value.slice(0,i.selectionStart)+i.value.slice(i.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":c=i.value.slice(i.selectionStart);break;default:s.data!=null&&(c=i.value.slice(0,i.selectionStart)+s.data+i.value.slice(i.selectionEnd));break}(c==null||!a.validate(c))&&s.preventDefault()});m.useEffect(()=>{if(!ge())return;let s=t.current;return s.addEventListener("beforeinput",r,!1),()=>{s.removeEventListener("beforeinput",r,!1)}},[t,r]);let l=ge()?null:s=>{let i=s.target.value.slice(0,s.target.selectionStart)+s.data+s.target.value.slice(s.target.selectionEnd);a.validate(i)||s.preventDefault()},{labelProps:n,inputProps:o,descriptionProps:d,errorMessageProps:b,...$}=gt(e,t),h=m.useRef(null);return{inputProps:H(o,{onBeforeInput:l,onCompositionStart(){let{value:s,selectionStart:i,selectionEnd:c}=t.current;h.current={value:s,selectionStart:i,selectionEnd:c}},onCompositionEnd(){if(!a.validate(t.current.value)){let{value:s,selectionStart:i,selectionEnd:c}=h.current;t.current.value=s,t.current.setSelectionRange(i,c),a.setInputValue(s)}}}),labelProps:n,descriptionProps:d,errorMessageProps:b,...$}}var Ne={};Ne={Empty:"فارغ"};var Fe={};Fe={Empty:"Изпразни"};var Le={};Le={Empty:"Prázdné"};var Se={};Se={Empty:"Tom"};var Be={};Be={Empty:"Leer"};var Ce={};Ce={Empty:"Άδειο"};var Ve={};Ve={Empty:"Empty"};var we={};we={Empty:"Vacío"};var Ie={};Ie={Empty:"Tühjenda"};var Me={};Me={Empty:"Tyhjä"};var Re={};Re={Empty:"Vide"};var Te={};Te={Empty:"ריק"};var ke={};ke={Empty:"Prazno"};var Ae={};Ae={Empty:"Üres"};var Oe={};Oe={Empty:"Vuoto"};var ze={};ze={Empty:"空"};var _e={};_e={Empty:"비어 있음"};var je={};je={Empty:"Tuščias"};var Ke={};Ke={Empty:"Tukšs"};var Ue={};Ue={Empty:"Tom"};var We={};We={Empty:"Leeg"};var Ge={};Ge={Empty:"Pusty"};var qe={};qe={Empty:"Vazio"};var He={};He={Empty:"Vazio"};var Ze={};Ze={Empty:"Gol"};var Ye={};Ye={Empty:"Не заполнено"};var Xe={};Xe={Empty:"Prázdne"};var Je={};Je={Empty:"Prazen"};var Qe={};Qe={Empty:"Prazno"};var ea={};ea={Empty:"Tomt"};var aa={};aa={Empty:"Boş"};var ta={};ta={Empty:"Пусто"};var ra={};ra={Empty:"空"};var ia={};ia={Empty:"空白"};var na={};na={"ar-AE":Ne,"bg-BG":Fe,"cs-CZ":Le,"da-DK":Se,"de-DE":Be,"el-GR":Ce,"en-US":Ve,"es-ES":we,"et-EE":Ie,"fi-FI":Me,"fr-FR":Re,"he-IL":Te,"hr-HR":ke,"hu-HU":Ae,"it-IT":Oe,"ja-JP":ze,"ko-KR":_e,"lt-LT":je,"lv-LV":Ke,"nb-NO":Ue,"nl-NL":We,"pl-PL":Ge,"pt-BR":qe,"pt-PT":He,"ro-RO":Ze,"ru-RU":Ye,"sk-SK":Xe,"sl-SI":Je,"sr-SP":Qe,"sv-SE":ea,"tr-TR":aa,"uk-UA":ta,"zh-CN":ra,"zh-TW":ia};function Gt(e){return e&&e.__esModule?e.default:e}function qt(e){const a=m.useRef();let{value:t,textValue:r,minValue:l,maxValue:n,isDisabled:o,isReadOnly:d,isRequired:b,onIncrement:$,onIncrementPage:h,onDecrement:s,onDecrementPage:i,onDecrementToMin:c,onIncrementToMax:v}=e;const N=Ee(Gt(na),"@react-aria/spinbutton"),D=()=>clearTimeout(a.current);m.useEffect(()=>()=>D(),[]);let F=u=>{if(!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey||d))switch(u.key){case"PageUp":if(h){u.preventDefault(),h==null||h();break}case"ArrowUp":case"Up":$&&(u.preventDefault(),$==null||$());break;case"PageDown":if(i){u.preventDefault(),i==null||i();break}case"ArrowDown":case"Down":s&&(u.preventDefault(),s==null||s());break;case"Home":c&&(u.preventDefault(),c==null||c());break;case"End":v&&(u.preventDefault(),v==null||v());break}},L=m.useRef(!1),y=()=>{L.current=!0},g=()=>{L.current=!1},x=r===""?N.format("Empty"):(r||`${t}`).replace("-","−");m.useEffect(()=>{L.current&&(Tt("assertive"),kt(x,"assertive"))},[x]);const C=ie(u=>{D(),$==null||$(),a.current=window.setTimeout(()=>{(n===void 0||isNaN(n)||t===void 0||isNaN(t)||t<n)&&C(60)},u)}),B=ie(u=>{D(),s==null||s(),a.current=window.setTimeout(()=>{(l===void 0||isNaN(l)||t===void 0||isNaN(t)||t>l)&&B(60)},u)});let I=u=>{u.preventDefault()},{addGlobalListener:V,removeAllGlobalListeners:f}=At();return{spinButtonProps:{role:"spinbutton","aria-valuenow":t!==void 0&&!isNaN(t)?t:void 0,"aria-valuetext":x,"aria-valuemin":l,"aria-valuemax":n,"aria-disabled":o||void 0,"aria-readonly":d||void 0,"aria-required":b||void 0,onKeyDown:F,onFocus:y,onBlur:g},incrementButtonProps:{onPressStart:()=>{C(400),V(window,"contextmenu",I)},onPressEnd:()=>{D(),f()},onFocus:y,onBlur:g},decrementButtonProps:{onPressStart:()=>{B(400),V(window,"contextmenu",I)},onPressEnd:()=>{D(),f()},onFocus:y,onBlur:g}}}var la={};la={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var sa={};sa={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var oa={};oa={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var ua={};ua={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var da={};da={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var ca={};ca={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var ma={};ma={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var fa={};fa={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var ba={};ba={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var pa={};pa={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var $a={};$a={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var va={};va={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var xa={};xa={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var ha={};ha={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var ya={};ya={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var ga={};ga={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Pa={};Pa={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var Ea={};Ea={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var Da={};Da={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Na={};Na={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Fa={};Fa={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var La={};La={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Sa={};Sa={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ba={};Ba={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var Ca={};Ca={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var Va={};Va={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var wa={};wa={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var Ia={};Ia={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var Ma={};Ma={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ra={};Ra={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ta={};Ta={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var ka={};ka={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var Aa={};Aa={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Oa={};Oa={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var za={};za={"ar-AE":la,"bg-BG":sa,"cs-CZ":oa,"da-DK":ua,"de-DE":da,"el-GR":ca,"en-US":ma,"es-ES":fa,"et-EE":ba,"fi-FI":pa,"fr-FR":$a,"he-IL":va,"hr-HR":xa,"hu-HU":ha,"it-IT":ya,"ja-JP":ga,"ko-KR":Pa,"lt-LT":Ea,"lv-LV":Da,"nb-NO":Na,"nl-NL":Fa,"pl-PL":La,"pt-BR":Sa,"pt-PT":Ba,"ro-RO":Ca,"ru-RU":Va,"sk-SK":wa,"sl-SI":Ia,"sr-SP":Ma,"sv-SE":Ra,"tr-TR":Ta,"uk-UA":ka,"zh-CN":Aa,"zh-TW":Oa};function Ht(e){return e&&e.__esModule?e.default:e}function Zt(e,a,t){let{id:r,decrementAriaLabel:l,incrementAriaLabel:n,isDisabled:o,isReadOnly:d,isRequired:b,minValue:$,maxValue:h,autoFocus:s,label:i,formatOptions:c,onBlur:v=()=>{},onFocus:N,onFocusChange:D,onKeyDown:F,onKeyUp:L,description:y,errorMessage:g,isWheelDisabled:x,...C}=e,{increment:B,incrementToMax:I,decrement:V,decrementToMin:f,numberValue:u,inputValue:P,commit:A,commitValidation:O}=a;const z=Ee(Ht(za),"@react-aria/numberfield");let _=ee(r),{focusProps:Z}=Bt({onBlur(){A()}}),U=$e(c),Y=m.useMemo(()=>U.resolvedOptions(),[U]),W=$e({...c,currencySign:void 0}),ne=m.useMemo(()=>isNaN(u)?"":W.format(u),[W,u]),{spinButtonProps:p,incrementButtonProps:G,decrementButtonProps:M}=qt({isDisabled:o,isReadOnly:d,isRequired:b,maxValue:h,minValue:$,onIncrement:B,onIncrementToMax:I,onDecrement:V,onDecrementToMin:f,value:u,textValue:ne}),[R,_a]=m.useState(!1),{focusWithinProps:ja}=Ct({isDisabled:o,onFocusWithinChange:_a}),Ka=m.useCallback(S=>{Math.abs(S.deltaY)<=Math.abs(S.deltaX)||(S.deltaY>0?B():S.deltaY<0&&V())},[V,B]);Ot({onScroll:Ka,isDisabled:x||o||d||!R},t);let le=Y.maximumFractionDigits>0,se=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,j="numeric";Vt()?se?j="text":le&&(j="decimal"):wt()&&(se?j="numeric":le&&(j="decimal"));let Ua=S=>{a.validate(S)&&a.setInputValue(S)},Wa=Pe(e),oe=m.useCallback(S=>{S.key==="Enter"?(A(),O()):S.continuePropagation()},[A,O]),{isInvalid:ue,validationErrors:Ga,validationDetails:qa}=a.displayValidation,{labelProps:de,inputProps:Ha,descriptionProps:Za,errorMessageProps:Ya}=Wt({...C,...Wa,name:void 0,label:i,autoFocus:s,isDisabled:o,isReadOnly:d,isRequired:b,validate:void 0,[pt]:a,value:P,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:_,type:"text",inputMode:j,onChange:Ua,onBlur:v,onFocus:N,onFocusChange:D,onKeyDown:m.useMemo(()=>St(oe,F),[oe,F]),onKeyUp:L,description:y,errorMessage:g},a,t);Mt(t,a.numberValue,a.setNumberValue);let ce=H(p,Z,Ha,{role:null,"aria-roledescription":It()?null:z.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(ce["aria-required"]=void 0);let me=S=>{var J;document.activeElement!==t.current&&(S.pointerType==="mouse"?(J=t.current)===null||J===void 0||J.focus():S.target.focus())},X=e["aria-label"]||(typeof e.label=="string"?e.label:""),T;X||(T=e.label!=null?de.id:e["aria-labelledby"]);let fe=ee(),be=ee(),Xa=H(G,{"aria-label":n||z.format("increase",{fieldLabel:X}).trim(),id:T&&!n?fe:null,"aria-labelledby":T&&!n?`${fe} ${T}`:null,"aria-controls":_,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:me}),Ja=H(M,{"aria-label":l||z.format("decrease",{fieldLabel:X}).trim(),id:T&&!l?be:null,"aria-labelledby":T&&!l?`${be} ${T}`:null,"aria-controls":_,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:me});return{groupProps:{...ja,role:"group","aria-disabled":o,"aria-invalid":ue?"true":void 0},labelProps:de,inputProps:ce,incrementButtonProps:Xa,decrementButtonProps:Ja,errorMessageProps:Ya,descriptionProps:Za,isInvalid:ue,validationErrors:Ga,validationDetails:qa}}function Yt(e){let{minValue:a,maxValue:t,step:r,formatOptions:l,value:n,defaultValue:o=NaN,onChange:d,locale:b,isDisabled:$,isReadOnly:h}=e;n===null&&(n=NaN),n!==void 0&&!isNaN(n)&&(r!==void 0&&!isNaN(r)?n=w(n,a,t,r):n=Q(n,a,t)),isNaN(o)||(r!==void 0&&!isNaN(r)?o=w(o,a,t,r):o=Q(o,a,t));let[s,i]=Lt(n,isNaN(o)?NaN:o,d),[c,v]=m.useState(()=>isNaN(s)?"":new re(b,l).format(s)),N=m.useMemo(()=>new De(b,l),[b,l]),D=m.useMemo(()=>N.getNumberingSystem(c),[N,c]),F=m.useMemo(()=>new re(b,{...l,numberingSystem:D}),[b,l,D]),L=m.useMemo(()=>F.resolvedOptions(),[F]),y=m.useCallback(p=>isNaN(p)||p===null?"":F.format(p),[F]),g=$t({...e,value:s}),x=r!==void 0&&!isNaN(r)?r:1;L.style==="percent"&&(r===void 0||isNaN(r))&&(x=.01);let[C,B]=m.useState(s),[I,V]=m.useState(b),[f,u]=m.useState(l);(!Object.is(s,C)||b!==I||l!==f)&&(v(y(s)),B(s),V(b),u(l));let P=m.useMemo(()=>N.parse(c),[N,c]),A=()=>{if(!c.length){i(NaN),v(n===void 0?"":y(s));return}if(isNaN(P)){v(y(s));return}let p;r===void 0||isNaN(r)?p=Q(P,a,t):p=w(P,a,t,r),p=N.parse(y(p)),i(p),v(y(n===void 0?p:s))},O=(p,G=0)=>{let M=P;if(isNaN(M)){let R=isNaN(G)?0:G;return w(R,a,t,x)}else{let R=w(M,a,t,x);return p==="+"&&R>M||p==="-"&&R<M?R:w(te(p,M,x),a,t,x)}},z=()=>{let p=O("+",a);p===s&&v(y(p)),i(p),g.commitValidation()},_=()=>{let p=O("-",t);p===s&&v(y(p)),i(p),g.commitValidation()},Z=()=>{t!=null&&(i(w(t,a,t,x)),g.commitValidation())},U=()=>{a!=null&&(i(a),g.commitValidation())},Y=m.useMemo(()=>!$&&!h&&(isNaN(P)||t===void 0||isNaN(t)||w(P,a,t,x)>P||te("+",P,x)<=t),[$,h,a,t,x,P]),W=m.useMemo(()=>!$&&!h&&(isNaN(P)||a===void 0||isNaN(a)||w(P,a,t,x)<P||te("-",P,x)>=a),[$,h,a,t,x,P]);return{...g,validate:p=>N.isValidPartialNumber(p,a,t),increment:z,incrementToMax:Z,decrement:_,decrementToMin:U,canIncrement:Y,canDecrement:W,minValue:a,maxValue:t,numberValue:P,setNumberValue:i,setInputValue:v,inputValue:c,commit:A}}function te(e,a,t){let r=e==="+"?a+t:a-t;if(a%1!==0||t%1!==0){const l=a.toString().split("."),n=t.toString().split("."),o=l[1]&&l[1].length||0,d=n[1]&&n[1].length||0,b=Math.pow(10,Math.max(o,d));a=Math.round(a*b),t=Math.round(t*b),r=e==="+"?a+t:a-t,r/=b}return r}const Xt=m.createContext(null),Jt=m.createContext(null);function Qt(e,a){[e,a]=ut(e,a,Xt);let{validationBehavior:t}=dt(vt)||{};var r,l;let n=(l=(r=e.validationBehavior)!==null&&r!==void 0?r:t)!==null&&l!==void 0?l:"native",{locale:o}=Ft(),d=Yt({...e,locale:o,validationBehavior:n}),b=m.useRef(null),[$,h]=ct(),{labelProps:s,groupProps:i,inputProps:c,incrementButtonProps:v,decrementButtonProps:N,descriptionProps:D,errorMessageProps:F,...L}=Zt({...mt(e),label:h,validationBehavior:n},d,b),y=ft({...e,values:{state:d,isDisabled:e.isDisabled||!1,isInvalid:L.isInvalid||!1},defaultClassName:"react-aria-NumberField"}),g=Pe(e);return delete g.id,E.createElement(bt,{values:[[Jt,d],[ht,i],[Pt,{...c,ref:b}],[Dt,{...s,ref:$}],[ot,{slots:{increment:v,decrement:N}}],[Nt,{slots:{description:D,errorMessage:F}}],[xt,L]]},E.createElement("div",{...g,...y,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":L.isInvalid||void 0}),e.name&&E.createElement("input",{type:"hidden",name:e.name,value:isNaN(d.numberValue)?"":d.numberValue}))}const er=m.forwardRef(Qt),ar="flow--number-field--group",tr="flow--number-field--input",rr="flow--number-field--decrement-button",ir="flow--number-field--increment-button",nr="flow--number-field--coarse-pointer-icon",lr="flow--number-field--touch-icon",k={group:ar,input:tr,decrementButton:rr,incrementButton:ir,coarsePointerIcon:nr,touchIcon:lr},sr=st("NumberField",e=>{const{children:a,className:t,refProp:r,...l}=e,n=et(K.formField,t),o={Label:{className:K.label,optional:!e.isRequired},FieldDescription:{className:K.fieldDescription},FieldError:{className:K.customFieldError}};return E.createElement(at,null,E.createElement(er,{...l,className:n},E.createElement(yt,{className:k.group},E.createElement(pe,{slot:"decrement",className:k.decrementButton,size:"s",variant:"plain",color:"secondary"},E.createElement(rt,null),E.createElement(it,{className:k.coarsePointerIcon})),E.createElement(Et,{className:k.input,ref:r}),E.createElement(pe,{slot:"increment",className:k.incrementButton,size:"s",variant:"plain",color:"secondary"},E.createElement(nt,null),E.createElement(lt,{className:k.coarsePointerIcon}))),E.createElement(tt,{props:o},a),E.createElement(Qa,{className:K.fieldError})))});sr.__docgenInfo={description:"",methods:[],displayName:"NumberField"};export{sr as N};
