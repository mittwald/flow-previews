import{R as i}from"./index-B-o1Wr-g.js";import{g as d}from"./_commonjsHelpers-Cpj98o6Y.js";import{B as y}from"./Button-DozFbJ2r.js";import"./IconApp-Dzb5vMVI.js";import{n as g}from"./IconWarning-BzyYKcnD.js";import{T as b,a as C}from"./Tooltip-oLIJ2X47.js";import{o as v}from"./react-children-utilities-D14ImiYi.js";import{C as w}from"./PropsContextProvider-BHq6Fnml.js";import{f as E}from"./flowComponent-Cv5RgLo7.js";import{A as D}from"./Action-BDJO7KLT.js";import{$ as x}from"./useLocalizedStringFormatter-BQr1rA-c.js";var h=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var e=document.activeElement,a=[],n=0;n<o.rangeCount;n++)a.push(o.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return o.removeAllRanges(),function(){o.type==="Caret"&&o.removeAllRanges(),o.rangeCount||a.forEach(function(l){o.addRange(l)}),e&&e.focus()}},R=h,u={"text/plain":"Text","text/html":"Url",default:"Text"},T="Copy to clipboard: #{key}, Enter";function A(o){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return o.replace(/#{\s*key\s*}/g,e)}function k(o,e){var a,n,l,s,c,t,p=!1;e||(e={}),a=e.debug||!1;try{l=R(),s=document.createRange(),c=document.getSelection(),t=document.createElement("span"),t.textContent=o,t.ariaHidden="true",t.style.all="unset",t.style.position="fixed",t.style.top=0,t.style.clip="rect(0, 0, 0, 0)",t.style.whiteSpace="pre",t.style.webkitUserSelect="text",t.style.MozUserSelect="text",t.style.msUserSelect="text",t.style.userSelect="text",t.addEventListener("copy",function(r){if(r.stopPropagation(),e.format)if(r.preventDefault(),typeof r.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var m=u[e.format]||u.default;window.clipboardData.setData(m,o)}else r.clipboardData.clearData(),r.clipboardData.setData(e.format,o);e.onCopy&&(r.preventDefault(),e.onCopy(r.clipboardData))}),document.body.appendChild(t),s.selectNodeContents(t),c.addRange(s);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");p=!0}catch(r){a&&console.error("unable to copy using execCommand: ",r),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",o),e.onCopy&&e.onCopy(window.clipboardData),p=!0}catch(m){a&&console.error("unable to copy using clipboardData: ",m),a&&console.error("falling back to prompt"),n=A("message"in e?e.message:T),window.prompt(n,o)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(s):c.removeAllRanges()),t&&document.body.removeChild(t),l()}return p}var B=k;const S=d(B),I={"de-DE":{"copyButton.copy":"Kopieren"},"en-EN":{"copyButton.copy":"Copy"}},P=E("CopyButton",o=>{const{text:e,refProp:a,variant:n="plain",color:l="secondary",...s}=o,t=x(I).format("copyButton.copy"),p=()=>{S(v(e))};return i.createElement(w,null,i.createElement(b,null,i.createElement(D,{action:p,showFeedback:!0},i.createElement(y,{"aria-label":t,...s,ref:a,variant:n,color:l},i.createElement(g,null))),i.createElement(C,null,t)))});P.__docgenInfo={description:"",methods:[],displayName:"CopyButton"};export{P as C};
