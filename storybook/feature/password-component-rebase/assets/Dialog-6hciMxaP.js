import{a as vr}from"./Button-0sHIpBCS.js";import{f as ue,$ as N,a as z,b as xr,e as R,g as oe,c as yr}from"./utils-B2jHvTU8.js";import{$ as hr}from"./RSPContexts-Cbm9ZJUe.js";import{g as Pr,e as Er,a as Se,b as Cr,c as Dr,f as Mr,d as wr}from"./OverlayArrow-BSrl9XNn.js";import{$ as Ae,a as Sr,c as Ar}from"./Collection-DiFzyIMP.js";import{a as ke,d as kr,b as Br,c as Fr}from"./CollectionBuilder-CBZ2qMwz.js";import{R as $,r as c}from"./index-BdpSHsi2.js";import{a as Kr}from"./Separator-C9CvzOtQ.js";import{a as Rr}from"./Text-bCwBREBS.js";import{$ as T,a as ye,e as G,c as L,g as ne,b as Tr,f as W,d as Or}from"./mergeRefs-C3hk6Bw5.js";import{$ as S}from"./filterDOMProps-CeZl_uWj.js";import{d as Ir,f as Lr,g as Nr,i as zr,c as Hr,$ as Be,a as _r,b as Fe}from"./SelectionManager-CAHkB1hu.js";import{g as se,b as Ur,$ as Vr,a as Wr}from"./usePress-D8pXfMRf.js";import{d as jr,h as qr,x as Gr,u as Zr,q as he,b as Jr,c as le}from"./useFocus-DtkvuJ2b.js";import{$ as Yr,a as Ke}from"./useFocusRing-CsskK932.js";import{c as Xr}from"./useFocusable-J3t5Qa20.js";import{$ as Re,a as Qr}from"./useLocalizedStringFormatter-CVg1y45F.js";import{e as Te,$ as ea}from"./useCollator-B6tK7UUT.js";import{$ as ta}from"./useControlledState-B-V-WRDl.js";import{c as ra,a as Oe}from"./FocusScope-D-amBDVp.js";import{h as aa}from"./index-d29qW9Ar.js";import{b as oa}from"./Hidden-RoZfe91Z.js";import{a as na}from"./useLabel-BTthEqzH.js";import{$ as sa}from"./VisuallyHidden-DvRlzb5d.js";const Ie=$.forwardRef(({children:t,...e},r)=>{let a=c.useRef(!1),o=c.useContext(se);r=ue(r||(o==null?void 0:o.ref));let s=T(o||{},{...e,ref:r,register(){a.current=!0,o&&o.register()}});return jr(o,r),c.useEffect(()=>{a.current||(console.warn("A PressResponder was rendered without a pressable child. Either call the usePress hook, or wrap your DOM node with <Pressable> component."),a.current=!0)},[]),$.createElement(se.Provider,{value:s},t)});function la({children:t}){let e=c.useMemo(()=>({register:()=>{}}),[]);return $.createElement(se.Provider,{value:e},t)}function ia(t){let{ref:e,onInteractOutside:r,isDisabled:a,onInteractOutsideStart:o}=t,s=c.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),u=ye(n=>{r&&U(n,e)&&(o&&o(n),s.current.isPointerDown=!0)}),i=ye(n=>{r&&r(n)});c.useEffect(()=>{let n=s.current;if(a)return;const d=e.current,l=qr(d);if(typeof PointerEvent<"u"){let p=g=>{n.isPointerDown&&U(g,e)&&i(g),n.isPointerDown=!1};return l.addEventListener("pointerdown",u,!0),l.addEventListener("pointerup",p,!0),()=>{l.removeEventListener("pointerdown",u,!0),l.removeEventListener("pointerup",p,!0)}}else{let p=f=>{n.ignoreEmulatedMouseEvents?n.ignoreEmulatedMouseEvents=!1:n.isPointerDown&&U(f,e)&&i(f),n.isPointerDown=!1},g=f=>{n.ignoreEmulatedMouseEvents=!0,n.isPointerDown&&U(f,e)&&i(f),n.isPointerDown=!1};return l.addEventListener("mousedown",u,!0),l.addEventListener("mouseup",p,!0),l.addEventListener("touchstart",u,!0),l.addEventListener("touchend",g,!0),()=>{l.removeEventListener("mousedown",u,!0),l.removeEventListener("mouseup",p,!0),l.removeEventListener("touchstart",u,!0),l.removeEventListener("touchend",g,!0)}}},[e,a,u,i])}function U(t,e){if(t.button>0)return!1;if(t.target){const r=t.target.ownerDocument;if(!r||!r.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}const C=[];function ua(t,e){let{onClose:r,shouldCloseOnBlur:a,isOpen:o,isDismissable:s=!1,isKeyboardDismissDisabled:u=!1,shouldCloseOnInteractOutside:i}=t;c.useEffect(()=>{if(o&&!C.includes(e))return C.push(e),()=>{let b=C.indexOf(e);b>=0&&C.splice(b,1)}},[o,e]);let n=()=>{C[C.length-1]===e&&r&&r()},d=b=>{(!i||i(b.target))&&C[C.length-1]===e&&(b.stopPropagation(),b.preventDefault())},l=b=>{(!i||i(b.target))&&(C[C.length-1]===e&&(b.stopPropagation(),b.preventDefault()),n())},p=b=>{b.key==="Escape"&&!u&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),n())};ia({ref:e,onInteractOutside:s&&o?l:void 0,onInteractOutsideStart:d});let{focusWithinProps:g}=Yr({isDisabled:!a,onBlurWithin:b=>{!b.relatedTarget||ra(b.relatedTarget)||(!i||i(b.relatedTarget))&&(r==null||r())}}),f=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:p,...g},underlayProps:{onPointerDown:f}}}function Le(t,e,r){let{type:a}=t,{isOpen:o}=e;c.useEffect(()=>{r&&r.current&&Pr.set(r.current,e.close)});let s;a==="menu"?s=!0:a==="listbox"&&(s="listbox");let u=G();return{triggerProps:{"aria-haspopup":s,"aria-expanded":o,"aria-controls":o?u:void 0,onPress:e.toggle},overlayProps:{id:u}}}const re=typeof document<"u"&&window.visualViewport,da=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let V=0,ae;function ca(t={}){let{isDisabled:e}=t;L(()=>{if(!e)return V++,V===1&&(Gr()?ae=$a():ae=fa()),()=>{V--,V===0&&ae()}},[e])}function fa(){return ne(K(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),K(document.documentElement,"overflow","hidden"))}function $a(){let t,e,r=d=>{t=Te(d.target,!0),!(t===document.documentElement&&t===document.body)&&t instanceof HTMLElement&&window.getComputedStyle(t).overscrollBehavior==="auto"&&(e=K(t,"overscrollBehavior","contain"))},a=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&d.preventDefault()},o=()=>{e&&e()},s=d=>{let l=d.target;ba(l)&&(i(),l.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{l.style.transform="",re&&(re.height<window.innerHeight?requestAnimationFrame(()=>{Pe(l)}):re.addEventListener("resize",()=>Pe(l),{once:!0}))}))},u=null,i=()=>{if(u)return;let d=()=>{window.scrollTo(0,0)},l=window.pageXOffset,p=window.pageYOffset;u=ne(O(window,"scroll",d),K(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),K(document.documentElement,"overflow","hidden"),K(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(l,p)}),window.scrollTo(0,0)},n=ne(O(document,"touchstart",r,{passive:!1,capture:!0}),O(document,"touchmove",a,{passive:!1,capture:!0}),O(document,"touchend",o,{passive:!1,capture:!0}),O(document,"focus",s,!0));return()=>{e==null||e(),u==null||u(),n()}}function K(t,e,r){let a=t.style[e];return t.style[e]=r,()=>{t.style[e]=a}}function O(t,e,r,a){return t.addEventListener(e,r,a),()=>{t.removeEventListener(e,r,a)}}function Pe(t){let e=document.scrollingElement||document.documentElement,r=t;for(;r&&r!==e;){let a=Te(r);if(a!==document.documentElement&&a!==document.body&&a!==r){let o=a.getBoundingClientRect().top,s=r.getBoundingClientRect().top;s>o+r.clientHeight&&(a.scrollTop+=s-o)}r=a.parentElement}}function ba(t){return t instanceof HTMLInputElement&&!da.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}var Ne={};Ne={dismiss:"تجاهل"};var ze={};ze={dismiss:"Отхвърляне"};var He={};He={dismiss:"Odstranit"};var _e={};_e={dismiss:"Luk"};var Ue={};Ue={dismiss:"Schließen"};var Ve={};Ve={dismiss:"Απόρριψη"};var We={};We={dismiss:"Dismiss"};var je={};je={dismiss:"Descartar"};var qe={};qe={dismiss:"Lõpeta"};var Ge={};Ge={dismiss:"Hylkää"};var Ze={};Ze={dismiss:"Rejeter"};var Je={};Je={dismiss:"התעלם"};var Ye={};Ye={dismiss:"Odbaci"};var Xe={};Xe={dismiss:"Elutasítás"};var Qe={};Qe={dismiss:"Ignora"};var et={};et={dismiss:"閉じる"};var tt={};tt={dismiss:"무시"};var rt={};rt={dismiss:"Atmesti"};var at={};at={dismiss:"Nerādīt"};var ot={};ot={dismiss:"Lukk"};var nt={};nt={dismiss:"Negeren"};var st={};st={dismiss:"Zignoruj"};var lt={};lt={dismiss:"Descartar"};var it={};it={dismiss:"Dispensar"};var ut={};ut={dismiss:"Revocare"};var dt={};dt={dismiss:"Пропустить"};var ct={};ct={dismiss:"Zrušiť"};var ft={};ft={dismiss:"Opusti"};var $t={};$t={dismiss:"Odbaci"};var bt={};bt={dismiss:"Avvisa"};var pt={};pt={dismiss:"Kapat"};var gt={};gt={dismiss:"Скасувати"};var mt={};mt={dismiss:"取消"};var vt={};vt={dismiss:"關閉"};var xt={};xt={"ar-AE":Ne,"bg-BG":ze,"cs-CZ":He,"da-DK":_e,"de-DE":Ue,"el-GR":Ve,"en-US":We,"es-ES":je,"et-EE":qe,"fi-FI":Ge,"fr-FR":Ze,"he-IL":Je,"hr-HR":Ye,"hu-HU":Xe,"it-IT":Qe,"ja-JP":et,"ko-KR":tt,"lt-LT":rt,"lv-LV":at,"nb-NO":ot,"nl-NL":nt,"pl-PL":st,"pt-BR":lt,"pt-PT":it,"ro-RO":ut,"ru-RU":dt,"sk-SK":ct,"sl-SI":ft,"sr-SP":$t,"sv-SE":bt,"tr-TR":pt,"uk-UA":gt,"zh-CN":mt,"zh-TW":vt};function pa(t){return t&&t.__esModule?t.default:t}function Ee(t){let{onDismiss:e,...r}=t,a=Re(pa(xt),"@react-aria/overlays"),o=na(r,a.format("dismiss")),s=()=>{e&&e()};return $.createElement(sa,null,$.createElement("button",{...o,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}let I=new WeakMap,P=[];function ga(t,e=document.body){let r=new Set(t),a=new Set,o=n=>{for(let g of n.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(g);let d=g=>{if(r.has(g)||g.parentElement&&a.has(g.parentElement)&&g.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let f of r)if(g.contains(f))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},l=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:d}),p=d(n);if(p===NodeFilter.FILTER_ACCEPT&&s(n),p!==NodeFilter.FILTER_REJECT){let g=l.nextNode();for(;g!=null;)s(g),g=l.nextNode()}},s=n=>{var d;let l=(d=I.get(n))!==null&&d!==void 0?d:0;n.getAttribute("aria-hidden")==="true"&&l===0||(l===0&&n.setAttribute("aria-hidden","true"),a.add(n),I.set(n,l+1))};P.length&&P[P.length-1].disconnect(),o(e);let u=new MutationObserver(n=>{for(let d of n)if(!(d.type!=="childList"||d.addedNodes.length===0)&&![...r,...a].some(l=>l.contains(d.target))){for(let l of d.removedNodes)l instanceof Element&&(r.delete(l),a.delete(l));for(let l of d.addedNodes)(l instanceof HTMLElement||l instanceof SVGElement)&&(l.dataset.liveAnnouncer==="true"||l.dataset.reactAriaTopLayer==="true")?r.add(l):l instanceof Element&&o(l)}});u.observe(e,{childList:!0,subtree:!0});let i={visibleNodes:r,hiddenNodes:a,observe(){u.observe(e,{childList:!0,subtree:!0})},disconnect(){u.disconnect()}};return P.push(i),()=>{u.disconnect();for(let n of a){let d=I.get(n);d!=null&&(d===1?(n.removeAttribute("aria-hidden"),I.delete(n)):I.set(n,d-1))}i===P[P.length-1]?(P.pop(),P.length&&P[P.length-1].observe()):P.splice(P.indexOf(i),1)}}function ma(t){let e=P[P.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function va(t,e){let{triggerRef:r,popoverRef:a,groupRef:o,isNonModal:s,isKeyboardDismissDisabled:u,shouldCloseOnInteractOutside:i,...n}=t,d=n.trigger==="SubmenuTrigger",{overlayProps:l,underlayProps:p}=ua({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!s||d,isKeyboardDismissDisabled:u,shouldCloseOnInteractOutside:i},o??a),{overlayProps:g,arrowProps:f,placement:b}=Er({...n,targetRef:r,overlayRef:a,isOpen:e.isOpen,onClose:s&&!d?e.close:null});return ca({isDisabled:s||!e.isOpen}),L(()=>{if(e.isOpen&&a.current){var v,y;return s?ma((v=o==null?void 0:o.current)!==null&&v!==void 0?v:a.current):ga([(y=o==null?void 0:o.current)!==null&&y!==void 0?y:a.current])}},[s,e.isOpen,a,o]),{popoverProps:T(l,g),arrowProps:f,underlayProps:p,placement:b}}const xa=c.createContext({});function ya(){var t;return(t=c.useContext(xa))!==null&&t!==void 0?t:{}}const yt=$.createContext(null);function Ce(t){let e=Tr(),{portalContainer:r=e?null:document.body,isExiting:a}=t,[o,s]=c.useState(!1),u=c.useMemo(()=>({contain:o,setContain:s}),[o,s]),{getContainer:i}=ya();if(!t.portalContainer&&i&&(r=i()),!r)return null;let n=t.children;return t.disableFocusManagement||(n=$.createElement(Oe,{restoreFocus:!0,contain:(t.shouldContainFocus||o)&&!a},n)),n=$.createElement(yt.Provider,{value:u},$.createElement(la,null,n)),aa.createPortal(n,r)}function ha(){let t=c.useContext(yt),e=t==null?void 0:t.setContain;L(()=>{e==null||e(!0)},[e])}function Pa(t){let{selectionManager:e,collection:r,disabledKeys:a,ref:o,keyboardDelegate:s,layoutDelegate:u}=t,i=ea({usage:"search",sensitivity:"base"}),n=e.disabledBehavior,d=c.useMemo(()=>s||new Ir({collection:r,disabledKeys:a,disabledBehavior:n,ref:o,collator:i,layoutDelegate:u}),[s,u,r,a,o,i,n]),{collectionProps:l}=Lr({...t,ref:o,selectionManager:e,keyboardDelegate:d});return{listProps:l}}const De=new WeakMap;function Ea(t){let e=De.get(t);if(e!=null)return e;let r=0,a=o=>{for(let s of o)s.type==="section"?a(Nr(s,t)):r++};return a(t),De.set(t,r),r}var ht={};ht={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Pt={};Pt={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Et={};Et={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Ct={};Ct={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Dt={};Dt={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Mt={};Mt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var wt={};wt={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var St={};St={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var At={};At={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var kt={};kt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Bt={};Bt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Ft={};Ft={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Kt={};Kt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Rt={};Rt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Tt={};Tt={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Ot={};Ot={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var It={};It={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Lt={};Lt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Nt={};Nt={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var zt={};zt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Ht={};Ht={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var _t={};_t={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Ut={};Ut={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Vt={};Vt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Wt={};Wt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var jt={};jt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var qt={};qt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Gt={};Gt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var Zt={};Zt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Jt={};Jt={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var Yt={};Yt={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var Xt={};Xt={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var Qt={};Qt={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var er={};er={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var tr={};tr={"ar-AE":ht,"bg-BG":Pt,"cs-CZ":Et,"da-DK":Ct,"de-DE":Dt,"el-GR":Mt,"en-US":wt,"es-ES":St,"et-EE":At,"fi-FI":kt,"fr-FR":Bt,"he-IL":Ft,"hr-HR":Kt,"hu-HU":Rt,"it-IT":Tt,"ja-JP":Ot,"ko-KR":It,"lt-LT":Lt,"lv-LV":Nt,"nb-NO":zt,"nl-NL":Ht,"pl-PL":_t,"pt-BR":Ut,"pt-PT":Vt,"ro-RO":Wt,"ru-RU":jt,"sk-SK":qt,"sl-SI":Gt,"sr-SP":Zt,"sv-SE":Jt,"tr-TR":Yt,"uk-UA":Xt,"zh-CN":Qt,"zh-TW":er};function Ca(t){return t&&t.__esModule?t.default:t}function Da(t,e,r){let{type:a="menu",isDisabled:o,trigger:s="press"}=t,u=G(),{triggerProps:i,overlayProps:n}=Le({type:a},e,r),d=f=>{if(!o&&!(s==="longPress"&&!f.altKey)&&r&&r.current)switch(f.key){case"Enter":case" ":if(s==="longPress")return;case"ArrowDown":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in f||f.stopPropagation(),f.preventDefault(),e.toggle("last");break;default:"continuePropagation"in f&&f.continuePropagation()}},l=Re(Ca(tr),"@react-aria/menu"),{longPressProps:p}=zr({isDisabled:o||s!=="longPress",accessibilityDescription:l.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),g={preventFocusOnPress:!0,onPressStart(f){f.pointerType!=="touch"&&f.pointerType!=="keyboard"&&!o&&(Zr(f.target),e.open(f.pointerType==="virtual"?"first":null))},onPress(f){f.pointerType==="touch"&&!o&&e.toggle()}};return delete i.onPress,{menuTriggerProps:{...i,...s==="press"?g:p,id:u,onKeyDown:d},menuProps:{...n,"aria-labelledby":u,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const rr=new WeakMap;function Ma(t,e,r){let{shouldFocusWrap:a=!0,onKeyDown:o,onKeyUp:s,...u}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let i=S(t,{labelable:!0}),{listProps:n}=Pa({...u,ref:r,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,shouldFocusWrap:a,linkBehavior:"override"});return rr.set(e,{onClose:t.onClose,onAction:t.onAction,shouldUseVirtualFocus:t.shouldUseVirtualFocus}),{menuProps:T(i,{onKeyDown:o,onKeyUp:s},{role:"menu",...n,onKeyDown:d=>{var l;(d.key!=="Escape"||t.shouldUseVirtualFocus)&&((l=n.onKeyDown)===null||l===void 0||l.call(n,d))}})}}function wa(t,e,r){let{id:a,key:o,closeOnSelect:s,isVirtualized:u,"aria-haspopup":i,onPressStart:n,onPressUp:d,onPress:l,onPressChange:p,onPressEnd:g,onHoverStart:f,onHoverChange:b,onHoverEnd:v,onKeyDown:y,onKeyUp:M,onFocus:H,onFocusChange:D,onBlur:J,selectionManager:h=e.selectionManager}=t,E=!!i,w=E&&t["aria-expanded"]==="true";var Y;let A=(Y=t.isDisabled)!==null&&Y!==void 0?Y:h.isDisabled(o);var X;let $e=(X=t.isSelected)!==null&&X!==void 0?X:h.isSelected(o),k=rr.get(e),x=e.collection.getItem(o),B=t.onClose||k.onClose,lr=Ur(),Q=m=>{var te;if(!E){if(!(x==null||(te=x.props)===null||te===void 0)&&te.onAction?x.props.onAction():t.onAction&&t.onAction(o),k.onAction){let mr=k.onAction;mr(o)}m.target instanceof HTMLAnchorElement&&x&&lr.open(m.target,m,x.props.href,x.props.routerOptions)}},ee="menuitem";E||(h.selectionMode==="single"?ee="menuitemradio":h.selectionMode==="multiple"&&(ee="menuitemcheckbox"));let be=W(),pe=W(),ge=W(),_={id:a,"aria-disabled":A||void 0,role:ee,"aria-label":t["aria-label"],"aria-labelledby":be,"aria-describedby":[pe,ge].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":i,"aria-expanded":t["aria-expanded"]};h.selectionMode!=="none"&&!E&&(_["aria-checked"]=$e),u&&(_["aria-posinset"]=x==null?void 0:x.index,_["aria-setsize"]=Ea(e.collection));let ir=m=>{m.pointerType==="keyboard"&&Q(m),n==null||n(m)},me=()=>{!E&&B&&(s??(h.selectionMode!=="multiple"||h.isLink(o)))&&B()},ur=m=>{m.pointerType==="mouse"&&(Q(m),me()),d==null||d(m)},dr=m=>{m.pointerType!=="keyboard"&&m.pointerType!=="mouse"&&(Q(m),me()),l==null||l(m)},{itemProps:F,isFocused:ve}=Hr({id:a,selectionManager:h,key:o,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none",shouldUseVirtualFocus:k.shouldUseVirtualFocus}),{pressProps:cr,isPressed:fr}=Vr({onPressStart:ir,onPress:dr,onPressUp:ur,onPressChange:p,onPressEnd:g,isDisabled:A}),{hoverProps:$r}=Ke({isDisabled:A,onHoverStart(m){!he()&&!(w&&i)&&(h.setFocused(!0),h.setFocusedKey(o)),f==null||f(m)},onHoverChange:b,onHoverEnd:v}),{keyboardProps:br}=Xr({onKeyDown:m=>{if(m.repeat){m.continuePropagation();return}switch(m.key){case" ":!A&&h.selectionMode==="none"&&!E&&s!==!1&&B&&B();break;case"Enter":!A&&s!==!1&&!E&&B&&B();break;default:E||m.continuePropagation(),y==null||y(m);break}},onKeyUp:M}),{focusProps:pr}=Jr({onBlur:J,onFocus:H,onFocusChange:D}),xe=S(x==null?void 0:x.props);delete xe.id;let gr=Wr(x==null?void 0:x.props);return{menuItemProps:{..._,...T(xe,gr,E?{onFocus:F.onFocus,"data-collection":F["data-collection"],"data-key":F["data-key"]}:F,cr,$r,br,pr,k.shouldUseVirtualFocus||E?{onMouseDown:m=>m.preventDefault()}:void 0),tabIndex:F.tabIndex!=null&&w&&!k.shouldUseVirtualFocus?-1:F.tabIndex},labelProps:{id:be},descriptionProps:{id:pe},keyboardShortcutProps:{id:ge},isFocused:ve,isFocusVisible:ve&&h.isFocused&&he()&&!w,isSelected:$e,isPressed:fr,isDisabled:A}}function Sa(t){let{heading:e,"aria-label":r}=t,a=G();return{itemProps:{role:"presentation"},headingProps:e?{id:a,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":e?a:void 0}}}function Aa(t,e){let{role:r="dialog"}=t,a=W();a=t["aria-label"]?void 0:a;let o=c.useRef(!1);return c.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){le(e.current);let s=setTimeout(()=>{document.activeElement===e.current&&(o.current=!0,e.current&&(e.current.blur(),le(e.current)),o.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),ha(),{dialogProps:{...S(t,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||a,onBlur:s=>{o.current&&s.stopPropagation()}},titleProps:{id:a}}}function de(t){let e=Se(t),[r,a]=c.useState(null),[o,s]=c.useState([]),u=()=>{s([]),e.close()};return{focusStrategy:r,...e,open(d=null){a(d),e.open()},toggle(d=null){a(d),e.toggle()},close(){u()},expandedKeysStack:o,openSubmenu:(d,l)=>{s(p=>l>p.length?p:[...p.slice(0,l),d])},closeSubmenu:(d,l)=>{s(p=>p[l]===d?p.slice(0,l):p)}}}class ka{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let r=this.keyMap.get(e);var a;return r&&(a=r.prevKey)!==null&&a!==void 0?a:null}getKeyAfter(e){let r=this.keyMap.get(e);var a;return r&&(a=r.nextKey)!==null&&a!==void 0?a:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var r;return(r=this.keyMap.get(e))!==null&&r!==void 0?r:null}at(e){const r=[...this.getKeys()];return this.getItem(r[e])}constructor(e,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,r=r||new Set;let a=i=>{if(this.keyMap.set(i.key,i),i.childNodes&&(i.type==="section"||r.has(i.key)))for(let n of i.childNodes)a(n)};for(let i of e)a(i);let o=null,s=0;for(let[i,n]of this.keyMap)o?(o.nextKey=i,n.prevKey=o.key):(this.firstKey=i,n.prevKey=void 0),n.type==="item"&&(n.index=s++),o=n,o.nextKey=void 0;var u;this.lastKey=(u=o==null?void 0:o.key)!==null&&u!==void 0?u:null}}function Ba(t){let{onExpandedChange:e}=t,[r,a]=ta(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),o=Be(t),s=c.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),u=_r(t,c.useCallback(n=>new ka(n,{expandedKeys:r}),[r]),null);return c.useEffect(()=>{o.focusedKey!=null&&!u.getItem(o.focusedKey)&&o.setFocusedKey(null)},[u,o.focusedKey]),{collection:u,expandedKeys:r,disabledKeys:s,toggleKey:n=>{a(Fa(r,n))},setExpandedKeys:a,selectionManager:new Fe(u,o)}}function Fa(t,e){let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r}const Me=c.createContext(null),ar=c.createContext({}),io=ke("header",function(e,r){return[e,r]=N(e,r,ar),$.createElement("header",{className:"react-aria-Header",...e,ref:r},e.children)}),ce=c.createContext(null),we=c.createContext(null),uo=c.forwardRef(function(e,r){[e,r]=N(e,r,ce);let a=c.useContext(Z),o=Se(e),s=e.isOpen!=null||e.defaultOpen!=null||!a?o:a,u=Cr(r,s.isOpen)||e.isExiting||!1,i=oa(),{direction:n}=Qr();if(i){let d=e.children;return typeof d=="function"&&(d=d({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),$.createElement($.Fragment,null,d)}return s&&!s.isOpen&&!u?null:$.createElement(Ka,{...e,triggerRef:e.triggerRef,state:s,popoverRef:r,isExiting:u,dir:n})});function Ka({state:t,isExiting:e,UNSTABLE_portalContainer:r,...a}){let o=c.useRef(null),[s,u]=c.useState(0),i=c.useRef(null),n=c.useContext(we),d=n&&a.trigger==="SubmenuTrigger";L(()=>{o.current&&t.isOpen&&u(o.current.getBoundingClientRect().width)},[t.isOpen,o]);var l;let{popoverProps:p,underlayProps:g,arrowProps:f,placement:b}=va({...a,offset:(l=a.offset)!==null&&l!==void 0?l:8,arrowSize:s,groupRef:d?n:i},t),v=a.popoverRef,y=Dr(v,!!b)||a.isEntering||!1,M=z({...a,defaultClassName:"react-aria-Popover",values:{trigger:a.trigger||null,placement:b,isEntering:y,isExiting:e}}),H=!a.isNonModal||a.trigger==="SubmenuTrigger",[D,J]=c.useState(!1);L(()=>{v.current&&J(H&&!v.current.querySelector("[role=dialog]"))},[v,H]),c.useEffect(()=>{D&&v.current&&!v.current.contains(document.activeElement)&&le(v.current)},[D,v]);let h={...p.style,...M.style},E=$.createElement("div",{...T(S(a),p),...M,role:D?"dialog":void 0,tabIndex:D?-1:void 0,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"],ref:v,slot:a.slot||void 0,style:h,dir:a.dir,"data-trigger":a.trigger,"data-placement":b,"data-entering":y||void 0,"data-exiting":e||void 0},!a.isNonModal&&$.createElement(Ee,{onDismiss:t.close}),$.createElement(Mr.Provider,{value:{...f,placement:b,ref:o}},M.children),$.createElement(Ee,{onDismiss:t.close}));if(!d)return $.createElement(Ce,{...a,shouldContainFocus:D,isExiting:e,portalContainer:r},!a.isNonModal&&t.isOpen&&$.createElement("div",{"data-testid":"underlay",...g,style:{position:"fixed",inset:0}}),$.createElement("div",{ref:i,style:{display:"contents"}},$.createElement(we.Provider,{value:i},E)));var w;return $.createElement(Ce,{...a,shouldContainFocus:D,isExiting:e,portalContainer:(w=r??(n==null?void 0:n.current))!==null&&w!==void 0?w:void 0},E)}const Ra=c.createContext({}),or=c.createContext(null),fe=c.createContext(null),j=c.createContext(null),q=c.createContext(null);function co(t){let e=de(t),r=c.useRef(null),{menuTriggerProps:a,menuProps:o}=Da({...t,type:"menu"},e,r),[s,u]=c.useState(null),i=c.useCallback(()=>{r.current&&u(r.current.offsetWidth+"px")},[r]);wr({ref:r,onResize:i});let n=c.useRef(null);return $.createElement(R,{values:[[or,{...o,ref:n}],[Z,e],[j,e],[ce,{trigger:"MenuTrigger",triggerRef:r,scrollRef:n,placement:"bottom start",style:{"--trigger-width":s},"aria-labelledby":o["aria-labelledby"]}]]},$.createElement(Ie,{...a,ref:r,isPressed:e.isOpen},t.children))}const Ta=c.createContext(null),fo=c.forwardRef(function(e,r){return[e,r]=N(e,r,or),$.createElement(Br,{content:$.createElement(Fr,e)},a=>$.createElement(Oa,{props:e,collection:a,menuRef:r}))});function Oa({props:t,collection:e,menuRef:r}){let{filter:a,collectionProps:o,collectionRef:s}=c.useContext(Me)||{};r=ue(c.useMemo(()=>Or(r,s!==void 0?s:null),[s,r]));let u=c.useMemo(()=>a?e.UNSTABLE_filter(a):e,[e,a]),i=Ba({...t,collection:u,children:void 0}),n=c.useContext(j),{isVirtualized:d,CollectionRoot:l}=c.useContext(Ae),{menuProps:p}=Ma({...t,...o,isVirtualized:d,onClose:t.onClose||(n==null?void 0:n.close)},i,r),g=z({defaultClassName:"react-aria-Menu",className:t.className,style:t.style,values:{isEmpty:i.collection.size===0}}),f=null;return i.collection.size===0&&t.renderEmptyState&&(f=$.createElement("div",{role:"menuitem",style:{display:"contents"}},t.renderEmptyState())),$.createElement(Oe,null,$.createElement("div",{...S(t),...p,...g,ref:r,slot:t.slot||void 0,"data-empty":i.collection.size===0||void 0,onScroll:t.onScroll},$.createElement(R,{values:[[fe,i],[Kr,{elementType:"div"}],[Sr,{name:"MenuSection",render:nr}],[Ta,{parentMenuRef:r,shouldUseVirtualFocus:o==null?void 0:o.shouldUseVirtualFocus}],[ie,null],[Me,null],[q,i.selectionManager],[j,n??de({})]]},$.createElement(l,{collection:i.collection,persistedKeys:Ar(i.selectionManager.focusedKey),scrollRef:r})),f))}class Ia extends Fe{get focusedKey(){return this.parent.focusedKey}get isFocused(){return this.parent.isFocused}setFocusedKey(e,r){return this.parent.setFocusedKey(e,r)}setFocused(e){this.parent.setFocused(e)}get childFocusStrategy(){return this.parent.childFocusStrategy}constructor(e,r){super(e.collection,r),this.parent=e}}function nr(t,e,r,a="react-aria-MenuSection"){var o,s;let u=c.useContext(fe),{CollectionBranch:i}=c.useContext(Ae),[n,d]=yr();var l;let{headingProps:p,groupProps:g}=Sa({heading:d,"aria-label":(l=r.props["aria-label"])!==null&&l!==void 0?l:void 0}),f=z({defaultClassName:a,className:(o=r.props)===null||o===void 0?void 0:o.className,style:(s=r.props)===null||s===void 0?void 0:s.style,values:{}}),b=c.useContext(q),v=Be(t),y=t.selectionMode!=null?new Ia(b,v):b;return $.createElement("section",{...S(t),...g,...f,ref:e},$.createElement(R,{values:[[ar,{...p,ref:n}],[q,y]]},$.createElement(i,{collection:u.collection,parent:r})))}const $o=kr("section",nr),ie=c.createContext(null),bo=ke("item",function(e,r,a){var o;[e,r]=N(e,r,ie);let s=(o=xr(ie))===null||o===void 0?void 0:o.id,u=c.useContext(fe),i=ue(r),n=c.useContext(q),{menuItemProps:d,labelProps:l,descriptionProps:p,keyboardShortcutProps:g,...f}=wa({...e,id:s,key:a.key,selectionManager:n},u,i),{hoverProps:b,isHovered:v}=Ke({isDisabled:f.isDisabled}),y=z({...e,id:void 0,children:a.rendered,defaultClassName:"react-aria-MenuItem",values:{...f,isHovered:v,isFocusVisible:f.isFocusVisible,selectionMode:n.selectionMode,selectionBehavior:n.selectionBehavior,hasSubmenu:!!e["aria-haspopup"],isOpen:e["aria-expanded"]==="true"}}),M=e.href?"a":"div";return $.createElement(M,{...T(d,b),...y,ref:i,"data-disabled":f.isDisabled||void 0,"data-hovered":v||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":f.isFocusVisible||void 0,"data-pressed":f.isPressed||void 0,"data-selected":f.isSelected||void 0,"data-selection-mode":n.selectionMode==="none"?void 0:n.selectionMode,"data-has-submenu":!!e["aria-haspopup"]||void 0,"data-open":e["aria-expanded"]==="true"||void 0},$.createElement(R,{values:[[Rr,{slots:{[oe]:l,label:l,description:p}}],[Ra,g]]},y.children))}),sr=c.createContext(null),Z=c.createContext(null);function po(t){let e=de(t),r=c.useRef(null),{triggerProps:a,overlayProps:o}=Le({type:"dialog"},e,r);return a.id=G(),o["aria-labelledby"]=a.id,$.createElement(R,{values:[[Z,e],[j,e],[sr,o],[ce,{trigger:"DialogTrigger",triggerRef:r,"aria-labelledby":o["aria-labelledby"]}]]},$.createElement(Ie,{...a,ref:r,isPressed:e.isOpen},t.children))}const go=c.forwardRef(function(e,r){let a=e["aria-labelledby"];[e,r]=N(e,r,sr);let{dialogProps:o,titleProps:s}=Aa({...e,"aria-labelledby":a},r),u=c.useContext(Z);!o["aria-label"]&&!o["aria-labelledby"]&&(e["aria-labelledby"]?o["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));let i=z({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:(u==null?void 0:u.close)||(()=>{})}});return $.createElement("section",{...S(e),...o,...i,ref:r,slot:e.slot||void 0},$.createElement(R,{values:[[hr,{slots:{[oe]:{},title:{...s,level:2}}}],[vr,{slots:{[oe]:{},close:{onPress:()=>u==null?void 0:u.close()}}}]]},i.children))});export{$o as $,io as a,po as b,co as c,Pa as d,Ea as e,Me as f,ar as g,uo as h,go as i,ua as j,ca as k,ha as l,ga as m,Z as n,Ee as o,Ce as p,Da as q,ce as r,bo as s,fo as t,sr as u};
