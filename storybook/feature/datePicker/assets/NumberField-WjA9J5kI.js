import{r as s,R as $}from"./index-uCp2LrAq.js";import{f as j,F as sa}from"./FormField.module-CpCFPza4.js";import{c as da}from"./clsx-B-dksMZM.js";import{C as ca,P as fa}from"./PropsContextProvider-Bes6Wf8F.js";import{B as ce}from"./Button-ulZ4Jbdu.js";import"./IconApp-Cxjf7gPB.js";import{I as ba,F as ma,G as $a,a as pa}from"./IconWarning-2GqJK2gc.js";import{f as va}from"./flowComponent-wUaQYyEI.js";import{a as xa}from"./Button-EGpG9HXG.js";import{$ as Fa,c as La,d as Pa,e as Da,b as Na,f as Ea}from"./utils-CblGkSXh.js";import{h as Ba,$ as Ca,e as ha,f as ga}from"./Form-B3U8TWeK.js";import{a as Va,b as Sa,c as ya,$ as Ma}from"./Group-Bkrvm067.js";import{a as Ia,$ as wa}from"./Input-Ca4BfW5i.js";import{a as ka}from"./Label-Dyr5o6sY.js";import{a as Oa}from"./Text-PvbfzXMy.js";import{$ as $e}from"./filterDOMProps-CeZl_uWj.js";import{a as Ra,$ as Ta}from"./useLocalizedStringFormatter-CELuk77o.js";import{$ as Aa}from"./useControlledState-B8AA3oOY.js";import{a as B,$ as J}from"./number-nHrFdSb-.js";import{$ as fe}from"./NumberFormatter-DNR9MAW-.js";import{c as ja,b as U,a as Q,f as za}from"./index-CFQDndEx.js";import{w as Ka,$ as Wa,y as Ua,z as _a,p as qa}from"./useFocusable-SxMTR87z.js";import{$ as Za}from"./useFormReset-Bt7ImmB-.js";import{$ as Ya}from"./useEvent-BUAZZNDw.js";import{$ as Ga}from"./useTextField-Co4FN_Q7.js";import{$ as be}from"./useNumberFormatter-_JX_2Xs1.js";function Ha(e,a){let{onScroll:r,isDisabled:n}=e,o=s.useCallback(i=>{i.ctrlKey||(i.preventDefault(),i.stopPropagation(),r&&r({deltaX:i.deltaX,deltaY:i.deltaY}))},[r]);Ya(a,"wheel",n?void 0:o)}function me(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Xa(e,a,r){let n=ja(l=>{let t=r.current,d;switch(l.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":d=t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteContentForward":d=t.selectionEnd===t.selectionStart?t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd+1):t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteContentBackward":d=t.selectionEnd===t.selectionStart?t.value.slice(0,t.selectionStart-1)+t.value.slice(t.selectionStart):t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":d=t.value.slice(t.selectionStart);break;default:l.data!=null&&(d=t.value.slice(0,t.selectionStart)+l.data+t.value.slice(t.selectionEnd));break}(d==null||!a.validate(d))&&l.preventDefault()});s.useEffect(()=>{if(!me())return;let l=r.current;return l.addEventListener("beforeinput",n,!1),()=>{l.removeEventListener("beforeinput",n,!1)}},[r,n]);let o=me()?null:l=>{let t=l.target.value.slice(0,l.target.selectionStart)+l.data+l.target.value.slice(l.target.selectionEnd);a.validate(t)||l.preventDefault()},{labelProps:i,inputProps:f,descriptionProps:b,errorMessageProps:c,...x}=Ga(e,r),F=s.useRef(null);return{inputProps:U(f,{onBeforeInput:o,onCompositionStart(){let{value:l,selectionStart:t,selectionEnd:d}=r.current;F.current={value:l,selectionStart:t,selectionEnd:d}},onCompositionEnd(){if(!a.validate(r.current.value)){let{value:l,selectionStart:t,selectionEnd:d}=F.current;r.current.value=l,r.current.setSelectionRange(t,d),a.setInputValue(l)}}}),labelProps:i,descriptionProps:b,errorMessageProps:c,...x}}var pe={};pe={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var ve={};ve={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var xe={};xe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var Fe={};Fe={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var Le={};Le={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var Pe={};Pe={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var De={};De={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Ne={};Ne={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ee={};Ee={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Be={};Be={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var Ce={};Ce={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var he={};he={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var ge={};ge={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ve={};Ve={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var Se={};Se={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var ye={};ye={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Me={};Me={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var Ie={};Ie={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var we={};we={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var ke={};ke={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Oe={};Oe={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var Re={};Re={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Te={};Te={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ae={};Ae={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var je={};je={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var ze={};ze={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var Ke={};Ke={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var We={};We={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var Ue={};Ue={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var _e={};_e={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var qe={};qe={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var Ze={};Ze={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var Ye={};Ye={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ge={};Ge={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var He={};He={"ar-AE":pe,"bg-BG":ve,"cs-CZ":xe,"da-DK":Fe,"de-DE":Le,"el-GR":Pe,"en-US":De,"es-ES":Ne,"et-EE":Ee,"fi-FI":Be,"fr-FR":Ce,"he-IL":he,"hr-HR":ge,"hu-HU":Ve,"it-IT":Se,"ja-JP":ye,"ko-KR":Me,"lt-LT":Ie,"lv-LV":we,"nb-NO":ke,"nl-NL":Oe,"pl-PL":Re,"pt-BR":Te,"pt-PT":Ae,"ro-RO":je,"ru-RU":ze,"sk-SK":Ke,"sl-SI":We,"sr-SP":Ue,"sv-SE":_e,"tr-TR":qe,"uk-UA":Ze,"zh-CN":Ye,"zh-TW":Ge};function Ja(e){return e&&e.__esModule?e.default:e}function Qa(e,a,r){let{id:n,decrementAriaLabel:o,incrementAriaLabel:i,isDisabled:f,isReadOnly:b,isRequired:c,minValue:x,maxValue:F,autoFocus:l,label:t,formatOptions:d,onBlur:L=()=>{},onFocus:D,onFocusChange:S,onKeyDown:E,onKeyUp:C,description:P,errorMessage:N,isWheelDisabled:p,..._}=e,{increment:I,incrementToMax:q,decrement:w,decrementToMin:Z,numberValue:y,inputValue:m,commit:k,commitValidation:O}=a;const R=Ra(Ja(He),"@react-aria/numberfield");let T=Q(n),{focusProps:Y}=Ka({onBlur(){k()}}),z=be(d),G=s.useMemo(()=>z.resolvedOptions(),[z]),K=be({...d,currencySign:void 0}),ae=s.useMemo(()=>isNaN(y)?"":K.format(y),[K,y]),{spinButtonProps:u,incrementButtonProps:W,decrementButtonProps:h}=Va({isDisabled:f,isReadOnly:b,isRequired:c,maxValue:F,minValue:x,onIncrement:I,onIncrementToMax:q,onDecrement:w,onDecrementToMin:Z,value:y,textValue:ae}),[g,Xe]=s.useState(!1),{focusWithinProps:Je}=Wa({isDisabled:f,onFocusWithinChange:Xe}),Qe=s.useCallback(v=>{Math.abs(v.deltaY)<=Math.abs(v.deltaX)||(v.deltaY>0?I():v.deltaY<0&&w())},[w,I]);Ha({onScroll:Qe,isDisabled:p||f||b||!g},r);let re=G.maximumFractionDigits>0,te=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,A="numeric";Ua()?te?A="text":re&&(A="decimal"):_a()&&(te?A="numeric":re&&(A="decimal"));let ea=v=>{a.validate(v)&&a.setInputValue(v)},aa=$e(e),le=s.useCallback(v=>{v.key==="Enter"?(k(),O()):v.continuePropagation()},[k,O]),{isInvalid:ne,validationErrors:ra,validationDetails:ta}=a.displayValidation,{labelProps:ie,inputProps:la,descriptionProps:na,errorMessageProps:ia}=Xa({..._,...aa,name:void 0,label:t,autoFocus:l,isDisabled:f,isReadOnly:b,isRequired:c,validate:void 0,[Ba]:a,value:m,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:T,type:"text",inputMode:A,onChange:ea,onBlur:L,onFocus:D,onFocusChange:S,onKeyDown:s.useMemo(()=>za(le,E),[le,E]),onKeyUp:C,description:P,errorMessage:N},a,r);Za(r,a.numberValue,a.setNumberValue);let oe=U(u,Y,la,{role:null,"aria-roledescription":qa()?null:R.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(oe["aria-required"]=void 0);let ue=v=>{var X;document.activeElement!==r.current&&(v.pointerType==="mouse"?(X=r.current)===null||X===void 0||X.focus():v.target.focus())},H=e["aria-label"]||(typeof e.label=="string"?e.label:""),V;H||(V=e.label!=null?ie.id:e["aria-labelledby"]);let se=Q(),de=Q(),oa=U(W,{"aria-label":i||R.format("increase",{fieldLabel:H}).trim(),id:V&&!i?se:null,"aria-labelledby":V&&!i?`${se} ${V}`:null,"aria-controls":T,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:ue}),ua=U(h,{"aria-label":o||R.format("decrease",{fieldLabel:H}).trim(),id:V&&!o?de:null,"aria-labelledby":V&&!o?`${de} ${V}`:null,"aria-controls":T,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:ue});return{groupProps:{...Je,role:"group","aria-disabled":f,"aria-invalid":ne?"true":void 0},labelProps:ie,inputProps:oe,incrementButtonProps:oa,decrementButtonProps:ua,errorMessageProps:ia,descriptionProps:na,isInvalid:ne,validationErrors:ra,validationDetails:ta}}function er(e){let{minValue:a,maxValue:r,step:n,formatOptions:o,value:i,defaultValue:f=NaN,onChange:b,locale:c,isDisabled:x,isReadOnly:F}=e;i===null&&(i=NaN),i!==void 0&&!isNaN(i)&&(n!==void 0&&!isNaN(n)?i=B(i,a,r,n):i=J(i,a,r)),isNaN(f)||(n!==void 0&&!isNaN(n)?f=B(f,a,r,n):f=J(f,a,r));let[l,t]=Aa(i,isNaN(f)?NaN:f,b),[d,L]=s.useState(()=>isNaN(l)?"":new fe(c,o).format(l)),D=s.useMemo(()=>new Sa(c,o),[c,o]),S=s.useMemo(()=>D.getNumberingSystem(d),[D,d]),E=s.useMemo(()=>new fe(c,{...o,numberingSystem:S}),[c,o,S]),C=s.useMemo(()=>E.resolvedOptions(),[E]),P=s.useCallback(u=>isNaN(u)||u===null?"":E.format(u),[E]),N=Ca({...e,value:l}),p=n!==void 0&&!isNaN(n)?n:1;C.style==="percent"&&(n===void 0||isNaN(n))&&(p=.01);let[_,I]=s.useState(l),[q,w]=s.useState(c),[Z,y]=s.useState(o);(!Object.is(l,_)||c!==q||o!==Z)&&(L(P(l)),I(l),w(c),y(o));let m=s.useMemo(()=>D.parse(d),[D,d]),k=()=>{if(!d.length){t(NaN),L(i===void 0?"":P(l));return}if(isNaN(m)){L(P(l));return}let u;n===void 0||isNaN(n)?u=J(m,a,r):u=B(m,a,r,n),u=D.parse(P(u)),t(u),L(P(i===void 0?u:l))},O=(u,W=0)=>{let h=m;if(isNaN(h)){let g=isNaN(W)?0:W;return B(g,a,r,p)}else{let g=B(h,a,r,p);return u==="+"&&g>h||u==="-"&&g<h?g:B(ee(u,h,p),a,r,p)}},R=()=>{let u=O("+",a);u===l&&L(P(u)),t(u),N.commitValidation()},T=()=>{let u=O("-",r);u===l&&L(P(u)),t(u),N.commitValidation()},Y=()=>{r!=null&&(t(B(r,a,r,p)),N.commitValidation())},z=()=>{a!=null&&(t(a),N.commitValidation())},G=s.useMemo(()=>!x&&!F&&(isNaN(m)||r===void 0||isNaN(r)||B(m,a,r,p)>m||ee("+",m,p)<=r),[x,F,a,r,p,m]),K=s.useMemo(()=>!x&&!F&&(isNaN(m)||a===void 0||isNaN(a)||B(m,a,r,p)<m||ee("-",m,p)>=a),[x,F,a,r,p,m]);return{...N,validate:u=>D.isValidPartialNumber(u,a,r),increment:R,incrementToMax:Y,decrement:T,decrementToMin:z,canIncrement:G,canDecrement:K,minValue:a,maxValue:r,numberValue:m,setNumberValue:t,setInputValue:L,inputValue:d,commit:k}}function ee(e,a,r){let n=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const o=a.toString().split("."),i=r.toString().split("."),f=o[1]&&o[1].length||0,b=i[1]&&i[1].length||0,c=Math.pow(10,Math.max(f,b));a=Math.round(a*c),r=Math.round(r*c),n=e==="+"?a+r:a-r,n/=c}return n}const ar=s.createContext(null),rr=s.createContext(null);function tr(e,a){[e,a]=Fa(e,a,ar);let{validationBehavior:r}=La(ha)||{};var n,o;let i=(o=(n=e.validationBehavior)!==null&&n!==void 0?n:r)!==null&&o!==void 0?o:"native",{locale:f}=Ta(),b=er({...e,locale:f,validationBehavior:i}),c=s.useRef(null),[x,F]=Pa(),{labelProps:l,groupProps:t,inputProps:d,incrementButtonProps:L,decrementButtonProps:D,descriptionProps:S,errorMessageProps:E,...C}=Qa({...Da(e),label:F,validationBehavior:i},b,c),P=Na({...e,values:{state:b,isDisabled:e.isDisabled||!1,isInvalid:C.isInvalid||!1},defaultClassName:"react-aria-NumberField"}),N=$e(e);return delete N.id,$.createElement(Ea,{values:[[rr,b],[ya,t],[Ia,{...d,ref:c}],[ka,{...l,ref:x}],[xa,{slots:{increment:L,decrement:D}}],[Oa,{slots:{description:S,errorMessage:E}}],[ga,C]]},$.createElement("div",{...N,...P,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":C.isInvalid||void 0}),e.name&&$.createElement("input",{type:"hidden",name:e.name,value:isNaN(b.numberValue)?"":b.numberValue}))}const lr=s.forwardRef(tr),nr="flow--number-field--group",ir="flow--number-field--input",or="flow--number-field--decrement-button",ur="flow--number-field--increment-button",sr="flow--number-field--coarse-pointer-icon",dr="flow--number-field--touch-icon",M={group:nr,input:ir,decrementButton:or,incrementButton:ur,coarsePointerIcon:sr,touchIcon:dr},cr=va("NumberField",e=>{const{children:a,className:r,refProp:n,onChange:o,...i}=e,f=da(j.formField,r),b={Label:{className:j.label,optional:!e.isRequired},FieldDescription:{className:j.fieldDescription},FieldError:{className:j.customFieldError}},c=x=>{setTimeout(()=>{o&&o(x)},150)};return $.createElement(ca,null,$.createElement(lr,{...i,className:f,onChange:c},$.createElement(Ma,{className:M.group},$.createElement(ce,{slot:"decrement",className:M.decrementButton,size:"s",variant:"plain",color:"secondary"},$.createElement(ba,null),$.createElement(ma,{className:M.coarsePointerIcon})),$.createElement(wa,{className:M.input,ref:n}),$.createElement(ce,{slot:"increment",className:M.incrementButton,size:"s",variant:"plain",color:"secondary"},$.createElement($a,null),$.createElement(pa,{className:M.coarsePointerIcon}))),$.createElement(fa,{props:b},a),$.createElement(sa,{className:j.fieldError})))});cr.__docgenInfo={description:"",methods:[],displayName:"NumberField"};export{cr as N};
