import{r as s,R as $}from"./index-BwDkhjyp.js";import{f as j,F as da}from"./FormField.module-DvflTJWd.js";import{c as ca}from"./clsx-B-dksMZM.js";import{d as fa,b as z,$ as J,h as ba,f as ma,C as $a,P as pa}from"./flowComponent-Dglj5cqB.js";import"./index-BhwfpT24.js";import"./IconApp-_FcSWQQl.js";import{I as va,G as xa,H as Fa,a as La}from"./IconWarning-DZA2CR2B.js";import{B as ce}from"./Button-Vp9K0Jj0.js";import{a as Pa}from"./Button-DxZy_SLj.js";import{$ as Da,c as Na,d as Ea,e as Ba,b as Ca,f as ha}from"./utils-DDqfTkhb.js";import{h as ga,$ as Va,e as Sa,f as ya}from"./Form-DmVgoquN.js";import{a as Ma,b as Ia,c as wa,$ as ka}from"./Group-BV_DmQML.js";import{a as Oa,$ as Ra}from"./Input-KxH1mW2Q.js";import{a as Ta}from"./Label-C1MFjKOK.js";import{a as Aa}from"./Text-Ck09bxUA.js";import{$ as $e}from"./filterDOMProps-CeZl_uWj.js";import{a as ja,$ as Ka}from"./useLocalizedStringFormatter-BNfLxuDa.js";import{$ as Wa}from"./useControlledState-C0C-dzuH.js";import{a as B,$ as Q}from"./number-nHrFdSb-.js";import{$ as fe}from"./NumberFormatter-DNR9MAW-.js";import{v as _a,$ as za,x as Ua,y as qa,p as Za}from"./useFocusable-1hkoevAF.js";import{$ as Ha}from"./useFormReset-Dz9no7wq.js";import{$ as Ya}from"./useEvent-CbpoCiOF.js";import{$ as Ga}from"./useTextField-DSnLTMjq.js";import{$ as be}from"./useNumberFormatter-BjTpfLvD.js";function Xa(e,a){let{onScroll:r,isDisabled:n}=e,o=s.useCallback(i=>{i.ctrlKey||(i.preventDefault(),i.stopPropagation(),r&&r({deltaX:i.deltaX,deltaY:i.deltaY}))},[r]);Ya(a,"wheel",n?void 0:o)}function me(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Ja(e,a,r){let n=fa(l=>{let t=r.current,d;switch(l.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":d=t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteContentForward":d=t.selectionEnd===t.selectionStart?t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd+1):t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteContentBackward":d=t.selectionEnd===t.selectionStart?t.value.slice(0,t.selectionStart-1)+t.value.slice(t.selectionStart):t.value.slice(0,t.selectionStart)+t.value.slice(t.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":d=t.value.slice(t.selectionStart);break;default:l.data!=null&&(d=t.value.slice(0,t.selectionStart)+l.data+t.value.slice(t.selectionEnd));break}(d==null||!a.validate(d))&&l.preventDefault()});s.useEffect(()=>{if(!me())return;let l=r.current;return l.addEventListener("beforeinput",n,!1),()=>{l.removeEventListener("beforeinput",n,!1)}},[r,n]);let o=me()?null:l=>{let t=l.target.value.slice(0,l.target.selectionStart)+l.data+l.target.value.slice(l.target.selectionEnd);a.validate(t)||l.preventDefault()},{labelProps:i,inputProps:f,descriptionProps:b,errorMessageProps:c,...x}=Ga(e,r),F=s.useRef(null);return{inputProps:z(f,{onBeforeInput:o,onCompositionStart(){let{value:l,selectionStart:t,selectionEnd:d}=r.current;F.current={value:l,selectionStart:t,selectionEnd:d}},onCompositionEnd(){if(!a.validate(r.current.value)){let{value:l,selectionStart:t,selectionEnd:d}=F.current;r.current.value=l,r.current.setSelectionRange(t,d),a.setInputValue(l)}}}),labelProps:i,descriptionProps:b,errorMessageProps:c,...x}}var pe={};pe={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var ve={};ve={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var xe={};xe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var Fe={};Fe={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var Le={};Le={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var Pe={};Pe={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var De={};De={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Ne={};Ne={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ee={};Ee={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Be={};Be={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var Ce={};Ce={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var he={};he={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var ge={};ge={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ve={};Ve={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var Se={};Se={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var ye={};ye={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Me={};Me={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var Ie={};Ie={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var we={};we={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var ke={};ke={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Oe={};Oe={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var Re={};Re={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Te={};Te={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ae={};Ae={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var je={};je={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var Ke={};Ke={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var We={};We={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var _e={};_e={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var ze={};ze={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ue={};Ue={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var qe={};qe={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var Ze={};Ze={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var He={};He={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ye={};Ye={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var Ge={};Ge={"ar-AE":pe,"bg-BG":ve,"cs-CZ":xe,"da-DK":Fe,"de-DE":Le,"el-GR":Pe,"en-US":De,"es-ES":Ne,"et-EE":Ee,"fi-FI":Be,"fr-FR":Ce,"he-IL":he,"hr-HR":ge,"hu-HU":Ve,"it-IT":Se,"ja-JP":ye,"ko-KR":Me,"lt-LT":Ie,"lv-LV":we,"nb-NO":ke,"nl-NL":Oe,"pl-PL":Re,"pt-BR":Te,"pt-PT":Ae,"ro-RO":je,"ru-RU":Ke,"sk-SK":We,"sl-SI":_e,"sr-SP":ze,"sv-SE":Ue,"tr-TR":qe,"uk-UA":Ze,"zh-CN":He,"zh-TW":Ye};function Qa(e){return e&&e.__esModule?e.default:e}function er(e,a,r){let{id:n,decrementAriaLabel:o,incrementAriaLabel:i,isDisabled:f,isReadOnly:b,isRequired:c,minValue:x,maxValue:F,autoFocus:l,label:t,formatOptions:d,onBlur:L=()=>{},onFocus:D,onFocusChange:S,onKeyDown:E,onKeyUp:C,description:P,errorMessage:N,isWheelDisabled:p,...U}=e,{increment:I,incrementToMax:q,decrement:w,decrementToMin:Z,numberValue:y,inputValue:m,commit:k,commitValidation:O}=a;const R=ja(Qa(Ge),"@react-aria/numberfield");let T=J(n),{focusProps:H}=_a({onBlur(){k()}}),K=be(d),Y=s.useMemo(()=>K.resolvedOptions(),[K]),W=be({...d,currencySign:void 0}),ae=s.useMemo(()=>isNaN(y)?"":W.format(y),[W,y]),{spinButtonProps:u,incrementButtonProps:_,decrementButtonProps:h}=Ma({isDisabled:f,isReadOnly:b,isRequired:c,maxValue:F,minValue:x,onIncrement:I,onIncrementToMax:q,onDecrement:w,onDecrementToMin:Z,value:y,textValue:ae}),[g,Je]=s.useState(!1),{focusWithinProps:Qe}=za({isDisabled:f,onFocusWithinChange:Je}),ea=s.useCallback(v=>{Math.abs(v.deltaY)<=Math.abs(v.deltaX)||(v.deltaY>0?I():v.deltaY<0&&w())},[w,I]);Xa({onScroll:ea,isDisabled:p||f||b||!g},r);let re=Y.maximumFractionDigits>0,te=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,A="numeric";Ua()?te?A="text":re&&(A="decimal"):qa()&&(te?A="numeric":re&&(A="decimal"));let aa=v=>{a.validate(v)&&a.setInputValue(v)},ra=$e(e),le=s.useCallback(v=>{v.key==="Enter"?(k(),O()):v.continuePropagation()},[k,O]),{isInvalid:ne,validationErrors:ta,validationDetails:la}=a.displayValidation,{labelProps:ie,inputProps:na,descriptionProps:ia,errorMessageProps:oa}=Ja({...U,...ra,name:void 0,label:t,autoFocus:l,isDisabled:f,isReadOnly:b,isRequired:c,validate:void 0,[ga]:a,value:m,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:T,type:"text",inputMode:A,onChange:aa,onBlur:L,onFocus:D,onFocusChange:S,onKeyDown:s.useMemo(()=>ba(le,E),[le,E]),onKeyUp:C,description:P,errorMessage:N},a,r);Ha(r,a.numberValue,a.setNumberValue);let oe=z(u,H,na,{role:null,"aria-roledescription":Za()?null:R.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(oe["aria-required"]=void 0);let ue=v=>{var X;document.activeElement!==r.current&&(v.pointerType==="mouse"?(X=r.current)===null||X===void 0||X.focus():v.target.focus())},G=e["aria-label"]||(typeof e.label=="string"?e.label:""),V;G||(V=e.label!=null?ie.id:e["aria-labelledby"]);let se=J(),de=J(),ua=z(_,{"aria-label":i||R.format("increase",{fieldLabel:G}).trim(),id:V&&!i?se:null,"aria-labelledby":V&&!i?`${se} ${V}`:null,"aria-controls":T,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:ue}),sa=z(h,{"aria-label":o||R.format("decrease",{fieldLabel:G}).trim(),id:V&&!o?de:null,"aria-labelledby":V&&!o?`${de} ${V}`:null,"aria-controls":T,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:ue});return{groupProps:{...Qe,role:"group","aria-disabled":f,"aria-invalid":ne?"true":void 0},labelProps:ie,inputProps:oe,incrementButtonProps:ua,decrementButtonProps:sa,errorMessageProps:oa,descriptionProps:ia,isInvalid:ne,validationErrors:ta,validationDetails:la}}function ar(e){let{minValue:a,maxValue:r,step:n,formatOptions:o,value:i,defaultValue:f=NaN,onChange:b,locale:c,isDisabled:x,isReadOnly:F}=e;i===null&&(i=NaN),i!==void 0&&!isNaN(i)&&(n!==void 0&&!isNaN(n)?i=B(i,a,r,n):i=Q(i,a,r)),isNaN(f)||(n!==void 0&&!isNaN(n)?f=B(f,a,r,n):f=Q(f,a,r));let[l,t]=Wa(i,isNaN(f)?NaN:f,b),[d,L]=s.useState(()=>isNaN(l)?"":new fe(c,o).format(l)),D=s.useMemo(()=>new Ia(c,o),[c,o]),S=s.useMemo(()=>D.getNumberingSystem(d),[D,d]),E=s.useMemo(()=>new fe(c,{...o,numberingSystem:S}),[c,o,S]),C=s.useMemo(()=>E.resolvedOptions(),[E]),P=s.useCallback(u=>isNaN(u)||u===null?"":E.format(u),[E]),N=Va({...e,value:l}),p=n!==void 0&&!isNaN(n)?n:1;C.style==="percent"&&(n===void 0||isNaN(n))&&(p=.01);let[U,I]=s.useState(l),[q,w]=s.useState(c),[Z,y]=s.useState(o);(!Object.is(l,U)||c!==q||o!==Z)&&(L(P(l)),I(l),w(c),y(o));let m=s.useMemo(()=>D.parse(d),[D,d]),k=()=>{if(!d.length){t(NaN),L(i===void 0?"":P(l));return}if(isNaN(m)){L(P(l));return}let u;n===void 0||isNaN(n)?u=Q(m,a,r):u=B(m,a,r,n),u=D.parse(P(u)),t(u),L(P(i===void 0?u:l))},O=(u,_=0)=>{let h=m;if(isNaN(h)){let g=isNaN(_)?0:_;return B(g,a,r,p)}else{let g=B(h,a,r,p);return u==="+"&&g>h||u==="-"&&g<h?g:B(ee(u,h,p),a,r,p)}},R=()=>{let u=O("+",a);u===l&&L(P(u)),t(u),N.commitValidation()},T=()=>{let u=O("-",r);u===l&&L(P(u)),t(u),N.commitValidation()},H=()=>{r!=null&&(t(B(r,a,r,p)),N.commitValidation())},K=()=>{a!=null&&(t(a),N.commitValidation())},Y=s.useMemo(()=>!x&&!F&&(isNaN(m)||r===void 0||isNaN(r)||B(m,a,r,p)>m||ee("+",m,p)<=r),[x,F,a,r,p,m]),W=s.useMemo(()=>!x&&!F&&(isNaN(m)||a===void 0||isNaN(a)||B(m,a,r,p)<m||ee("-",m,p)>=a),[x,F,a,r,p,m]);return{...N,validate:u=>D.isValidPartialNumber(u,a,r),increment:R,incrementToMax:H,decrement:T,decrementToMin:K,canIncrement:Y,canDecrement:W,minValue:a,maxValue:r,numberValue:m,setNumberValue:t,setInputValue:L,inputValue:d,commit:k}}function ee(e,a,r){let n=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const o=a.toString().split("."),i=r.toString().split("."),f=o[1]&&o[1].length||0,b=i[1]&&i[1].length||0,c=Math.pow(10,Math.max(f,b));a=Math.round(a*c),r=Math.round(r*c),n=e==="+"?a+r:a-r,n/=c}return n}const rr=s.createContext(null),tr=s.createContext(null);function lr(e,a){[e,a]=Da(e,a,rr);let{validationBehavior:r}=Na(Sa)||{};var n,o;let i=(o=(n=e.validationBehavior)!==null&&n!==void 0?n:r)!==null&&o!==void 0?o:"native",{locale:f}=Ka(),b=ar({...e,locale:f,validationBehavior:i}),c=s.useRef(null),[x,F]=Ea(),{labelProps:l,groupProps:t,inputProps:d,incrementButtonProps:L,decrementButtonProps:D,descriptionProps:S,errorMessageProps:E,...C}=er({...Ba(e),label:F,validationBehavior:i},b,c),P=Ca({...e,values:{state:b,isDisabled:e.isDisabled||!1,isInvalid:C.isInvalid||!1},defaultClassName:"react-aria-NumberField"}),N=$e(e);return delete N.id,$.createElement(ha,{values:[[tr,b],[wa,t],[Oa,{...d,ref:c}],[Ta,{...l,ref:x}],[Pa,{slots:{increment:L,decrement:D}}],[Aa,{slots:{description:S,errorMessage:E}}],[ya,C]]},$.createElement("div",{...N,...P,ref:a,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":C.isInvalid||void 0}),e.name&&$.createElement("input",{type:"hidden",name:e.name,value:isNaN(b.numberValue)?"":b.numberValue}))}const nr=s.forwardRef(lr),ir="flow--number-field--group",or="flow--number-field--input",ur="flow--number-field--decrement-button",sr="flow--number-field--increment-button",dr="flow--number-field--coarse-pointer-icon",cr="flow--number-field--touch-icon",M={group:ir,input:or,decrementButton:ur,incrementButton:sr,coarsePointerIcon:dr,touchIcon:cr},Xe=ma("NumberField",e=>{const{children:a,className:r,ref:n,onChange:o,...i}=e,f=ca(j.formField,r),b={Label:{className:j.label,optional:!e.isRequired},FieldDescription:{className:j.fieldDescription},FieldError:{className:j.customFieldError}},c=x=>{setTimeout(()=>{o&&o(x)},150)};return $.createElement($a,null,$.createElement(nr,{...i,className:f,onChange:c},$.createElement(ka,{className:M.group},$.createElement(ce,{slot:"decrement",className:M.decrementButton,size:"s",variant:"plain",color:"secondary"},$.createElement(va,null),$.createElement(xa,{className:M.coarsePointerIcon})),$.createElement(Ra,{className:M.input,ref:n}),$.createElement(ce,{slot:"increment",className:M.incrementButton,size:"s",variant:"plain",color:"secondary"},$.createElement(Fa,null),$.createElement(La,{className:M.coarsePointerIcon}))),$.createElement(pa,{props:b},a),$.createElement(da,{className:j.fieldError})))});Xe.__docgenInfo={description:"",methods:[],displayName:"NumberField"};Xe.__docgenInfo={description:"",methods:[],displayName:"NumberField"};export{Xe as N};
