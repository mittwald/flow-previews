import{$ as ve}from"./NumberFormatter-DNR9MAW-.js";import{$ as ye,a as he}from"./LiveAnnouncer-AIgN_avV.js";import{r as x,R as xe}from"./index-uCp2LrAq.js";import{d as ge}from"./usePress-BPPmAJfG.js";import{c as I,b as Ee}from"./index-CFQDndEx.js";import{a as Pe}from"./useLocalizedStringFormatter-CELuk77o.js";import{$ as Se,b as De}from"./utils-CblGkSXh.js";import{a as Ne,b as we}from"./useFocusable-SxMTR87z.js";const Fe=new RegExp("^.*\\(.*\\).*$"),Re=["latn","arab","hanidec"];class Te{parse(t){return T(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,e,r){return T(this.locale,this.options,t).isValidPartialNumber(t,e,r)}getNumberingSystem(t){return T(this.locale,this.options,t).options.numberingSystem}constructor(t,e={}){this.locale=t,this.options=e}}const V=new Map;function T(i,t,e){let r=C(i,t);if(!i.includes("-nu-")&&!r.isValidPartialNumber(e)){for(let n of Re)if(n!==r.options.numberingSystem){let o=C(i+(i.includes("-u-")?"-nu-":"-u-nu-")+n,t);if(o.isValidPartialNumber(e))return o}}return r}function C(i,t){let e=i+(t?Object.entries(t).sort((n,o)=>n[0]<o[0]?-1:1).join():""),r=V.get(e);return r||(r=new Ie(i,t),V.set(e,r)),r}class Ie{parse(t){let e=this.sanitize(t);if(this.symbols.group&&(e=w(e,this.symbols.group,"")),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(e=e.replace(this.symbols.minusSign,"-")),e=e.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let u=e.indexOf("-");e=e.replace("-","");let l=e.indexOf(".");l===-1&&(l=e.length),e=e.replace(".",""),l-2===0?e=`0.${e}`:l-2===-1?e=`0.0${e}`:l-2===-2?e="0.00":e=`${e.slice(0,l-2)}.${e.slice(l-2)}`,u>-1&&(e=`-${e}`)}let r=e?+e:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var n,o;let u={...this.options,style:"decimal",minimumFractionDigits:Math.min(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)+2,20),maximumFractionDigits:Math.min(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2,20)};return new Te(this.locale,u).parse(new ve(this.locale,u).format(r))}return this.options.currencySign==="accounting"&&Fe.test(t)&&(r=-1*r),r}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("،",this.symbols.decimal)),this.symbols.group&&(t=w(t,".",this.symbols.group))),this.options.locale==="fr-FR"&&(t=w(t,"."," ")),t}isValidPartialNumber(t,e=-1/0,r=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&e<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&r>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=w(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,e={}){this.locale=t,this.formatter=new Intl.NumberFormat(t,e),this.options=this.formatter.resolvedOptions(),this.symbols=Ce(t,this.formatter,this.options,e);var r,n;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((n=this.options.maximumFractionDigits)!==null&&n!==void 0?n:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const A=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Ve=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Ce(i,t,e,r){var n,o,u,l;let b=new Intl.NumberFormat(i,{...e,minimumSignificantDigits:1,maximumSignificantDigits:21}),d=b.formatToParts(-10000.111),p=b.formatToParts(10000.111),c=Ve.map(s=>b.formatToParts(s));var f;let $=(f=(n=d.find(s=>s.type==="minusSign"))===null||n===void 0?void 0:n.value)!==null&&f!==void 0?f:"-",m=(o=p.find(s=>s.type==="plusSign"))===null||o===void 0?void 0:o.value;!m&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(m="+");let v=(u=new Intl.NumberFormat(i,{...e,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(s=>s.type==="decimal"))===null||u===void 0?void 0:u.value,F=(l=d.find(s=>s.type==="group"))===null||l===void 0?void 0:l.value,g=d.filter(s=>!A.has(s.type)).map(s=>B(s.value)),E=c.flatMap(s=>s.filter(a=>!A.has(a.type)).map(a=>B(a.value))),h=[...new Set([...g,...E])].sort((s,a)=>a.length-s.length),P=h.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${h.join("|")}|[\\p{White_Space}]`,"gu"),S=[...new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)].reverse(),D=new Map(S.map((s,a)=>[s,a])),N=new RegExp(`[${S.join("")}]`,"g");return{minusSign:$,plusSign:m,decimal:v,group:F,literals:P,numeral:N,index:s=>String(D.get(s))}}function w(i,t,e){return i.replaceAll?i.replaceAll(t,e):i.split(t).join(e)}function B(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var _={};_={Empty:"فارغ"};var H={};H={Empty:"Изпразни"};var L={};L={Empty:"Prázdné"};var z={};z={Empty:"Tom"};var G={};G={Empty:"Leer"};var M={};M={Empty:"Άδειο"};var k={};k={Empty:"Empty"};var K={};K={Empty:"Vacío"};var U={};U={Empty:"Tühjenda"};var j={};j={Empty:"Tyhjä"};var W={};W={Empty:"Vide"};var q={};q={Empty:"ריק"};var O={};O={Empty:"Prazno"};var Y={};Y={Empty:"Üres"};var Z={};Z={Empty:"Vuoto"};var J={};J={Empty:"空"};var X={};X={Empty:"비어 있음"};var Q={};Q={Empty:"Tuščias"};var ee={};ee={Empty:"Tukšs"};var te={};te={Empty:"Tom"};var re={};re={Empty:"Leeg"};var ie={};ie={Empty:"Pusty"};var ae={};ae={Empty:"Vazio"};var se={};se={Empty:"Vazio"};var ne={};ne={Empty:"Gol"};var oe={};oe={Empty:"Не заполнено"};var le={};le={Empty:"Prázdne"};var de={};de={Empty:"Prazen"};var ue={};ue={Empty:"Prazno"};var ce={};ce={Empty:"Tomt"};var me={};me={Empty:"Boş"};var fe={};fe={Empty:"Пусто"};var pe={};pe={Empty:"空"};var $e={};$e={Empty:"空白"};var be={};be={"ar-AE":_,"bg-BG":H,"cs-CZ":L,"da-DK":z,"de-DE":G,"el-GR":M,"en-US":k,"es-ES":K,"et-EE":U,"fi-FI":j,"fr-FR":W,"he-IL":q,"hr-HR":O,"hu-HU":Y,"it-IT":Z,"ja-JP":J,"ko-KR":X,"lt-LT":Q,"lv-LV":ee,"nb-NO":te,"nl-NL":re,"pl-PL":ie,"pt-BR":ae,"pt-PT":se,"ro-RO":ne,"ru-RU":oe,"sk-SK":le,"sl-SI":de,"sr-SP":ue,"sv-SE":ce,"tr-TR":me,"uk-UA":fe,"zh-CN":pe,"zh-TW":$e};function Ae(i){return i&&i.__esModule?i.default:i}function je(i){const t=x.useRef();let{value:e,textValue:r,minValue:n,maxValue:o,isDisabled:u,isReadOnly:l,isRequired:b,onIncrement:d,onIncrementPage:p,onDecrement:c,onDecrementPage:f,onDecrementToMin:$,onIncrementToMax:m}=i;const y=Pe(Ae(be),"@react-aria/spinbutton"),v=()=>clearTimeout(t.current);x.useEffect(()=>()=>v(),[]);let F=a=>{if(!(a.ctrlKey||a.metaKey||a.shiftKey||a.altKey||l))switch(a.key){case"PageUp":if(p){a.preventDefault(),p==null||p();break}case"ArrowUp":case"Up":d&&(a.preventDefault(),d==null||d());break;case"PageDown":if(f){a.preventDefault(),f==null||f();break}case"ArrowDown":case"Down":c&&(a.preventDefault(),c==null||c());break;case"Home":$&&(a.preventDefault(),$==null||$());break;case"End":m&&(a.preventDefault(),m==null||m());break}},g=x.useRef(!1),E=()=>{g.current=!0},h=()=>{g.current=!1},P=r===""?y.format("Empty"):(r||`${e}`).replace("-","−");x.useEffect(()=>{g.current&&(ye("assertive"),he(P,"assertive"))},[P]);const S=I(a=>{v(),d==null||d(),t.current=window.setTimeout(()=>{(o===void 0||isNaN(o)||e===void 0||isNaN(e)||e<o)&&S(60)},a)}),D=I(a=>{v(),c==null||c(),t.current=window.setTimeout(()=>{(n===void 0||isNaN(n)||e===void 0||isNaN(e)||e>n)&&D(60)},a)});let N=a=>{a.preventDefault()},{addGlobalListener:R,removeAllGlobalListeners:s}=ge();return{spinButtonProps:{role:"spinbutton","aria-valuenow":e!==void 0&&!isNaN(e)?e:void 0,"aria-valuetext":P,"aria-valuemin":n,"aria-valuemax":o,"aria-disabled":u||void 0,"aria-readonly":l||void 0,"aria-required":b||void 0,onKeyDown:F,onFocus:E,onBlur:h},incrementButtonProps:{onPressStart:()=>{S(400),R(window,"contextmenu",N)},onPressEnd:()=>{v(),s()},onFocus:E,onBlur:h},decrementButtonProps:{onPressStart:()=>{D(400),R(window,"contextmenu",N)},onPressEnd:()=>{v(),s()},onFocus:E,onBlur:h}}}const Be=x.createContext({});function _e(i,t){[i,t]=Se(i,t,Be);let{isDisabled:e,isInvalid:r,onHoverStart:n,onHoverChange:o,onHoverEnd:u,...l}=i,{hoverProps:b,isHovered:d}=Ne({onHoverStart:n,onHoverChange:o,onHoverEnd:u,isDisabled:e}),{isFocused:p,isFocusVisible:c,focusProps:f}=we({within:!0});e??(e=!!i["aria-disabled"]&&i["aria-disabled"]!=="false"),r??(r=!!i["aria-invalid"]&&i["aria-invalid"]!=="false");let $=De({...i,values:{isHovered:d,isFocusWithin:p,isFocusVisible:c,isDisabled:e,isInvalid:r},defaultClassName:"react-aria-Group"});var m,y;return xe.createElement("div",{...Ee(l,f,b),...$,ref:t,role:(m=i.role)!==null&&m!==void 0?m:"group",slot:(y=i.slot)!==null&&y!==void 0?y:void 0,"data-focus-within":p||void 0,"data-hovered":d||void 0,"data-focus-visible":c||void 0,"data-disabled":e||void 0,"data-invalid":r||void 0},$.children)}const We=x.forwardRef(_e);export{We as $,je as a,Te as b,Be as c};
