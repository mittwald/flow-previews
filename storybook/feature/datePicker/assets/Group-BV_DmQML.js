import{$ as ye}from"./NumberFormatter-DNR9MAW-.js";import{r as g,R as ge}from"./index-BwDkhjyp.js";import{d as xe}from"./usePress-CeNy5sqc.js";import{d as R,b as Ee}from"./flowComponent-Dglj5cqB.js";import{a as Pe}from"./useLocalizedStringFormatter-BNfLxuDa.js";import{$ as Se,b as De}from"./utils-DDqfTkhb.js";import{a as we,b as Ne}from"./useFocusable-1hkoevAF.js";const Fe=new RegExp("^.*\\(.*\\).*$"),Le=["latn","arab","hanidec"];class _e{parse(e){return T(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,t,r){return T(this.locale,this.options,e).isValidPartialNumber(e,t,r)}getNumberingSystem(e){return T(this.locale,this.options,e).options.numberingSystem}constructor(e,t={}){this.locale=e,this.options=t}}const I=new Map;function T(i,e,t){let r=A(i,e);if(!i.includes("-nu-")&&!r.isValidPartialNumber(t)){for(let s of Le)if(s!==r.options.numberingSystem){let o=A(i+(i.includes("-u-")?"-nu-":"-u-nu-")+s,e);if(o.isValidPartialNumber(t))return o}}return r}function A(i,e){let t=i+(e?Object.entries(e).sort((s,o)=>s[0]<o[0]?-1:1).join():""),r=I.get(t);return r||(r=new Te(i,e),I.set(t,r)),r}class Te{parse(e){let t=this.sanitize(e);if(this.symbols.group&&(t=F(t,this.symbols.group,"")),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(t=t.replace(this.symbols.minusSign,"-")),t=t.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=t.indexOf("-");t=t.replace("-","");let o=t.indexOf(".");o===-1&&(o=t.length),t=t.replace(".",""),o-2===0?t=`0.${t}`:o-2===-1?t=`0.0${t}`:o-2===-2?t="0.00":t=`${t.slice(0,o-2)}.${t.slice(o-2)}`,s>-1&&(t=`-${t}`)}let r=t?+t:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(this.options.minimumFractionDigits+2,20),maximumFractionDigits:Math.min(this.options.maximumFractionDigits+2,20)};return new _e(this.locale,s).parse(new ye(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&Fe.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=F(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=F(e,"."," ")),e}isValidPartialNumber(e,t=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&t<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=F(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,t={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,t),this.options=this.formatter.resolvedOptions(),this.symbols=Ie(e,this.formatter,this.options,t);var r,s;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const C=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Re=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Ie(i,e,t,r){var s,o,$,f;let b=new Intl.NumberFormat(i,{...t,minimumSignificantDigits:1,maximumSignificantDigits:21}),l=b.formatToParts(-10000.111),m=b.formatToParts(10000.111),d=Re.map(n=>b.formatToParts(n));var c;let p=(c=(s=l.find(n=>n.type==="minusSign"))===null||s===void 0?void 0:s.value)!==null&&c!==void 0?c:"-",u=(o=m.find(n=>n.type==="plusSign"))===null||o===void 0?void 0:o.value;!u&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(u="+");let h=($=new Intl.NumberFormat(i,{...t,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(n=>n.type==="decimal"))===null||$===void 0?void 0:$.value,L=(f=l.find(n=>n.type==="group"))===null||f===void 0?void 0:f.value,x=l.filter(n=>!C.has(n.type)).map(n=>V(n.value)),E=d.flatMap(n=>n.filter(a=>!C.has(a.type)).map(a=>V(a.value))),y=[...new Set([...x,...E])].sort((n,a)=>a.length-n.length),P=y.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${y.join("|")}|[\\p{White_Space}]`,"gu"),S=[...new Intl.NumberFormat(t.locale,{useGrouping:!1}).format(9876543210)].reverse(),w=new Map(S.map((n,a)=>[n,a])),N=new RegExp(`[${S.join("")}]`,"g");return{minusSign:p,plusSign:u,decimal:h,group:L,literals:P,numeral:N,index:n=>String(w.get(n))}}function F(i,e,t){return i.replaceAll?i.replaceAll(e,t):i.split(e).join(t)}function V(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const B=7e3;let D=null;function Ae(i,e="assertive",t=B){D||(D=new Ve),D.announce(i,e,t)}function Ce(i){D&&D.clear(i)}class Ve{createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",r=B){if(!this.node)return;let s=document.createElement("div");s.textContent=e,t==="assertive"?this.assertiveLog.appendChild(s):this.politeLog.appendChild(s),e!==""&&setTimeout(()=>{s.remove()},r)}clear(e){this.node&&((!e||e==="assertive")&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}var H={};H={Empty:"فارغ"};var M={};M={Empty:"Изпразни"};var G={};G={Empty:"Prázdné"};var z={};z={Empty:"Tom"};var k={};k={Empty:"Leer"};var K={};K={Empty:"Άδειο"};var U={};U={Empty:"Empty"};var j={};j={Empty:"Vacío"};var W={};W={Empty:"Tühjenda"};var O={};O={Empty:"Tyhjä"};var q={};q={Empty:"Vide"};var Y={};Y={Empty:"ריק"};var Z={};Z={Empty:"Prazno"};var J={};J={Empty:"Üres"};var X={};X={Empty:"Vuoto"};var Q={};Q={Empty:"空"};var ee={};ee={Empty:"비어 있음"};var te={};te={Empty:"Tuščias"};var ie={};ie={Empty:"Tukšs"};var re={};re={Empty:"Tom"};var se={};se={Empty:"Leeg"};var ae={};ae={Empty:"Pusty"};var ne={};ne={Empty:"Vazio"};var oe={};oe={Empty:"Vazio"};var le={};le={Empty:"Gol"};var de={};de={Empty:"Не заполнено"};var ue={};ue={Empty:"Prázdne"};var ce={};ce={Empty:"Prazen"};var me={};me={Empty:"Prazno"};var pe={};pe={Empty:"Tomt"};var fe={};fe={Empty:"Boş"};var $e={};$e={Empty:"Пусто"};var be={};be={Empty:"空"};var he={};he={Empty:"空白"};var ve={};ve={"ar-AE":H,"bg-BG":M,"cs-CZ":G,"da-DK":z,"de-DE":k,"el-GR":K,"en-US":U,"es-ES":j,"et-EE":W,"fi-FI":O,"fr-FR":q,"he-IL":Y,"hr-HR":Z,"hu-HU":J,"it-IT":X,"ja-JP":Q,"ko-KR":ee,"lt-LT":te,"lv-LV":ie,"nb-NO":re,"nl-NL":se,"pl-PL":ae,"pt-BR":ne,"pt-PT":oe,"ro-RO":le,"ru-RU":de,"sk-SK":ue,"sl-SI":ce,"sr-SP":me,"sv-SE":pe,"tr-TR":fe,"uk-UA":$e,"zh-CN":be,"zh-TW":he};function Be(i){return i&&i.__esModule?i.default:i}function Oe(i){const e=g.useRef();let{value:t,textValue:r,minValue:s,maxValue:o,isDisabled:$,isReadOnly:f,isRequired:b,onIncrement:l,onIncrementPage:m,onDecrement:d,onDecrementPage:c,onDecrementToMin:p,onIncrementToMax:u}=i;const v=Pe(Be(ve),"@react-aria/spinbutton"),h=()=>clearTimeout(e.current);g.useEffect(()=>()=>h(),[]);let L=a=>{if(!(a.ctrlKey||a.metaKey||a.shiftKey||a.altKey||f))switch(a.key){case"PageUp":if(m){a.preventDefault(),m==null||m();break}case"ArrowUp":case"Up":l&&(a.preventDefault(),l==null||l());break;case"PageDown":if(c){a.preventDefault(),c==null||c();break}case"ArrowDown":case"Down":d&&(a.preventDefault(),d==null||d());break;case"Home":p&&(a.preventDefault(),p==null||p());break;case"End":u&&(a.preventDefault(),u==null||u());break}},x=g.useRef(!1),E=()=>{x.current=!0},y=()=>{x.current=!1},P=r===""?v.format("Empty"):(r||`${t}`).replace("-","−");g.useEffect(()=>{x.current&&(Ce("assertive"),Ae(P,"assertive"))},[P]);const S=R(a=>{h(),l==null||l(),e.current=window.setTimeout(()=>{(o===void 0||isNaN(o)||t===void 0||isNaN(t)||t<o)&&S(60)},a)}),w=R(a=>{h(),d==null||d(),e.current=window.setTimeout(()=>{(s===void 0||isNaN(s)||t===void 0||isNaN(t)||t>s)&&w(60)},a)});let N=a=>{a.preventDefault()},{addGlobalListener:_,removeAllGlobalListeners:n}=xe();return{spinButtonProps:{role:"spinbutton","aria-valuenow":t!==void 0&&!isNaN(t)?t:void 0,"aria-valuetext":P,"aria-valuemin":s,"aria-valuemax":o,"aria-disabled":$||void 0,"aria-readonly":f||void 0,"aria-required":b||void 0,onKeyDown:L,onFocus:E,onBlur:y},incrementButtonProps:{onPressStart:()=>{S(400),_(window,"contextmenu",N)},onPressEnd:()=>{h(),n()},onFocus:E,onBlur:y},decrementButtonProps:{onPressStart:()=>{w(400),_(window,"contextmenu",N)},onPressEnd:()=>{h(),n()},onFocus:E,onBlur:y}}}const He=g.createContext({});function Me(i,e){[i,e]=Se(i,e,He);let{isDisabled:t,isInvalid:r,onHoverStart:s,onHoverChange:o,onHoverEnd:$,...f}=i,{hoverProps:b,isHovered:l}=we({onHoverStart:s,onHoverChange:o,onHoverEnd:$,isDisabled:t}),{isFocused:m,isFocusVisible:d,focusProps:c}=Ne({within:!0});t??(t=!!i["aria-disabled"]&&i["aria-disabled"]!=="false"),r??(r=!!i["aria-invalid"]&&i["aria-invalid"]!=="false");let p=De({...i,values:{isHovered:l,isFocusWithin:m,isFocusVisible:d,isDisabled:t,isInvalid:r},defaultClassName:"react-aria-Group"});var u,v;return ge.createElement("div",{...Ee(f,c,b),...p,ref:e,role:(u=i.role)!==null&&u!==void 0?u:"group",slot:(v=i.slot)!==null&&v!==void 0?v:void 0,"data-focus-within":m||void 0,"data-hovered":l||void 0,"data-focus-visible":d||void 0,"data-disabled":t||void 0,"data-invalid":r||void 0},p.children)}const qe=g.forwardRef(Me);export{qe as $,Oe as a,_e as b,He as c,Ae as d};
