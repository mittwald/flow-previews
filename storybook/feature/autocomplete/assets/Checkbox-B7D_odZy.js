import{j as x}from"./jsx-runtime-D_zvdyIk.js";import{r as h,R}from"./index-BdpSHsi2.js";import{T as G,U,V as z}from"./IconWarning-CiFeQHgm.js";import{f as A,C as J}from"./PropsContextProvider-C0HkH0C2.js";import{c as K}from"./clsx-B-dksMZM.js";import{a as L}from"./RSPContexts-Cbm9ZJUe.js";import{$ as q,c as k,f as Q,e as O,a as E,d as X,b as Y}from"./utils-q_Aud5Js.js";import{$ as Z}from"./FieldError-rzQ5ghoP.js";import{$ as g,b as ee,d as S,a as ae,e as ie,f as de,c as M}from"./Form-Ckmgkmz_.js";import{$ as le}from"./Label-C5gSD-Mq.js";import{a as te}from"./Text-DtGJyZhh.js";import{$ as V,c as ne}from"./mergeRefs-COuk0-v5.js";import{$ as _}from"./filterDOMProps-CeZl_uWj.js";import{$ as se}from"./usePress-Cx3ZvVfI.js";import{$ as re,a as F}from"./useToggleState-DfK-P6lK.js";import{b as oe,a as ce,$ as fe}from"./useFocusRing-DHXckIXO.js";import{$ as ue}from"./VisuallyHidden-CRdqyLT8.js";import{$ as be}from"./useControlledState-rjpdN6qd.js";function j(a,e,l){let c=g({...a,value:e.isSelected}),{isInvalid:r,validationErrors:n,validationDetails:s}=c.displayValidation,{labelProps:d,inputProps:f,isSelected:i,isPressed:t,isDisabled:o,isReadOnly:v}=re({...a,isInvalid:r},e,l);ee(a,c,l);let{isIndeterminate:$,isRequired:u,validationBehavior:b="aria"}=a;h.useEffect(()=>{l.current&&(l.current.indeterminate=!!$)});let{pressProps:m}=se({isDisabled:o||v,onPress(){let{[S]:P}=a,{commitValidation:I}=P||c;I()}});return{labelProps:V(d,m),inputProps:{...f,checked:i,"aria-required":u&&b==="aria"||void 0,required:u&&b==="native"},isSelected:i,isPressed:t,isDisabled:o,isReadOnly:v,isInvalid:r,validationErrors:n,validationDetails:s}}const N=new WeakMap;function ve(a,e){let{isDisabled:l,name:c,validationBehavior:r="aria"}=a,{isInvalid:n,validationErrors:s,validationDetails:d}=e.displayValidation,{labelProps:f,fieldProps:i,descriptionProps:t,errorMessageProps:o}=ae({...a,labelElementType:"span",isInvalid:n,errorMessage:a.errorMessage||s});N.set(e,{name:c,descriptionId:t.id,errorMessageId:o.id,validationBehavior:r});let v=_(a,{labelable:!0}),{focusWithinProps:$}=oe({onBlurWithin:a.onBlur,onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange});return{groupProps:V(v,{role:"group","aria-disabled":l||void 0,...i,...$}),labelProps:f,descriptionProps:t,errorMessageProps:o,isInvalid:n,validationErrors:s,validationDetails:d}}function $e(a,e,l){const c=F({isReadOnly:a.isReadOnly||e.isReadOnly,isSelected:e.isSelected(a.value),onChange(m){m?e.addValue(a.value):e.removeValue(a.value),a.onChange&&a.onChange(m)}});let{name:r,descriptionId:n,errorMessageId:s,validationBehavior:d}=N.get(e);var f;d=(f=a.validationBehavior)!==null&&f!==void 0?f:d;let{realtimeValidation:i}=g({...a,value:c.isSelected,name:void 0,validationBehavior:"aria"}),t=h.useRef(ie),o=()=>{e.setInvalid(a.value,i.isInvalid?i:t.current)};h.useEffect(o);let v=e.realtimeValidation.isInvalid?e.realtimeValidation:i,$=d==="native"?e.displayValidation:v;var u;let b=j({...a,isReadOnly:a.isReadOnly||e.isReadOnly,isDisabled:a.isDisabled||e.isDisabled,name:a.name||r,isRequired:(u=a.isRequired)!==null&&u!==void 0?u:e.isRequired,validationBehavior:d,[S]:{realtimeValidation:v,displayValidation:$,resetValidation:e.resetValidation,commitValidation:e.commitValidation,updateValidation(m){t.current=m,o()}}},c,l);return{...b,inputProps:{...b.inputProps,"aria-describedby":[a["aria-describedby"],e.isInvalid?s:null,n].filter(Boolean).join(" ")||void 0}}}function me(a={}){let[e,l]=be(a.value,a.defaultValue||[],a.onChange),c=!!a.isRequired&&e.length===0,r=h.useRef(new Map),n=g({...a,value:e}),s=n.displayValidation.isInvalid;var d;return{...n,value:e,setValue(i){a.isReadOnly||a.isDisabled||l(i)},isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isSelected(i){return e.includes(i)},addValue(i){a.isReadOnly||a.isDisabled||e.includes(i)||l(e.concat(i))},removeValue(i){a.isReadOnly||a.isDisabled||e.includes(i)&&l(e.filter(t=>t!==i))},toggleValue(i){a.isReadOnly||a.isDisabled||(e.includes(i)?l(e.filter(t=>t!==i)):l(e.concat(i)))},setInvalid(i,t){let o=new Map(r.current);t.isInvalid?o.set(i,t):o.delete(i),r.current=o,n.updateValidation(de(...o.values()))},validationState:(d=a.validationState)!==null&&d!==void 0?d:s?"invalid":null,isInvalid:s,isRequired:c}}const he=h.createContext(null),w=h.createContext(null),We=h.forwardRef(function(e,l){[e,l]=q(e,l,he);let{validationBehavior:c}=k(M)||{};var r,n;let s=(n=(r=e.validationBehavior)!==null&&r!==void 0?r:c)!==null&&n!==void 0?n:"native",d=me({...e,validationBehavior:s}),[f,i]=X(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:t,labelProps:o,descriptionProps:v,errorMessageProps:$,...u}=ve({...e,label:i,validationBehavior:s},d),b=E({...e,values:{isDisabled:d.isDisabled,isReadOnly:d.isReadOnly,isRequired:e.isRequired||!1,isInvalid:d.isInvalid,state:d},defaultClassName:"react-aria-CheckboxGroup"});return R.createElement("div",{...t,...b,ref:l,slot:e.slot||void 0,"data-readonly":d.isReadOnly||void 0,"data-required":e.isRequired||void 0,"data-invalid":d.isInvalid||void 0,"data-disabled":e.isDisabled||void 0},R.createElement(Y,{values:[[w,d],[le,{...o,ref:f,elementType:"span"}],[te,{slots:{description:v,errorMessage:$}}],[Z,u]]},b.children))}),xe=h.forwardRef(function(e,l){let{inputRef:c=null,...r}=e;[e,l]=q(r,l,L);let{validationBehavior:n}=k(M)||{};var s,d;let f=(d=(s=e.validationBehavior)!==null&&s!==void 0?s:n)!==null&&d!==void 0?d:"native",i=h.useContext(w),t=Q(ne(c,e.inputRef!==void 0?e.inputRef:null)),{labelProps:o,inputProps:v,isSelected:$,isDisabled:u,isReadOnly:b,isPressed:m,isInvalid:P}=i?$e({...O(e),value:e.value,children:typeof e.children=="function"?!0:e.children},i,t):j({...O(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:f},F(e),t),{isFocused:I,isFocusVisible:p,focusProps:W}=ce(),T=u||b,{hoverProps:H,isHovered:D}=fe({...e,isDisabled:T}),C=E({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:$,isIndeterminate:e.isIndeterminate||!1,isPressed:m,isHovered:D,isFocused:I,isFocusVisible:p,isDisabled:u,isReadOnly:b,isInvalid:P,isRequired:e.isRequired||!1}}),B=_(e);return delete B.id,R.createElement("label",{...V(B,o,H,C),ref:l,slot:e.slot||void 0,"data-selected":$||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":m||void 0,"data-hovered":D||void 0,"data-focused":I||void 0,"data-focus-visible":p||void 0,"data-disabled":u||void 0,"data-readonly":b||void 0,"data-invalid":P||void 0,"data-required":e.isRequired||void 0},R.createElement(ue,{elementType:"span"},R.createElement("input",{...V(v,W),ref:t})),C.children)}),Pe="flow--checkbox",Re="flow--checkbox--icon",y={checkbox:Pe,icon:Re},Ie=A("Checkbox",a=>{const{children:e,className:l,ref:c,...r}=a,n=K(y.checkbox,l);return x.jsx(J,{children:x.jsx(xe,{...r,className:n,ref:c,children:({isSelected:s,isIndeterminate:d})=>x.jsxs(x.Fragment,{children:[s?x.jsx(G,{className:y.icon}):d?x.jsx(U,{className:y.icon}):x.jsx(z,{className:y.icon}),e]})})})});Ie.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"Checkbox"};export{We as $,Ie as C};
