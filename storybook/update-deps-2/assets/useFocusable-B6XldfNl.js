import{b as l,c as p,d as x}from"./useFocus-Dz5Sgz6F.js";import{$ as i}from"./mergeRefs-CQveTfyF.js";import{c as P}from"./utils-D9H5ZYVa.js";import{R as c,r as u}from"./index-CgfFrydU.js";function $(e){if(!e)return;let t=!0;return r=>{let o={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(o),t&&r.stopPropagation()}}function v(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:$(e.onKeyDown),onKeyUp:$(e.onKeyUp)}}}let b=c.createContext(null);function D(e){let t=u.useContext(b)||{};x(t,e);let{ref:r,...o}=t;return o}const K=c.forwardRef(function(t,r){let{children:o,...a}=t,f=P(r),n={...a,ref:f};return c.createElement(b.Provider,{value:n},o)});function h(e,t){let{focusProps:r}=l(e),{keyboardProps:o}=v(e),a=i(r,o),f=D(t),n=e.isDisabled?{}:f,d=u.useRef(e.autoFocus);u.useEffect(()=>{d.current&&t.current&&p(t.current),d.current=!1},[t]);let s=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(s=void 0),{focusableProps:i({...a,tabIndex:s},n)}}export{h as $,b as a,K as b,v as c};
