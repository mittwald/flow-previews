import{$ as w,a as S}from"./utils-D9H5ZYVa.js";import{$ as T}from"./ProgressBar-BwjDzH8d.js";import{$ as y}from"./LiveAnnouncer-CeCcBDbP.js";import{$ as U}from"./Hidden-DwT0szmK.js";import{$ as g,e as D}from"./mergeRefs-CQveTfyF.js";import{$ as C}from"./filterDOMProps-CeZl_uWj.js";import{r as h,R as F}from"./index-CgfFrydU.js";import{$ as V}from"./usePress--lgM-7rV.js";import{$ as k}from"./useFocusable-B6XldfNl.js";import{b as H,a as I}from"./useFocusRing-VURPolDQ.js";function B(e,a){let{elementType:d="button",isDisabled:t,onPress:s,onPressStart:r,onPressEnd:m,onPressUp:x,onPressChange:i,preventFocusOnPress:b,allowFocusWhenDisabled:p,onClick:c,href:u,target:$,rel:o,type:f="button"}=e,n;d==="button"?n={type:f,disabled:t}:n={role:"button",href:d==="a"&&!t?u:void 0,target:d==="a"?$:void 0,type:d==="input"?f:void 0,disabled:d==="input"?t:void 0,"aria-disabled":!t||d==="input"?void 0:t,rel:d==="a"?o:void 0};let{pressProps:l,isPressed:P}=V({onPressStart:r,onPressEnd:m,onPressChange:i,onPress:s,onPressUp:x,onClick:c,isDisabled:t,preventFocusOnPress:b,ref:a}),{focusableProps:v}=k(e,a);p&&(v.tabIndex=t?-1:v.tabIndex);let E=g(v,l,C(e,{labelable:!0}));return{isPressed:P,buttonProps:g(n,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"]})}}const N=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),O=h.createContext({}),Q=U(function(a,d){[a,d]=w(a,d,O),a=R(a);let t=a,{isPending:s}=t,{buttonProps:r,isPressed:m}=B(a,d),{focusProps:x,isFocused:i,isFocusVisible:b}=H(a),{hoverProps:p,isHovered:c}=I({...a,isDisabled:a.isDisabled||s}),u={isHovered:c,isPressed:(t.isPressed||m)&&!s,isFocused:i,isFocusVisible:b,isDisabled:a.isDisabled||!1,isPending:s??!1},$=S({...a,values:u,defaultClassName:"react-aria-Button"}),o=D(r.id),f=D(),n=r["aria-labelledby"];s&&(n?n=`${n} ${f}`:r["aria-label"]&&(n=`${o} ${f}`));let l=h.useRef(s);return h.useEffect(()=>{let P={"aria-labelledby":n||o};!l.current&&i&&s?y(P,"assertive"):l.current&&i&&!s&&y(P,"assertive"),l.current=s},[s,i,n,o]),F.createElement("button",{...C(a,{propNames:N}),...g(r,x,p),...$,type:r.type==="submit"&&s?"button":r.type,id:o,ref:d,"aria-labelledby":n,slot:a.slot||void 0,"aria-disabled":s?"true":r["aria-disabled"],"data-disabled":a.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":c||void 0,"data-focused":i||void 0,"data-pending":s||void 0,"data-focus-visible":b||void 0},F.createElement(T.Provider,{value:{id:f}},$.children))});function R(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{Q as $,O as a,B as b};
