import{a as D,j as u}from"./iframe-skRbRPoL.js";import{B as h}from"./Button-Dz0DuBiT.js";import{w as T}from"./IconWarning-DXpZ8EkD.js";import{T as E,a as R}from"./Tooltip-Dj9B3O7t.js";import{o as S}from"./react-children-utilities-EZnmKX7q.js";import{f as A}from"./PropsContextProvider-D-E9sUQW.js";import{A as j}from"./Action-BwiD4nix.js";import{$ as k}from"./useLocalizedStringFormatter-CwRDR58d.js";var g,v;function B(){return v||(v=1,g=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var r=document.activeElement,s=[],l=0;l<o.rangeCount;l++)s.push(o.getRangeAt(l));switch(r.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":r.blur();break;default:r=null;break}return o.removeAllRanges(),function(){o.type==="Caret"&&o.removeAllRanges(),o.rangeCount||s.forEach(function(p){o.addRange(p)}),r&&r.focus()}}),g}var b,x;function U(){if(x)return b;x=1;var o=B(),r={"text/plain":"Text","text/html":"Url",default:"Text"},s="Copy to clipboard: #{key}, Enter";function l(n){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,t)}function p(n,t){var a,d,C,f,i,e,m=!1;t||(t={}),a=t.debug||!1;try{C=o(),f=document.createRange(),i=document.getSelection(),e=document.createElement("span"),e.textContent=n,e.ariaHidden="true",e.style.all="unset",e.style.position="fixed",e.style.top=0,e.style.clip="rect(0, 0, 0, 0)",e.style.whiteSpace="pre",e.style.webkitUserSelect="text",e.style.MozUserSelect="text",e.style.msUserSelect="text",e.style.userSelect="text",e.addEventListener("copy",function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),typeof c.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var y=r[t.format]||r.default;window.clipboardData.setData(y,n)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,n);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(e),f.selectNodeContents(e),i.addRange(f);var w=document.execCommand("copy");if(!w)throw new Error("copy command was unsuccessful");m=!0}catch(c){a&&console.error("unable to copy using execCommand: ",c),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",n),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(y){a&&console.error("unable to copy using clipboardData: ",y),a&&console.error("falling back to prompt"),d=l("message"in t?t.message:s),window.prompt(d,n)}}finally{i&&(typeof i.removeRange=="function"?i.removeRange(f):i.removeAllRanges()),e&&document.body.removeChild(e),C()}return m}return b=p,b}var I=U();const F=D(I),q={"de-DE":{"copyButton.copy":"Kopieren"},"en-US":{"copyButton.copy":"Copy"}},N=A("CopyButton",o=>{const{text:r="",ref:s,variant:l="plain",color:p="secondary",...n}=o,a=k(q).format("copyButton.copy"),d=()=>{F(S(r))};return u.jsxs(E,{children:[u.jsx(j,{action:d,showFeedback:!0,children:u.jsx(h,{"aria-label":a,...n,ref:s,variant:l,color:p,children:u.jsx(T,{})})}),u.jsx(R,{children:a})]})});N.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"CopyButton"};export{N as C};
