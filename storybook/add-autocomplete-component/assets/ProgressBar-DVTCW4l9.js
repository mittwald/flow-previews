import{$ as x,c as v,a as P}from"./utils-CoJ4Pv5P.js";import{$ as g}from"./Label-CogRznyR.js";import{r as u,R as p}from"./index-BZISi7jw.js";import{a as V}from"./index-IBhSrjl6.js";import{$ as h}from"./filterDOMProps-CeZl_uWj.js";import{$ as N}from"./useLabel-Hju3pN3c.js";import{a as M}from"./useLocalizedStringFormatter-D6AjEcek.js";import{$ as I}from"./NumberFormatter-DNR9MAW-.js";function m(l,e=-1/0,a=1/0){return Math.min(Math.max(l,e),a)}function d(l,e){let a=l,r=e.toString(),f=r.indexOf("."),t=f>=0?r.length-f:0;if(t>0){let o=Math.pow(10,t);a=Math.round(a*o)/o}return a}function j(l,e,a,r){e=Number(e),a=Number(a);let f=(l-(isNaN(e)?0:e))%r,t=d(Math.abs(f)*2>=r?l+Math.sign(f)*(r-Math.abs(f)):l-f,r);return isNaN(e)?!isNaN(a)&&t>a&&(t=Math.floor(d(a/r,r))*r):t<e?t=e:!isNaN(a)&&t>a&&(t=e+Math.floor(d((a-e)/r,r))*r),t=d(t,r),t}function w(l={}){let{locale:e}=M();return u.useMemo(()=>new I(e,l),[e,l])}function y(l){let{value:e=0,minValue:a=0,maxValue:r=100,valueLabel:f,isIndeterminate:t,formatOptions:o={style:"percent"}}=l,c=h(l,{labelable:!0}),{labelProps:s,fieldProps:n}=N({...l,labelElementType:"span"});e=m(e,a,r);let $=(e-a)/(r-a),b=w(o);if(!t&&!f){let i=o.style==="percent"?$:e;f=b.format(i)}return{progressBarProps:V(c,{...n,"aria-valuenow":t?void 0:e,"aria-valuemin":a,"aria-valuemax":r,"aria-valuetext":t?void 0:f,role:"progressbar"}),labelProps:s}}const B=u.createContext(null),k=u.forwardRef(function(e,a){[e,a]=x(e,a,B);let{value:r=0,minValue:f=0,maxValue:t=100,isIndeterminate:o=!1}=e;r=m(r,f,t);let[c,s]=v(),{progressBarProps:n,labelProps:$}=y({...e,label:s}),b=o?void 0:(r-f)/(t-f)*100,i=P({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:b,valueText:n["aria-valuetext"],isIndeterminate:o}});return p.createElement("div",{...n,...i,ref:a,slot:e.slot||void 0},p.createElement(g.Provider,{value:{...$,ref:c,elementType:"span"}},i.children))});export{B as $,w as a,k as b,m as c,j as d};
