import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as d}from"./index-BZISi7jw.js";import{g as O,s as P,a as $,b as A}from"./ContextMenuSection-DIi_ga2o.js";import{f as x,C as F,P as u}from"./flowComponent-B-ghCXY_.js";import{P as R}from"./Popover-BXp6YeMU.js";import{u as k,a as z,M as W,O as E}from"./MenuTrigger-BuIzu3H_.js";import{A as K}from"./Action-CBGMaTwy.js";import{f as q}from"./OverlayArrow-r6uz-b7H.js";import{c as p}from"./clsx-B-dksMZM.js";import{r as D,s as G}from"./Dialog-Dv5UhFoB.js";import{v as f}from"./IconApp-vAs-LrT2.js";import{F as H,G as J,H as B,J as L}from"./IconWarning-DIwIHW1V.js";import{S as g}from"./Switch-CTR0X8it.js";const h=o=>{const t=d.useContext(f).ContextMenuContent??y;return e.jsx(t,{...o})};h.__docgenInfo={description:"",methods:[],displayName:"ContextMenuContentView"};const Q=x("ContextMenu",o=>{const{children:t,onAction:n,selectionMode:s,selectedKeys:i,defaultSelectedKeys:a,disabledKeys:l,onSelectionChange:m,ref:v,controller:w,closeOverlay:j,triggerRef:c,...N}=o,_=k("ContextMenu",{reuseControllerFromContext:!0}),C=w??_,S={MenuItem:{selectionVariant:$(s),Avatar:{size:"l"}},Section:{MenuItem:{Avatar:{size:"l"}},renderContextMenuSection:!0},ContextMenuSection:{MenuItem:{Avatar:{size:"l"}}}},[T,b]=d.useState(),V=d.useCallback(()=>{c!=null&&c.current&&b(c.current.offsetWidth+"px")},[]);return q({ref:c,onResize:V}),e.jsx(F,{children:e.jsx(R,{...N,controller:C,isDialogContent:!1,padding:"s",triggerRef:c,style:{"--trigger-width":T??"0"},children:e.jsx(z,{type:"ContextMenu",controller:C,children:e.jsx(h,{className:P.contextMenu,onAction:n,selectionMode:O(s),selectedKeys:i,defaultSelectedKeys:a,disabledKeys:l,onSelectionChange:m,ref:v,children:e.jsx(u,{props:S,children:e.jsx(K,{closeOverlay:A(s,j),children:t})})})})})})});Q.__docgenInfo={description:"",methods:[],displayName:"ContextMenu"};const U="flow--menu-item",X="flow--menu-item--icon",Y="flow--menu-item--control-icon",Z="flow--menu-item--avatar",r={menuItem:U,switch:"flow--menu-item--switch",icon:X,controlIcon:Y,avatar:Z},M=o=>{const{selectionMode:t,isSelected:n,selectionVariant:s="control",children:i}=o,a={Icon:{className:r.icon},Text:{className:r.text},Avatar:{className:r.avatar}},l={Icon:{className:p(r.controlIcon,r.icon)},Switch:{className:p(r.controlIcon,r.switch)}},m=t==="none"||s==="navigation"?null:s==="switch"&&n?e.jsx(g,{isReadOnly:!0,isSelected:!0}):s==="switch"&&!n?e.jsx(g,{isReadOnly:!0}):t==="single"&&n?e.jsx(H,{}):t==="single"&&!n?e.jsx(J,{}):t==="multiple"&&n?e.jsx(B,{}):e.jsx(L,{});return e.jsxs(e.Fragment,{children:[e.jsx(u,{props:l,children:m}),e.jsx(u,{props:a,children:i})]})};M.__docgenInfo={description:"",methods:[],displayName:"MenuItemContent",props:{selectionVariant:{required:!1,tsType:{name:"union",raw:'"control" | "navigation" | "switch"',elements:[{name:"literal",value:'"control"'},{name:"literal",value:'"navigation"'},{name:"literal",value:'"switch"'}]},description:""}},composes:["PropsWithChildren"]};const ee=x("MenuItem",o=>{const{children:t,className:n,selectionVariant:s,ref:i,...a}=o,l=p(r.menuItem,n);return e.jsx(D,{...a,className:l,ref:i,children:m=>e.jsx(M,{...m,selectionVariant:s,children:t})})});ee.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"MenuItem"};const I=o=>{const t=d.useContext(f).MenuTrigger??W;return e.jsx(t,{...o})};I.__docgenInfo={description:"",methods:[],displayName:"MenuTriggerView"};const te=x("ContextMenuTrigger",o=>{const{children:t,...n}=o;return e.jsx(E,{overlayType:"ContextMenu",...n,component:I,children:t})});te.__docgenInfo={description:"",methods:[],displayName:"ContextMenuTrigger"};const y=o=>e.jsx(G,{...o});y.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"ContextMenuContent"};export{Q as C,ee as M,te as a};
