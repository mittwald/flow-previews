import{$ as k,a as S}from"./utils-B8p6n-_S.js";import{$ as T}from"./ProgressBar-CMGFgh_N.js";import{$ as y}from"./LiveAnnouncer-CeCcBDbP.js";import{$ as U}from"./Hidden-kqRI_mPI.js";import{a as g,d as C}from"./index-DmntCNXg.js";import{$ as F}from"./filterDOMProps-CeZl_uWj.js";import{r as h,R as D}from"./index-BZISi7jw.js";import{$ as V}from"./usePress-D_abas1X.js";import{$ as H}from"./useFocusable-dJayk3b7.js";import{b as I,a as O}from"./useFocusRing-C08ZnYSv.js";function B(e,a){let{elementType:d="button",isDisabled:t,onPress:s,onPressStart:r,onPressEnd:m,onPressUp:p,onPressChange:i,preventFocusOnPress:b,allowFocusWhenDisabled:x,onClick:l,href:u,target:$,rel:o,type:f="button"}=e,n;d==="button"?n={type:f,disabled:t}:n={role:"button",href:d==="a"&&!t?u:void 0,target:d==="a"?$:void 0,type:d==="input"?f:void 0,disabled:d==="input"?t:void 0,"aria-disabled":!t||d==="input"?void 0:t,rel:d==="a"?o:void 0};let{pressProps:c,isPressed:P}=V({onPressStart:r,onPressEnd:m,onPressChange:i,onPress:s,onPressUp:p,isDisabled:t,preventFocusOnPress:b,ref:a}),{focusableProps:v}=H(e,a);x&&(v.tabIndex=t?-1:v.tabIndex);let E=g(v,c,F(e,{labelable:!0}));return{isPressed:P,buttonProps:g(n,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"],onClick:w=>{l&&(l(w),console.warn("onClick is deprecated, please use onPress"))}})}}const N=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),R=h.createContext({}),X=U(function(a,d){[a,d]=k(a,d,R),a=A(a);let t=a,{isPending:s}=t,{buttonProps:r,isPressed:m}=B(a,d),{focusProps:p,isFocused:i,isFocusVisible:b}=I(a),{hoverProps:x,isHovered:l}=O({...a,isDisabled:a.isDisabled||s}),u={isHovered:l,isPressed:(t.isPressed||m)&&!s,isFocused:i,isFocusVisible:b,isDisabled:a.isDisabled||!1,isPending:s??!1},$=S({...a,values:u,defaultClassName:"react-aria-Button"}),o=C(r.id),f=C(),n=r["aria-labelledby"];s&&(n?n=`${n} ${f}`:r["aria-label"]&&(n=`${o} ${f}`));let c=h.useRef(s);return h.useEffect(()=>{let P={"aria-labelledby":n||o};!c.current&&i&&s?y(P,"assertive"):c.current&&i&&!s&&y(P,"assertive"),c.current=s},[s,i,n,o]),D.createElement("button",{...F(a,{propNames:N}),...g(r,p,x),...$,type:r.type==="submit"&&s?"button":r.type,id:o,ref:d,"aria-labelledby":n,slot:a.slot||void 0,"aria-disabled":s?"true":r["aria-disabled"],"data-disabled":a.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":l||void 0,"data-focused":i||void 0,"data-pending":s||void 0,"data-focus-visible":b||void 0},D.createElement(T.Provider,{value:{id:f}},$.children))});function A(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{X as $,R as a,B as b};
