import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{f as d}from"./FormField.module-B9AzUSUD.js";import{$ as b,a as g}from"./useFormValidation-BP6joqgG.js";import{r as F}from"./index-BdpSHsi2.js";import{a as h}from"./FieldError-D2eBwE7I.js";import{a as y,$ as I}from"./Input-Dom3MqAg.js";import{f as m}from"./utils-q_Aud5Js.js";import{P as u,f as P}from"./PropsContextProvider-D7AXJBUb.js";const j="flow--file-field--trigger",C={trigger:j},v=a=>{const{children:p,isDisabled:n,onChange:e,ref:c}=a,t=m(c),o=()=>{var r,i;(r=t.current)!=null&&r.value&&(t.current.value="",e==null||e(null)),(i=t.current)==null||i.click()},f=r=>{e==null||e(r.target.files)},l={Button:{onPress:o,className:C.trigger,isDisabled:n}};return s.jsxs(u,{props:l,mergeInParentContext:!0,children:[p,s.jsx(y,{style:{display:"none"},type:"file",ref:t,onChange:f})]})};v.__docgenInfo={description:"@internal",methods:[],displayName:"FileInput",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: FileList | null) => void",signature:{arguments:[{type:{name:"union",raw:"FileList | null",elements:[{name:"FileList"},{name:"null"}]},name:"files"}],return:{name:"void"}}},description:""},isDisabled:{required:!1,tsType:{name:"boolean"},description:""},ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""}},composes:["PropsWithChildren"]};const N=P("FileField",a=>{const{children:p,ref:n,isRequired:e,isInvalid:c,isDisabled:t,validationBehavior:o,onChange:f,...l}=a,r=m(n),i=b({value:void 0,validationBehavior:o,isInvalid:c});g({validationBehavior:o},i,r);const x=F.useMemo(()=>({...l,ref:r,"aria-invalid":i.displayValidation.isInvalid,value:void 0}),[i,e,...Object.values(l)]),$={Label:{className:d.label,optional:!a.isRequired},FieldDescription:{className:d.fieldDescription},FieldError:{className:d.customFieldError}};return s.jsx(I.Provider,{value:x,children:s.jsx(h.Provider,{value:i.displayValidation,children:s.jsx(u,{props:$,children:s.jsx("div",{"data-required":!!e||void 0,"data-invalid":i.displayValidation.isInvalid||void 0,className:d.formField,children:s.jsx(v,{ref:n,onChange:f,isDisabled:t,children:p})})})})})});N.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"FileField"};export{N as F};
