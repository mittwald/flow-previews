import{R as F,r as $,j as ne}from"./iframe-BLnMNn74.js";import{d as Rt}from"./dynamic-lDfDlCad.js";import{v as Ot,P as Lt}from"./flowComponent-Cc_1rAUW.js";import{F as Tt,i as Mt}from"./Modal-8XeHYI3F.js";import{$ as Pt}from"./useLocalizedStringFormatter-B2X4EAgn.js";import{i as Ut}from"./browser-3pbWDgJF.js";import{b as Nt}from"./utils-mouUCLqv.js";import{f as Bt}from"./Section-C4IRs01H.js";var ge=e=>e.type==="checkbox",le=e=>e instanceof Date,W=e=>e==null;const ot=e=>typeof e=="object";var T=e=>!W(e)&&!Array.isArray(e)&&ot(e)&&!le(e),lt=e=>T(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,It=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ut=(e,s)=>e.has(It(s)),Ht=e=>{const s=e.constructor&&e.constructor.prototype;return T(s)&&s.hasOwnProperty("isPrototypeOf")},Re=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let s;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Re&&(e instanceof Blob||i))&&(t||T(e)))if(s=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Ht(e))s=e;else for(const a in e)e.hasOwnProperty(a)&&(s[a]=P(e[a]));else return e;return s}var xe=e=>/^\w*$/.test(e),R=e=>e===void 0,Oe=e=>Array.isArray(e)?e.filter(Boolean):[],Le=e=>Oe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),m=(e,s,t)=>{if(!s||!T(e))return t;const i=(xe(s)?[s]:Le(s)).reduce((a,o)=>W(a)?a:a[o],e);return R(i)||i===e?R(e[s])?t:e[s]:i},j=e=>typeof e=="boolean",p=(e,s,t)=>{let i=-1;const a=xe(s)?[s]:Le(s),o=a.length,d=o-1;for(;++i<o;){const u=a[i];let _=t;if(i!==d){const x=e[u];_=T(x)||Array.isArray(x)?x:isNaN(+a[i+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=_,e=e[u]}};const Fe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Y={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Te=F.createContext(null);Te.displayName="HookFormContext";const Me=()=>F.useContext(Te),qt=e=>{const{children:s,...t}=e;return F.createElement(Te.Provider,{value:t},s)};var dt=(e,s,t,i=!0)=>{const a={defaultValues:s._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const d=o;return s._proxyFormState[d]!==Y.all&&(s._proxyFormState[d]=!i||Y.all),t&&(t[d]=!0),e[d]}});return a};const Pe=typeof window<"u"?F.useLayoutEffect:F.useEffect;function Wt(e){const s=Me(),{control:t=s.control,disabled:i,name:a,exact:o}=e||{},[d,u]=F.useState(t._formState),_=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pe(()=>t._subscribe({name:a,formState:_.current,exact:o,callback:x=>{!i&&u({...t._formState,...x})}}),[a,i,o]),F.useEffect(()=>{_.current.isValid&&t._setValid(!0)},[t]),F.useMemo(()=>dt(d,t,_.current,!1),[d,t])}var K=e=>typeof e=="string",ct=(e,s,t,i,a)=>K(e)?(i&&s.watch.add(e),m(t,e,a)):Array.isArray(e)?e.map(o=>(i&&s.watch.add(o),m(t,o))):(i&&(s.watchAll=!0),t),pe=e=>W(e)||!ot(e);function ie(e,s,t=new WeakSet){if(pe(e)||pe(s))return e===s;if(le(e)&&le(s))return e.getTime()===s.getTime();const i=Object.keys(e),a=Object.keys(s);if(i.length!==a.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const o of i){const d=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const u=s[o];if(le(d)&&le(u)||T(d)&&T(u)||Array.isArray(d)&&Array.isArray(u)?!ie(d,u,t):d!==u)return!1}}return!0}function ft(e){const s=Me(),{control:t=s.control,name:i,defaultValue:a,disabled:o,exact:d,compute:u}=e||{},_=F.useRef(a),x=F.useRef(u),b=F.useRef(void 0);x.current=u;const V=F.useMemo(()=>t._getWatch(i,_.current),[t,i]),[h,B]=F.useState(x.current?x.current(V):V);return Pe(()=>t._subscribe({name:i,formState:{values:!0},exact:d,callback:U=>{if(!o){const C=ct(i,t._names,U.values||t._formValues,!1,_.current);if(x.current){const N=x.current(C);ie(N,b.current)||(B(N),b.current=N)}else B(C)}}}),[t,o,i,d]),F.useEffect(()=>t._removeUnmounted()),h}function jt(e){const s=Me(),{name:t,disabled:i,control:a=s.control,shouldUnregister:o,defaultValue:d}=e,u=ut(a._names.array,t),_=F.useMemo(()=>m(a._formValues,t,m(a._defaultValues,t,d)),[a,t,d]),x=ft({control:a,name:t,defaultValue:_,exact:!0}),b=Wt({control:a,name:t,exact:!0}),V=F.useRef(e),h=F.useRef(void 0),B=F.useRef(a.register(t,{...e.rules,value:x,...j(e.disabled)?{disabled:e.disabled}:{}}));V.current=e;const U=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!m(b.errors,t)},isDirty:{enumerable:!0,get:()=>!!m(b.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!m(b.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!m(b.validatingFields,t)},error:{enumerable:!0,get:()=>m(b.errors,t)}}),[b,t]),C=F.useCallback(D=>B.current.onChange({target:{value:lt(D),name:t},type:Fe.CHANGE}),[t]),N=F.useCallback(()=>B.current.onBlur({target:{value:m(a._formValues,t),name:t},type:Fe.BLUR}),[t,a._formValues]),re=F.useCallback(D=>{const M=m(a._fields,t);M&&D&&(M._f.ref={focus:()=>D.focus&&D.focus(),select:()=>D.select&&D.select(),setCustomValidity:w=>D.setCustomValidity(w),reportValidity:()=>D.reportValidity()})},[a._fields,t]),v=F.useMemo(()=>({name:t,value:x,...j(i)||b.disabled?{disabled:b.disabled||i}:{},onChange:C,onBlur:N,ref:re}),[t,i,b.disabled,C,N,re,x]);return F.useEffect(()=>{const D=a._options.shouldUnregister||o,M=h.current;M&&M!==t&&!u&&a.unregister(M),a.register(t,{...V.current.rules,...j(V.current.disabled)?{disabled:V.current.disabled}:{}});const w=(Q,G)=>{const X=m(a._fields,Q);X&&X._f&&(X._f.mount=G)};if(w(t,!0),D){const Q=P(m(a._options.defaultValues,t,V.current.defaultValue));p(a._defaultValues,t,Q),R(m(a._formValues,t))&&p(a._formValues,t,Q)}return!u&&a.register(t),h.current=t,()=>{(u?D&&!a._state.action:D)?a.unregister(t):w(t,!1)}},[t,a,u,o]),F.useEffect(()=>{a._setDisabledField({disabled:i,name:t})},[i,t,a]),F.useMemo(()=>({field:v,formState:b,fieldState:U}),[v,b,U])}var $t=(e,s,t,i,a)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:a||!0}}:{},ye=e=>Array.isArray(e)?e:[e],Ye=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}};function mt(e,s){const t={};for(const i in e)if(e.hasOwnProperty(i)){const a=e[i],o=s[i];if(a&&T(a)&&o){const d=mt(a,o);T(d)&&(t[i]=d)}else e[i]&&(t[i]=o)}return t}var q=e=>T(e)&&!Object.keys(e).length,Ue=e=>e.type==="file",J=e=>typeof e=="function",_e=e=>{if(!Re)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},yt=e=>e.type==="select-multiple",Ne=e=>e.type==="radio",Kt=e=>Ne(e)||ge(e),ke=e=>_e(e)&&e.isConnected;function Gt(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=R(e)?i++:e[s[i++]];return e}function Zt(e){for(const s in e)if(e.hasOwnProperty(s)&&!R(e[s]))return!1;return!0}function L(e,s){const t=Array.isArray(s)?s:xe(s)?[s]:Le(s),i=t.length===1?e:Gt(e,t),a=t.length-1,o=t[a];return i&&delete i[o],a!==0&&(T(i)&&q(i)||Array.isArray(i)&&Zt(i))&&L(e,t.slice(0,-1)),e}var zt=e=>{for(const s in e)if(J(e[s]))return!0;return!1};function ht(e){return Array.isArray(e)||T(e)&&!zt(e)}function De(e,s={}){for(const t in e)ht(e[t])?(s[t]=Array.isArray(e[t])?[]:{},De(e[t],s[t])):R(e[t])||(s[t]=!0);return s}function ce(e,s,t){t||(t=De(s));for(const i in e)ht(e[i])?R(s)||pe(t[i])?t[i]=De(e[i],Array.isArray(e[i])?[]:{}):ce(e[i],W(s)?{}:s[i],t[i]):t[i]=!ie(e[i],s[i]);return t}const Je={value:!1,isValid:!1},Qe={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||e[0].value===""?Qe:{value:e[0].value,isValid:!0}:Qe:Je}return Je},bt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>R(e)?e:s?e===""?NaN:e&&+e:t&&K(e)?new Date(e):i?i(e):e;const Xe={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Xe):Xe;function et(e){const s=e.ref;return Ue(s)?s.files:Ne(s)?vt(e.refs).value:yt(s)?[...s.selectedOptions].map(({value:t})=>t):ge(s)?gt(e.refs).value:bt(R(s.value)?e.ref.value:s.value,e)}var Yt=(e,s,t,i)=>{const a={};for(const o of e){const d=m(s,o);d&&p(a,o,d._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:i}},Ve=e=>e instanceof RegExp,me=e=>R(e)?e:Ve(e)?e.source:T(e)?Ve(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===Y.onSubmit,isOnBlur:e===Y.onBlur,isOnChange:e===Y.onChange,isOnAll:e===Y.all,isOnTouch:e===Y.onTouched});const rt="AsyncFunction";var Jt=e=>!!e&&!!e.validate&&!!(J(e.validate)&&e.validate.constructor.name===rt||T(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===rt)),Qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const he=(e,s,t,i)=>{for(const a of t||Object.keys(e)){const o=m(e,a);if(o){const{_f:d,...u}=o;if(d){if(d.refs&&d.refs[0]&&s(d.refs[0],a)&&!i)return!0;if(d.ref&&s(d.ref,d.name)&&!i)return!0;if(he(u,s))break}else if(T(u)&&he(u,s))break}}};function it(e,s,t){const i=m(e,t);if(i||xe(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const o=a.join("."),d=m(s,o),u=m(e,o);if(d&&!Array.isArray(d)&&t!==o)return{name:t};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};a.pop()}return{name:t}}var Xt=(e,s,t,i)=>{t(e);const{name:a,...o}=e;return q(o)||Object.keys(o).length>=Object.keys(s).length||Object.keys(o).find(d=>s[d]===(!i||Y.all))},er=(e,s,t)=>!e||!s||e===s||ye(e).some(i=>i&&(t?i===s:i.startsWith(s)||s.startsWith(i))),tr=(e,s,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(s||e):(t?i.isOnBlur:a.isOnBlur)?!e:(t?i.isOnChange:a.isOnChange)?e:!0,rr=(e,s)=>!Oe(m(e,s)).length&&L(e,s),sr=(e,s,t)=>{const i=ye(m(e,t));return p(i,"root",s[t]),p(e,t,i),e};function nt(e,s,t="validate"){if(K(e)||Array.isArray(e)&&e.every(K)||j(e)&&!e)return{type:t,message:K(e)?e:"",ref:s}}var de=e=>T(e)&&!Ve(e)?e:{value:e,message:""},at=async(e,s,t,i,a,o)=>{const{ref:d,refs:u,required:_,maxLength:x,minLength:b,min:V,max:h,pattern:B,validate:U,name:C,valueAsNumber:N,mount:re}=e._f,v=m(t,C);if(!re||s.has(C))return{};const D=u?u[0]:d,M=S=>{a&&D.reportValidity&&(D.setCustomValidity(j(S)?"":S||""),D.reportValidity())},w={},Q=Ne(d),G=ge(d),X=Q||G,z=(N||Ue(d))&&R(d.value)&&R(v)||_e(d)&&d.value===""||v===""||Array.isArray(v)&&!v.length,oe=$t.bind(null,C,i,w),ee=(S,E,O,I=se.maxLength,H=se.minLength)=>{const te=S?E:O;w[C]={type:S?I:H,message:te,ref:d,...oe(S?I:H,te)}};if(o?!Array.isArray(v)||!v.length:_&&(!X&&(z||W(v))||j(v)&&!v||G&&!gt(u).isValid||Q&&!vt(u).isValid)){const{value:S,message:E}=K(_)?{value:!!_,message:_}:de(_);if(S&&(w[C]={type:se.required,message:E,ref:D,...oe(se.required,E)},!i))return M(E),w}if(!z&&(!W(V)||!W(h))){let S,E;const O=de(h),I=de(V);if(!W(v)&&!isNaN(v)){const H=d.valueAsNumber||v&&+v;W(O.value)||(S=H>O.value),W(I.value)||(E=H<I.value)}else{const H=d.valueAsDate||new Date(v),te=be=>new Date(new Date().toDateString()+" "+be),fe=d.type=="time",ue=d.type=="week";K(O.value)&&v&&(S=fe?te(v)>te(O.value):ue?v>O.value:H>new Date(O.value)),K(I.value)&&v&&(E=fe?te(v)<te(I.value):ue?v<I.value:H<new Date(I.value))}if((S||E)&&(ee(!!S,O.message,I.message,se.max,se.min),!i))return M(w[C].message),w}if((x||b)&&!z&&(K(v)||o&&Array.isArray(v))){const S=de(x),E=de(b),O=!W(S.value)&&v.length>+S.value,I=!W(E.value)&&v.length<+E.value;if((O||I)&&(ee(O,S.message,E.message),!i))return M(w[C].message),w}if(B&&!z&&K(v)){const{value:S,message:E}=de(B);if(Ve(S)&&!v.match(S)&&(w[C]={type:se.pattern,message:E,ref:d,...oe(se.pattern,E)},!i))return M(E),w}if(U){if(J(U)){const S=await U(v,t),E=nt(S,D);if(E&&(w[C]={...E,...oe(se.validate,E.message)},!i))return M(E.message),w}else if(T(U)){let S={};for(const E in U){if(!q(S)&&!i)break;const O=nt(await U[E](v,t),D,E);O&&(S={...O,...oe(E,O.message)},M(O.message),i&&(w[C]=S))}if(!q(S)&&(w[C]={ref:D,...S},!i))return w}}return M(!0),w};const ir={mode:Y.onSubmit,reValidateMode:Y.onChange,shouldFocusError:!0};function nr(e={}){let s={...ir,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:J(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},a=T(s.defaultValues)||T(s.values)?P(s.defaultValues||s.values)||{}:{},o=s.shouldUnregister?{}:P(a),d={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_,x=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={...b};const h={array:Ye(),state:Ye()},B=s.criteriaMode===Y.all,U=r=>n=>{clearTimeout(x),x=setTimeout(r,n)},C=async r=>{if(!s.disabled&&(b.isValid||V.isValid||r)){const n=s.resolver?q((await G()).errors):await z(i,!0);n!==t.isValid&&h.state.next({isValid:n})}},N=(r,n)=>{!s.disabled&&(b.isValidating||b.validatingFields||V.isValidating||V.validatingFields)&&((r||Array.from(u.mount)).forEach(l=>{l&&(n?p(t.validatingFields,l,n):L(t.validatingFields,l))}),h.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},re=(r,n=[],l,y,f=!0,c=!0)=>{if(y&&l&&!s.disabled){if(d.action=!0,c&&Array.isArray(m(i,r))){const g=l(m(i,r),y.argA,y.argB);f&&p(i,r,g)}if(c&&Array.isArray(m(t.errors,r))){const g=l(m(t.errors,r),y.argA,y.argB);f&&p(t.errors,r,g),rr(t.errors,r)}if((b.touchedFields||V.touchedFields)&&c&&Array.isArray(m(t.touchedFields,r))){const g=l(m(t.touchedFields,r),y.argA,y.argB);f&&p(t.touchedFields,r,g)}(b.dirtyFields||V.dirtyFields)&&(t.dirtyFields=ce(a,o)),h.state.next({name:r,isDirty:ee(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else p(o,r,n)},v=(r,n)=>{p(t.errors,r,n),h.state.next({errors:t.errors})},D=r=>{t.errors=r,h.state.next({errors:t.errors,isValid:!1})},M=(r,n,l,y)=>{const f=m(i,r);if(f){const c=m(o,r,R(l)?m(a,r):l);R(c)||y&&y.defaultChecked||n?p(o,r,n?c:et(f._f)):O(r,c),d.mount&&C()}},w=(r,n,l,y,f)=>{let c=!1,g=!1;const A={name:r};if(!s.disabled){if(!l||y){(b.isDirty||V.isDirty)&&(g=t.isDirty,t.isDirty=A.isDirty=ee(),c=g!==A.isDirty);const k=ie(m(a,r),n);g=!!m(t.dirtyFields,r),k?L(t.dirtyFields,r):p(t.dirtyFields,r,!0),A.dirtyFields=t.dirtyFields,c=c||(b.dirtyFields||V.dirtyFields)&&g!==!k}if(l){const k=m(t.touchedFields,r);k||(p(t.touchedFields,r,l),A.touchedFields=t.touchedFields,c=c||(b.touchedFields||V.touchedFields)&&k!==l)}c&&f&&h.state.next(A)}return c?A:{}},Q=(r,n,l,y)=>{const f=m(t.errors,r),c=(b.isValid||V.isValid)&&j(n)&&t.isValid!==n;if(s.delayError&&l?(_=U(()=>v(r,l)),_(s.delayError)):(clearTimeout(x),_=null,l?p(t.errors,r,l):L(t.errors,r)),(l?!ie(f,l):f)||!q(y)||c){const g={...y,...c&&j(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...g},h.state.next(g)}},G=async r=>{N(r,!0);const n=await s.resolver(o,s.context,Yt(r||u.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return N(r),n},X=async r=>{const{errors:n}=await G(r);if(r)for(const l of r){const y=m(n,l);y?p(t.errors,l,y):L(t.errors,l)}else t.errors=n;return n},z=async(r,n,l={valid:!0})=>{for(const y in r){const f=r[y];if(f){const{_f:c,...g}=f;if(c){const A=u.array.has(c.name),k=f._f&&Jt(f._f);k&&b.validatingFields&&N([c.name],!0);const Z=await at(f,u.disabled,o,B,s.shouldUseNativeValidation&&!n,A);if(k&&b.validatingFields&&N([c.name]),Z[c.name]&&(l.valid=!1,n))break;!n&&(m(Z,c.name)?A?sr(t.errors,Z,c.name):p(t.errors,c.name,Z[c.name]):L(t.errors,c.name))}!q(g)&&await z(g,n,l)}}return l.valid},oe=()=>{for(const r of u.unMount){const n=m(i,r);n&&(n._f.refs?n._f.refs.every(l=>!ke(l)):!ke(n._f.ref))&&Se(r)}u.unMount=new Set},ee=(r,n)=>!s.disabled&&(r&&n&&p(o,r,n),!ie(be(),a)),S=(r,n,l)=>ct(r,u,{...d.mount?o:R(n)?a:K(r)?{[r]:n}:n},l,n),E=r=>Oe(m(d.mount?o:a,r,s.shouldUnregister?m(a,r,[]):[])),O=(r,n,l={})=>{const y=m(i,r);let f=n;if(y){const c=y._f;c&&(!c.disabled&&p(o,r,bt(n,c)),f=_e(c.ref)&&W(n)?"":n,yt(c.ref)?[...c.ref.options].forEach(g=>g.selected=f.includes(g.value)):c.refs?ge(c.ref)?c.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(A=>A===g.value):g.checked=f===g.value||!!f)}):c.refs.forEach(g=>g.checked=g.value===f):Ue(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||h.state.next({name:r,values:P(o)})))}(l.shouldDirty||l.shouldTouch)&&w(r,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ue(r)},I=(r,n,l)=>{for(const y in n){if(!n.hasOwnProperty(y))return;const f=n[y],c=r+"."+y,g=m(i,c);(u.array.has(r)||T(f)||g&&!g._f)&&!le(f)?I(c,f,l):O(c,f,l)}},H=(r,n,l={})=>{const y=m(i,r),f=u.array.has(r),c=P(n);p(o,r,c),f?(h.array.next({name:r,values:P(o)}),(b.isDirty||b.dirtyFields||V.isDirty||V.dirtyFields)&&l.shouldDirty&&h.state.next({name:r,dirtyFields:ce(a,o),isDirty:ee(r,c)})):y&&!y._f&&!W(c)?I(r,c,l):O(r,c,l),st(r,u)&&h.state.next({...t,name:r}),h.state.next({name:d.mount?r:void 0,values:P(o)})},te=async r=>{d.mount=!0;const n=r.target;let l=n.name,y=!0;const f=m(i,l),c=k=>{y=Number.isNaN(k)||le(k)&&isNaN(k.getTime())||ie(k,m(o,l,k))},g=tt(s.mode),A=tt(s.reValidateMode);if(f){let k,Z;const ve=n.type?et(f._f):lt(r),ae=r.type===Fe.BLUR||r.type===Fe.FOCUS_OUT,kt=!Qt(f._f)&&!s.resolver&&!m(t.errors,l)&&!f._f.deps||tr(ae,m(t.touchedFields,l),t.isSubmitted,A,g),Ee=st(l,u,ae);p(o,l,ve),ae?(!n||!n.readOnly)&&(f._f.onBlur&&f._f.onBlur(r),_&&_(0)):f._f.onChange&&f._f.onChange(r);const Ce=w(l,ve,ae),pt=!q(Ce)||Ee;if(!ae&&h.state.next({name:l,type:r.type,values:P(o)}),kt)return(b.isValid||V.isValid)&&(s.mode==="onBlur"?ae&&C():ae||C()),pt&&h.state.next({name:l,...Ee?{}:Ce});if(!ae&&Ee&&h.state.next({...t}),s.resolver){const{errors:Ze}=await G([l]);if(c(ve),y){const Dt=it(t.errors,i,l),ze=it(Ze,i,Dt.name||l);k=ze.error,l=ze.name,Z=q(Ze)}}else N([l],!0),k=(await at(f,u.disabled,o,B,s.shouldUseNativeValidation))[l],N([l]),c(ve),y&&(k?Z=!1:(b.isValid||V.isValid)&&(Z=await z(i,!0)));y&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&ue(f._f.deps),Q(l,Z,k,Ce))}},fe=(r,n)=>{if(m(t.errors,n)&&r.focus)return r.focus(),1},ue=async(r,n={})=>{let l,y;const f=ye(r);if(s.resolver){const c=await X(R(r)?r:f);l=q(c),y=r?!f.some(g=>m(c,g)):l}else r?(y=(await Promise.all(f.map(async c=>{const g=m(i,c);return await z(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&C()):y=l=await z(i);return h.state.next({...!K(r)||(b.isValid||V.isValid)&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),n.shouldFocus&&!y&&he(i,fe,r?f:u.mount),y},be=(r,n)=>{let l={...d.mount?o:a};return n&&(l=mt(n.dirtyFields?t.dirtyFields:t.touchedFields,l)),R(r)?l:K(r)?m(l,r):r.map(y=>m(l,y))},Ie=(r,n)=>({invalid:!!m((n||t).errors,r),isDirty:!!m((n||t).dirtyFields,r),error:m((n||t).errors,r),isValidating:!!m(t.validatingFields,r),isTouched:!!m((n||t).touchedFields,r)}),Vt=r=>{r&&ye(r).forEach(n=>L(t.errors,n)),h.state.next({errors:r?t.errors:{}})},He=(r,n,l)=>{const y=(m(i,r,{_f:{}})._f||{}).ref,f=m(t.errors,r)||{},{ref:c,message:g,type:A,...k}=f;p(t.errors,r,{...k,...n,ref:y}),h.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},xt=(r,n)=>J(r)?h.state.subscribe({next:l=>"values"in l&&r(S(void 0,n),l)}):S(r,n,!0),qe=r=>h.state.subscribe({next:n=>{er(r.name,n.name,r.exact)&&Xt(n,r.formState||b,Ct,r.reRenderRoot)&&r.callback({values:{...o},...t,...n,defaultValues:a})}}).unsubscribe,St=r=>(d.mount=!0,V={...V,...r.formState},qe({...r,formState:V})),Se=(r,n={})=>{for(const l of r?ye(r):u.mount)u.mount.delete(l),u.array.delete(l),n.keepValue||(L(i,l),L(o,l)),!n.keepError&&L(t.errors,l),!n.keepDirty&&L(t.dirtyFields,l),!n.keepTouched&&L(t.touchedFields,l),!n.keepIsValidating&&L(t.validatingFields,l),!s.shouldUnregister&&!n.keepDefaultValue&&L(a,l);h.state.next({values:P(o)}),h.state.next({...t,...n.keepDirty?{isDirty:ee()}:{}}),!n.keepIsValid&&C()},We=({disabled:r,name:n})=>{(j(r)&&d.mount||r||u.disabled.has(n))&&(r?u.disabled.add(n):u.disabled.delete(n))},we=(r,n={})=>{let l=m(i,r);const y=j(n.disabled)||j(s.disabled);return p(i,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...n}}),u.mount.add(r),l?We({disabled:j(n.disabled)?n.disabled:s.disabled,name:r}):M(r,!0,n.value),{...y?{disabled:n.disabled||s.disabled}:{},...s.progressive?{required:!!n.required,min:me(n.min),max:me(n.max),minLength:me(n.minLength),maxLength:me(n.maxLength),pattern:me(n.pattern)}:{},name:r,onChange:te,onBlur:te,ref:f=>{if(f){we(r,n),l=m(i,r);const c=R(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=Kt(c),A=l._f.refs||[];if(g?A.find(k=>k===c):c===l._f.ref)return;p(i,r,{_f:{...l._f,...g?{refs:[...A.filter(ke),c,...Array.isArray(m(a,r))?[{}]:[]],ref:{type:c.type,name:r}}:{ref:c}}}),M(r,!1,void 0,c)}else l=m(i,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(ut(u.array,r)&&d.action)&&u.unMount.add(r)}}},Ae=()=>s.shouldFocusError&&he(i,fe,u.mount),wt=r=>{j(r)&&(h.state.next({disabled:r}),he(i,(n,l)=>{const y=m(i,l);y&&(n.disabled=y._f.disabled||r,Array.isArray(y._f.refs)&&y._f.refs.forEach(f=>{f.disabled=y._f.disabled||r}))},0,!1))},je=(r,n)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=P(o);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:c,values:g}=await G();t.errors=c,f=P(g)}else await z(i);if(u.disabled.size)for(const c of u.disabled)L(f,c);if(L(t.errors,"root"),q(t.errors)){h.state.next({errors:{}});try{await r(f,l)}catch(c){y=c}}else n&&await n({...t.errors},l),Ae(),setTimeout(Ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},At=(r,n={})=>{m(i,r)&&(R(n.defaultValue)?H(r,P(m(a,r))):(H(r,n.defaultValue),p(a,r,P(n.defaultValue))),n.keepTouched||L(t.touchedFields,r),n.keepDirty||(L(t.dirtyFields,r),t.isDirty=n.defaultValue?ee(r,P(m(a,r))):ee()),n.keepError||(L(t.errors,r),b.isValid&&C()),h.state.next({...t}))},$e=(r,n={})=>{const l=r?P(r):a,y=P(l),f=q(r),c=f?a:y;if(n.keepDefaultValues||(a=l),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...u.mount,...Object.keys(ce(a,o))]);for(const A of Array.from(g))m(t.dirtyFields,A)?p(c,A,m(o,A)):H(A,m(c,A))}else{if(Re&&R(r))for(const g of u.mount){const A=m(i,g);if(A&&A._f){const k=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(_e(k)){const Z=k.closest("form");if(Z){Z.reset();break}}}}if(n.keepFieldsRef)for(const g of u.mount)H(g,m(c,g));else i={}}o=s.shouldUnregister?n.keepDefaultValues?P(a):{}:P(c),h.array.next({values:{...c}}),h.state.next({values:{...c}})}u={mount:n.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!b.isValid||!!n.keepIsValid||!!n.keepDirtyValues,d.watch=!!s.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:f?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!ie(r,a)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&o?ce(a,o):t.dirtyFields:n.keepDefaultValues&&r?ce(a,r):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Ke=(r,n)=>$e(J(r)?r(o):r,n),Et=(r,n={})=>{const l=m(i,r),y=l&&l._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),n.shouldSelect&&J(f.select)&&f.select())}},Ct=r=>{t={...t,...r}},Ge={control:{register:we,unregister:Se,getFieldState:Ie,handleSubmit:je,setError:He,_subscribe:qe,_runSchema:G,_focusError:Ae,_getWatch:S,_getDirty:ee,_setValid:C,_setFieldArray:re,_setDisabledField:We,_setErrors:D,_getFieldArray:E,_reset:$e,_resetDefaultValues:()=>J(s.defaultValues)&&s.defaultValues().then(r=>{Ke(r,s.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:oe,_disableForm:wt,_subjects:h,_proxyFormState:b,get _fields(){return i},get _formValues(){return o},get _state(){return d},set _state(r){d=r},get _defaultValues(){return a},get _names(){return u},set _names(r){u=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:St,trigger:ue,register:we,handleSubmit:je,watch:xt,setValue:H,getValues:be,reset:Ke,resetField:At,clearErrors:Vt,unregister:Se,setError:He,setFocus:Et,getFieldState:Ie};return{...Ge,formControl:Ge}}function xr(e={}){const s=F.useRef(void 0),t=F.useRef(void 0),[i,a]=F.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:J(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!J(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...u}=nr(e);s.current={...u,formState:i}}const o=s.current.control;return o._options=e,Pe(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(u=>({...u,isReady:!0})),o._formState.isReady=!0,d},[o]),F.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),F.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),F.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),F.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),F.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==i.isDirty&&o._subjects.state.next({isDirty:d})}},[o,i.isDirty]),F.useEffect(()=>{e.values&&!ie(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,a(d=>({...d}))):o._resetDefaultValues()},[o,e.values]),F.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),s.current.formState=dt(i,o),s.current}const Ft=$.createContext(void 0),ar=Ft.Provider,or=()=>{const e=$.useContext(Ft);return Ut(!!e,"Could not useFormContext() outside a Form, or multiple versions of Flow installed."),e},lr={"de-DE":{maxLength:e=>`Bitte gib hÃ¶chstens ${e.number} Zeichen ein`,minLength:e=>`Bitte gib mindestens ${e.number} Zeichen ein`},"en-US":{maxLength:e=>`Please enter at most ${e.number} characters`,minLength:e=>`Please enter at least ${e.number} characters`}},Be=$.memo(e=>{const s=$.useContext(Ot).FieldError??Tt;return ne.jsx(s,{...e})});Be.displayName="FieldErrorView";Be.__docgenInfo={description:"",methods:[],displayName:"FieldErrorView"};function _t(e){const{children:s,name:t,defaultValue:i,...a}=e,o=Pt(lr),d=jt({...e,rules:{...e.rules,minLength:typeof a.rules?.minLength=="number"?{value:a.rules.minLength,message:o.format("minLength",{number:a.rules.minLength})}:a.rules?.minLength,maxLength:typeof a.rules?.maxLength=="number"?{value:a.rules.maxLength,message:o.format("maxLength",{number:a.rules.maxLength})}:a.rules?.maxLength}}),u=or(),_=ft({control:u.form.control,name:t})??d.field.value,x=d.fieldState.invalid,{value:b,...V}=d.field,h={...V,value:b,name:t,form:u.id,isRequired:!!a.rules?.required,isReadOnly:u.isReadOnly,validationBehavior:"aria",defaultValue:i,isInvalid:x,children:Rt(U=>ne.jsxs(ne.Fragment,{children:[U.children,ne.jsx(Be,{children:d.fieldState.error?.message})]}))},B={Autocomplete:h,SearchField:h,TextField:h,TextArea:h,MarkdownEditor:h,Checkbox:{...h,isSelected:_},CheckboxGroup:{...h},CheckboxButton:{...h,isSelected:_},FileField:h,FileDropZone:h,NumberField:h,RadioGroup:h,Switch:{...h,isSelected:_},Slider:h,PasswordCreationField:h,DatePicker:h,DateRangePicker:h,TimeField:h,SegmentedControl:h,Select:{...h,selectedKey:_},ComboBox:{...h,selectedKey:_}};return ne.jsx(Lt,{props:B,dependencies:[d.fieldState,d.field,_,u.isReadOnly],children:s})}const Sr=e=>_t;_t.__docgenInfo={description:"",methods:[],displayName:"Field",composes:["Omit","PropsWithChildren"]};const ur=e=>{const s=t=>{typeof t=="function"&&t()};e instanceof Promise?e.then(s):s(e)},dr=e=>{const s=Bt.useNew({}),t=$.useRef(0),i=$.useRef(null),a=s.state.useValue(),o=$.useRef(a);return $.useEffect(()=>{a==="isIdle"&&o.current==="isSucceeded"&&ur(i.current),o.current=a},[a]),$.useEffect(()=>e.subscribe({formState:{errors:!0},callback:({isSubmitted:u=!1,isSubmitSuccessful:_=!1,submitCount:x=0,errors:b})=>{if(x===0&&t.current>0&&(t.current=0),t.current!==x&&(t.current=x,u))if(_)s.state.onSucceeded();else{const V=u&&b&&Object.entries(b).length>0?b:void 0;s.state.onFailed(V)}}}),[e.subscribe]),{action:s,registerSubmitResult:u=>{Mt(u)?(s.state.onAsyncStart(),u.then(_=>{i.current=_})):i.current=u}}},cr=e=>ne.jsx("form",{...e});function fr(e){const{form:s,children:t,onSubmit:i,formComponent:a=cr,isReadOnly:o,ref:d,...u}=e,[_,x]=$.useState(!!o),b=$.useId(),V=$.useMemo(()=>a,[b]),h=Nt(d),B=$.useRef(null),U=o||_,{action:C,registerSubmitResult:N}=dr(s),re=v=>{const{isSubmitting:D,isValidating:M}=s.control._formState,w=v&&"nativeEvent"in v?v:void 0;if(w?.stopPropagation(),D||M){w?.preventDefault();return}return s.handleSubmit(G=>{x(!0);const X=i(G,w);return N(X),X})(w).finally(()=>{x(!1)})};return ne.jsx(qt,{...s,children:ne.jsx(ar,{value:{form:s,id:b,isReadOnly:U,setReadOnly:x,submit:re,submitButtonRef:B,formActionModel:C},children:ne.jsx(V,{...u,ref:h,id:b,onSubmit:re,children:t})})})}fr.__docgenInfo={description:"",methods:[],displayName:"Form",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"F"}],raw:"UseFormReturn<F>"},description:""},onSubmit:{required:!0,tsType:{name:"SubmitHandler",elements:[{name:"F"}],raw:"SubmitHandler<F>"},description:""},formComponent:{required:!1,tsType:{name:"FC",elements:[{name:"Omit",elements:[{name:"FC",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: RefObject<HTMLFormElement | null>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"onSubmit",value:{name:"union",raw:"FormEventHandler | FormOnSubmitHandler<never>",elements:[{name:"FormEventHandler"},{name:"SubmitHandler",elements:[{name:"never"}],raw:"SubmitHandler<F>"}],required:!1}},{key:"ref",value:{name:"RefObject",elements:[{name:"union",raw:"HTMLFormElement | null",elements:[{name:"HTMLFormElement"},{name:"null"}]}],raw:"RefObject<HTMLFormElement | null>",required:!1}}]}}],raw:`PropsWithChildren<{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: RefObject<HTMLFormElement | null>;
}>`}],raw:`FC<
  PropsWithChildren<{
    id: string;
    onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
    ref?: RefObject<HTMLFormElement | null>;
  }>
>`},{name:"literal",value:'"ref"'}],raw:'Omit<FormComponentType, "ref">'}],raw:'FC<Omit<FormComponentType, "ref">>'},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","PropsWithChildren"]};export{fr as F,or as a,_t as b,Sr as t,xr as u};
