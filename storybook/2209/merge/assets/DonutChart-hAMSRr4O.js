import{j as o}from"./iframe-BvEN2NvC.js";import{c as x}from"./clsx-B-dksMZM.js";import{e as v,g as D}from"./ProgressBar-BQTQq0xH.js";import{g as w}from"./getCategoricalColorByIndex-BIvTpnTO.js";import{i as N,a as k,L as T}from"./Legend-CWg-OgU1.js";import{W as q}from"./Text-B-pkYbpH.js";const V="flow--donut-chart",_="flow--donut-chart--border",P="flow--donut-chart--background",W="flow--donut-chart--value",I="flow--donut-chart--info",L="flow--donut-chart--fill",z="flow--donut-chart--success",O="flow--donut-chart--danger",F="flow--donut-chart--warning",S="flow--donut-chart--donut-chart-container",B="flow--donut-chart--bottom",R="flow--donut-chart--top",A="flow--donut-chart--right",E="flow--donut-chart--legend",M="flow--donut-chart--left",l={donutChart:V,border:_,background:P,value:W,"size-l":"flow--donut-chart--size-l",info:I,fill:L,success:z,danger:O,warning:F,donutChartContainer:S,bottom:B,top:R,right:A,legend:E,left:M},b=u=>{const{value:r=0,formatOptions:c,children:a}=u,s=v(c);if(a)return o.jsx("span",{className:l.value,children:a});const e=c?s.format(r):`${r} %`;return o.jsx("span",{className:l.value,children:o.jsx("b",{children:e})})};b.__docgenInfo={description:"",methods:[],displayName:"DonutChartValue",props:{value:{required:!1,tsType:{name:"number"},description:""}},composes:["Pick"]};const y=u=>{const{center:r,value:c=0,radius:a,segments:s,maxValue:e}=u,n=2*a*Math.PI,t=100/e*c;if(!s)return o.jsx("circle",{className:l.fill,cx:r,cy:r,r:a,strokeDasharray:`${n} ${n}`,strokeDashoffset:n-t/100*n,transform:`rotate(-90 ${r} ${r})`});let i=0;return s.map((d,h)=>{const f=100/e*d.value,p=i;i=i+360/100*f;const m=!d.color||N(d.color)?`var(--color--categorical--${d.color??w(h)})`:d.color;return o.jsx("circle",{cx:r,cy:r,r:a,strokeDasharray:`${n} ${n}`,strokeDashoffset:n-f/100*n,stroke:m,transform:`rotate(${-90+p} ${r} ${r})`},h)})};y.__docgenInfo={description:"",methods:[],displayName:"DonutChartFill",props:{center:{required:!0,tsType:{name:"number"},description:""},value:{required:!1,tsType:{name:"number"},description:""},radius:{required:!0,tsType:{name:"number"},description:""},maxValue:{required:!0,tsType:{name:"number"},description:""}},composes:["Pick"]};const C=u=>{const{value:r=0,segments:c,size:a,maxValue:s}=u,e=.5,n=a==="m"?8:12,t=n*4,i=t-n/2;return o.jsx(o.Fragment,{children:o.jsxs("svg",{width:t*4,height:t*4,viewBox:`0 0 ${t*2} ${t*2}`,fill:"none",strokeWidth:n,children:[o.jsx("circle",{className:l.background,cx:t,cy:t,r:i,strokeWidth:n}),o.jsx("circle",{className:l.border,cx:t,cy:t,r:t-e/2,strokeWidth:e}),o.jsx("circle",{className:l.border,cx:t,cy:t,r:t-n+e/2,strokeWidth:e}),o.jsx(y,{radius:i,center:t,value:r,segments:c,maxValue:s??100})]})})};C.__docgenInfo={description:"",methods:[],displayName:"Donut",props:{value:{required:!1,tsType:{name:"number"},description:""}},composes:["Pick"]};const $=u=>{const{segments:r,showLegend:c,formatOptions:a}=u,s=v(a);return!r||!c?null:o.jsx(k,{className:l.legend,children:r.map((e,n)=>{const t=a?s.format(e.value):`${e.value} %`;return o.jsx(T,{color:e.color??w(n),children:`${e.title} (${e.valueText??t})`},e.title)})})};$.__docgenInfo={description:"",methods:[],displayName:"DonutChartLegend"};const G=u=>{const{size:r="m",status:c="info",className:a,value:s,segments:e,maxValue:n,formatOptions:t,showLegend:i=!0,legendPosition:d="right",children:h,...f}=u,p=x(l.donutChart,r==="l"&&l["size-l"],l[c],a),m=e?e.map(g=>g.value).reduce((g,j)=>g+j,0):void 0;return o.jsx(q,{if:i&&e,children:o.jsxs("div",{className:x(l.donutChartContainer,l[d]),children:[o.jsxs(D,{className:p,value:m??s,...f,children:[o.jsx(C,{value:m??s,segments:e,size:r,maxValue:n}),o.jsx(b,{value:m??s,formatOptions:t,children:h})]}),i&&e&&o.jsx($,{showLegend:i,segments:e,formatOptions:t})]})})};G.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"DonutChart",props:{size:{required:!1,tsType:{name:"union",raw:'"m" | "l"',elements:[{name:"literal",value:'"m"'},{name:"literal",value:'"l"'}]},description:'The size variant of the donut chart. @default "m"'},segments:{required:!1,tsType:{name:"Array",elements:[{name:"DonutChartSegment"}],raw:"DonutChartSegment[]"},description:"Divides the fill of the donut chart into segments"},showLegend:{required:!1,tsType:{name:"boolean"},description:`Whether the legend component is shown when segments are used. @default:
true`},legendPosition:{required:!1,tsType:{name:"union",raw:'"top" | "left" | "bottom" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"left"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"right"'}]},description:'The position of the legend. @default "right"'}},composes:["Omit","PropsWithStatus","PropsWithChildren"]};export{G as D};
