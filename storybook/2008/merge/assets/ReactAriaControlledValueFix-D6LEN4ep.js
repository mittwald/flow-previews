import{r as i,j as d}from"./iframe-CQa7qTJa.js";import{$ as m,e as h}from"./utils-cYx4gHhD.js";const f=(e,o,r=new Event("change",{bubbles:!0}))=>{var t;try{const n=(t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"))==null?void 0:t.set;n==null||n.call(e,o),e.dispatchEvent(r)}catch{if("value"in e)e.value=o,e.dispatchEvent(r);else throw Error("could not emit value update for element")}},x=e=>{const{inputContext:o,children:r}=e,t=i.Children.only(r);if(!i.isValidElement(t))throw new Error("Expected valid element");const{ref:n,...l}=t.props,[a,c]=m(l,n,o);i.useLayoutEffect(()=>{const s=c.current;if(s instanceof HTMLInputElement||s instanceof HTMLTextAreaElement){const u=String(a.value??"");f(s,u)}},[a.value]);const p={...a,value:void 0,ref:c};return d.jsx(h,{values:[[o,p]],children:t})};x.__docgenInfo={description:`React Aria (accidentally?!) enforces controlled inputs by always setting the
value prop on Inputs and TextAreas with its context props API. This component
also uses this API to only unset the value prop. Furthermore setting an input
value is finally done by directly on the DOM element.

https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/textfield/src/useTextField.ts#L182
https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/numberfield/src/useNumberField.ts#L206`,methods:[],displayName:"ReactAriaControlledValueFix",props:{inputContext:{required:!0,tsType:{name:"Context",elements:[{name:"any"}],raw:"Context<any>"},description:""},props:{required:!0,tsType:{name:"unknown"},description:""}},composes:["PropsWithChildren"]};export{x as R,f as e};
