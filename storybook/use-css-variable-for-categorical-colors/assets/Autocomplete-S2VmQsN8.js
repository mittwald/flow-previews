import{r as f,j as n}from"./iframe-DOyiym2O.js";import{f as E,P as O,A as C}from"./PropsContextProvider-BYw3-7_y.js";import{u as P}from"./DialogTriggerView-D4vNWmaM.js";import{a as w}from"./Option-DzCeHsmn.js";import{T as u}from"./Text-DNTWXR5k.js";import{$ as A}from"./useLocalizedStringFormatter-LAQIr2PZ.js";import{$ as N}from"./useFilter-Dc0m5XnD.js";import{b as F}from"./useFocusRing-wEjsdZUW.js";import{i as D}from"./OverlayArrow-DUzOkRZT.js";import{s as I}from"./Dialog-CZhNJUBb.js";const M={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},R="flow--autocomplete--popover",S="flow--autocomplete--empty",i={popover:R,empty:S},T=E("Autocomplete",d=>{const{children:b,...x}=d,{contains:h}=N({sensitivity:"base"}),a=A(M),l=f.useRef(null),s=f.useRef(null),e=P("Popover",{reuseControllerFromContext:!1}),y=F({onBlurWithin:e.close}),m={onKeyDown:t=>{t.key==="Enter"&&e.isOpen&&t.preventDefault()},ref:s},g=()=>n.jsx(u,{className:i.empty,children:a.format("autocomplete.empty")}),v={ContextMenu:{placement:"bottom start",controller:e,isNonModal:!0,renderEmptyState:()=>n.jsx(u,{className:i.empty,children:a.format("autocomplete.empty")}),onAction:t=>{var c;const o=s.current;if(o){const r=(c=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(o),"value"))==null?void 0:c.set;r==null||r.call(o,String(t));const p=new Event("change",{bubbles:!0});o.dispatchEvent(p)}},triggerRef:s},SearchField:m,TextField:m,Option:{tunnelId:"options"},Popover:{className:i.popover}},$=t=>{t?e.isOpen||e.open():e.close()},j=t=>{var c;const o=s.current;if(o){const r=(c=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:c.set;r==null||r.call(o,String(t));const p=new Event("change",{bubbles:!0});o.dispatchEvent(p)}e.close()};return n.jsx(O,{props:v,mergeInParentContext:!0,children:n.jsx("div",{...y.focusWithinProps,ref:l,children:n.jsx(D,{getContainer:()=>l.current,children:n.jsxs(I,{onInputChange:$,filter:h,disableAutoFocusFirst:!0,...x,children:[b,n.jsx(w,{onAction:j,triggerRef:s,controller:e,renderEmptyState:g,isNonModal:!0,placement:"bottom start",children:n.jsx(C,{id:"options"})})]})})})})});T.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{T as A};
