import{r as l,j as o}from"./iframe-CXqVlE5o.js";import{f as g,P as C}from"./PropsContextProvider-NXXeTbsd.js";import{u as j}from"./DialogTriggerView-CiNaj0jt.js";import{T as v}from"./Text-CH29UKf3.js";import{$ as E}from"./useLocalizedStringFormatter-CWaF9vId.js";import{$ as O}from"./useFilter-DRJsSuHv.js";import{b as P}from"./useFocusRing-B7D_5WWT.js";import{i as w}from"./OverlayArrow-DyP_8nEw.js";import{s as A}from"./Dialog-B8n0JlRf.js";const I="flow--autocomplete--empty",D={empty:I},F={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},N=g("Autocomplete",m=>{const{children:f,...u}=m,d=E(F),{contains:b}=O({sensitivity:"base"}),r=l.useRef(null),p=l.useRef(null),e=j("ContextMenu",{reuseControllerFromContext:!1}),x=P({onBlurWithin:e.close}),s=e.useIsOpen(),a={onKeyDown:t=>{t.key==="Enter"&&s&&t.preventDefault()},ref:r},$={ContextMenu:{placement:"bottom start",controller:e,isNonModal:!0,renderEmptyState:()=>o.jsx(v,{className:D.empty,children:d.format("autocomplete.empty")}),onAction:t=>{var i;const n=r.current;if(n){const c=(i=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(n),"value"))==null?void 0:i.set;c==null||c.call(n,String(t));const y=new Event("change",{bubbles:!0});n.dispatchEvent(y)}},triggerRef:r},SearchField:a,TextField:a},h=t=>{t?s||e.open():e.close()};return o.jsx(C,{props:$,mergeInParentContext:!0,dependencies:[s,e],children:o.jsx("div",{...x.focusWithinProps,ref:p,children:o.jsx(w,{getContainer:()=>p.current,children:o.jsx(A,{onInputChange:h,filter:b,...u,children:f})})})})});N.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{N as A};
