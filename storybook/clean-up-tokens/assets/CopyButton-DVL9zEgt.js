import{R as s}from"./index-Cs7sjTYM.js";import{g as d}from"./_commonjsHelpers-BosuxZz1.js";import{B as y}from"./Button-CNYNF6qZ.js";import"./IconApp-ZLx3Z05L.js";import{k as g}from"./IconWarning-DThJbI2D.js";import{a as b,T as C}from"./Tooltip-_4UcUZwa.js";import{o as v}from"./react-children-utilities-CdZndyK3.js";import{C as w}from"./PropsContextProvider-DXo7lD_U.js";import{f as E}from"./flowComponent-DioWztFs.js";import{A as D}from"./Action-BLRoDKZK.js";import{$ as x}from"./useLocalizedStringFormatter-TZkCr3Qr.js";var h=function(){var o=document.getSelection();if(!o.rangeCount)return function(){};for(var e=document.activeElement,a=[],c=0;c<o.rangeCount;c++)a.push(o.getRangeAt(c));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return o.removeAllRanges(),function(){o.type==="Caret"&&o.removeAllRanges(),o.rangeCount||a.forEach(function(l){o.addRange(l)}),e&&e.focus()}},R=h,u={"text/plain":"Text","text/html":"Url",default:"Text"},T="Copy to clipboard: #{key}, Enter";function k(o){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return o.replace(/#{\s*key\s*}/g,e)}function A(o,e){var a,c,l,i,r,t,p=!1;e||(e={}),a=e.debug||!1;try{l=R(),i=document.createRange(),r=document.getSelection(),t=document.createElement("span"),t.textContent=o,t.ariaHidden="true",t.style.all="unset",t.style.position="fixed",t.style.top=0,t.style.clip="rect(0, 0, 0, 0)",t.style.whiteSpace="pre",t.style.webkitUserSelect="text",t.style.MozUserSelect="text",t.style.msUserSelect="text",t.style.userSelect="text",t.addEventListener("copy",function(n){if(n.stopPropagation(),e.format)if(n.preventDefault(),typeof n.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var m=u[e.format]||u.default;window.clipboardData.setData(m,o)}else n.clipboardData.clearData(),n.clipboardData.setData(e.format,o);e.onCopy&&(n.preventDefault(),e.onCopy(n.clipboardData))}),document.body.appendChild(t),i.selectNodeContents(t),r.addRange(i);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");p=!0}catch(n){a&&console.error("unable to copy using execCommand: ",n),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",o),e.onCopy&&e.onCopy(window.clipboardData),p=!0}catch(m){a&&console.error("unable to copy using clipboardData: ",m),a&&console.error("falling back to prompt"),c=k("message"in e?e.message:T),window.prompt(c,o)}}finally{r&&(typeof r.removeRange=="function"?r.removeRange(i):r.removeAllRanges()),t&&document.body.removeChild(t),l()}return p}var B=A;const S=d(B),I={"de-DE":{"copyButton.copy":"Kopieren"},"en-EN":{"copyButton.copy":"Copy"}},P=E("CopyButton",o=>{const{text:e,refProp:a,variant:c="plain",...l}=o,r=x(I).format("copyButton.copy"),t=()=>{S(v(e))};return s.createElement(w,null,s.createElement(b,null,s.createElement(D,{action:t,showFeedback:!0},s.createElement(y,{"aria-label":r,...l,ref:a,variant:c},s.createElement(g,null))),s.createElement(C,null,r)))});P.__docgenInfo={description:"",methods:[],displayName:"CopyButton"};export{P as C};
