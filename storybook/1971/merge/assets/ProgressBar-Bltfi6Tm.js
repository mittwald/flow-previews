import{$ as h,g as v,a as M}from"./utils-OhB6egAd.js";import{$ as V}from"./Label-yb6vzwnx.js";import{$ as p}from"./mergeRefs-A29wE7X8.js";import{$ as x}from"./filterDOMProps-CghfNOdR.js";import{r as u,R as m}from"./iframe-CCJYfocm.js";import{a as N}from"./useLabel-DWLXZ_5I.js";import{$ as I}from"./context-CpznRjhe.js";import{$ as w}from"./NumberFormatter-DNR9MAW-.js";function g(f,e=-1/0,r=1/0){return Math.min(Math.max(f,e),r)}function d(f,e){let r=f,a=0,l=e.toString(),t=l.toLowerCase().indexOf("e-");if(t>0)a=Math.abs(Math.floor(Math.log10(Math.abs(e))))+t;else{let o=l.indexOf(".");o>=0&&(a=l.length-o)}if(a>0){let o=Math.pow(10,a);r=Math.round(r*o)/o}return r}function j(f,e,r,a){e=Number(e),r=Number(r);let l=(f-(isNaN(e)?0:e))%a,t=d(Math.abs(l)*2>=a?f+Math.sign(l)*(a-Math.abs(l)):f-l,a);return isNaN(e)?!isNaN(r)&&t>r&&(t=Math.floor(d(r/a,a))*a):t<e?t=e:!isNaN(r)&&t>r&&(t=e+Math.floor(d((r-e)/a,a))*a),t=d(t,a),t}function y(f={}){let{locale:e}=I();return u.useMemo(()=>new w(e,f),[e,f])}function B(f){let{value:e=0,minValue:r=0,maxValue:a=100,valueLabel:l,isIndeterminate:t,formatOptions:o={style:"percent"}}=f,c=x(f,{labelable:!0}),{labelProps:b,fieldProps:n}=N({...f,labelElementType:"span"});e=g(e,r,a);let s=(e-r)/(a-r),$=y(o);if(!t&&!l){let i=o.style==="percent"?s:e;l=$.format(i)}return{progressBarProps:p(c,{...n,"aria-valuenow":t?void 0:e,"aria-valuemin":r,"aria-valuemax":a,"aria-valuetext":t?void 0:l,role:"progressbar"}),labelProps:b}}const O=u.createContext(null),k=u.forwardRef(function(e,r){[e,r]=h(e,r,O);let{value:a=0,minValue:l=0,maxValue:t=100,isIndeterminate:o=!1}=e;a=g(a,l,t);let[c,b]=v(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:n,labelProps:s}=B({...e,label:b}),$=o?void 0:(a-l)/(t-l)*100,i=M({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:$,valueText:n["aria-valuetext"],isIndeterminate:o}}),P=x(e,{global:!0});return m.createElement("div",{...p(P,i,n),ref:r,slot:e.slot||void 0},m.createElement(V.Provider,{value:{...s,ref:c,elementType:"span"}},i.children))});export{g as $,O as a,j as b,y as c,k as d};
