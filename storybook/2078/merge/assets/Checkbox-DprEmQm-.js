import{r as h,R,j as P}from"./iframe-DW8JgK09.js";import{w as G,H as z,x as A}from"./IconWarning-Bj3cOyEj.js";import{f as J}from"./flowComponent-DVStQUuA.js";import{c as K}from"./clsx-B-dksMZM.js";import{c as L}from"./RSPContexts-DSsYPi0N.js";import{$ as q,c as M,f as Q,a as S,d as U,b as X,g as k}from"./utils-qQbsMKok.js";import{a as Y}from"./FieldError-D4VyS34i.js";import{a as Z,$ as E}from"./Form-DQnvx-Rv.js";import{b as ee}from"./Label-CI_LuAln.js";import{a as ae}from"./Text-Dj-iJoJL.js";import{$ as V,a as ie}from"./index-SxHndKnJ.js";import{$ as D}from"./filterDOMProps-CghfNOdR.js";import{$ as B,b as de,a as _,c as le,d as te}from"./useFormValidation-BJNwWy_2.js";import{$ as ne}from"./useControlledState-BE2AOUIF.js";import{c as se,a as oe,$ as re}from"./useFocusRing-GKfEZ5du.js";import{$ as ce}from"./usePress-Gti5y3pG.js";import{$ as fe,a as F}from"./useToggleState-D27u0rcM.js";import{$ as ue}from"./VisuallyHidden-Da3g07dP.js";function w(a,e,d){let s=B({...a,value:e.isSelected}),{isInvalid:r,validationErrors:c,validationDetails:t}=s.displayValidation,{labelProps:l,inputProps:f,isSelected:o,isPressed:b,isDisabled:i,isReadOnly:n}=fe({...a,isInvalid:r},e,d);de(a,s,d);let{isIndeterminate:u,isRequired:$,validationBehavior:v="aria"}=a;h.useEffect(()=>{d.current&&(d.current.indeterminate=!!u)});let{pressProps:x}=ce({isDisabled:i||n,onPress(){let{[_]:m}=a,{commitValidation:I}=m||s;I()}});return{labelProps:V(l,x,h.useMemo(()=>({onMouseDown:m=>m.preventDefault()}),[])),inputProps:{...f,checked:o,"aria-required":$&&v==="aria"||void 0,required:$&&v==="native"},isSelected:o,isPressed:b,isDisabled:i,isReadOnly:n,isInvalid:r,validationErrors:c,validationDetails:t}}const N=new WeakMap;function be(a,e){let{isDisabled:d,name:s,form:r,validationBehavior:c="aria"}=a,{isInvalid:t,validationErrors:l,validationDetails:f}=e.displayValidation,{labelProps:o,fieldProps:b,descriptionProps:i,errorMessageProps:n}=Z({...a,labelElementType:"span",isInvalid:t,errorMessage:a.errorMessage||l});N.set(e,{name:s,form:r,descriptionId:i.id,errorMessageId:n.id,validationBehavior:c});let u=D(a,{labelable:!0}),{focusWithinProps:$}=se({onBlurWithin:a.onBlur,onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange});return{groupProps:V(u,{role:"group","aria-disabled":d||void 0,...b,...$}),labelProps:o,descriptionProps:i,errorMessageProps:n,isInvalid:t,validationErrors:l,validationDetails:f}}function ve(a,e,d){const s=F({isReadOnly:a.isReadOnly||e.isReadOnly,isSelected:e.isSelected(a.value),defaultSelected:e.defaultValue.includes(a.value),onChange(m){m?e.addValue(a.value):e.removeValue(a.value),a.onChange&&a.onChange(m)}});let{name:r,form:c,descriptionId:t,errorMessageId:l,validationBehavior:f}=N.get(e);var o;f=(o=a.validationBehavior)!==null&&o!==void 0?o:f;let{realtimeValidation:b}=B({...a,value:s.isSelected,name:void 0,validationBehavior:"aria"}),i=h.useRef(le),n=()=>{e.setInvalid(a.value,b.isInvalid?b:i.current)};h.useEffect(n);let u=e.realtimeValidation.isInvalid?e.realtimeValidation:b,$=f==="native"?e.displayValidation:u;var v;let x=w({...a,isReadOnly:a.isReadOnly||e.isReadOnly,isDisabled:a.isDisabled||e.isDisabled,name:a.name||r,form:a.form||c,isRequired:(v=a.isRequired)!==null&&v!==void 0?v:e.isRequired,validationBehavior:f,[_]:{realtimeValidation:u,displayValidation:$,resetValidation:e.resetValidation,commitValidation:e.commitValidation,updateValidation(m){i.current=m,n()}}},s,d);return{...x,inputProps:{...x.inputProps,"aria-describedby":[a["aria-describedby"],e.isInvalid?l:null,t].filter(Boolean).join(" ")||void 0}}}function $e(a={}){let[e,d]=ne(a.value,a.defaultValue||[],a.onChange),[s]=h.useState(e),r=!!a.isRequired&&e.length===0,c=h.useRef(new Map),t=B({...a,value:e}),l=t.displayValidation.isInvalid;var f,o;return{...t,value:e,defaultValue:(f=a.defaultValue)!==null&&f!==void 0?f:s,setValue(i){a.isReadOnly||a.isDisabled||d(i)},isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isSelected(i){return e.includes(i)},addValue(i){a.isReadOnly||a.isDisabled||e.includes(i)||(e=e.concat(i),d(e))},removeValue(i){a.isReadOnly||a.isDisabled||e.includes(i)&&d(e.filter(n=>n!==i))},toggleValue(i){a.isReadOnly||a.isDisabled||(e.includes(i)?d(e.filter(n=>n!==i)):d(e.concat(i)))},setInvalid(i,n){let u=new Map(c.current);n.isInvalid?u.set(i,n):u.delete(i),c.current=u,t.updateValidation(te(...u.values()))},validationState:(o=a.validationState)!==null&&o!==void 0?o:l?"invalid":null,isInvalid:l,isRequired:r}}const me=h.createContext(null),j=h.createContext(null),je=h.forwardRef(function(e,d){[e,d]=q(e,d,me);let{validationBehavior:s}=M(E)||{};var r,c;let t=(c=(r=e.validationBehavior)!==null&&r!==void 0?r:s)!==null&&c!==void 0?c:"native",l=$e({...e,validationBehavior:t}),[f,o]=Q(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:b,labelProps:i,descriptionProps:n,errorMessageProps:u,...$}=be({...e,label:o,validationBehavior:t},l),v=S({...e,values:{isDisabled:l.isDisabled,isReadOnly:l.isReadOnly,isRequired:e.isRequired||!1,isInvalid:l.isInvalid,state:l},defaultClassName:"react-aria-CheckboxGroup"}),x=D(e,{global:!0});return R.createElement("div",{...V(x,v,b),ref:d,slot:e.slot||void 0,"data-readonly":l.isReadOnly||void 0,"data-required":e.isRequired||void 0,"data-invalid":l.isInvalid||void 0,"data-disabled":e.isDisabled||void 0},R.createElement(U,{values:[[j,l],[ee,{...i,ref:f,elementType:"span"}],[ae,{slots:{description:n,errorMessage:u}}],[Y,$]]},v.children))}),he=h.forwardRef(function(e,d){let{inputRef:s=null,...r}=e;[e,d]=q(r,d,L);let{validationBehavior:c}=M(E)||{};var t,l;let f=(l=(t=e.validationBehavior)!==null&&t!==void 0?t:c)!==null&&l!==void 0?l:"native",o=h.useContext(j),b=X(h.useMemo(()=>ie(s,e.inputRef!==void 0?e.inputRef:null),[s,e.inputRef])),{labelProps:i,inputProps:n,isSelected:u,isDisabled:$,isReadOnly:v,isPressed:x,isInvalid:m}=o?ve({...k(e),value:e.value,children:typeof e.children=="function"?!0:e.children},o,b):w({...k(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:f},F(e),b),{isFocused:I,isFocusVisible:C,focusProps:W}=oe(),H=$||v,{hoverProps:T,isHovered:p}=re({...e,isDisabled:H}),O=S({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:u,isIndeterminate:e.isIndeterminate||!1,isPressed:x,isHovered:p,isFocused:I,isFocusVisible:C,isDisabled:$,isReadOnly:v,isInvalid:m,isRequired:e.isRequired||!1}}),g=D(e,{global:!0});return delete g.id,delete g.onClick,R.createElement("label",{...V(g,i,T,O),ref:d,slot:e.slot||void 0,"data-selected":u||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":x||void 0,"data-hovered":p||void 0,"data-focused":I||void 0,"data-focus-visible":C||void 0,"data-disabled":$||void 0,"data-readonly":v||void 0,"data-invalid":m||void 0,"data-required":e.isRequired||void 0},R.createElement(ue,{elementType:"span"},R.createElement("input",{...V(n,W),ref:b})),O.children)}),xe="flow--checkbox",Pe="flow--checkbox--icon",y={checkbox:xe,icon:Pe},Re=J("Checkbox",a=>{const{children:e,className:d,ref:s,...r}=a,c=K(y.checkbox,d);return P.jsx(he,{...r,className:c,ref:s,children:({isSelected:t,isIndeterminate:l})=>P.jsxs(P.Fragment,{children:[t?P.jsx(G,{className:y.icon}):l?P.jsx(z,{className:y.icon}):P.jsx(A,{className:y.icon}),e]})})});Re.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Checkbox"};export{je as $,Re as C};
