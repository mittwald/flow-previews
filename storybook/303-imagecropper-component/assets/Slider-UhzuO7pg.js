import{r as b,R as D}from"./index-Cs7sjTYM.js";import{f as $e}from"./flowComponent-DojWstBP.js";import{c as Te}from"./clsx-B-dksMZM.js";import{P as we}from"./PropsContextProvider-CE2pl7GD.js";import{B as ne}from"./Button-CP_UNic0.js";import"./IconApp-BvR14QOm.js";import{D as Pe,I as ye}from"./IconWarning-DvIm1kNF.js";import{a as ue,$ as De}from"./useLocalizedStringFormatter-A1OcE67O.js";import{$ as Q,d as de,b as O,g as se,e as xe}from"./utils-BwYH5X3X.js";import{a as ce}from"./Label-z8V7EdU9.js";import{c as ae,a as A}from"./index-DKTAOSvX.js";import{$ as fe}from"./filterDOMProps-CeZl_uWj.js";import{d as q,c as Z,a as Me}from"./ProgressBar-AEPgO8_B.js";import{$ as Ve}from"./useControlledState-B7K2eYzO.js";import{e as _,f as ke,g as Ee}from"./usePress-1fQJjpyE.js";import{h as Re,m as Ke,b as me,c as Se}from"./useFocusRing-if03xCoO.js";import{$ as be}from"./useLabel-RWB8_cdz.js";import{$ as Ie}from"./useFormReset-B-nkSQHj.js";import{b as Fe,$ as Ce}from"./useFocusable-VJrkZIcY.js";import{$ as Le}from"./VisuallyHidden-BWHYRTKp.js";function pe(n){let{onMoveStart:t,onMove:e,onMoveEnd:s}=n,o=b.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:i,removeGlobalListener:f}=_(),g=ae((u,$,T,l)=>{T===0&&l===0||(o.current.didMove||(o.current.didMove=!0,t==null||t({type:"movestart",pointerType:$,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey})),e==null||e({type:"move",pointerType:$,deltaX:T,deltaY:l,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey}))}),y=ae((u,$)=>{ke(),o.current.didMove&&(s==null||s({type:"moveend",pointerType:$,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey}))});return{moveProps:b.useMemo(()=>{let u={},$=()=>{Ee(),o.current.didMove=!1};if(typeof PointerEvent>"u"){let l=r=>{if(r.button===0){var h,m,p,v;g(r,"mouse",r.pageX-((p=(h=o.current.lastPosition)===null||h===void 0?void 0:h.pageX)!==null&&p!==void 0?p:0),r.pageY-((v=(m=o.current.lastPosition)===null||m===void 0?void 0:m.pageY)!==null&&v!==void 0?v:0)),o.current.lastPosition={pageX:r.pageX,pageY:r.pageY}}},x=r=>{r.button===0&&(y(r,"mouse"),f(window,"mousemove",l,!1),f(window,"mouseup",x,!1))};u.onMouseDown=r=>{r.button===0&&($(),r.stopPropagation(),r.preventDefault(),o.current.lastPosition={pageX:r.pageX,pageY:r.pageY},i(window,"mousemove",l,!1),i(window,"mouseup",x,!1))};let c=r=>{let h=[...r.changedTouches].findIndex(({identifier:E})=>E===o.current.id);if(h>=0){var m,p;let{pageX:E,pageY:L}=r.changedTouches[h];var v,M;g(r,"touch",E-((v=(m=o.current.lastPosition)===null||m===void 0?void 0:m.pageX)!==null&&v!==void 0?v:0),L-((M=(p=o.current.lastPosition)===null||p===void 0?void 0:p.pageY)!==null&&M!==void 0?M:0)),o.current.lastPosition={pageX:E,pageY:L}}},w=r=>{[...r.changedTouches].findIndex(({identifier:m})=>m===o.current.id)>=0&&(y(r,"touch"),o.current.id=null,f(window,"touchmove",c),f(window,"touchend",w),f(window,"touchcancel",w))};u.onTouchStart=r=>{if(r.changedTouches.length===0||o.current.id!=null)return;let{pageX:h,pageY:m,identifier:p}=r.changedTouches[0];$(),r.stopPropagation(),r.preventDefault(),o.current.lastPosition={pageX:h,pageY:m},o.current.id=p,i(window,"touchmove",c,!1),i(window,"touchend",w,!1),i(window,"touchcancel",w,!1)}}else{let l=c=>{if(c.pointerId===o.current.id){var w,r;let p=c.pointerType||"mouse";var h,m;g(c,p,c.pageX-((h=(w=o.current.lastPosition)===null||w===void 0?void 0:w.pageX)!==null&&h!==void 0?h:0),c.pageY-((m=(r=o.current.lastPosition)===null||r===void 0?void 0:r.pageY)!==null&&m!==void 0?m:0)),o.current.lastPosition={pageX:c.pageX,pageY:c.pageY}}},x=c=>{if(c.pointerId===o.current.id){let w=c.pointerType||"mouse";y(c,w),o.current.id=null,f(window,"pointermove",l,!1),f(window,"pointerup",x,!1),f(window,"pointercancel",x,!1)}};u.onPointerDown=c=>{c.button===0&&o.current.id==null&&($(),c.stopPropagation(),c.preventDefault(),o.current.lastPosition={pageX:c.pageX,pageY:c.pageY},o.current.id=c.pointerId,i(window,"pointermove",l,!1),i(window,"pointerup",x,!1),i(window,"pointercancel",x,!1))}}let T=(l,x,c)=>{$(),g(l,"keyboard",x,c),y(l,"keyboard")};return u.onKeyDown=l=>{switch(l.key){case"Left":case"ArrowLeft":l.preventDefault(),l.stopPropagation(),T(l,-1,0);break;case"Right":case"ArrowRight":l.preventDefault(),l.stopPropagation(),T(l,1,0);break;case"Up":case"ArrowUp":l.preventDefault(),l.stopPropagation(),T(l,0,-1);break;case"Down":case"ArrowDown":l.preventDefault(),l.stopPropagation(),T(l,0,1);break}},u},[o,i,f,g,y])}}const Ne=0,Xe=100,Ae=1;function He(n){const{isDisabled:t=!1,minValue:e=Ne,maxValue:s=Xe,numberFormatter:o,step:i=Ae,orientation:f="horizontal"}=n;let g=b.useMemo(()=>{let a=(s-e)/10;return a=q(a,0,a+i,i),Math.max(a,i)},[i,s,e]),y=b.useCallback(a=>a==null?void 0:a.map((P,V)=>{let U=V===0?e:P[V-1],z=V===a.length-1?s:P[V+1];return q(P,U,z,i)}),[e,s,i]),k=b.useMemo(()=>y(le(n.value)),[n.value]),u=b.useMemo(()=>{var a;return y((a=le(n.defaultValue))!==null&&a!==void 0?a:[e])},[n.defaultValue,e]),$=ie(n.value,n.defaultValue,n.onChange),T=ie(n.value,n.defaultValue,n.onChangeEnd);const[l,x]=Ve(k,u,$),[c,w]=b.useState(new Array(l.length).fill(!1)),r=b.useRef(new Array(l.length).fill(!0)),[h,m]=b.useState(void 0),p=b.useRef(l),v=b.useRef(c);let M=a=>{p.current=a,x(a)},E=a=>{v.current=a,w(a)};function L(a){return(a-e)/(s-e)}function H(a){return a===0?e:l[a-1]}function B(a){return a===l.length-1?s:l[a+1]}function N(a){return r.current[a]}function Y(a,P){r.current[a]=P}function R(a,P){if(t||!N(a))return;const V=H(a),U=B(a);P=q(P,V,U,i);let z=oe(p.current,a,P);M(z)}function F(a,P){if(t||!N(a))return;P&&(p.current=l);const V=v.current[a];v.current=oe(v.current,a,P),E(v.current),T&&V&&!v.current.some(Boolean)&&T(p.current)}function K(a){return o.format(a)}function d(a,P){R(a,I(P))}function S(a){return Math.round((a-e)/i)*i+e}function I(a){const P=a*(s-e)+e;return Z(S(P),e,s)}function X(a,P=1){let V=Math.max(P,i);R(a,q(l[a]+V,e,s,i))}function G(a,P=1){let V=Math.max(P,i);R(a,q(l[a]-V,e,s,i))}return{values:l,getThumbValue:a=>l[a],setThumbValue:R,setThumbPercent:d,isThumbDragging:a=>c[a],setThumbDragging:F,focusedThumb:h,setFocusedThumb:m,getThumbPercent:a=>L(l[a]),getValuePercent:L,getThumbValueLabel:a=>K(l[a]),getFormattedValue:K,getThumbMinValue:H,getThumbMaxValue:B,getPercentValue:I,isThumbEditable:N,setThumbEditable:Y,incrementThumb:X,decrementThumb:G,step:i,pageSize:g,orientation:f,isDisabled:t}}function oe(n,t,e){return n[t]===e?n:[...n.slice(0,t),e,...n.slice(t+1)]}function le(n){if(n!=null)return Array.isArray(n)?n:[n]}function ie(n,t,e){return s=>{typeof n=="number"||typeof t=="number"?e==null||e(s[0]):e==null||e(s)}}const ee=new WeakMap;function J(n,t){let e=ee.get(n);if(!e)throw new Error("Unknown slider state");return`${e.id}-${t}`}function Ye(n,t,e){let{labelProps:s,fieldProps:o}=be(n),i=n.orientation==="vertical";var f;ee.set(t,{id:(f=s.id)!==null&&f!==void 0?f:o.id,"aria-describedby":n["aria-describedby"],"aria-details":n["aria-details"]});let{direction:g}=ue(),{addGlobalListener:y,removeGlobalListener:k}=_();const u=b.useRef(null),$=g==="rtl",T=b.useRef(null),{moveProps:l}=pe({onMoveStart(){T.current=null},onMove({deltaX:r,deltaY:h}){let{height:m,width:p}=e.current.getBoundingClientRect(),v=i?m:p;T.current==null&&(T.current=t.getThumbPercent(u.current)*v);let M=i?h:r;if((i||$)&&(M=-M),T.current+=M,u.current!=null&&e.current){const E=Z(T.current/v,0,1);t.setThumbPercent(u.current,E)}},onMoveEnd(){u.current!=null&&(t.setThumbDragging(u.current,!1),u.current=null)}});let x=b.useRef(void 0),c=(r,h,m,p)=>{if(e.current&&!n.isDisabled&&t.values.every((v,M)=>!t.isThumbDragging(M))){let{height:v,width:M,top:E,left:L}=e.current.getBoundingClientRect(),H=i?v:M,R=((i?p:m)-(i?E:L))/H;(g==="rtl"||i)&&(R=1-R);let F=t.getPercentValue(R),K,d=t.values.findIndex(S=>F-S<0);if(d===0)K=d;else if(d===-1)K=t.values.length-1;else{let S=t.values[d-1],I=t.values[d];Math.abs(S-F)<Math.abs(I-F)?K=d-1:K=d}K>=0&&t.isThumbEditable(K)?(r.preventDefault(),u.current=K,t.setFocusedThumb(K),x.current=h,t.setThumbDragging(u.current,!0),t.setThumbValue(K,F),y(window,"mouseup",w,!1),y(window,"touchend",w,!1),y(window,"pointerup",w,!1)):u.current=null}},w=r=>{var h,m;((m=r.pointerId)!==null&&m!==void 0?m:(h=r.changedTouches)===null||h===void 0?void 0:h[0].identifier)===x.current&&(u.current!=null&&(t.setThumbDragging(u.current,!1),u.current=null),k(window,"mouseup",w,!1),k(window,"touchend",w,!1),k(window,"pointerup",w,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var r;(r=document.getElementById(J(t,0)))===null||r===void 0||r.focus(),Re("keyboard")}),{labelProps:s,groupProps:{role:"group",...o},trackProps:A({onMouseDown(r){r.button!==0||r.altKey||r.ctrlKey||r.metaKey||c(r,void 0,r.clientX,r.clientY)},onPointerDown(r){r.pointerType==="mouse"&&(r.button!==0||r.altKey||r.ctrlKey||r.metaKey)||c(r,r.pointerId,r.clientX,r.clientY)},onTouchStart(r){c(r,r.changedTouches[0].identifier,r.changedTouches[0].clientX,r.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},l),outputProps:{htmlFor:t.values.map((r,h)=>J(t,h)).join(" "),"aria-live":"off"}}}function Ue(n,t){let{index:e=0,isRequired:s,validationState:o,isInvalid:i,trackRef:f,inputRef:g,orientation:y=t.orientation,name:k}=n,u=n.isDisabled||t.isDisabled,$=y==="vertical",{direction:T}=ue(),{addGlobalListener:l,removeGlobalListener:x}=_(),c=ee.get(t);var w;const{labelProps:r,fieldProps:h}=be({...n,id:J(t,e),"aria-labelledby":`${c.id} ${(w=n["aria-labelledby"])!==null&&w!==void 0?w:""}`.trim()}),m=t.values[e],p=b.useCallback(()=>{g.current&&Ke(g.current)},[g]),v=t.focusedThumb===e;b.useEffect(()=>{v&&p()},[v,p]);let M=T==="rtl",E=b.useRef(null),{keyboardProps:L}=Fe({onKeyDown(d){let{getThumbMaxValue:S,getThumbMinValue:I,decrementThumb:X,incrementThumb:G,setThumbValue:a,setThumbDragging:P,pageSize:V}=t;if(!/^(PageUp|PageDown|Home|End)$/.test(d.key)){d.continuePropagation();return}switch(d.preventDefault(),P(e,!0),d.key){case"PageUp":G(e,V);break;case"PageDown":X(e,V);break;case"Home":a(e,I(e));break;case"End":a(e,S(e));break}P(e,!1)}}),{moveProps:H}=pe({onMoveStart(){E.current=null,t.setThumbDragging(e,!0)},onMove({deltaX:d,deltaY:S,pointerType:I,shiftKey:X}){const{getThumbPercent:G,setThumbPercent:a,decrementThumb:P,incrementThumb:V,step:U,pageSize:z}=t;let{width:ge,height:ve}=f.current.getBoundingClientRect(),re=$?ve:ge;if(E.current==null&&(E.current=G(e)*re),I==="keyboard")d>0&&M||d<0&&!M||S>0?P(e,X?z:U):V(e,X?z:U);else{let j=$?S:d;($||M)&&(j=-j),E.current+=j,a(e,Z(E.current/re,0,1))}},onMoveEnd(){t.setThumbDragging(e,!1)}});t.setThumbEditable(e,!u);const{focusableProps:B}=Ce(A(n,{onFocus:()=>t.setFocusedThumb(e),onBlur:()=>t.setFocusedThumb(void 0)}),g);let N=b.useRef(void 0),Y=d=>{p(),N.current=d,t.setThumbDragging(e,!0),l(window,"mouseup",R,!1),l(window,"touchend",R,!1),l(window,"pointerup",R,!1)},R=d=>{var S,I;((I=d.pointerId)!==null&&I!==void 0?I:(S=d.changedTouches)===null||S===void 0?void 0:S[0].identifier)===N.current&&(p(),t.setThumbDragging(e,!1),x(window,"mouseup",R,!1),x(window,"touchend",R,!1),x(window,"pointerup",R,!1))},F=t.getThumbPercent(e);($||T==="rtl")&&(F=1-F);let K=u?{}:A(L,H,{onMouseDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||Y()},onPointerDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||Y(d.pointerId)},onTouchStart:d=>{Y(d.changedTouches[0].identifier)}});return Ie(g,m,d=>{t.setThumbValue(e,d)}),{inputProps:A(B,h,{type:"range",tabIndex:u?void 0:0,min:t.getThumbMinValue(e),max:t.getThumbMaxValue(e),step:t.step,value:m,name:k,disabled:u,"aria-orientation":y,"aria-valuetext":t.getThumbValueLabel(e),"aria-required":s||void 0,"aria-invalid":i||o==="invalid"||void 0,"aria-errormessage":n["aria-errormessage"],"aria-describedby":[c["aria-describedby"],n["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[c["aria-details"],n["aria-details"]].filter(Boolean).join(" "),onChange:d=>{t.setThumbValue(e,parseFloat(d.target.value))}}),thumbProps:{...K,style:{position:"absolute",[$?"top":"left"]:`${F*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:r,isDragging:t.isThumbDragging(e),isDisabled:u,isFocused:v}}const ze=b.createContext(null),W=b.createContext(null),te=b.createContext(null),he=b.createContext(null);function Be(n,t){[n,t]=Q(n,t,ze);let e=b.useRef(null),s=Me(n.formatOptions),o=He({...n,numberFormatter:s}),[i,f]=de(),{groupProps:g,trackProps:y,labelProps:k,outputProps:u}=Ye({...n,label:f},o,e),$=O({...n,values:{orientation:o.orientation,isDisabled:o.isDisabled,state:o},defaultClassName:"react-aria-Slider"}),T=fe(n);return delete T.id,D.createElement(se,{values:[[W,o],[te,{...y,ref:e}],[he,u],[ce,{...k,ref:i}]]},D.createElement("div",{...T,...g,...$,ref:t,slot:n.slot||void 0,"data-orientation":o.orientation,"data-disabled":o.isDisabled||void 0}))}const Ge=b.forwardRef(Be);function qe(n,t){[n,t]=Q(n,t,he);let{children:e,style:s,className:o,...i}=n,f=b.useContext(W),g=O({className:o,style:s,children:e,defaultChildren:f.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:f.orientation,isDisabled:f.isDisabled,state:f}});return D.createElement("output",{...i,...g,ref:t,"data-orientation":f.orientation||void 0,"data-disabled":f.isDisabled||void 0})}const Oe=b.forwardRef(qe);function We(n,t){[n,t]=Q(n,t,te);let e=b.useContext(W),{onHoverStart:s,onHoverEnd:o,onHoverChange:i,...f}=n,{hoverProps:g,isHovered:y}=me({onHoverStart:s,onHoverEnd:o,onHoverChange:i}),k=O({...n,defaultClassName:"react-aria-SliderTrack",values:{orientation:e.orientation,isDisabled:e.isDisabled,isHovered:y,state:e}});return D.createElement("div",{...A(f,g),...k,ref:t,"data-hovered":y||void 0,"data-orientation":e.orientation||void 0,"data-disabled":e.isDisabled||void 0})}const je=b.forwardRef(We);function Je(n,t){let{inputRef:e=null}=n,s=b.useContext(W),{ref:o}=xe(te),{index:i=0}=n,f=b.useRef(null),g=e||f,[y,k]=de(),{thumbProps:u,inputProps:$,labelProps:T,isDragging:l,isFocused:x,isDisabled:c}=Ue({...n,index:i,trackRef:o,inputRef:g,label:k},s),{focusProps:w,isFocusVisible:r}=Se(),{hoverProps:h,isHovered:m}=me(n),p=O({...n,defaultClassName:"react-aria-SliderThumb",values:{state:s,isHovered:m,isDragging:l,isFocused:x,isFocusVisible:r,isDisabled:c}}),v=fe(n);return delete v.id,D.createElement("div",{...A(v,u,h),...p,ref:t,style:{...u.style,...p.style},"data-hovered":m||void 0,"data-dragging":l||void 0,"data-focused":x||void 0,"data-focus-visible":r||void 0,"data-disabled":c||void 0},D.createElement(Le,null,D.createElement("input",{ref:g,...A($,w)})),D.createElement(se,{values:[[ce,{...T,ref:y}]]},p.children))}const Qe=b.forwardRef(Je),Ze="flow--slider",_e="flow--slider--text",et="flow--slider--value",tt="flow--slider--track",rt="flow--slider--fill",nt="flow--slider--initial-marker",at="flow--slider--thumb",ot="flow--slider--increment",lt="flow--slider--decrement",it="flow--slider--disabled",C={slider:Ze,text:_e,value:et,track:tt,fill:rt,initialMarker:nt,thumb:at,increment:ot,decrement:lt,disabled:it},ut={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-EN":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},dt=$e("Slider",n=>{const{className:t,children:e,name:s,isDisabled:o,defaultValue:i,showInitialMarker:f,showButtonControls:g,showValue:y,...k}=n,u=Te(C.slider,o&&C.disabled,t),$=De(ut),T={Label:{unstyled:!0}};return D.createElement(Ge,{className:u,isDisabled:o,defaultValue:i,...k},y&&D.createElement("div",{className:C.text},D.createElement(Oe,{className:C.value}),D.createElement(we,{props:T},e)),D.createElement(je,{className:C.track},({state:l})=>D.createElement(D.Fragment,null,g&&D.createElement(D.Fragment,null,D.createElement(ne,{onPress:()=>l.decrementThumb(0),"aria-label":$.format("slider.decrement"),size:"s",variant:"plain",className:C.decrement,isDisabled:o,excludeFromTabOrder:!0},D.createElement(Pe,null)),D.createElement(ne,{onPress:()=>l.incrementThumb(0),"aria-label":$.format("slider.increment"),size:"s",variant:"plain",className:C.increment,isDisabled:o,excludeFromTabOrder:!0},D.createElement(ye,null))),D.createElement("div",{className:C.fill,style:{width:l.getThumbPercent(0)*100+"%"}}),f&&i&&typeof i=="number"&&D.createElement("div",{className:C.initialMarker,style:{left:`calc(${l.getValuePercent(i)*100}% - 2px)`}}),D.createElement(Qe,{name:s,className:C.thumb}))))});dt.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{tunnelId:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"@internal"},wrapWith:{required:!1,tsType:{name:"ReactElement"},description:""},showInitialMarker:{required:!1,tsType:{name:"boolean"},description:""},showButtonControls:{required:!1,tsType:{name:"boolean"},description:""},showValue:{required:!1,tsType:{name:"boolean"},description:""}},composes:["PropsWithChildren","Pick"]};export{dt as S};
