import{$ as A,h as Re,i as Le,b as Se,g as M,j as Ie}from"./utils-BwYH5X3X.js";import{$ as Ne}from"./RSPContexts-BseA8goh.js";import{e as Fe,b as Ae,a as B,c as Me}from"./OverlayArrow-DTpAwzOr.js";import{c as L,d as _,b as w,f as D,a as k,$ as Be,e as _e}from"./index-DKTAOSvX.js";import{$ as T}from"./filterDOMProps-CeZl_uWj.js";import{a as ke,$ as We}from"./PressResponder-CCvTmYWN.js";import{r as $,R as p}from"./index-Cs7sjTYM.js";import{e as He,a as qe,q as Ke,f as S}from"./useFocusRing-if03xCoO.js";import{c as Ue,a as je}from"./FocusScope--STy3lDT.js";import{f as Ve}from"./index-Cf-03bMR.js";import{b as ze}from"./Hidden-CCrdO6Wk.js";import{a as W}from"./getScrollParent-CcmJp979.js";import{a as Ye}from"./useLabel-RWB8_cdz.js";import{$ as Ge}from"./useLocalizedStringFormatter-A1OcE67O.js";import{$ as Je}from"./VisuallyHidden-BWHYRTKp.js";import{O as H,u as q,o as Ze}from"./context-D-nUHgHo.js";import{P as Xe}from"./PropsContextProvider-CE2pl7GD.js";function Qe(e){let{ref:t,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:o}=e,d=$.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),l=L(i=>{n&&h(i,t)&&(o&&o(i),d.current.isPointerDown=!0)}),s=L(i=>{n&&n(i)});$.useEffect(()=>{let i=d.current;if(r)return;const c=t.current,a=He(c);if(typeof PointerEvent<"u"){let m=f=>{i.isPointerDown&&h(f,t)&&s(f),i.isPointerDown=!1};return a.addEventListener("pointerdown",l,!0),a.addEventListener("pointerup",m,!0),()=>{a.removeEventListener("pointerdown",l,!0),a.removeEventListener("pointerup",m,!0)}}else{let m=b=>{i.ignoreEmulatedMouseEvents?i.ignoreEmulatedMouseEvents=!1:i.isPointerDown&&h(b,t)&&s(b),i.isPointerDown=!1},f=b=>{i.ignoreEmulatedMouseEvents=!0,i.isPointerDown&&h(b,t)&&s(b),i.isPointerDown=!1};return a.addEventListener("mousedown",l,!0),a.addEventListener("mouseup",m,!0),a.addEventListener("touchstart",l,!0),a.addEventListener("touchend",f,!0),()=>{a.removeEventListener("mousedown",l,!0),a.removeEventListener("mouseup",m,!0),a.removeEventListener("touchstart",l,!0),a.removeEventListener("touchend",f,!0)}}},[t,r,l,s])}function h(e,t){if(e.button>0)return!1;if(e.target){const n=e.target.ownerDocument;if(!n||!n.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}const x=[];function et(e,t){let{onClose:n,shouldCloseOnBlur:r,isOpen:o,isDismissable:d=!1,isKeyboardDismissDisabled:l=!1,shouldCloseOnInteractOutside:s}=e;$.useEffect(()=>(o&&x.push(t),()=>{let u=x.indexOf(t);u>=0&&x.splice(u,1)}),[o,t]);let i=()=>{x[x.length-1]===t&&n&&n()},c=u=>{(!s||s(u.target))&&x[x.length-1]===t&&(u.stopPropagation(),u.preventDefault())},a=u=>{(!s||s(u.target))&&(x[x.length-1]===t&&(u.stopPropagation(),u.preventDefault()),i())},m=u=>{u.key==="Escape"&&!l&&!u.nativeEvent.isComposing&&(u.stopPropagation(),u.preventDefault(),i())};Qe({ref:t,onInteractOutside:d&&o?a:null,onInteractOutsideStart:c});let{focusWithinProps:f}=qe({isDisabled:!r,onBlurWithin:u=>{!u.relatedTarget||Ue(u.relatedTarget)||(!s||s(u.relatedTarget))&&n()}}),b=u=>{u.target===u.currentTarget&&u.preventDefault()};return{overlayProps:{onKeyDown:m,...f},underlayProps:{onPointerDown:b}}}function tt(e,t,n){let{type:r}=e,{isOpen:o}=t;$.useEffect(()=>{n&&n.current&&Fe.set(n.current,t.close)});let d;r==="menu"?d=!0:r==="listbox"&&(d="listbox");let l=_();return{triggerProps:{"aria-haspopup":d,"aria-expanded":o,"aria-controls":o?l:null,onPress:t.toggle},overlayProps:{id:l}}}const P=typeof document<"u"&&window.visualViewport,rt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let C=0,O;function nt(e={}){let{isDisabled:t}=e;w(()=>{if(!t)return C++,C===1&&(Ke()?O=at():O=ot()),()=>{C--,C===0&&O()}},[t])}function ot(){return D(g(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),g(document.documentElement,"overflow","hidden"))}function at(){let e,t,n=c=>{e=W(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=g(e,"overscrollBehavior","contain"))},r=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},o=c=>{let a=c.target;N(a)&&a!==document.activeElement&&(c.preventDefault(),s(),a.style.transform="translateY(-2000px)",a.focus(),requestAnimationFrame(()=>{a.style.transform=""})),t&&t()},d=c=>{let a=c.target;N(a)&&(s(),a.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{a.style.transform="",P&&(P.height<window.innerHeight?requestAnimationFrame(()=>{I(a)}):P.addEventListener("resize",()=>I(a),{once:!0}))}))},l=null,s=()=>{if(l)return;let c=()=>{window.scrollTo(0,0)},a=window.pageXOffset,m=window.pageYOffset;l=D(E(window,"scroll",c),g(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),g(document.documentElement,"overflow","hidden"),g(document.body,"marginTop",`-${m}px`),()=>{window.scrollTo(a,m)}),window.scrollTo(0,0)},i=D(E(document,"touchstart",n,{passive:!1,capture:!0}),E(document,"touchmove",r,{passive:!1,capture:!0}),E(document,"touchend",o,{passive:!1,capture:!0}),E(document,"focus",d,!0));return()=>{t==null||t(),l==null||l(),i()}}function g(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function E(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function I(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=W(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top;o>r+e.clientHeight&&(n.scrollTop+=o-r)}e=n.parentElement}}function N(e){return e instanceof HTMLInputElement&&!rt.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var K={};K={dismiss:"تجاهل"};var U={};U={dismiss:"Отхвърляне"};var j={};j={dismiss:"Odstranit"};var V={};V={dismiss:"Luk"};var z={};z={dismiss:"Schließen"};var Y={};Y={dismiss:"Απόρριψη"};var G={};G={dismiss:"Dismiss"};var J={};J={dismiss:"Descartar"};var Z={};Z={dismiss:"Lõpeta"};var X={};X={dismiss:"Hylkää"};var Q={};Q={dismiss:"Rejeter"};var ee={};ee={dismiss:"התעלם"};var te={};te={dismiss:"Odbaci"};var re={};re={dismiss:"Elutasítás"};var ne={};ne={dismiss:"Ignora"};var oe={};oe={dismiss:"閉じる"};var ae={};ae={dismiss:"무시"};var ie={};ie={dismiss:"Atmesti"};var se={};se={dismiss:"Nerādīt"};var le={};le={dismiss:"Lukk"};var de={};de={dismiss:"Negeren"};var ce={};ce={dismiss:"Zignoruj"};var ue={};ue={dismiss:"Descartar"};var fe={};fe={dismiss:"Dispensar"};var pe={};pe={dismiss:"Revocare"};var $e={};$e={dismiss:"Пропустить"};var me={};me={dismiss:"Zrušiť"};var be={};be={dismiss:"Opusti"};var ve={};ve={dismiss:"Odbaci"};var xe={};xe={dismiss:"Avvisa"};var ge={};ge={dismiss:"Kapat"};var Ee={};Ee={dismiss:"Скасувати"};var ye={};ye={dismiss:"取消"};var he={};he={dismiss:"關閉"};var Ce={};Ce={"ar-AE":K,"bg-BG":U,"cs-CZ":j,"da-DK":V,"de-DE":z,"el-GR":Y,"en-US":G,"es-ES":J,"et-EE":Z,"fi-FI":X,"fr-FR":Q,"he-IL":ee,"hr-HR":te,"hu-HU":re,"it-IT":ne,"ja-JP":oe,"ko-KR":ae,"lt-LT":ie,"lv-LV":se,"nb-NO":le,"nl-NL":de,"pl-PL":ce,"pt-BR":ue,"pt-PT":fe,"ro-RO":pe,"ru-RU":$e,"sk-SK":me,"sl-SI":be,"sr-SP":ve,"sv-SE":xe,"tr-TR":ge,"uk-UA":Ee,"zh-CN":ye,"zh-TW":he};function it(e){return e&&e.__esModule?e.default:e}function F(e){let{onDismiss:t,...n}=e,r=Ge(it(Ce),"@react-aria/overlays"),o=Ye(n,r.format("dismiss")),d=()=>{t&&t()};return p.createElement(Je,null,p.createElement("button",{...o,tabIndex:-1,onClick:d,style:{width:1,height:1}}))}let y=new WeakMap,v=[];function st(e,t=document.body){let n=new Set(e),r=new Set,o=i=>{for(let f of i.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))n.add(f);let c=f=>{if(n.has(f)||r.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let b of n)if(f.contains(b))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},a=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),m=c(i);if(m===NodeFilter.FILTER_ACCEPT&&d(i),m!==NodeFilter.FILTER_REJECT){let f=a.nextNode();for(;f!=null;)d(f),f=a.nextNode()}},d=i=>{var c;let a=(c=y.get(i))!==null&&c!==void 0?c:0;i.getAttribute("aria-hidden")==="true"&&a===0||(a===0&&i.setAttribute("aria-hidden","true"),r.add(i),y.set(i,a+1))};v.length&&v[v.length-1].disconnect(),o(t);let l=new MutationObserver(i=>{for(let c of i)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...n,...r].some(a=>a.contains(c.target))){for(let a of c.removedNodes)a instanceof Element&&(n.delete(a),r.delete(a));for(let a of c.addedNodes)(a instanceof HTMLElement||a instanceof SVGElement)&&(a.dataset.liveAnnouncer==="true"||a.dataset.reactAriaTopLayer==="true")?n.add(a):a instanceof Element&&o(a)}});l.observe(t,{childList:!0,subtree:!0});let s={observe(){l.observe(t,{childList:!0,subtree:!0})},disconnect(){l.disconnect()}};return v.push(s),()=>{l.disconnect();for(let i of r){let c=y.get(i);c===1?(i.removeAttribute("aria-hidden"),y.delete(i)):y.set(i,c-1)}s===v[v.length-1]?(v.pop(),v.length&&v[v.length-1].observe()):v.splice(v.indexOf(s),1)}}function lt(e,t){let{triggerRef:n,popoverRef:r,isNonModal:o,isKeyboardDismissDisabled:d,shouldCloseOnInteractOutside:l,...s}=e,{overlayProps:i,underlayProps:c}=et({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:d,shouldCloseOnInteractOutside:l},r),{overlayProps:a,arrowProps:m,placement:f}=Ae({...s,targetRef:n,overlayRef:r,isOpen:t.isOpen,onClose:o?t.close:null});return nt({isDisabled:o||!t.isOpen}),w(()=>{if(t.isOpen&&!o&&r.current)return st([r.current])},[o,t.isOpen,r]),{popoverProps:k(i,a),arrowProps:m,underlayProps:c,placement:f}}const dt=$.createContext({});function ct(){var e;return(e=$.useContext(dt))!==null&&e!==void 0?e:{}}const we=p.createContext(null);function ut(e){let t=Be(),{portalContainer:n=t?null:document.body,isExiting:r}=e,[o,d]=$.useState(!1),l=$.useMemo(()=>({contain:o,setContain:d}),[o,d]),{getContainer:s}=ct();if(!e.portalContainer&&s&&(n=s()),!n)return null;let i=e.children;return e.disableFocusManagement||(i=p.createElement(je,{restoreFocus:!0,contain:o&&!r},i)),i=p.createElement(we.Provider,{value:l},p.createElement(ke,null,i)),Ve.createPortal(i,n)}function ft(){let e=$.useContext(we),t=e==null?void 0:e.setContain;w(()=>{t==null||t(!0)},[t])}function pt(e,t){let{role:n="dialog"}=e,r=_e();r=e["aria-label"]?void 0:r;let o=$.useRef(!1);return $.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){S(t.current);let d=setTimeout(()=>{document.activeElement===t.current&&(o.current=!0,t.current&&(t.current.blur(),S(t.current)),o.current=!1)},500);return()=>{clearTimeout(d)}}},[t]),ft(),{dialogProps:{...T(e,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||r,onBlur:d=>{o.current&&d.stopPropagation()}},titleProps:{id:r}}}const Pe=$.createContext(null);function $t(e,t){[e,t]=A(e,t,Pe);let n=$.useContext(R),r=B(e),o=e.isOpen!=null||e.defaultOpen!=null||!n?r:n,d=Re(t,o.isOpen)||e.isExiting||!1;if(ze()){let s=e.children;return typeof s=="function"&&(s=s({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),p.createElement(p.Fragment,null,s)}return o&&!o.isOpen&&!d?null:p.createElement(mt,{...e,triggerRef:e.triggerRef,state:o,popoverRef:t,isExiting:d})}const At=$.forwardRef($t);function mt({state:e,isExiting:t,UNSTABLE_portalContainer:n,...r}){let o=$.useRef(null),[d,l]=$.useState(0);w(()=>{o.current&&e.isOpen&&l(o.current.getBoundingClientRect().width)},[e.isOpen,o]);var s;let{popoverProps:i,underlayProps:c,arrowProps:a,placement:m}=lt({...r,offset:(s=r.offset)!==null&&s!==void 0?s:8,arrowSize:d},e),f=r.popoverRef,b=Le(f,!!m)||r.isEntering||!1,u=Se({...r,defaultClassName:"react-aria-Popover",values:{trigger:r.trigger||null,placement:m,isEntering:b,isExiting:t}}),Te={...i.style,...u.style};return p.createElement(ut,{isExiting:t,portalContainer:n},!r.isNonModal&&e.isOpen&&p.createElement("div",{"data-testid":"underlay",...c,style:{position:"fixed",inset:0}}),p.createElement("div",{...k(T(r),i),...u,ref:f,slot:r.slot||void 0,style:Te,"data-trigger":r.trigger,"data-placement":m,"data-entering":b||void 0,"data-exiting":t||void 0},!r.isNonModal&&p.createElement(F,{onDismiss:e.close}),p.createElement(Me.Provider,{value:{...a,placement:m,ref:o}},u.children),p.createElement(F,{onDismiss:e.close})))}const Oe=$.createContext(null),R=$.createContext(null);function Mt(e){let t=B(e),n=$.useRef(null),{triggerProps:r,overlayProps:o}=tt({type:"dialog"},t,n);return r.id=_(),o["aria-labelledby"]=r.id,p.createElement(M,{values:[[R,t],[Oe,o],[Pe,{trigger:"DialogTrigger",triggerRef:n}]]},p.createElement(We,{...r,ref:n,isPressed:t.isOpen},e.children))}function bt(e,t){let n=e["aria-labelledby"];[e,t]=A(e,t,Oe);let{dialogProps:r,titleProps:o}=pt({...e,"aria-labelledby":n},t),d=$.useContext(R),l=e.children;typeof l=="function"&&(l=l({close:(d==null?void 0:d.close)||(()=>{})})),!r["aria-label"]&&!r["aria-labelledby"]&&(e["aria-labelledby"]?r["aria-labelledby"]=e["aria-labelledby"]:console.warn('If a Dialog does not contain a <Heading slot="title">, it must have an aria-label or aria-labelledby attribute for accessibility.'));var s;return p.createElement("section",{...T(e),...r,ref:t,slot:e.slot||void 0,style:e.style,className:(s=e.className)!==null&&s!==void 0?s:"react-aria-Dialog"},p.createElement(M,{values:[[Ne,{slots:{[Ie]:{},title:{...o,level:2}}}]]},l))}const Bt=$.forwardRef(bt),_t=(e,t={})=>{const{reuseControllerFromContext:n=!0,isDefaultOpen:r,onOpen:o,onClose:d}=t,l=H.useNew({isDefaultOpen:r,onOpen:o,onClose:d}),s=q()[e];return n&&s?s:l},De=e=>{const{type:t,controller:n,children:r}=e,o=q();return p.createElement(Ze.Provider,{value:{...o,[t]:n}},r)};De.__docgenInfo={description:"",methods:[],displayName:"OverlayContextProvider",props:{type:{required:!0,tsType:{name:"FlowComponentPropsTypes"},description:""},controller:{required:!0,tsType:{name:"OverlayController"},description:""}},composes:["PropsWithChildren"]};const vt=e=>{const{overlayType:t,isDefaultOpen:n=!1,component:r,children:o,controller:d}=e,l=H.useNew({isDefaultOpen:n}),s=d??l,i=s.useIsOpen(),c={Button:{onPress:s.open}};return p.createElement(De,{type:t,controller:s},p.createElement(Xe,{props:c,mergeInParentContext:!0},p.createElement(r,{isOpen:i},o)))};vt.__docgenInfo={description:"",methods:[],displayName:"OverlayTrigger",props:{tunnelId:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"@internal"},wrapWith:{required:!1,tsType:{name:"ReactElement"},description:""},isDefaultOpen:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},controller:{required:!1,tsType:{name:"OverlayController"},description:""},overlayType:{required:!0,tsType:{name:"FlowComponentPropsTypes"},description:""},component:{required:!0,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  isOpen?: boolean;
  children: ReactNode;
}`,signature:{properties:[{key:"isOpen",value:{name:"boolean",required:!1}},{key:"children",value:{name:"ReactNode",required:!0}}]}}],raw:`ComponentType<{
  isOpen?: boolean;
  children: ReactNode;
}>`},description:""}}};export{Mt as $,De as O,At as a,Bt as b,vt as c,et as d,nt as e,ft as f,st as g,R as h,ut as i,F as j,Pe as k,Qe as l,tt as m,Oe as n,_t as u};
