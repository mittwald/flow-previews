import{$ as k,b as I}from"./utils-BwYH5X3X.js";import{$ as S}from"./ProgressBar-AEPgO8_B.js";import{$ as h}from"./LiveAnnouncer-CeCcBDbP.js";import{$ as T}from"./Hidden-CCrdO6Wk.js";import{a as v,d as y}from"./index-DKTAOSvX.js";import{$ as D}from"./filterDOMProps-CeZl_uWj.js";import{r as g,R as C}from"./index-Cs7sjTYM.js";import{$ as U}from"./useFocusable-VJrkZIcY.js";import{a as V}from"./usePress-1fQJjpyE.js";import{c as H,b as O}from"./useFocusRing-if03xCoO.js";function B(e,n){let{elementType:s="button",isDisabled:a,onPress:t,onPressStart:P,onPressEnd:m,onPressUp:i,onPressChange:b,preventFocusOnPress:x,allowFocusWhenDisabled:c,onClick:f,href:u,target:o,rel:l,type:d="button"}=e,r;s==="button"?r={type:d,disabled:a}:r={role:"button",tabIndex:a?void 0:0,href:s==="a"&&a?void 0:u,target:s==="a"?o:void 0,type:s==="input"?d:void 0,disabled:s==="input"?a:void 0,"aria-disabled":!a||s==="input"?void 0:a,rel:s==="a"?l:void 0};let{pressProps:$,isPressed:F}=V({onPressStart:P,onPressEnd:m,onPressChange:b,onPress:t,onPressUp:i,isDisabled:a,preventFocusOnPress:x,ref:n}),{focusableProps:p}=U(e,n);c&&(p.tabIndex=a?-1:p.tabIndex);let E=v(p,$,D(e,{labelable:!0}));return{isPressed:F,buttonProps:v(r,E,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:w=>{f&&(f(w),console.warn("onClick is deprecated, please use onPress"))}})}}const N=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),R=g.createContext({});function A(e,n){[e,n]=k(e,n,R),e=K(e);let s=e,{isPending:a}=s,{buttonProps:t,isPressed:P}=B(e,n),{focusProps:m,isFocused:i,isFocusVisible:b}=H(e),{hoverProps:x,isHovered:c}=O({...e,isDisabled:e.isDisabled||a}),f={isHovered:c,isPressed:(s.isPressed||P)&&!a,isFocused:i,isFocusVisible:b,isDisabled:e.isDisabled||!1,isPending:a??!1},u=I({...e,values:f,defaultClassName:"react-aria-Button"}),o=y(t.id),l=y(),d=t["aria-labelledby"];a&&(d?d=`${d} ${l}`:t["aria-label"]&&(d=`${o} ${l}`));let r=g.useRef(a);return g.useEffect(()=>{let $={"aria-labelledby":d||o};!r.current&&i&&a?h($,"assertive"):r.current&&i&&!a&&h($,"assertive"),r.current=a},[a,i,d,o]),C.createElement("button",{...D(e,{propNames:N}),...v(t,m,x),...u,id:o,ref:n,"aria-labelledby":d,slot:e.slot||void 0,"aria-disabled":a?"true":t["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":f.isPressed||void 0,"data-hovered":c||void 0,"data-focused":i||void 0,"data-pending":a||void 0,"data-focus-visible":b||void 0},C.createElement(S.Provider,{value:{id:l}},u.children))}function K(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}const Y=T(A);export{Y as $,R as a,B as b};
