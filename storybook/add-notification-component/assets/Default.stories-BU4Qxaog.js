import{r as T,R as t}from"./index-uCp2LrAq.js";import{c as _}from"./clsx-B-dksMZM.js";import{P as M}from"./PropsContextProvider-CtgwYsrm.js";import{$ as N}from"./useNumberFormatter-DTr98jAo.js";import{a as O,d as C,b as I}from"./utils-DZgOXw50.js";import{a as L}from"./Label-BQk6lJ-q.js";import{$ as S}from"./number-nHrFdSb-.js";import{b as D}from"./index-CFQDndEx.js";import{$ as R}from"./filterDOMProps-CeZl_uWj.js";import{$ as q}from"./useLabel-D9TuMkUI.js";import{L as W}from"./Label-CY9yrom_.js";function j(e){let{value:a=0,minValue:r=0,maxValue:s=100,valueLabel:o,isIndeterminate:l,formatOptions:i={style:"percent"}}=e,u=R(e,{labelable:!0}),{labelProps:c,fieldProps:m}=q({...e,labelElementType:"span"});a=S(a,r,s);let d=(a-r)/(s-r),f=N(i);if(!l&&!o){let $=i.style==="percent"?d:a;o=f.format($)}return{progressBarProps:D(u,{...m,"aria-valuenow":l?void 0:a,"aria-valuemin":r,"aria-valuemax":s,"aria-valuetext":l?void 0:o,role:"progressbar"}),labelProps:c}}const F=T.createContext(null);function k(e,a){[e,a]=O(e,a,F);let{value:r=0,minValue:s=0,maxValue:o=100,isIndeterminate:l=!1}=e;r=S(r,s,o);let[i,u]=C(),{progressBarProps:c,labelProps:m}=j({...e,label:u}),d=l?void 0:(r-s)/(o-s)*100,f=I({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:d,valueText:c["aria-valuetext"],isIndeterminate:l}});return t.createElement("div",{...c,...f,ref:a,slot:e.slot||void 0},t.createElement(L.Provider,{value:{...m,ref:i,elementType:"span"}},f.children))}const A=T.forwardRef(k),G="flow--progress-bar",H="flow--progress-bar--label",J="flow--progress-bar--value",K="flow--progress-bar--bar",Q="flow--progress-bar--fill",U="flow--progress-bar--info",X="flow--progress-bar--success",Y="flow--progress-bar--danger",Z="flow--progress-bar--warning",n={progressBar:G,label:H,value:J,bar:K,fill:Q,"size-s":"flow--progress-bar--size-s",info:U,success:X,danger:Y,warning:Z},x=e=>{const{children:a,className:r,status:s="info",showMaxValue:o,size:l="m",...i}=e,u=_(r,n.progressBar,n[`size-${l}`],n[s]),c=N(e.formatOptions),m=o&&e.maxValue?c.format(e.maxValue):void 0,d={Label:{className:n.label,unstyled:!0}};return t.createElement(A,{className:u,...i},({percentage:f,valueText:$})=>t.createElement(M,{props:d},a,t.createElement("span",{className:n.value},m?`${$} of ${m}`:$),t.createElement("div",{className:n.bar},t.createElement("div",{className:n.fill,style:{width:f+"%"}}))))};x.__docgenInfo={description:"",methods:[],displayName:"ProgressBar",props:{status:{required:!1,tsType:{name:"T"},description:""},showMaxValue:{required:!1,tsType:{name:"boolean"},description:""},size:{required:!1,tsType:{name:"union",raw:'"s" | "m"',elements:[{name:"literal",value:'"s"'},{name:"literal",value:'"m"'}]},description:'@default "m"'}},composes:["PropsWithChildren"]};const ee={title:"Status/ProgressBar",component:x,args:{showMaxValue:!1,size:"m",status:"info"},argTypes:{status:{control:"inline-radio",options:["info","success","warning","danger"]},size:{control:"inline-radio",options:["s","m"]}},render:e=>t.createElement(x,{value:500,maxValue:1e3,minValue:0,formatOptions:{style:"unit",unit:"gigabyte"},...e},t.createElement(W,null,"Storage"))},p={},b={args:{showMaxValue:!0}},g={args:{size:"s"}};var v,P,w;p.parameters={...p.parameters,docs:{...(v=p.parameters)==null?void 0:v.docs,source:{originalSource:"{}",...(w=(P=p.parameters)==null?void 0:P.docs)==null?void 0:w.source}}};var V,y,h;b.parameters={...b.parameters,docs:{...(V=b.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    showMaxValue: true
  }
}`,...(h=(y=b.parameters)==null?void 0:y.docs)==null?void 0:h.source}}};var E,B,z;g.parameters={...g.parameters,docs:{...(E=g.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    size: "s"
  }
}`,...(z=(B=g.parameters)==null?void 0:B.docs)==null?void 0:z.source}}};const ae=["Default","WithMaxValue","Small"],de=Object.freeze(Object.defineProperty({__proto__:null,Default:p,Small:g,WithMaxValue:b,__namedExportsOrder:ae,default:ee},Symbol.toStringTag,{value:"Module"}));export{de as D,x as P,ee as m};
