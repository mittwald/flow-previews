var r=Object.defineProperty;var i=(s,e,n)=>e in s?r(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var t=(s,e,n)=>i(s,typeof e!="symbol"?e+"":e,n);import{m as u,a,b as d}from"./PropsContextProvider-DiYt5N9g.js";import{u as o,a as c}from"./useStatic-DK8KGoVH.js";import{r as O}from"./iframe-fiZAYE2W.js";class l{constructor(e){t(this,"isOpen",!1);t(this,"onOpenHandlers",new Set);t(this,"onCloseHandlers",new Set);u(this,{isOpen:d,open:a.bound,close:a.bound,toggle:a.bound,setOpen:a.bound}),this.isOpen=(e==null?void 0:e.isDefaultOpen)??!1,e!=null&&e.onOpen&&this.onOpenHandlers.add(e.onOpen),e!=null&&e.onClose&&this.onCloseHandlers.add(e.onClose)}static useNew(e){return o(()=>new l(e))}addOnOpen(e){return this.onOpenHandlers.add(e),()=>{this.onOpenHandlers.delete(e)}}addOnClose(e){return this.onCloseHandlers.add(e),()=>{this.onCloseHandlers.delete(e)}}executeOnClose(){this.onCloseHandlers.forEach(e=>e())}executeOnOpen(){this.onOpenHandlers.forEach(e=>e())}open(){this.isOpen=!0,this.executeOnOpen()}close(){this.isOpen=!1,this.executeOnClose()}toggle(){this.isOpen=!this.isOpen,this.isOpen?this.executeOnOpen():this.executeOnClose()}setOpen(e){this.isOpen=e,e?this.executeOnOpen():this.executeOnClose()}useIsOpen(){return c(()=>this.isOpen)}}const h=O.createContext({}),H=()=>O.useContext(h);export{l as O,h as o,H as u};
