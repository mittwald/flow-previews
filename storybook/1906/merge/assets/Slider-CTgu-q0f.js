import{r as f,R as N,j as y}from"./iframe-S6a6IBGW.js";import{f as xe,I as ye,P as le,a as we}from"./flowComponent-BLLiPPDy.js";import{c as De}from"./clsx-B-dksMZM.js";import{B as ie}from"./Button-B33IEcV3.js";import{D as Ve,E as Me}from"./IconWarning-D0GzEl3K.js";import{$ as _,f as ce,a as W,d as fe,c as ke,b as Re}from"./utils-B8ercvf4.js";import{u as Ke}from"./useFieldComponent-C7YS4lAg.js";import{$ as Se}from"./useLocalizedStringFormatter-DpHStB2_.js";import{$ as be}from"./Label-DxhkDnS7.js";import{c as oe,$ as A}from"./index-l1wA_Qpp.js";import{$ as me}from"./filterDOMProps-i7L6S0l1.js";import{b as q,a as ee,c as Fe}from"./ProgressBar-f-zsGPPU.js";import{$ as Ee}from"./useControlledState-BHa0sYDq.js";import{c as te,$ as pe,a as Ce}from"./useFocusRing-pCPuJRtg.js";import{F as Ie,d as je}from"./useFocus--oJxMCZo.js";import{g as Le,h as Ne}from"./usePress-BUR3MtQf.js";import{a as he}from"./useLabel-I1naabyM.js";import{$ as ge}from"./context-CXquv49b.js";import{$ as Ae}from"./useFormReset-DK3gdO9Q.js";import{a as He,$ as Ue}from"./useFocusable-DTyt-kbS.js";import{$ as Be}from"./VisuallyHidden-BN0xrgav.js";function $e(n){let{onMoveStart:e,onMove:t,onMoveEnd:s}=n,u=f.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:i,removeGlobalListener:$}=te(),b=oe((o,h,m,a)=>{m===0&&a===0||(u.current.didMove||(u.current.didMove=!0,e?.({type:"movestart",pointerType:h,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})),t?.({type:"move",pointerType:h,deltaX:m,deltaY:a,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))}),p=oe((o,h)=>{Le(),u.current.didMove&&s?.({type:"moveend",pointerType:h,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})});return{moveProps:f.useMemo(()=>{let o={},h=()=>{Ne(),u.current.didMove=!1};{let a=d=>{if(d.pointerId===u.current.id){var g,l;let M=d.pointerType||"mouse";var v,w;b(d,M,d.pageX-((v=(g=u.current.lastPosition)===null||g===void 0?void 0:g.pageX)!==null&&v!==void 0?v:0),d.pageY-((w=(l=u.current.lastPosition)===null||l===void 0?void 0:l.pageY)!==null&&w!==void 0?w:0)),u.current.lastPosition={pageX:d.pageX,pageY:d.pageY}}},x=d=>{if(d.pointerId===u.current.id){let g=d.pointerType||"mouse";p(d,g),u.current.id=null,$(window,"pointermove",a,!1),$(window,"pointerup",x,!1),$(window,"pointercancel",x,!1)}};o.onPointerDown=d=>{d.button===0&&u.current.id==null&&(h(),d.stopPropagation(),d.preventDefault(),u.current.lastPosition={pageX:d.pageX,pageY:d.pageY},u.current.id=d.pointerId,i(window,"pointermove",a,!1),i(window,"pointerup",x,!1),i(window,"pointercancel",x,!1))}}let m=(a,x,d)=>{h(),b(a,"keyboard",x,d),p(a,"keyboard")};return o.onKeyDown=a=>{switch(a.key){case"Left":case"ArrowLeft":a.preventDefault(),a.stopPropagation(),m(a,-1,0);break;case"Right":case"ArrowRight":a.preventDefault(),a.stopPropagation(),m(a,1,0);break;case"Up":case"ArrowUp":a.preventDefault(),a.stopPropagation(),m(a,0,-1);break;case"Down":case"ArrowDown":a.preventDefault(),a.stopPropagation(),m(a,0,1);break}},o},[u,i,$,b,p])}}const ze=0,Ge=100,Xe=1;function Oe(n){const{isDisabled:e=!1,minValue:t=ze,maxValue:s=Ge,numberFormatter:u,step:i=Xe,orientation:$="horizontal"}=n;let b=f.useMemo(()=>{let r=(s-t)/10;return r=q(r,0,r+i,i),Math.max(r,i)},[i,s,t]),p=f.useCallback(r=>r?.map((P,k)=>{let z=k===0?t:r[k-1],G=k===r.length-1?s:r[k+1];return q(P,z,G,i)}),[t,s,i]),V=f.useMemo(()=>p(ue(n.value)),[n.value,p]),o=f.useMemo(()=>{var r;return p((r=ue(n.defaultValue))!==null&&r!==void 0?r:[t])},[n.defaultValue,t,p]),h=de(n.value,n.defaultValue,n.onChange),m=de(n.value,n.defaultValue,n.onChangeEnd);const[a,x]=Ee(V,o,h);let[d]=f.useState(a);const[g,l]=f.useState(new Array(a.length).fill(!1)),v=f.useRef(new Array(a.length).fill(!0)),[w,M]=f.useState(void 0),D=f.useRef(a),T=f.useRef(g);let I=r=>{D.current=r,x(r)},j=r=>{T.current=r,l(r)};function B(r){return(r-t)/(s-t)}function X(r){return r===0?t:a[r-1]}function O(r){return r===a.length-1?s:a[r+1]}function H(r){return v.current[r]}function L(r,P){v.current[r]=P}function R(r,P){if(e||!H(r))return;const k=X(r),z=O(r);P=q(P,k,z,i);let G=se(D.current,r,P);I(G)}function K(r,P){if(e||!H(r))return;P&&(D.current=a);const k=T.current[r];T.current=se(T.current,r,P),j(T.current),m&&k&&!T.current.some(Boolean)&&m(D.current)}function S(r){return u.format(r)}function c(r,P){R(r,E(P))}function F(r){return Math.round((r-t)/i)*i+t}function E(r){const P=r*(s-t)+t;return ee(F(P),t,s)}function U(r,P=1){let k=Math.max(P,i);R(r,q(a[r]+k,t,s,i))}function Y(r,P=1){let k=Math.max(P,i);R(r,q(a[r]-k,t,s,i))}return{values:a,defaultValues:n.defaultValue!==void 0?o:d,getThumbValue:r=>a[r],setThumbValue:R,setThumbPercent:c,isThumbDragging:r=>g[r],setThumbDragging:K,focusedThumb:w,setFocusedThumb:M,getThumbPercent:r=>B(a[r]),getValuePercent:B,getThumbValueLabel:r=>S(a[r]),getFormattedValue:S,getThumbMinValue:X,getThumbMaxValue:O,getPercentValue:E,isThumbEditable:H,setThumbEditable:L,incrementThumb:U,decrementThumb:Y,step:i,pageSize:b,orientation:$,isDisabled:e}}function se(n,e,t){return n[e]===t?n:[...n.slice(0,e),t,...n.slice(e+1)]}function ue(n){if(n!=null)return Array.isArray(n)?n:[n]}function de(n,e,t){return s=>{t?.(typeof n=="number"||typeof e=="number"?s[0]:s)}}const re=new WeakMap;function Z(n,e){let t=re.get(n);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Ye(n,e,t){let{labelProps:s,fieldProps:u}=he(n),i=n.orientation==="vertical";var $;re.set(e,{id:($=s.id)!==null&&$!==void 0?$:u.id,"aria-describedby":n["aria-describedby"],"aria-details":n["aria-details"]});let{direction:b}=ge(),{addGlobalListener:p,removeGlobalListener:V}=te();const o=f.useRef(null),h=b==="rtl",m=f.useRef(null),{moveProps:a}=$e({onMoveStart(){m.current=null},onMove({deltaX:l,deltaY:v}){if(!t.current)return;let{height:w,width:M}=t.current.getBoundingClientRect(),D=i?w:M;m.current==null&&o.current!=null&&(m.current=e.getThumbPercent(o.current)*D);let T=i?v:l;if((i||h)&&(T=-T),m.current+=T,o.current!=null&&t.current){const I=ee(m.current/D,0,1);e.setThumbPercent(o.current,I)}},onMoveEnd(){o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null)}});let x=f.useRef(void 0),d=(l,v,w,M)=>{if(t.current&&!n.isDisabled&&e.values.every((D,T)=>!e.isThumbDragging(T))){let{height:D,width:T,top:I,left:j}=t.current.getBoundingClientRect(),B=i?D:T,L=((i?M:w)-(i?I:j))/B;(b==="rtl"||i)&&(L=1-L);let R=e.getPercentValue(L),K,S=e.values.findIndex(c=>R-c<0);if(S===0)K=S;else if(S===-1)K=e.values.length-1;else{let c=e.values[S-1],F=e.values[S];Math.abs(c-R)<Math.abs(F-R)?K=S-1:K=S}K>=0&&e.isThumbEditable(K)?(l.preventDefault(),o.current=K,e.setFocusedThumb(K),x.current=v,e.setThumbDragging(o.current,!0),e.setThumbValue(K,R),p(window,"mouseup",g,!1),p(window,"touchend",g,!1),p(window,"pointerup",g,!1)):o.current=null}},g=l=>{var v,w;((w=l.pointerId)!==null&&w!==void 0?w:(v=l.changedTouches)===null||v===void 0?void 0:v[0].identifier)===x.current&&(o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null),V(window,"mouseup",g,!1),V(window,"touchend",g,!1),V(window,"pointerup",g,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var l;(l=document.getElementById(Z(e,0)))===null||l===void 0||l.focus(),Ie("keyboard")}),{labelProps:s,groupProps:{role:"group",...u},trackProps:A({onMouseDown(l){l.button!==0||l.altKey||l.ctrlKey||l.metaKey||d(l,void 0,l.clientX,l.clientY)},onPointerDown(l){l.pointerType==="mouse"&&(l.button!==0||l.altKey||l.ctrlKey||l.metaKey)||d(l,l.pointerId,l.clientX,l.clientY)},onTouchStart(l){d(l,l.changedTouches[0].identifier,l.changedTouches[0].clientX,l.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},a),outputProps:{htmlFor:e.values.map((l,v)=>Z(e,v)).join(" "),"aria-live":"off"}}}function qe(n,e){let{index:t=0,isRequired:s,validationState:u,isInvalid:i,trackRef:$,inputRef:b,orientation:p=e.orientation,name:V,form:o}=n,h=n.isDisabled||e.isDisabled,m=p==="vertical",{direction:a}=ge(),{addGlobalListener:x,removeGlobalListener:d}=te(),g=re.get(e);var l;const{labelProps:v,fieldProps:w}=he({...n,id:Z(e,t),"aria-labelledby":`${g.id} ${(l=n["aria-labelledby"])!==null&&l!==void 0?l:""}`.trim()}),M=e.values[t],D=f.useCallback(()=>{b.current&&je(b.current)},[b]),T=e.focusedThumb===t;f.useEffect(()=>{T&&D()},[T,D]);let I=a==="rtl",j=f.useRef(null),{keyboardProps:B}=He({onKeyDown(c){let{getThumbMaxValue:F,getThumbMinValue:E,decrementThumb:U,incrementThumb:Y,setThumbValue:r,setThumbDragging:P,pageSize:k}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(c.key)){c.continuePropagation();return}switch(c.preventDefault(),P(t,!0),c.key){case"PageUp":Y(t,k);break;case"PageDown":U(t,k);break;case"Home":r(t,E(t));break;case"End":r(t,F(t));break}P(t,!1)}}),{moveProps:X}=$e({onMoveStart(){j.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:c,deltaY:F,pointerType:E,shiftKey:U}){const{getThumbPercent:Y,setThumbPercent:r,decrementThumb:P,incrementThumb:k,step:z,pageSize:G}=e;if(!$.current)return;let{width:Pe,height:Te}=$.current.getBoundingClientRect(),ae=m?Te:Pe;if(j.current==null&&(j.current=Y(t)*ae),E==="keyboard")c>0&&I||c<0&&!I||F>0?P(t,U?G:z):k(t,U?G:z);else{let Q=m?F:c;(m||I)&&(Q=-Q),j.current+=Q,r(t,ee(j.current/ae,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!h);const{focusableProps:O}=Ue(A(n,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),b);let H=f.useRef(void 0),L=c=>{D(),H.current=c,e.setThumbDragging(t,!0),x(window,"mouseup",R,!1),x(window,"touchend",R,!1),x(window,"pointerup",R,!1)},R=c=>{var F,E;((E=c.pointerId)!==null&&E!==void 0?E:(F=c.changedTouches)===null||F===void 0?void 0:F[0].identifier)===H.current&&(D(),e.setThumbDragging(t,!1),d(window,"mouseup",R,!1),d(window,"touchend",R,!1),d(window,"pointerup",R,!1))},K=e.getThumbPercent(t);(m||a==="rtl")&&(K=1-K);let S=h?{}:A(B,X,{onMouseDown:c=>{c.button!==0||c.altKey||c.ctrlKey||c.metaKey||L()},onPointerDown:c=>{c.button!==0||c.altKey||c.ctrlKey||c.metaKey||L(c.pointerId)},onTouchStart:c=>{L(c.changedTouches[0].identifier)}});return Ae(b,e.defaultValues[t],c=>{e.setThumbValue(t,c)}),{inputProps:A(O,w,{type:"range",tabIndex:h?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:M,name:V,form:o,disabled:h,"aria-orientation":p,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":s||void 0,"aria-invalid":i||u==="invalid"||void 0,"aria-errormessage":n["aria-errormessage"],"aria-describedby":[g["aria-describedby"],n["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[g["aria-details"],n["aria-details"]].filter(Boolean).join(" "),onChange:c=>{e.setThumbValue(t,parseFloat(c.target.value))}}),thumbProps:{...S,style:{position:"absolute",[m?"top":"left"]:`${K*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:v,isDragging:e.isThumbDragging(t),isDisabled:h,isFocused:T}}const We=f.createContext(null),J=f.createContext(null),ne=f.createContext(null),ve=f.createContext(null),Je=f.forwardRef(function(e,t){[e,t]=_(e,t,We);let s=f.useRef(null),u=Fe(e.formatOptions),i=Oe({...e,numberFormatter:u}),[$,b]=ce(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:p,trackProps:V,labelProps:o,outputProps:h}=Ye({...e,label:b},i,s),m=W({...e,values:{orientation:i.orientation,isDisabled:i.isDisabled,state:i},defaultClassName:"react-aria-Slider"}),a=me(e,{global:!0});return delete a.id,N.createElement(fe,{values:[[J,i],[ne,{...V,ref:s}],[ve,h],[be,{...o,ref:$}]]},N.createElement("div",{...A(a,m,p),ref:t,slot:e.slot||void 0,"data-orientation":i.orientation,"data-disabled":i.isDisabled||void 0}))}),Qe=f.forwardRef(function(e,t){[e,t]=_(e,t,ve);let{children:s,style:u,className:i,...$}=e,b=f.useContext(J),p=W({className:i,style:u,children:s,defaultChildren:b.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:b.orientation,isDisabled:b.isDisabled,state:b}});return N.createElement("output",{...$,...p,ref:t,"data-orientation":b.orientation||void 0,"data-disabled":b.isDisabled||void 0})}),Ze=f.forwardRef(function(e,t){[e,t]=_(e,t,ne);let s=f.useContext(J),{onHoverStart:u,onHoverEnd:i,onHoverChange:$,...b}=e,{hoverProps:p,isHovered:V}=pe({onHoverStart:u,onHoverEnd:i,onHoverChange:$}),o=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:s.orientation,isDisabled:s.isDisabled,isHovered:V,state:s}});return N.createElement("div",{...A(b,p),...o,ref:t,"data-hovered":V||void 0,"data-orientation":s.orientation||void 0,"data-disabled":s.isDisabled||void 0})}),_e=f.forwardRef(function(e,t){let{inputRef:s=null}=e,u=f.useContext(J),{ref:i}=ke(ne),{index:$=0}=e,b=f.useRef(null),p=s||b,[V,o]=ce(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:h,inputProps:m,labelProps:a,isDragging:x,isFocused:d,isDisabled:g}=qe({...e,index:$,trackRef:i,inputRef:p,label:o},u),{focusProps:l,isFocusVisible:v}=Ce(),{hoverProps:w,isHovered:M}=pe(e),D=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:u,isHovered:M,isDragging:x,isFocused:d,isFocusVisible:v,isDisabled:g}}),T=me(e,{global:!0});return delete T.id,N.createElement("div",{...A(T,h,w),...D,ref:t,style:{...h.style,...D.style},"data-hovered":M||void 0,"data-dragging":x||void 0,"data-focused":d||void 0,"data-focus-visible":v||void 0,"data-disabled":g||void 0},N.createElement(Be,null,N.createElement("input",{ref:p,...A(m,l)})),N.createElement(fe,{values:[[be,{...a,ref:V}]]},D.children))}),et="flow--slider",tt="flow--slider--text",rt="flow--slider--value",nt="flow--slider--track",at="flow--slider--fill",lt="flow--slider--initial-marker",it="flow--slider--handle",ot="flow--slider--increment",st="flow--slider--decrement",ut="flow--slider--disabled",C={slider:et,text:tt,value:rt,track:nt,fill:at,initialMarker:lt,handle:it,increment:ot,decrement:st,disabled:ut},dt={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhÃ¶hen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},ct=xe("Slider",n=>{const{className:e,children:t,name:s,isDisabled:u,defaultValue:i,showInitialMarker:$,isReadOnly:b,ref:p,step:V,unit:o,...h}=n,m=De(C.slider,u&&C.disabled,e),{FieldErrorView:a,FieldErrorCaptureContext:x,fieldPropsContext:d,fieldProps:g}=Ke(n),l=Se(dt),v=Re(p),w={...d,Label:{unstyled:!0,tunnelId:"label",...d.Label}};return y.jsx("div",{...g,children:y.jsx(Je,{...h,className:m,isDisabled:u,defaultValue:i,children:y.jsx(ye,{children:y.jsxs(le,{props:w,children:[y.jsx(x,{children:t}),y.jsxs("div",{className:C.text,children:[y.jsxs("span",{children:[y.jsx(Qe,{className:C.value}),o&&y.jsx("b",{children:o})]}),y.jsx(we,{id:"label"})]}),y.jsx(Ze,{className:C.track,children:({state:M})=>y.jsxs(le,{props:{Button:{isPending:!1,isFailed:!1,isSucceeded:!1,isReadOnly:b,excludeFromTabOrder:!0,isDisabled:u,variant:"plain",color:"secondary"}},children:[y.jsx(ie,{onPress:()=>M.decrementThumb(0,V),"aria-label":l.format("slider.decrement"),className:C.decrement,isDisabled:u,variant:"plain",color:"secondary",children:y.jsx(Ve,{})}),y.jsx(ie,{onPress:()=>M.incrementThumb(0,V),"aria-label":l.format("slider.increment"),className:C.increment,isDisabled:u,variant:"plain",color:"secondary",children:y.jsx(Me,{})}),y.jsx("div",{className:C.fill,style:{width:M.getThumbPercent(0)*100+"%"}}),$&&i&&typeof i=="number"&&y.jsx("div",{className:C.initialMarker,style:{left:`calc(${M.getValuePercent(i)*100}% - 2px)`}}),y.jsx(_e,{inputRef:v,name:s,className:C.handle,isDisabled:b})]})}),y.jsx(a,{})]})})})})});ct.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{ct as S};
