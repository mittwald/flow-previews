import{r as c,R as N,j as V}from"./iframe-B9oS1eAm.js";import{f as xe,I as we,P as le,a as ye}from"./flowComponent-B6AWm4S8.js";import{c as De}from"./clsx-B-dksMZM.js";import{B as ie}from"./Button-DYAI_N0q.js";import{C as Ve,D as Me}from"./IconWarning-CbErselp.js";import{$ as _,f as ce,a as W,d as fe,c as ke,b as Re}from"./utils-CkbQ6lDO.js";import{u as Ke}from"./useFieldComponent-BBgwgWHq.js";import{$ as Se}from"./useLocalizedStringFormatter-Bpp7Jkjf.js";import{$ as be}from"./Label-DH9184nb.js";import{c as Ce,$ as A}from"./index-HAVMN3jx.js";import{$ as me}from"./filterDOMProps-BNnC3YgW.js";import{b as q,a as ee,c as Ee}from"./ProgressBar-DmEGRNOl.js";import{$ as Fe}from"./useControlledState-BhPlyXsf.js";import{d as te,b as oe,$ as pe,a as Ie}from"./useFocusRing-CD4YKl48.js";import{I as je,g as Le}from"./useFocus-BUMqhqrN.js";import{b as Ne,c as Ae}from"./usePress-CvAqmGGe.js";import{a as he}from"./useLabel-CLQlKL9C.js";import{$ as ge}from"./context-CSGUwiAp.js";import{$ as He}from"./useFormReset-CfNbS0Tm.js";import{a as Ue,$ as Be}from"./useFocusable-DLbArD3q.js";import{$ as ze}from"./VisuallyHidden-D5FMvG_d.js";function $e(a){let{onMoveStart:e,onMove:t,onMoveEnd:i}=a,o=c.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:l,removeGlobalListener:h}=te(),f=c.useCallback((d,b,s,r)=>{s===0&&r===0||(o.current.didMove||(o.current.didMove=!0,e?.({type:"movestart",pointerType:b,shiftKey:d.shiftKey,metaKey:d.metaKey,ctrlKey:d.ctrlKey,altKey:d.altKey})),t?.({type:"move",pointerType:b,deltaX:s,deltaY:r,shiftKey:d.shiftKey,metaKey:d.metaKey,ctrlKey:d.ctrlKey,altKey:d.altKey}))},[e,t,o]),$=oe(f),T=c.useCallback((d,b)=>{Ne(),o.current.didMove&&i?.({type:"moveend",pointerType:b,shiftKey:d.shiftKey,metaKey:d.metaKey,ctrlKey:d.ctrlKey,altKey:d.altKey})},[i,o]),m=oe(T),[M,v]=c.useState(null);return Ce(()=>{if(M==="pointer"){let d=s=>{if(s.pointerId===o.current.id){var r,g;let w=s.pointerType||"mouse";var x,D;$(s,w,s.pageX-((x=(r=o.current.lastPosition)===null||r===void 0?void 0:r.pageX)!==null&&x!==void 0?x:0),s.pageY-((D=(g=o.current.lastPosition)===null||g===void 0?void 0:g.pageY)!==null&&D!==void 0?D:0)),o.current.lastPosition={pageX:s.pageX,pageY:s.pageY}}},b=s=>{if(s.pointerId===o.current.id){let r=s.pointerType||"mouse";m(s,r),o.current.id=null,h(window,"pointermove",d,!1),h(window,"pointerup",b,!1),h(window,"pointercancel",b,!1),v(null)}};return l(window,"pointermove",d,!1),l(window,"pointerup",b,!1),l(window,"pointercancel",b,!1),()=>{h(window,"pointermove",d,!1),h(window,"pointerup",b,!1),h(window,"pointercancel",b,!1)}}},[M,l,h]),{moveProps:c.useMemo(()=>{let d={},b=()=>{Ae(),o.current.didMove=!1};d.onPointerDown=r=>{r.button===0&&o.current.id==null&&(b(),r.stopPropagation(),r.preventDefault(),o.current.lastPosition={pageX:r.pageX,pageY:r.pageY},o.current.id=r.pointerId,v("pointer"))};let s=(r,g,x)=>{b(),f(r,"keyboard",g,x),T(r,"keyboard")};return d.onKeyDown=r=>{switch(r.key){case"Left":case"ArrowLeft":r.preventDefault(),r.stopPropagation(),s(r,-1,0);break;case"Right":case"ArrowRight":r.preventDefault(),r.stopPropagation(),s(r,1,0);break;case"Up":case"ArrowUp":r.preventDefault(),r.stopPropagation(),s(r,0,-1);break;case"Down":case"ArrowDown":r.preventDefault(),r.stopPropagation(),s(r,0,1);break}},d},[o,f,T])}}const Ge=0,Xe=100,Oe=1;function Ye(a){const{isDisabled:e=!1,minValue:t=Ge,maxValue:i=Xe,numberFormatter:o,step:l=Oe,orientation:h="horizontal"}=a;let f=c.useMemo(()=>{let n=(i-t)/10;return n=q(n,0,n+l,l),Math.max(n,l)},[l,i,t]),$=c.useCallback(n=>n?.map((P,k)=>{let z=k===0?t:n[k-1],G=k===n.length-1?i:n[k+1];return q(P,z,G,l)}),[t,i,l]),T=c.useMemo(()=>$(ue(a.value)),[a.value,$]),m=c.useMemo(()=>{var n;return $((n=ue(a.defaultValue))!==null&&n!==void 0?n:[t])},[a.defaultValue,t,$]),M=de(a.value,a.defaultValue,a.onChange),v=de(a.value,a.defaultValue,a.onChangeEnd);const[p,d]=Fe(T,m,M);let[b]=c.useState(p);const[s,r]=c.useState(new Array(p.length).fill(!1)),g=c.useRef(new Array(p.length).fill(!0)),[x,D]=c.useState(void 0),w=c.useRef(p),y=c.useRef(s);let I=n=>{w.current=n,d(n)},j=n=>{y.current=n,r(n)};function B(n){return(n-t)/(i-t)}function X(n){return n===0?t:p[n-1]}function O(n){return n===p.length-1?i:p[n+1]}function H(n){return g.current[n]}function L(n,P){g.current[n]=P}function R(n,P){if(e||!H(n))return;const k=X(n),z=O(n);P=q(P,k,z,l);let G=se(w.current,n,P);I(G)}function K(n,P){if(e||!H(n))return;P&&(w.current=p);const k=y.current[n];y.current=se(y.current,n,P),j(y.current),v&&k&&!y.current.some(Boolean)&&v(w.current)}function S(n){return o.format(n)}function u(n,P){R(n,E(P))}function C(n){return Math.round((n-t)/l)*l+t}function E(n){const P=n*(i-t)+t;return ee(C(P),t,i)}function U(n,P=1){let k=Math.max(P,l);R(n,q(p[n]+k,t,i,l))}function Y(n,P=1){let k=Math.max(P,l);R(n,q(p[n]-k,t,i,l))}return{values:p,defaultValues:a.defaultValue!==void 0?m:b,getThumbValue:n=>p[n],setThumbValue:R,setThumbPercent:u,isThumbDragging:n=>s[n],setThumbDragging:K,focusedThumb:x,setFocusedThumb:D,getThumbPercent:n=>B(p[n]),getValuePercent:B,getThumbValueLabel:n=>S(p[n]),getFormattedValue:S,getThumbMinValue:X,getThumbMaxValue:O,getPercentValue:E,isThumbEditable:H,setThumbEditable:L,incrementThumb:U,decrementThumb:Y,step:l,pageSize:f,orientation:h,isDisabled:e}}function se(a,e,t){return a[e]===t?a:[...a.slice(0,e),t,...a.slice(e+1)]}function ue(a){if(a!=null)return Array.isArray(a)?a:[a]}function de(a,e,t){return i=>{t?.(typeof a=="number"||typeof e=="number"?i[0]:i)}}const re=new WeakMap;function Z(a,e){let t=re.get(a);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function qe(a,e,t){let{labelProps:i,fieldProps:o}=he(a),l=a.orientation==="vertical";var h;re.set(e,{id:(h=i.id)!==null&&h!==void 0?h:o.id,"aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]});let{direction:f}=ge(),{addGlobalListener:$,removeGlobalListener:T}=te();const m=c.useRef(null),M=f==="rtl",v=c.useRef(null),{moveProps:p}=$e({onMoveStart(){v.current=null},onMove({deltaX:r,deltaY:g}){if(!t.current)return;let{height:x,width:D}=t.current.getBoundingClientRect(),w=l?x:D;v.current==null&&m.current!=null&&(v.current=e.getThumbPercent(m.current)*w);let y=l?g:r;if((l||M)&&(y=-y),v.current+=y,m.current!=null&&t.current){const I=ee(v.current/w,0,1);e.setThumbPercent(m.current,I)}},onMoveEnd(){m.current!=null&&(e.setThumbDragging(m.current,!1),m.current=null)}});let d=c.useRef(void 0),b=(r,g,x,D)=>{if(t.current&&!a.isDisabled&&e.values.every((w,y)=>!e.isThumbDragging(y))){let{height:w,width:y,top:I,left:j}=t.current.getBoundingClientRect(),B=l?w:y,L=((l?D:x)-(l?I:j))/B;(f==="rtl"||l)&&(L=1-L);let R=e.getPercentValue(L),K,S=e.values.findIndex(u=>R-u<0);if(S===0)K=S;else if(S===-1)K=e.values.length-1;else{let u=e.values[S-1],C=e.values[S];Math.abs(u-R)<Math.abs(C-R)?K=S-1:K=S}K>=0&&e.isThumbEditable(K)?(r.preventDefault(),m.current=K,e.setFocusedThumb(K),d.current=g,e.setThumbDragging(m.current,!0),e.setThumbValue(K,R),$(window,"mouseup",s,!1),$(window,"touchend",s,!1),$(window,"pointerup",s,!1)):m.current=null}},s=r=>{var g,x;((x=r.pointerId)!==null&&x!==void 0?x:(g=r.changedTouches)===null||g===void 0?void 0:g[0].identifier)===d.current&&(m.current!=null&&(e.setThumbDragging(m.current,!1),m.current=null),T(window,"mouseup",s,!1),T(window,"touchend",s,!1),T(window,"pointerup",s,!1))};return"htmlFor"in i&&i.htmlFor&&(delete i.htmlFor,i.onClick=()=>{var r;(r=document.getElementById(Z(e,0)))===null||r===void 0||r.focus(),je("keyboard")}),{labelProps:i,groupProps:{role:"group",...o},trackProps:A({onMouseDown(r){r.button!==0||r.altKey||r.ctrlKey||r.metaKey||b(r,void 0,r.clientX,r.clientY)},onPointerDown(r){r.pointerType==="mouse"&&(r.button!==0||r.altKey||r.ctrlKey||r.metaKey)||b(r,r.pointerId,r.clientX,r.clientY)},onTouchStart(r){b(r,r.changedTouches[0].identifier,r.changedTouches[0].clientX,r.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},p),outputProps:{htmlFor:e.values.map((r,g)=>Z(e,g)).join(" "),"aria-live":"off"}}}function We(a,e){let{index:t=0,isRequired:i,validationState:o,isInvalid:l,trackRef:h,inputRef:f,orientation:$=e.orientation,name:T,form:m}=a,M=a.isDisabled||e.isDisabled,v=$==="vertical",{direction:p}=ge(),{addGlobalListener:d,removeGlobalListener:b}=te(),s=re.get(e);var r;const{labelProps:g,fieldProps:x}=he({...a,id:Z(e,t),"aria-labelledby":`${s.id} ${(r=a["aria-labelledby"])!==null&&r!==void 0?r:""}`.trim()}),D=e.values[t],w=c.useCallback(()=>{f.current&&Le(f.current)},[f]),y=e.focusedThumb===t;c.useEffect(()=>{y&&w()},[y,w]);let I=p==="rtl",j=c.useRef(null),{keyboardProps:B}=Ue({onKeyDown(u){let{getThumbMaxValue:C,getThumbMinValue:E,decrementThumb:U,incrementThumb:Y,setThumbValue:n,setThumbDragging:P,pageSize:k}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(u.key)){u.continuePropagation();return}switch(u.preventDefault(),P(t,!0),u.key){case"PageUp":Y(t,k);break;case"PageDown":U(t,k);break;case"Home":n(t,E(t));break;case"End":n(t,C(t));break}P(t,!1)}}),{moveProps:X}=$e({onMoveStart(){j.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:u,deltaY:C,pointerType:E,shiftKey:U}){const{getThumbPercent:Y,setThumbPercent:n,decrementThumb:P,incrementThumb:k,step:z,pageSize:G}=e;if(!h.current)return;let{width:Pe,height:Te}=h.current.getBoundingClientRect(),ae=v?Te:Pe;if(j.current==null&&(j.current=Y(t)*ae),E==="keyboard")u>0&&I||u<0&&!I||C>0?P(t,U?G:z):k(t,U?G:z);else{let Q=v?C:u;(v||I)&&(Q=-Q),j.current+=Q,n(t,ee(j.current/ae,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!M);const{focusableProps:O}=Be(A(a,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),f);let H=c.useRef(void 0),L=u=>{w(),H.current=u,e.setThumbDragging(t,!0),d(window,"mouseup",R,!1),d(window,"touchend",R,!1),d(window,"pointerup",R,!1)},R=u=>{var C,E;((E=u.pointerId)!==null&&E!==void 0?E:(C=u.changedTouches)===null||C===void 0?void 0:C[0].identifier)===H.current&&(w(),e.setThumbDragging(t,!1),b(window,"mouseup",R,!1),b(window,"touchend",R,!1),b(window,"pointerup",R,!1))},K=e.getThumbPercent(t);(v||p==="rtl")&&(K=1-K);let S=M?{}:A(B,X,{onMouseDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||L()},onPointerDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||L(u.pointerId)},onTouchStart:u=>{L(u.changedTouches[0].identifier)}});return He(f,e.defaultValues[t],u=>{e.setThumbValue(t,u)}),{inputProps:A(O,x,{type:"range",tabIndex:M?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:D,name:T,form:m,disabled:M,"aria-orientation":$,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":i||void 0,"aria-invalid":l||o==="invalid"||void 0,"aria-errormessage":a["aria-errormessage"],"aria-describedby":[s["aria-describedby"],a["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[s["aria-details"],a["aria-details"]].filter(Boolean).join(" "),onChange:u=>{e.setThumbValue(t,parseFloat(u.target.value))}}),thumbProps:{...S,style:{position:"absolute",[v?"top":"left"]:`${K*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:g,isDragging:e.isThumbDragging(t),isDisabled:M,isFocused:y}}const Je=c.createContext(null),J=c.createContext(null),ne=c.createContext(null),ve=c.createContext(null),Qe=c.forwardRef(function(e,t){[e,t]=_(e,t,Je);let i=c.useRef(null),o=Ee(e.formatOptions),l=Ye({...e,numberFormatter:o}),[h,f]=ce(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:$,trackProps:T,labelProps:m,outputProps:M}=qe({...e,label:f},l,i),v=W({...e,values:{orientation:l.orientation,isDisabled:l.isDisabled,state:l},defaultClassName:"react-aria-Slider"}),p=me(e,{global:!0});return delete p.id,N.createElement(fe,{values:[[J,l],[ne,{...T,ref:i}],[ve,M],[be,{...m,ref:h}]]},N.createElement("div",{...A(p,v,$),ref:t,slot:e.slot||void 0,"data-orientation":l.orientation,"data-disabled":l.isDisabled||void 0}))}),Ze=c.forwardRef(function(e,t){[e,t]=_(e,t,ve);let{children:i,style:o,className:l,...h}=e,f=c.useContext(J),$=W({className:l,style:o,children:i,defaultChildren:f.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:f.orientation,isDisabled:f.isDisabled,state:f}});return N.createElement("output",{...h,...$,ref:t,"data-orientation":f.orientation||void 0,"data-disabled":f.isDisabled||void 0})}),_e=c.forwardRef(function(e,t){[e,t]=_(e,t,ne);let i=c.useContext(J),{onHoverStart:o,onHoverEnd:l,onHoverChange:h,...f}=e,{hoverProps:$,isHovered:T}=pe({onHoverStart:o,onHoverEnd:l,onHoverChange:h}),m=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:i.orientation,isDisabled:i.isDisabled,isHovered:T,state:i}});return N.createElement("div",{...A(f,$),...m,ref:t,"data-hovered":T||void 0,"data-orientation":i.orientation||void 0,"data-disabled":i.isDisabled||void 0})}),et=c.forwardRef(function(e,t){let{inputRef:i=null}=e,o=c.useContext(J),{ref:l}=ke(ne),{index:h=0}=e,f=c.useRef(null),$=i||f,[T,m]=ce(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:M,inputProps:v,labelProps:p,isDragging:d,isFocused:b,isDisabled:s}=We({...e,index:h,trackRef:l,inputRef:$,label:m},o),{focusProps:r,isFocusVisible:g}=Ie(),{hoverProps:x,isHovered:D}=pe(e),w=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:o,isHovered:D,isDragging:d,isFocused:b,isFocusVisible:g,isDisabled:s}}),y=me(e,{global:!0});return delete y.id,N.createElement("div",{...A(y,M,x),...w,ref:t,style:{...M.style,...w.style},"data-hovered":D||void 0,"data-dragging":d||void 0,"data-focused":b||void 0,"data-focus-visible":g||void 0,"data-disabled":s||void 0},N.createElement(ze,null,N.createElement("input",{ref:$,...A(v,r)})),N.createElement(fe,{values:[[be,{...p,ref:T}]]},w.children))}),tt="flow--slider",rt="flow--slider--text",nt="flow--slider--value",at="flow--slider--track",lt="flow--slider--fill",it="flow--slider--initial-marker",ot="flow--slider--handle",st="flow--slider--increment",ut="flow--slider--decrement",dt="flow--slider--disabled",F={slider:tt,text:rt,value:nt,track:at,fill:lt,initialMarker:it,handle:ot,increment:st,decrement:ut,disabled:dt},ct={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhÃ¶hen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},ft=xe("Slider",a=>{const{className:e,children:t,name:i,isDisabled:o,defaultValue:l,showInitialMarker:h,isReadOnly:f,ref:$,step:T,unit:m,...M}=a,v=De(F.slider,o&&F.disabled,e),{FieldErrorView:p,FieldErrorCaptureContext:d,fieldPropsContext:b,fieldProps:s}=Ke(a),r=Se(ct),g=Re($),x={...b,Label:{unstyled:!0,tunnelId:"label",...b.Label}};return V.jsx("div",{...s,children:V.jsx(Qe,{...M,className:v,isDisabled:o,defaultValue:l,step:T,children:V.jsx(we,{children:V.jsxs(le,{props:x,children:[V.jsx(d,{children:t}),V.jsxs("div",{className:F.text,children:[V.jsxs("span",{children:[V.jsx(Ze,{className:F.value}),m&&V.jsx("b",{children:m})]}),V.jsx(ye,{id:"label"})]}),V.jsx(_e,{className:F.track,children:({state:D})=>V.jsxs(le,{props:{Button:{isPending:!1,isFailed:!1,isSucceeded:!1,isReadOnly:f,excludeFromTabOrder:!0,isDisabled:o,variant:"plain",color:"secondary"}},children:[V.jsx(ie,{onPress:()=>D.decrementThumb(0,T),"aria-label":r.format("slider.decrement"),className:F.decrement,isDisabled:o,children:V.jsx(Ve,{})}),V.jsx(ie,{onPress:()=>D.incrementThumb(0,T),"aria-label":r.format("slider.increment"),className:F.increment,isDisabled:o,children:V.jsx(Me,{})}),V.jsx("div",{className:F.fill,style:{width:D.getThumbPercent(0)*100+"%"}}),h&&l&&typeof l=="number"&&V.jsx("div",{className:F.initialMarker,style:{left:`calc(${D.getValuePercent(l)*100}% - 2px)`}}),V.jsx(et,{inputRef:g,name:i,className:F.handle,isDisabled:f})]})}),V.jsx(p,{})]})})})})});ft.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{ft as S};
