import{r as f,R as N,j as k}from"./iframe-D8FrJ-CZ.js";import{f as Te,P as xe}from"./PropsContextProvider-EPA_0_Bo.js";import{c as ye}from"./clsx-B-dksMZM.js";import{B as le}from"./Button-Cq__NSNu.js";import{q as we,d as De}from"./IconWarning-C11FXGxU.js";import{$ as Ve}from"./useLocalizedStringFormatter-BJgvBQQo.js";import{$ as _,g as de,a as W,e as ce,c as Me}from"./utils-DLru3qrQ.js";import{$ as fe}from"./Label-CJkrjybq.js";import{c as ie,$ as A}from"./mergeRefs-utDOSA_8.js";import{$ as me}from"./filterDOMProps-CghfNOdR.js";import{b as q,$ as ee,c as ke}from"./ProgressBar-DaMaURS1.js";import{$ as Re}from"./useControlledState-Bhtz6D6k.js";import{c as te,$ as be,a as Ke}from"./useFocusRing-Dt7u0yDa.js";import{D as Se,m as Fe}from"./useFocus-_KFCgimG.js";import{g as Ee,h as Ie}from"./usePress-mcSHbC1W.js";import{a as pe}from"./useLabel-DAKRqT8J.js";import{$ as he}from"./context-Dz2Qbbtu.js";import{$ as Ce}from"./useFormReset-BMZp-ADn.js";import{a as Le,$ as je}from"./useFocusable-BXg3nN8-.js";import{$ as Ne}from"./VisuallyHidden-HCxlUedB.js";function ge(a){let{onMoveStart:e,onMove:t,onMoveEnd:s}=a,d=f.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:l,removeGlobalListener:g}=te(),m=ie((o,h,b,n)=>{b===0&&n===0||(d.current.didMove||(d.current.didMove=!0,e==null||e({type:"movestart",pointerType:h,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})),t==null||t({type:"move",pointerType:h,deltaX:b,deltaY:n,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))}),p=ie((o,h)=>{Ee(),d.current.didMove&&(s==null||s({type:"moveend",pointerType:h,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))});return{moveProps:f.useMemo(()=>{let o={},h=()=>{Ie(),d.current.didMove=!1};{let n=c=>{if(c.pointerId===d.current.id){var v,i;let K=c.pointerType||"mouse";var P,D;m(c,K,c.pageX-((P=(v=d.current.lastPosition)===null||v===void 0?void 0:v.pageX)!==null&&P!==void 0?P:0),c.pageY-((D=(i=d.current.lastPosition)===null||i===void 0?void 0:i.pageY)!==null&&D!==void 0?D:0)),d.current.lastPosition={pageX:c.pageX,pageY:c.pageY}}},y=c=>{if(c.pointerId===d.current.id){let v=c.pointerType||"mouse";p(c,v),d.current.id=null,g(window,"pointermove",n,!1),g(window,"pointerup",y,!1),g(window,"pointercancel",y,!1)}};o.onPointerDown=c=>{c.button===0&&d.current.id==null&&(h(),c.stopPropagation(),c.preventDefault(),d.current.lastPosition={pageX:c.pageX,pageY:c.pageY},d.current.id=c.pointerId,l(window,"pointermove",n,!1),l(window,"pointerup",y,!1),l(window,"pointercancel",y,!1))}}let b=(n,y,c)=>{h(),m(n,"keyboard",y,c),p(n,"keyboard")};return o.onKeyDown=n=>{switch(n.key){case"Left":case"ArrowLeft":n.preventDefault(),n.stopPropagation(),b(n,-1,0);break;case"Right":case"ArrowRight":n.preventDefault(),n.stopPropagation(),b(n,1,0);break;case"Up":case"ArrowUp":n.preventDefault(),n.stopPropagation(),b(n,0,-1);break;case"Down":case"ArrowDown":n.preventDefault(),n.stopPropagation(),b(n,0,1);break}},o},[d,l,g,m,p])}}const Ae=0,He=100,Ue=1;function ze(a){const{isDisabled:e=!1,minValue:t=Ae,maxValue:s=He,numberFormatter:d,step:l=Ue,orientation:g="horizontal"}=a;let m=f.useMemo(()=>{let r=(s-t)/10;return r=q(r,0,r+l,l),Math.max(r,l)},[l,s,t]),p=f.useCallback(r=>r==null?void 0:r.map(($,V)=>{let B=V===0?t:r[V-1],G=V===r.length-1?s:r[V+1];return q($,B,G,l)}),[t,s,l]),w=f.useMemo(()=>p(se(a.value)),[a.value,p]),o=f.useMemo(()=>{var r;return p((r=se(a.defaultValue))!==null&&r!==void 0?r:[t])},[a.defaultValue,t,p]),h=ue(a.value,a.defaultValue,a.onChange),b=ue(a.value,a.defaultValue,a.onChangeEnd);const[n,y]=Re(w,o,h);let[c]=f.useState(n);const[v,i]=f.useState(new Array(n.length).fill(!1)),P=f.useRef(new Array(n.length).fill(!0)),[D,K]=f.useState(void 0),x=f.useRef(n),T=f.useRef(v);let C=r=>{x.current=r,y(r)},L=r=>{T.current=r,i(r)};function z(r){return(r-t)/(s-t)}function X(r){return r===0?t:n[r-1]}function O(r){return r===n.length-1?s:n[r+1]}function H(r){return P.current[r]}function j(r,$){P.current[r]=$}function M(r,$){if(e||!H(r))return;const V=X(r),B=O(r);$=q($,V,B,l);let G=oe(x.current,r,$);C(G)}function R(r,$){if(e||!H(r))return;$&&(x.current=n);const V=T.current[r];T.current=oe(T.current,r,$),L(T.current),b&&V&&!T.current.some(Boolean)&&b(x.current)}function S(r){return d.format(r)}function u(r,$){M(r,E($))}function F(r){return Math.round((r-t)/l)*l+t}function E(r){const $=r*(s-t)+t;return ee(F($),t,s)}function U(r,$=1){let V=Math.max($,l);M(r,q(n[r]+V,t,s,l))}function Y(r,$=1){let V=Math.max($,l);M(r,q(n[r]-V,t,s,l))}return{values:n,defaultValues:a.defaultValue!==void 0?o:c,getThumbValue:r=>n[r],setThumbValue:M,setThumbPercent:u,isThumbDragging:r=>v[r],setThumbDragging:R,focusedThumb:D,setFocusedThumb:K,getThumbPercent:r=>z(n[r]),getValuePercent:z,getThumbValueLabel:r=>S(n[r]),getFormattedValue:S,getThumbMinValue:X,getThumbMaxValue:O,getPercentValue:E,isThumbEditable:H,setThumbEditable:j,incrementThumb:U,decrementThumb:Y,step:l,pageSize:m,orientation:g,isDisabled:e}}function oe(a,e,t){return a[e]===t?a:[...a.slice(0,e),t,...a.slice(e+1)]}function se(a){if(a!=null)return Array.isArray(a)?a:[a]}function ue(a,e,t){return s=>{typeof a=="number"||typeof e=="number"?t==null||t(s[0]):t==null||t(s)}}const re=new WeakMap;function Z(a,e){let t=re.get(a);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Be(a,e,t){let{labelProps:s,fieldProps:d}=pe(a),l=a.orientation==="vertical";var g;re.set(e,{id:(g=s.id)!==null&&g!==void 0?g:d.id,"aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]});let{direction:m}=he(),{addGlobalListener:p,removeGlobalListener:w}=te();const o=f.useRef(null),h=m==="rtl",b=f.useRef(null),{moveProps:n}=ge({onMoveStart(){b.current=null},onMove({deltaX:i,deltaY:P}){if(!t.current)return;let{height:D,width:K}=t.current.getBoundingClientRect(),x=l?D:K;b.current==null&&o.current!=null&&(b.current=e.getThumbPercent(o.current)*x);let T=l?P:i;if((l||h)&&(T=-T),b.current+=T,o.current!=null&&t.current){const C=ee(b.current/x,0,1);e.setThumbPercent(o.current,C)}},onMoveEnd(){o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null)}});let y=f.useRef(void 0),c=(i,P,D,K)=>{if(t.current&&!a.isDisabled&&e.values.every((x,T)=>!e.isThumbDragging(T))){let{height:x,width:T,top:C,left:L}=t.current.getBoundingClientRect(),z=l?x:T,j=((l?K:D)-(l?C:L))/z;(m==="rtl"||l)&&(j=1-j);let M=e.getPercentValue(j),R,S=e.values.findIndex(u=>M-u<0);if(S===0)R=S;else if(S===-1)R=e.values.length-1;else{let u=e.values[S-1],F=e.values[S];Math.abs(u-M)<Math.abs(F-M)?R=S-1:R=S}R>=0&&e.isThumbEditable(R)?(i.preventDefault(),o.current=R,e.setFocusedThumb(R),y.current=P,e.setThumbDragging(o.current,!0),e.setThumbValue(R,M),p(window,"mouseup",v,!1),p(window,"touchend",v,!1),p(window,"pointerup",v,!1)):o.current=null}},v=i=>{var P,D;((D=i.pointerId)!==null&&D!==void 0?D:(P=i.changedTouches)===null||P===void 0?void 0:P[0].identifier)===y.current&&(o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null),w(window,"mouseup",v,!1),w(window,"touchend",v,!1),w(window,"pointerup",v,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var i;(i=document.getElementById(Z(e,0)))===null||i===void 0||i.focus(),Se("keyboard")}),{labelProps:s,groupProps:{role:"group",...d},trackProps:A({onMouseDown(i){i.button!==0||i.altKey||i.ctrlKey||i.metaKey||c(i,void 0,i.clientX,i.clientY)},onPointerDown(i){i.pointerType==="mouse"&&(i.button!==0||i.altKey||i.ctrlKey||i.metaKey)||c(i,i.pointerId,i.clientX,i.clientY)},onTouchStart(i){c(i,i.changedTouches[0].identifier,i.changedTouches[0].clientX,i.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},n),outputProps:{htmlFor:e.values.map((i,P)=>Z(e,P)).join(" "),"aria-live":"off"}}}function Ge(a,e){let{index:t=0,isRequired:s,validationState:d,isInvalid:l,trackRef:g,inputRef:m,orientation:p=e.orientation,name:w,form:o}=a,h=a.isDisabled||e.isDisabled,b=p==="vertical",{direction:n}=he(),{addGlobalListener:y,removeGlobalListener:c}=te(),v=re.get(e);var i;const{labelProps:P,fieldProps:D}=pe({...a,id:Z(e,t),"aria-labelledby":`${v.id} ${(i=a["aria-labelledby"])!==null&&i!==void 0?i:""}`.trim()}),K=e.values[t],x=f.useCallback(()=>{m.current&&Fe(m.current)},[m]),T=e.focusedThumb===t;f.useEffect(()=>{T&&x()},[T,x]);let C=n==="rtl",L=f.useRef(null),{keyboardProps:z}=Le({onKeyDown(u){let{getThumbMaxValue:F,getThumbMinValue:E,decrementThumb:U,incrementThumb:Y,setThumbValue:r,setThumbDragging:$,pageSize:V}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(u.key)){u.continuePropagation();return}switch(u.preventDefault(),$(t,!0),u.key){case"PageUp":Y(t,V);break;case"PageDown":U(t,V);break;case"Home":r(t,E(t));break;case"End":r(t,F(t));break}$(t,!1)}}),{moveProps:X}=ge({onMoveStart(){L.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:u,deltaY:F,pointerType:E,shiftKey:U}){const{getThumbPercent:Y,setThumbPercent:r,decrementThumb:$,incrementThumb:V,step:B,pageSize:G}=e;if(!g.current)return;let{width:ve,height:Pe}=g.current.getBoundingClientRect(),ae=b?Pe:ve;if(L.current==null&&(L.current=Y(t)*ae),E==="keyboard")u>0&&C||u<0&&!C||F>0?$(t,U?G:B):V(t,U?G:B);else{let Q=b?F:u;(b||C)&&(Q=-Q),L.current+=Q,r(t,ee(L.current/ae,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!h);const{focusableProps:O}=je(A(a,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),m);let H=f.useRef(void 0),j=u=>{x(),H.current=u,e.setThumbDragging(t,!0),y(window,"mouseup",M,!1),y(window,"touchend",M,!1),y(window,"pointerup",M,!1)},M=u=>{var F,E;((E=u.pointerId)!==null&&E!==void 0?E:(F=u.changedTouches)===null||F===void 0?void 0:F[0].identifier)===H.current&&(x(),e.setThumbDragging(t,!1),c(window,"mouseup",M,!1),c(window,"touchend",M,!1),c(window,"pointerup",M,!1))},R=e.getThumbPercent(t);(b||n==="rtl")&&(R=1-R);let S=h?{}:A(z,X,{onMouseDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||j()},onPointerDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||j(u.pointerId)},onTouchStart:u=>{j(u.changedTouches[0].identifier)}});return Ce(m,e.defaultValues[t],u=>{e.setThumbValue(t,u)}),{inputProps:A(O,D,{type:"range",tabIndex:h?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:K,name:w,form:o,disabled:h,"aria-orientation":p,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":s||void 0,"aria-invalid":l||d==="invalid"||void 0,"aria-errormessage":a["aria-errormessage"],"aria-describedby":[v["aria-describedby"],a["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[v["aria-details"],a["aria-details"]].filter(Boolean).join(" "),onChange:u=>{e.setThumbValue(t,parseFloat(u.target.value))}}),thumbProps:{...S,style:{position:"absolute",[b?"top":"left"]:`${R*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:P,isDragging:e.isThumbDragging(t),isDisabled:h,isFocused:T}}const Xe=f.createContext(null),J=f.createContext(null),ne=f.createContext(null),$e=f.createContext(null),Oe=f.forwardRef(function(e,t){[e,t]=_(e,t,Xe);let s=f.useRef(null),d=ke(e.formatOptions),l=ze({...e,numberFormatter:d}),[g,m]=de(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:p,trackProps:w,labelProps:o,outputProps:h}=Be({...e,label:m},l,s),b=W({...e,values:{orientation:l.orientation,isDisabled:l.isDisabled,state:l},defaultClassName:"react-aria-Slider"}),n=me(e,{global:!0});return delete n.id,N.createElement(ce,{values:[[J,l],[ne,{...w,ref:s}],[$e,h],[fe,{...o,ref:g}]]},N.createElement("div",{...A(n,b,p),ref:t,slot:e.slot||void 0,"data-orientation":l.orientation,"data-disabled":l.isDisabled||void 0}))}),Ye=f.forwardRef(function(e,t){[e,t]=_(e,t,$e);let{children:s,style:d,className:l,...g}=e,m=f.useContext(J),p=W({className:l,style:d,children:s,defaultChildren:m.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:m.orientation,isDisabled:m.isDisabled,state:m}});return N.createElement("output",{...g,...p,ref:t,"data-orientation":m.orientation||void 0,"data-disabled":m.isDisabled||void 0})}),qe=f.forwardRef(function(e,t){[e,t]=_(e,t,ne);let s=f.useContext(J),{onHoverStart:d,onHoverEnd:l,onHoverChange:g,...m}=e,{hoverProps:p,isHovered:w}=be({onHoverStart:d,onHoverEnd:l,onHoverChange:g}),o=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:s.orientation,isDisabled:s.isDisabled,isHovered:w,state:s}});return N.createElement("div",{...A(m,p),...o,ref:t,"data-hovered":w||void 0,"data-orientation":s.orientation||void 0,"data-disabled":s.isDisabled||void 0})}),We=f.forwardRef(function(e,t){let{inputRef:s=null}=e,d=f.useContext(J),{ref:l}=Me(ne),{index:g=0}=e,m=f.useRef(null),p=s||m,[w,o]=de(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:h,inputProps:b,labelProps:n,isDragging:y,isFocused:c,isDisabled:v}=Ge({...e,index:g,trackRef:l,inputRef:p,label:o},d),{focusProps:i,isFocusVisible:P}=Ke(),{hoverProps:D,isHovered:K}=be(e),x=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:d,isHovered:K,isDragging:y,isFocused:c,isFocusVisible:P,isDisabled:v}}),T=me(e,{global:!0});return delete T.id,N.createElement("div",{...A(T,h,D),...x,ref:t,style:{...h.style,...x.style},"data-hovered":K||void 0,"data-dragging":y||void 0,"data-focused":c||void 0,"data-focus-visible":P||void 0,"data-disabled":v||void 0},N.createElement(Ne,null,N.createElement("input",{ref:p,...A(b,i)})),N.createElement(ce,{values:[[fe,{...n,ref:w}]]},x.children))}),Je="flow--slider",Qe="flow--slider--text",Ze="flow--slider--value",_e="flow--slider--track",et="flow--slider--fill",tt="flow--slider--initial-marker",rt="flow--slider--handle",nt="flow--slider--increment",at="flow--slider--decrement",lt="flow--slider--disabled",I={slider:Je,text:Qe,value:Ze,track:_e,fill:et,initialMarker:tt,handle:rt,increment:nt,decrement:at,disabled:lt},it={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},ot=Te("Slider",a=>{const{className:e,children:t,name:s,isDisabled:d,defaultValue:l,showInitialMarker:g,step:m,unit:p,...w}=a,o=ye(I.slider,d&&I.disabled,e),h=Ve(it),b={Label:{unstyled:!0}};return k.jsxs(Oe,{className:o,isDisabled:d,defaultValue:l,step:m,...w,children:[k.jsxs("div",{className:I.text,children:[k.jsxs("span",{children:[k.jsx(Ye,{className:I.value}),p&&k.jsx("b",{children:p})]}),k.jsx(xe,{props:b,children:t})]}),k.jsx(qe,{className:I.track,children:({state:n})=>k.jsxs(k.Fragment,{children:[k.jsx(le,{onPress:()=>n.decrementThumb(0,m),"aria-label":h.format("slider.decrement"),variant:"plain",color:"secondary",className:I.decrement,isDisabled:d,excludeFromTabOrder:!0,children:k.jsx(we,{})}),k.jsx(le,{onPress:()=>n.incrementThumb(0,m),"aria-label":h.format("slider.increment"),variant:"plain",color:"secondary",className:I.increment,isDisabled:d,excludeFromTabOrder:!0,children:k.jsx(De,{})}),k.jsx("div",{className:I.fill,style:{width:n.getThumbPercent(0)*100+"%"}}),g&&l&&typeof l=="number"&&k.jsx("div",{className:I.initialMarker,style:{left:`calc(${n.getValuePercent(l)*100}% - 2px)`}}),k.jsx(We,{name:s,className:I.handle})]})})]})});ot.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"Slider"};export{ot as S};
