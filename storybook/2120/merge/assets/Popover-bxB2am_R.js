import{r as d,j as o}from"./iframe-DhEtuAZk.js";import{c as v}from"./clsx-B-dksMZM.js";import{O as h,u as x}from"./context-D6NPEI3P.js";import{v as O,f as w}from"./flowComponent-Sd9fxQN7.js";import{a as y}from"./OverlayTrigger-BYK82yFU.js";import{t as g,q as P}from"./Dialog-CGia85P_.js";import{i as b}from"./OverlayArrow-D5AF8TQx.js";import{a as j}from"./ClearPropsContextView-CacYGh9N.js";const N=(s,a={})=>{const{reuseControllerFromContext:p=!0,isDefaultOpen:l,onOpen:n,onClose:t}=a,m=h.useNew({isDefaultOpen:l,onOpen:n,onClose:t}),i=x()[s],e=p&&i?i:m;return d.useEffect(()=>{const r=[];return n&&r.push(e.addOnOpen(n)),t&&r.push(e.addOnClose(t)),()=>{r.forEach(c=>c())}},[n,t]),e},T="flow--popover",E="flow--popover--content",$="flow--popover--tip",f={popover:T,content:E,tip:$},C=s=>{const{children:a,className:p,isDialogContent:l=!1,withTip:n,onOpenChange:t,ref:m,isOpen:i,width:e,...r}=s,c=l?P:"div";return o.jsxs(g,{...r,className:p,containerPadding:16,ref:m,isOpen:i,onOpenChange:t,style:{width:e},children:[n&&o.jsx(b,{className:f.tip,children:o.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",children:o.jsx("path",{d:"M0 0 L8 8 L16 0"})})}),o.jsx(c,{className:f.content,children:a})]})};C.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"PopoverContent",props:{withTip:{required:!1,tsType:{name:"boolean"},description:""},isDialogContent:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isOpen"}],return:{name:"void"}}},description:""},ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLElement"}],raw:"Ref<HTMLElement>"},description:""},triggerRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"Element | null",elements:[{name:"Element"},{name:"null"}]}],raw:"RefObject<Element | null>"},description:""}},composes:["PropsWithChildren","PropsWithClassName"]};const u=d.memo(s=>{const a=d.useContext(O).PopoverContent??C;return o.jsx(a,{...s})});u.displayName="PopoverContentView";u.__docgenInfo={description:"",methods:[],displayName:"PopoverContentView"};const q=w("Popover",s=>{const{children:a,className:p,controller:l,defaultOpen:n=!1,ref:t,...m}=s,i=N("Popover",{reuseControllerFromContext:!0,isDefaultOpen:n}),e=l??i,r=e.useIsOpen(),c=v(f.popover,p);return o.jsx(j,{children:o.jsx(u,{...m,className:c,isOpen:r,onOpenChange:()=>e.setOpen(!r),ref:t,children:o.jsx(y,{type:"Popover",controller:e,children:a})})})});q.__docgenInfo={description:"",methods:[],displayName:"Popover"};export{q as P,N as u};
