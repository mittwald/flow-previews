import{r as d,j as n}from"./iframe-DvmgUBW7.js";import{c as x}from"./clsx-B-dksMZM.js";import{O,u as w}from"./context-BiUxtsr9.js";import{v as g,f as y}from"./flowComponent-iNmw-pXL.js";import{a as P}from"./OverlayTrigger-BwLKLDhB.js";import{t as b,q as j}from"./Dialog-BHVsz8CY.js";import{i as N}from"./OverlayArrow-DmicGHSR.js";import{a as T}from"./ClearPropsContextView-DIwnN3mE.js";const E=(r,s={})=>{const{reuseControllerFromContext:i=!0,isDefaultOpen:l,onOpen:e,onClose:t}=s,m=O.useNew({isDefaultOpen:l,onOpen:e,onClose:t}),p=w()[r],a=i&&p?p:m;return d.useEffect(()=>{const o=[];return e&&o.push(a.addOnOpen(e)),t&&o.push(a.addOnClose(t)),()=>{o.forEach(c=>c())}},[e,t]),a},$="flow--popover",q="flow--popover--content",F="flow--popover--tip",f={popover:$,content:q,tip:F},h=r=>{const{children:s,className:i,isDialogContent:l=!1,withTip:e,onOpenChange:t,ref:m,isOpen:p,width:a,...o}=r,c=l?j:"div";return n.jsxs(b,{...o,className:i,containerPadding:16,ref:m,isOpen:p,onOpenChange:t,style:{width:a},children:[e&&n.jsx(N,{className:f.tip,children:n.jsx("svg",{width:16,height:16,viewBox:"0 0 16 16",children:n.jsx("path",{d:"M0 0 L8 8 L16 0"})})}),n.jsx(c,{className:f.content,children:s})]})};h.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"PopoverContent",props:{withTip:{required:!1,tsType:{name:"boolean"},description:""},isDialogContent:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""},width:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isOpen"}],return:{name:"void"}}},description:""},ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLElement"}],raw:"Ref<HTMLElement>"},description:""},triggerRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"Element | null",elements:[{name:"Element"},{name:"null"}]}],raw:"RefObject<Element | null>"},description:""}},composes:["PropsWithChildren","PropsWithClassName"]};const u=d.memo(r=>{const s=d.useContext(g).PopoverContent??h;return n.jsx(s,{...r})});u.displayName="PopoverContentView";u.__docgenInfo={description:"",methods:[],displayName:"PopoverContentView"};const R=y("Popover",r=>{const{children:s,className:i,controller:l,onOpenChange:e,defaultOpen:t=!1,ref:m,...p}=r,a=E("Popover",{reuseControllerFromContext:!0,isDefaultOpen:t}),o=l??a,c=o.useIsOpen(),v=x(f.popover,i);return n.jsx(T,{children:n.jsx(u,{...p,className:v,isOpen:c,onOpenChange:C=>{e?e(C):o.setOpen(C)},ref:m,children:n.jsx(P,{type:"Popover",controller:o,children:s})})})});R.__docgenInfo={description:"",methods:[],displayName:"Popover"};export{R as P,E as u};
