import{R as x,r as j,j as k}from"./iframe-jPI25t47.js";import{d as nr}from"./dynamic-DcvTJJQa.js";import{v as ir,P as Ue}from"./flowComponent-NWkTmrxz.js";import{F as or}from"./FieldError-DPfGZS1P.js";import{$ as xt}from"./useLocalizedStringFormatter-DiGz--zc.js";import{H as ar,C as lr,T as ur,A as cr}from"./ActionGroupView-BqWWBXhU.js";import{M as dr}from"./Modal-CdjOxPJU.js";import{A as me,a as fr,M as mr,b as yr}from"./ActionBatch-DVEQdHps.js";import{B as xe}from"./ButtonView-quZyuTrS.js";import{b as Ct}from"./useOverlayController-Cy5LcSUF.js";import{u as hr}from"./useRef-XiRQpzNC.js";import{b as gr}from"./utils-DssEHlsW.js";import"./Button-CMdL10Ys.js";import{i as br}from"./browser-BKdBfXKE.js";var Fe=e=>e.type==="checkbox",ce=e=>e instanceof Date,Q=e=>e==null;const Vt=e=>typeof e=="object";var q=e=>!Q(e)&&!Array.isArray(e)&&Vt(e)&&!ce(e),wt=e=>q(e)&&e.target?Fe(e.target)?e.target.checked:e.target.value:e,vr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,St=(e,r)=>e.has(vr(r)),pr=e=>{const r=e.constructor&&e.constructor.prototype;return q(r)&&r.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){if(e instanceof Date)return new Date(e);const r=typeof FileList<"u"&&e instanceof FileList;if(Be&&(e instanceof Blob||r))return e;const t=Array.isArray(e);if(!t&&!(q(e)&&pr(e)))return e;const n=t?[]:Object.create(Object.getPrototypeOf(e));for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=B(e[i]));return n}var Se=e=>/^\w*$/.test(e),N=e=>e===void 0,He=e=>Array.isArray(e)?e.filter(Boolean):[],qe=e=>He(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!q(e))return t;const n=(Se(r)?[r]:qe(r)).reduce((i,o)=>Q(i)?i:i[o],e);return N(n)||n===e?N(e[r])?t:e[r]:n},J=e=>typeof e=="boolean",z=e=>typeof e=="function",P=(e,r,t)=>{let n=-1;const i=Se(r)?[r]:qe(r),o=i.length,l=o-1;for(;++n<o;){const c=i[n];let b=t;if(n!==l){const S=e[c];b=q(S)||Array.isArray(S)?S:isNaN(+i[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=b,e=e[c]}};const Ce={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},se={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ke=x.createContext(null);Ke.displayName="HookFormControlContext";const We=()=>x.useContext(Ke);var At=(e,r,t,n=!0)=>{const i={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const l=o;return r._proxyFormState[l]!==se.all&&(r._proxyFormState[l]=!n||se.all),t&&(t[l]=!0),e[l]}});return i};const $e=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Fr(e){const r=We(),{control:t=r,disabled:n,name:i,exact:o}=e||{},[l,c]=x.useState(t._formState),b=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $e(()=>t._subscribe({name:i,formState:b.current,exact:o,callback:S=>{!n&&c({...t._formState,...S})}}),[i,n,o]),x.useEffect(()=>{b.current.isValid&&t._setValid(!0)},[t]),x.useMemo(()=>At(l,t,b.current,!1),[l,t])}var ee=e=>typeof e=="string",Ne=(e,r,t,n,i)=>ee(e)?(n&&r.watch.add(e),y(t,e,i)):Array.isArray(e)?e.map(o=>(n&&r.watch.add(o),y(t,o))):(n&&(r.watchAll=!0),t),je=e=>Q(e)||!Vt(e);function ne(e,r,t=new WeakSet){if(je(e)||je(r))return Object.is(e,r);if(ce(e)&&ce(r))return Object.is(e.getTime(),r.getTime());const n=Object.keys(e),i=Object.keys(r);if(n.length!==i.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of n){const l=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=r[o];if(ce(l)&&ce(c)||q(l)&&q(c)||Array.isArray(l)&&Array.isArray(c)?!ne(l,c,t):!Object.is(l,c))return!1}}return!0}function kt(e){const r=We(),{control:t=r,name:n,defaultValue:i,disabled:o,exact:l,compute:c}=e||{},b=x.useRef(i),S=x.useRef(c),v=x.useRef(void 0),d=x.useRef(t),_=x.useRef(n);S.current=c;const[p,R]=x.useState(()=>{const g=t._getWatch(n,b.current);return S.current?S.current(g):g}),E=x.useCallback(g=>{const C=Ne(n,t._names,g||t._formValues,!1,b.current);return S.current?S.current(C):C},[t._formValues,t._names,n]),w=x.useCallback(g=>{if(!o){const C=Ne(n,t._names,g||t._formValues,!1,b.current);if(S.current){const T=S.current(C);ne(T,v.current)||(R(T),v.current=T)}else R(C)}},[t._formValues,t._names,o,n]);$e(()=>((d.current!==t||!ne(_.current,n))&&(d.current=t,_.current=n,w()),t._subscribe({name:n,formState:{values:!0},exact:l,callback:g=>{w(g.values)}})),[t,l,n,w]),x.useEffect(()=>t._removeUnmounted());const M=d.current!==t,V=_.current,I=x.useMemo(()=>{if(o)return null;const g=!M&&!ne(V,n);return M||g?E():null},[o,M,n,V,E]);return I!==null?I:p}function _r(e){const r=We(),{name:t,disabled:n,control:i=r,shouldUnregister:o,defaultValue:l,exact:c=!0}=e,b=St(i._names.array,t),S=x.useMemo(()=>y(i._formValues,t,y(i._defaultValues,t,l)),[i,t,l]),v=kt({control:i,name:t,defaultValue:S,exact:c}),d=Fr({control:i,name:t,exact:c}),_=x.useRef(e),p=x.useRef(void 0),R=x.useRef(i.register(t,{...e.rules,value:v,...J(e.disabled)?{disabled:e.disabled}:{}}));_.current=e;const E=x.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(d.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(d.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(d.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(d.validatingFields,t)},error:{enumerable:!0,get:()=>y(d.errors,t)}}),[d,t]),w=x.useCallback(g=>R.current.onChange({target:{value:wt(g),name:t},type:Ce.CHANGE}),[t]),M=x.useCallback(()=>R.current.onBlur({target:{value:y(i._formValues,t),name:t},type:Ce.BLUR}),[t,i._formValues]),V=x.useCallback(g=>{const C=y(i._fields,t);C&&C._f&&g&&(C._f.ref={focus:()=>z(g.focus)&&g.focus(),select:()=>z(g.select)&&g.select(),setCustomValidity:T=>z(g.setCustomValidity)&&g.setCustomValidity(T),reportValidity:()=>z(g.reportValidity)&&g.reportValidity()})},[i._fields,t]),I=x.useMemo(()=>({name:t,value:v,...J(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:w,onBlur:M,ref:V}),[t,n,d.disabled,w,M,V,v]);return x.useEffect(()=>{const g=i._options.shouldUnregister||o,C=p.current;C&&C!==t&&!b&&i.unregister(C),i.register(t,{..._.current.rules,...J(_.current.disabled)?{disabled:_.current.disabled}:{}});const T=(U,G)=>{const W=y(i._fields,U);W&&W._f&&(W._f.mount=G)};if(T(t,!0),g){const U=B(y(i._options.defaultValues,t,_.current.defaultValue));P(i._defaultValues,t,U),N(y(i._formValues,t))&&P(i._formValues,t,U)}return!b&&i.register(t),p.current=t,()=>{(b?g&&!i._state.action:g)?i.unregister(t):T(t,!1)}},[t,i,b,o]),x.useEffect(()=>{i._setDisabledField({disabled:n,name:t})},[n,t,i]),x.useMemo(()=>({field:I,formState:d,fieldState:E}),[I,d,E])}const Et=x.createContext(null);Et.displayName="HookFormContext";const xr=e=>{const{children:r,watch:t,getValues:n,getFieldState:i,setError:o,clearErrors:l,setValue:c,trigger:b,formState:S,resetField:v,reset:d,handleSubmit:_,unregister:p,control:R,register:E,setFocus:w,subscribe:M}=e;return x.createElement(Et.Provider,{value:x.useMemo(()=>({watch:t,getValues:n,getFieldState:i,setError:o,clearErrors:l,setValue:c,trigger:b,formState:S,resetField:v,reset:d,handleSubmit:_,unregister:p,control:R,register:E,setFocus:w,subscribe:M}),[l,R,S,i,n,_,E,d,v,o,w,c,M,b,p,t])},x.createElement(Ke.Provider,{value:R},r))};var Cr=(e,r,t,n,i)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:i||!0}}:{},ve=e=>Array.isArray(e)?e:[e],ut=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}};function Rt(e,r){const t={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],o=r[n];if(i&&q(i)&&o){const l=Rt(i,o);q(l)&&(t[n]=l)}else e[n]&&(t[n]=o)}return t}var Y=e=>q(e)&&!Object.keys(e).length,Ge=e=>e.type==="file",Ve=e=>{if(!Be)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Lt=e=>e.type==="select-multiple",Ze=e=>e.type==="radio",Vr=e=>Ze(e)||Fe(e),De=e=>Ve(e)&&e.isConnected;function wr(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=N(e)?n++:e[r[n++]];return e}function Sr(e){for(const r in e)if(e.hasOwnProperty(r)&&!N(e[r]))return!1;return!0}function H(e,r){const t=Array.isArray(r)?r:Se(r)?[r]:qe(r),n=t.length===1?e:wr(e,t),i=t.length-1,o=t[i];return n&&delete n[o],i!==0&&(q(n)&&Y(n)||Array.isArray(n)&&Sr(n))&&H(e,t.slice(0,-1)),e}var Ar=e=>{for(const r in e)if(z(e[r]))return!0;return!1};function Ot(e){return Array.isArray(e)||q(e)&&!Ar(e)}function Ie(e,r={}){for(const t in e){const n=e[t];Ot(n)?(r[t]=Array.isArray(n)?[]:{},Ie(n,r[t])):N(n)||(r[t]=!0)}return r}function fe(e,r,t){t||(t=Ie(r));for(const n in e){const i=e[n];if(Ot(i))N(r)||je(t[n])?t[n]=Ie(i,Array.isArray(i)?[]:{}):fe(i,Q(r)?{}:r[n],t[n]);else{const o=r[n];t[n]=!ne(i,o)}}return t}const ct={value:!1,isValid:!1},dt={value:!0,isValid:!0};var Dt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!N(e[0].attributes.value)?N(e[0].value)||e[0].value===""?dt:{value:e[0].value,isValid:!0}:dt:ct}return ct},Mt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>N(e)?e:r?e===""?NaN:e&&+e:t&&ee(e)?new Date(e):n?n(e):e;const ft={isValid:!1,value:null};var Tt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ft):ft;function mt(e){const r=e.ref;return Ge(r)?r.files:Ze(r)?Tt(e.refs).value:Lt(r)?[...r.selectedOptions].map(({value:t})=>t):Fe(r)?Dt(e.refs).value:Mt(N(r.value)?e.ref.value:r.value,e)}var kr=(e,r,t,n)=>{const i={};for(const o of e){const l=y(r,o);l&&P(i,o,l._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:n}},we=e=>e instanceof RegExp,be=e=>N(e)?e:we(e)?e.source:q(e)?we(e.value)?e.value.source:e.value:e,yt=e=>({isOnSubmit:!e||e===se.onSubmit,isOnBlur:e===se.onBlur,isOnChange:e===se.onChange,isOnAll:e===se.all,isOnTouch:e===se.onTouched});const ht="AsyncFunction";var Er=e=>!!e&&!!e.validate&&!!(z(e.validate)&&e.validate.constructor.name===ht||q(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ht)),Rr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const pe=(e,r,t,n)=>{for(const i of t||Object.keys(e)){const o=y(e,i);if(o){const{_f:l,...c}=o;if(l){if(l.refs&&l.refs[0]&&r(l.refs[0],i)&&!n)return!0;if(l.ref&&r(l.ref,l.name)&&!n)return!0;if(pe(c,r))break}else if(q(c)&&pe(c,r))break}}};function bt(e,r,t){const n=y(e,t);if(n||Se(t))return{error:n,name:t};const i=t.split(".");for(;i.length;){const o=i.join("."),l=y(r,o),c=y(e,o);if(l&&!Array.isArray(l)&&t!==o)return{name:t};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};i.pop()}return{name:t}}var Lr=(e,r,t,n)=>{t(e);const{name:i,...o}=e;return Y(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(l=>r[l]===(!n||se.all))},Or=(e,r,t)=>!e||!r||e===r||ve(e).some(n=>n&&(t?n===r:n.startsWith(r)||r.startsWith(n))),Dr=(e,r,t,n,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(r||e):(t?n.isOnBlur:i.isOnBlur)?!e:(t?n.isOnChange:i.isOnChange)?e:!0,Mr=(e,r)=>!He(y(e,r)).length&&H(e,r),Tr=(e,r,t)=>{const n=ve(y(e,t));return P(n,"root",r[t]),P(e,t,n),e};function vt(e,r,t="validate"){if(ee(e)||Array.isArray(e)&&e.every(ee)||J(e)&&!e)return{type:t,message:ee(e)?e:"",ref:r}}var de=e=>q(e)&&!we(e)?e:{value:e,message:""},pt=async(e,r,t,n,i,o)=>{const{ref:l,refs:c,required:b,maxLength:S,minLength:v,min:d,max:_,pattern:p,validate:R,name:E,valueAsNumber:w,mount:M}=e._f,V=y(t,E);if(!M||r.has(E))return{};const I=c?c[0]:l,g=A=>{i&&I.reportValidity&&(I.setCustomValidity(J(A)?"":A||""),I.reportValidity())},C={},T=Ze(l),U=Fe(l),G=T||U,W=(w||Ge(l))&&N(l.value)&&N(V)||Ve(l)&&l.value===""||V===""||Array.isArray(V)&&!V.length,te=Cr.bind(null,E,n,C),_e=(A,L,K,$=ie.maxLength,re=ie.minLength)=>{const X=A?L:K;C[E]={type:A?$:re,message:X,ref:l,...te(A?$:re,X)}};if(o?!Array.isArray(V)||!V.length:b&&(!G&&(W||Q(V))||J(V)&&!V||U&&!Dt(c).isValid||T&&!Tt(c).isValid)){const{value:A,message:L}=ee(b)?{value:!!b,message:b}:de(b);if(A&&(C[E]={type:ie.required,message:L,ref:I,...te(ie.required,L)},!n))return g(L),C}if(!W&&(!Q(d)||!Q(_))){let A,L;const K=de(_),$=de(d);if(!Q(V)&&!isNaN(V)){const re=l.valueAsNumber||V&&+V;Q(K.value)||(A=re>K.value),Q($.value)||(L=re<$.value)}else{const re=l.valueAsDate||new Date(V),X=ge=>new Date(new Date().toDateString()+" "+ge),ye=l.type=="time",he=l.type=="week";ee(K.value)&&V&&(A=ye?X(V)>X(K.value):he?V>K.value:re>new Date(K.value)),ee($.value)&&V&&(L=ye?X(V)<X($.value):he?V<$.value:re<new Date($.value))}if((A||L)&&(_e(!!A,K.message,$.message,ie.max,ie.min),!n))return g(C[E].message),C}if((S||v)&&!W&&(ee(V)||o&&Array.isArray(V))){const A=de(S),L=de(v),K=!Q(A.value)&&V.length>+A.value,$=!Q(L.value)&&V.length<+L.value;if((K||$)&&(_e(K,A.message,L.message),!n))return g(C[E].message),C}if(p&&!W&&ee(V)){const{value:A,message:L}=de(p);if(we(A)&&!V.match(A)&&(C[E]={type:ie.pattern,message:L,ref:l,...te(ie.pattern,L)},!n))return g(L),C}if(R){if(z(R)){const A=await R(V,t),L=vt(A,I);if(L&&(C[E]={...L,...te(ie.validate,L.message)},!n))return g(L.message),C}else if(q(R)){let A={};for(const L in R){if(!Y(A)&&!n)break;const K=vt(await R[L](V,t),I,L);K&&(A={...K,...te(L,K.message)},g(K.message),n&&(C[E]=A))}if(!Y(A)&&(C[E]={ref:I,...A},!n))return C}}return g(!0),C};const Pr={mode:se.onSubmit,reValidateMode:se.onChange,shouldFocusError:!0};function Nr(e={}){let r={...Pr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},i=q(r.defaultValues)||q(r.values)?B(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:B(i),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,S=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...v};let _={...d};const p={array:ut(),state:ut()},R=r.criteriaMode===se.all,E=s=>a=>{clearTimeout(S),S=setTimeout(s,a)},w=async s=>{if(!l.keepIsValid&&!r.disabled&&(d.isValid||_.isValid||s)){let a;r.resolver?(a=Y((await G()).errors),M()):a=await te(n,!0),a!==t.isValid&&p.state.next({isValid:a})}},M=(s,a)=>{!r.disabled&&(d.isValidating||d.validatingFields||_.isValidating||_.validatingFields)&&((s||Array.from(c.mount)).forEach(u=>{u&&(a?P(t.validatingFields,u,a):H(t.validatingFields,u))}),p.state.next({validatingFields:t.validatingFields,isValidating:!Y(t.validatingFields)}))},V=(s,a=[],u,h,m=!0,f=!0)=>{if(h&&u&&!r.disabled){if(l.action=!0,f&&Array.isArray(y(n,s))){const F=u(y(n,s),h.argA,h.argB);m&&P(n,s,F)}if(f&&Array.isArray(y(t.errors,s))){const F=u(y(t.errors,s),h.argA,h.argB);m&&P(t.errors,s,F),Mr(t.errors,s)}if((d.touchedFields||_.touchedFields)&&f&&Array.isArray(y(t.touchedFields,s))){const F=u(y(t.touchedFields,s),h.argA,h.argB);m&&P(t.touchedFields,s,F)}(d.dirtyFields||_.dirtyFields)&&(t.dirtyFields=fe(i,o)),p.state.next({name:s,isDirty:A(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else P(o,s,a)},I=(s,a)=>{P(t.errors,s,a),p.state.next({errors:t.errors})},g=s=>{t.errors=s,p.state.next({errors:t.errors,isValid:!1})},C=(s,a,u,h)=>{const m=y(n,s);if(m){const f=y(o,s,N(u)?y(i,s):u);N(f)||h&&h.defaultChecked||a?P(o,s,a?f:mt(m._f)):$(s,f),l.mount&&!l.action&&w()}},T=(s,a,u,h,m)=>{let f=!1,F=!1;const O={name:s};if(!r.disabled){if(!u||h){(d.isDirty||_.isDirty)&&(F=t.isDirty,t.isDirty=O.isDirty=A(),f=F!==O.isDirty);const D=ne(y(i,s),a);F=!!y(t.dirtyFields,s),D?H(t.dirtyFields,s):P(t.dirtyFields,s,!0),O.dirtyFields=t.dirtyFields,f=f||(d.dirtyFields||_.dirtyFields)&&F!==!D}if(u){const D=y(t.touchedFields,s);D||(P(t.touchedFields,s,u),O.touchedFields=t.touchedFields,f=f||(d.touchedFields||_.touchedFields)&&D!==u)}f&&m&&p.state.next(O)}return f?O:{}},U=(s,a,u,h)=>{const m=y(t.errors,s),f=(d.isValid||_.isValid)&&J(a)&&t.isValid!==a;if(r.delayError&&u?(b=E(()=>I(s,u)),b(r.delayError)):(clearTimeout(S),b=null,u?P(t.errors,s,u):H(t.errors,s)),(u?!ne(m,u):m)||!Y(h)||f){const F={...h,...f&&J(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...F},p.state.next(F)}},G=async s=>(M(s,!0),await r.resolver(o,r.context,kr(s||c.mount,n,r.criteriaMode,r.shouldUseNativeValidation))),W=async s=>{const{errors:a}=await G(s);if(M(s),s)for(const u of s){const h=y(a,u);h?P(t.errors,u,h):H(t.errors,u)}else t.errors=a;return a},te=async(s,a,u={valid:!0})=>{for(const h in s){const m=s[h];if(m){const{_f:f,...F}=m;if(f){const O=c.array.has(f.name),D=m._f&&Er(m._f);D&&d.validatingFields&&M([f.name],!0);const Z=await pt(m,c.disabled,o,R,r.shouldUseNativeValidation&&!a,O);if(D&&d.validatingFields&&M([f.name]),Z[f.name]&&(u.valid=!1,a||e.shouldUseNativeValidation))break;!a&&(y(Z,f.name)?O?Tr(t.errors,Z,f.name):P(t.errors,f.name,Z[f.name]):H(t.errors,f.name))}!Y(F)&&await te(F,a,u)}}return u.valid},_e=()=>{for(const s of c.unMount){const a=y(n,s);a&&(a._f.refs?a._f.refs.every(u=>!De(u)):!De(a._f.ref))&&ke(s)}c.unMount=new Set},A=(s,a)=>!r.disabled&&(s&&a&&P(o,s,a),!ne(Xe(),i)),L=(s,a,u)=>Ne(s,c,{...l.mount?o:N(a)?i:ee(s)?{[s]:a}:a},u,a),K=s=>He(y(l.mount?o:i,s,r.shouldUnregister?y(i,s,[]):[])),$=(s,a,u={})=>{const h=y(n,s);let m=a;if(h){const f=h._f;f&&(!f.disabled&&P(o,s,Mt(a,f)),m=Ve(f.ref)&&Q(a)?"":a,Lt(f.ref)?[...f.ref.options].forEach(F=>F.selected=m.includes(F.value)):f.refs?Fe(f.ref)?f.refs.forEach(F=>{(!F.defaultChecked||!F.disabled)&&(Array.isArray(m)?F.checked=!!m.find(O=>O===F.value):F.checked=m===F.value||!!m)}):f.refs.forEach(F=>F.checked=F.value===m):Ge(f.ref)?f.ref.value="":(f.ref.value=m,f.ref.type||p.state.next({name:s,values:B(o)})))}(u.shouldDirty||u.shouldTouch)&&T(s,m,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ge(s)},re=(s,a,u)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const m=a[h],f=s+"."+h,F=y(n,f);(c.array.has(s)||q(m)||F&&!F._f)&&!ce(m)?re(f,m,u):$(f,m,u)}},X=(s,a,u={})=>{const h=y(n,s),m=c.array.has(s),f=B(a);P(o,s,f),m?(p.array.next({name:s,values:B(o)}),(d.isDirty||d.dirtyFields||_.isDirty||_.dirtyFields)&&u.shouldDirty&&p.state.next({name:s,dirtyFields:fe(i,o),isDirty:A(s,f)})):h&&!h._f&&!Q(f)?re(s,f,u):$(s,f,u),gt(s,c)?p.state.next({...t,name:s,values:B(o)}):p.state.next({name:l.mount?s:void 0,values:B(o)})},ye=async s=>{l.mount=!0;const a=s.target;let u=a.name,h=!0;const m=y(n,u),f=D=>{h=Number.isNaN(D)||ce(D)&&isNaN(D.getTime())||ne(D,y(o,u,D))},F=yt(r.mode),O=yt(r.reValidateMode);if(m){let D,Z;const ue=a.type?mt(m._f):wt(s),ae=s.type===Ce.BLUR||s.type===Ce.FOCUS_OUT,tr=!Rr(m._f)&&!r.resolver&&!y(t.errors,u)&&!m._f.deps||Dr(ae,y(t.touchedFields,u),t.isSubmitted,O,F),Le=gt(u,c,ae);P(o,u,ue),ae?(!a||!a.readOnly)&&(m._f.onBlur&&m._f.onBlur(s),b&&b(0)):m._f.onChange&&m._f.onChange(s);const Oe=T(u,ue,ae),rr=!Y(Oe)||Le;if(!ae&&p.state.next({name:u,type:s.type,values:B(o)}),tr)return(d.isValid||_.isValid)&&(r.mode==="onBlur"?ae&&w():ae||w()),rr&&p.state.next({name:u,...Le?{}:Oe});if(!ae&&Le&&p.state.next({...t}),r.resolver){const{errors:at}=await G([u]);if(M([u]),f(ue),h){const sr=bt(t.errors,n,u),lt=bt(at,n,sr.name||u);D=lt.error,u=lt.name,Z=Y(at)}}else M([u],!0),D=(await pt(m,c.disabled,o,R,r.shouldUseNativeValidation))[u],M([u]),f(ue),h&&(D?Z=!1:(d.isValid||_.isValid)&&(Z=await te(n,!0)));h&&(m._f.deps&&(!Array.isArray(m._f.deps)||m._f.deps.length>0)&&ge(m._f.deps),U(u,Z,D,Oe))}},he=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},ge=async(s,a={})=>{let u,h;const m=ve(s);if(r.resolver){const f=await W(N(s)?s:m);u=Y(f),h=s?!m.some(F=>y(f,F)):u}else s?(h=(await Promise.all(m.map(async f=>{const F=y(n,f);return await te(F&&F._f?{[f]:F}:F)}))).every(Boolean),!(!h&&!t.isValid)&&w()):h=u=await te(n);return p.state.next({...!ee(s)||(d.isValid||_.isValid)&&u!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!h&&pe(n,he,s?m:c.mount),h},Xe=(s,a)=>{let u={...l.mount?o:i};return a&&(u=Rt(a.dirtyFields?t.dirtyFields:t.touchedFields,u)),N(s)?u:ee(s)?y(u,s):s.map(h=>y(u,h))},Je=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),Zt=s=>{s&&ve(s).forEach(a=>H(t.errors,a)),p.state.next({errors:s?t.errors:{}})},et=(s,a,u)=>{const h=(y(n,s,{_f:{}})._f||{}).ref,m=y(t.errors,s)||{},{ref:f,message:F,type:O,...D}=m;P(t.errors,s,{...D,...a,ref:h}),p.state.next({name:s,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&h&&h.focus&&h.focus()},Yt=(s,a)=>z(s)?p.state.subscribe({next:u=>"values"in u&&s(L(void 0,a),u)}):L(s,a,!0),tt=s=>p.state.subscribe({next:a=>{Or(s.name,a.name,s.exact)&&Lr(a,s.formState||d,er,s.reRenderRoot)&&s.callback({values:{...o},...t,...a,defaultValues:i})}}).unsubscribe,zt=s=>(l.mount=!0,_={..._,...s.formState},tt({...s,formState:{...v,...s.formState}})),ke=(s,a={})=>{for(const u of s?ve(s):c.mount)c.mount.delete(u),c.array.delete(u),a.keepValue||(H(n,u),H(o,u)),!a.keepError&&H(t.errors,u),!a.keepDirty&&H(t.dirtyFields,u),!a.keepTouched&&H(t.touchedFields,u),!a.keepIsValidating&&H(t.validatingFields,u),!r.shouldUnregister&&!a.keepDefaultValue&&H(i,u);p.state.next({values:B(o)}),p.state.next({...t,...a.keepDirty?{isDirty:A()}:{}}),!a.keepIsValid&&w()},rt=({disabled:s,name:a})=>{if(J(s)&&l.mount||s||c.disabled.has(a)){const m=c.disabled.has(a)!==!!s;s?c.disabled.add(a):c.disabled.delete(a),m&&l.mount&&!l.action&&w()}},Ee=(s,a={})=>{let u=y(n,s);const h=J(a.disabled)||J(r.disabled);return P(n,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...a}}),c.mount.add(s),u?rt({disabled:J(a.disabled)?a.disabled:r.disabled,name:s}):C(s,!0,a.value),{...h?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:be(a.min),max:be(a.max),minLength:be(a.minLength),maxLength:be(a.maxLength),pattern:be(a.pattern)}:{},name:s,onChange:ye,onBlur:ye,ref:m=>{if(m){Ee(s,a),u=y(n,s);const f=N(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,F=Vr(f),O=u._f.refs||[];if(F?O.find(D=>D===f):f===u._f.ref)return;P(n,s,{_f:{...u._f,...F?{refs:[...O.filter(De),f,...Array.isArray(y(i,s))?[{}]:[]],ref:{type:f.type,name:s}}:{ref:f}}}),C(s,!1,void 0,f)}else u=y(n,s,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(St(c.array,s)&&l.action)&&c.unMount.add(s)}}},Re=()=>r.shouldFocusError&&pe(n,he,c.mount),Qt=s=>{J(s)&&(p.state.next({disabled:s}),pe(n,(a,u)=>{const h=y(n,u);h&&(a.disabled=h._f.disabled||s,Array.isArray(h._f.refs)&&h._f.refs.forEach(m=>{m.disabled=h._f.disabled||s}))},0,!1))},st=(s,a)=>async u=>{let h;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let m=B(o);if(p.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:F}=await G();M(),t.errors=f,m=B(F)}else await te(n);if(c.disabled.size)for(const f of c.disabled)H(m,f);if(H(t.errors,"root"),Y(t.errors)){p.state.next({errors:{}});try{await s(m,u)}catch(f){h=f}}else a&&await a({...t.errors},u),Re(),setTimeout(Re);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Y(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Xt=(s,a={})=>{y(n,s)&&(N(a.defaultValue)?X(s,B(y(i,s))):(X(s,a.defaultValue),P(i,s,B(a.defaultValue))),a.keepTouched||H(t.touchedFields,s),a.keepDirty||(H(t.dirtyFields,s),t.isDirty=a.defaultValue?A(s,B(y(i,s))):A()),a.keepError||(H(t.errors,s),d.isValid&&w()),p.state.next({...t}))},nt=(s,a={})=>{const u=s?B(s):i,h=B(u),m=Y(s),f=m?i:h;if(a.keepDefaultValues||(i=u),!a.keepValues){if(a.keepDirtyValues){const F=new Set([...c.mount,...Object.keys(fe(i,o))]);for(const O of Array.from(F)){const D=y(t.dirtyFields,O),Z=y(o,O),ue=y(f,O);D&&!N(Z)?P(f,O,Z):!D&&!N(ue)&&X(O,ue)}}else{if(Be&&N(s))for(const F of c.mount){const O=y(n,F);if(O&&O._f){const D=Array.isArray(O._f.refs)?O._f.refs[0]:O._f.ref;if(Ve(D)){const Z=D.closest("form");if(Z){Z.reset();break}}}}if(a.keepFieldsRef)for(const F of c.mount)X(F,y(f,F));else n={}}o=r.shouldUnregister?a.keepDefaultValues?B(i):{}:B(f),p.array.next({values:{...f}}),p.state.next({values:{...f}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!r.shouldUnregister&&!Y(f),l.watch=!!r.shouldUnregister,l.keepIsValid=!!a.keepIsValid,l.action=!1,a.keepErrors||(t.errors={}),p.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:m?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ne(s,i)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:m?{}:a.keepDirtyValues?a.keepDefaultValues&&o?fe(i,o):t.dirtyFields:a.keepDefaultValues&&s?fe(i,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},it=(s,a)=>nt(z(s)?s(o):s,{...r.resetOptions,...a}),Jt=(s,a={})=>{const u=y(n,s),h=u&&u._f;if(h){const m=h.refs?h.refs[0]:h.ref;m.focus&&setTimeout(()=>{m.focus(),a.shouldSelect&&z(m.select)&&m.select()})}},er=s=>{t={...t,...s}},ot={control:{register:Ee,unregister:ke,getFieldState:Je,handleSubmit:st,setError:et,_subscribe:tt,_runSchema:G,_updateIsValidating:M,_focusError:Re,_getWatch:L,_getDirty:A,_setValid:w,_setFieldArray:V,_setDisabledField:rt,_setErrors:g,_getFieldArray:K,_reset:nt,_resetDefaultValues:()=>z(r.defaultValues)&&r.defaultValues().then(s=>{it(s,r.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:_e,_disableForm:Qt,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(s){l=s},get _defaultValues(){return i},get _names(){return c},set _names(s){c=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:zt,trigger:ge,register:Ee,handleSubmit:st,watch:Yt,setValue:X,getValues:Xe,reset:it,resetField:Xt,clearErrors:Zt,unregister:ke,setError:et,setFocus:Jt,getFieldState:Je};return{...ot,formControl:ot}}function ks(e={}){const r=x.useRef(void 0),t=x.useRef(void 0),[n,i]=x.useState({isDirty:!1,isValidating:!1,isLoading:z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:z(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:n},e.defaultValues&&!z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=Nr(e);r.current={...c,formState:n}}const o=r.current.control;return o._options=e,$e(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),o._formState.isReady=!0,l},[o]),x.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),x.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),x.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),x.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),x.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),x.useEffect(()=>{var l;e.values&&!ne(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((l=o._options.resetOptions)===null||l===void 0)&&l.keepIsValid||o._setValid(),t.current=e.values,i(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),x.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=x.useMemo(()=>At(n,o),[o,n]),r.current}const jr=e=>{const{formState:r,setReadOnly:t}=e,{isSubmitting:n}=r;j.useEffect(()=>{t(n)},[n,t])},Pt=j.createContext(void 0),Nt=e=>{const{form:r,id:t,isReadOnly:n=!1,onAfterSuccessFeedback:i,children:o}=e,[l,c]=j.useState(n),b=n||l;return jr({formState:r.formState,setReadOnly:c}),k.jsx(Pt,{value:{isReadOnly:b,setReadOnly:c,id:t,form:r,onAfterSuccessFeedback:i},children:o})},Ae=()=>{const e=Ir();return br(!!e,"Could not useFormContext() outside a Form, or multiple versions of Flow installed."),e},Ir=()=>j.useContext(Pt);Nt.__docgenInfo={description:"",methods:[],displayName:"FormContextProvider",props:{form:{required:!0,tsType:{name:"UseFormReturn"},description:""},id:{required:!0,tsType:{name:"string"},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""},onAfterSuccessFeedback:{required:!1,tsType:{name:"AfterFormSubmitCallback"},description:""}},composes:["PropsWithChildren"]};const Ur={"de-DE":{maxLength:e=>`Bitte gib höchstens ${e.number} Zeichen ein`,minLength:e=>`Bitte gib mindestens ${e.number} Zeichen ein`},"en-US":{maxLength:e=>`Please enter at most ${e.number} characters`,minLength:e=>`Please enter at least ${e.number} characters`}},Ye=j.memo(e=>{const r=j.useContext(ir).FieldError??or;return k.jsx(r,{...e})});Ye.displayName="FieldErrorView";Ye.__docgenInfo={description:"",methods:[],displayName:"FieldErrorView"};function jt(e){const{children:r,name:t,defaultValue:n,...i}=e,o=xt(Ur),l=_r({...e,rules:{...e.rules,minLength:typeof i.rules?.minLength=="number"?{value:i.rules.minLength,message:o.format("minLength",{number:i.rules.minLength})}:i.rules?.minLength,maxLength:typeof i.rules?.maxLength=="number"?{value:i.rules.maxLength,message:o.format("maxLength",{number:i.rules.maxLength})}:i.rules?.maxLength}}),c=Ae(),b=kt({control:c.form.control,name:t})??l.field.value,S=l.fieldState.invalid,v={...l.field,value:b,name:t,form:c.id,isRequired:!!i.rules?.required,isReadOnly:c.isReadOnly,validationBehavior:"aria",defaultValue:n,isInvalid:S,children:nr(_=>k.jsxs(k.Fragment,{children:[_.children,k.jsx(Ye,{children:l.fieldState.error?.message})]}))},d={Autocomplete:{SearchField:v,TextField:v},SearchField:v,TextField:v,TextArea:v,MarkdownEditor:v,Checkbox:{...v,isSelected:b},CheckboxGroup:{...v},CheckboxButton:{...v,isSelected:b},FileField:v,FileDropZone:v,NumberField:v,RadioGroup:v,Switch:{...v,isSelected:b},Slider:v,PasswordCreationField:v,DatePicker:v,DateRangePicker:v,TimeField:v,SegmentedControl:v,Select:{...v,selectedKey:b},ComboBox:{...v,selectedKey:b},Rating:v};return k.jsx(Ue,{props:d,dependencies:[l.fieldState,l.field,b,c.isReadOnly],children:r})}const Es=e=>jt;jt.__docgenInfo={description:"",methods:[],displayName:"Field",composes:["Omit","PropsWithChildren"]};const Br={"de-DE":{"unsavedChangesConfirmationModal.close":"Schließen","unsavedChangesConfirmationModal.heading":"Ungespeicherte Änderungen","unsavedChangesConfirmationModal.keepOpen":"Weiter bearbeiten","unsavedChangesConfirmationModal.text":"Du hast ungespeicherte Änderungen. Möchtest du das Modal wirklich schließen? Alle Änderungen gehen dabei verloren."},"en-US":{"unsavedChangesConfirmationModal.close":"Close","unsavedChangesConfirmationModal.heading":"Unsaved changes","unsavedChangesConfirmationModal.keepOpen":"Keep editing","unsavedChangesConfirmationModal.text":"You have unsaved changes. Are you sure you want to close the modal? All changes will be lost."}},It=()=>{const e=xt(Br),r=Ct().useConfirmationController();if(r){const{controller:t,confirm:n,cancel:i}=r;return k.jsxs(dr,{controller:t,children:[k.jsx(ar,{children:e.format("unsavedChangesConfirmationModal.heading")}),k.jsx(lr,{children:k.jsx(ur,{children:e.format("unsavedChangesConfirmationModal.text")})}),k.jsx(cr,{children:k.jsxs(me,{closeModal:!0,children:[k.jsx(me,{onAction:n,children:k.jsx(xe,{color:"danger",children:e.format("unsavedChangesConfirmationModal.close")})}),k.jsx(me,{onAction:i,children:k.jsx(xe,{color:"secondary",variant:"soft",children:e.format("unsavedChangesConfirmationModal.keepOpen")})})]})})]})}};It.__docgenInfo={description:"",methods:[],displayName:"ConfirmUnsavedChangesModal"};const Ut=["shift","alt","meta","mod","ctrl","control"],Hr={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function le(e){return(Hr[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function Bt(e){return Ut.includes(e)}function Me(e,r=","){return e.toLowerCase().split(r)}function Te(e,r="+",t=">",n=!1,i,o){let l=[],c=!1;e=e.trim(),e.includes(t)?(c=!0,l=e.toLocaleLowerCase().split(t).map(v=>le(v))):l=e.toLocaleLowerCase().split(r).map(v=>le(v));const b={alt:l.includes("alt"),ctrl:l.includes("ctrl")||l.includes("control"),shift:l.includes("shift"),meta:l.includes("meta"),mod:l.includes("mod"),useKey:n},S=l.filter(v=>!Ut.includes(v));return{...b,keys:S,description:i,isSequence:c,hotkey:e,metadata:o}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&Ht([le(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&qt([le(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{oe.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{oe.clear()},0)}));const oe=new Set;function ze(e){return Array.isArray(e)}function qr(e,r=","){return(ze(e)?e:e.split(r)).every(t=>oe.has(t.trim().toLowerCase()))}function Ht(e){const r=Array.isArray(e)?e:[e];oe.has("meta")&&oe.forEach(t=>{Bt(t)||oe.delete(t.toLowerCase())}),r.forEach(t=>{oe.add(t.toLowerCase())})}function qt(e){const r=Array.isArray(e)?e:[e];e==="meta"?oe.clear():r.forEach(t=>{oe.delete(t.toLowerCase())})}function Kr(e,r,t){(typeof t=="function"&&t(e,r)||t===!0)&&e.preventDefault()}function Wr(e,r,t){return typeof t=="function"?t(e,r):t===!0||t===void 0}const $r=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function Gr(e){return Kt(e,$r)}function Kt(e,r=!1){const{target:t,composed:n}=e;let i,o;return Zr(t)&&n?(i=e.composedPath()[0]&&e.composedPath()[0].tagName,o=e.composedPath()[0]&&e.composedPath()[0].role):(i=t&&t.tagName,o=t&&t.role),ze(r)?!!(i&&r&&r.some(l=>l.toLowerCase()===i.toLowerCase()||l===o)):!!(i&&r&&r)}function Zr(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function Yr(e,r){return e.length===0&&r?!1:r?e.some(t=>r.includes(t))||e.includes("*"):!0}const zr=(e,r,t=!1)=>{const{alt:n,meta:i,mod:o,shift:l,ctrl:c,keys:b,useKey:S}=r,{code:v,key:d,ctrlKey:_,metaKey:p,shiftKey:R,altKey:E}=e,w=le(v);if(S){if(b?.length===1&&b.includes(d.toLowerCase())){if(!t){if(n!==E||l!==R)return!1;if(o){if(!p&&!_)return!1}else if(i!==p||c!==_)return!1}return!0}return!1}if(!b?.includes(w)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(w))return!1;if(!t){if(n!==E&&w!=="alt"||l!==R&&w!=="shift")return!1;if(o){if(!p&&!_)return!1}else if(i!==p&&w!=="meta"&&w!=="os"||c!==_&&w!=="ctrl"&&w!=="control")return!1}return b&&b.length===1&&b.includes(w)?!0:b&&b.length>0?b.includes(w)?qr(b):!1:!b||b.length===0},Qr=j.createContext(void 0),Xr=()=>j.useContext(Qr);function Wt(e,r){return e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(e).length===Object.keys(r).length&&Object.keys(e).reduce((t,n)=>t&&Wt(e[n],r[n]),!0):e===r}const Jr=j.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),es=()=>j.useContext(Jr);function ts(e){const r=j.useRef(void 0);return Wt(r.current,e)||(r.current=e),r.current}const Ft=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},rs=typeof window<"u"?j.useLayoutEffect:j.useEffect;function ss(e,r,t,n){const i=j.useRef(null),o=j.useRef(!1),l=Array.isArray(t)?Array.isArray(n)?void 0:n:t,c=ze(e)?e.join(l?.delimiter):e,b=Array.isArray(t)?t:Array.isArray(n)?n:void 0,S=j.useCallback(r,b??[]),v=j.useRef(S);b?v.current=S:v.current=r;const d=ts(l),{activeScopes:_}=es(),p=Xr();return rs(()=>{if(d?.enabled===!1||!Yr(_,d?.scopes))return;let R=[],E;const w=(g,C=!1)=>{if(!(Gr(g)&&!Kt(g,d?.enableOnFormTags))){if(i.current!==null){const T=i.current.getRootNode();if((T instanceof Document||T instanceof ShadowRoot)&&T.activeElement!==i.current&&!i.current.contains(T.activeElement)){Ft(g);return}}g.target?.isContentEditable&&!d?.enableOnContentEditable||Me(c,d?.delimiter).forEach(T=>{if(T.includes(d?.splitKey??"+")&&T.includes(d?.sequenceSplitKey??">")){console.warn(`Hotkey ${T} contains both ${d?.splitKey??"+"} and ${d?.sequenceSplitKey??">"} which is not supported.`);return}const U=Te(T,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata);if(U.isSequence){E=setTimeout(()=>{R=[]},d?.sequenceTimeoutMs??1e3);const G=U.useKey?g.key:le(g.code);if(Bt(G.toLowerCase()))return;R.push(G);const W=U.keys?.[R.length-1];if(G!==W){R=[],E&&clearTimeout(E);return}R.length===U.keys?.length&&(v.current(g,U),E&&clearTimeout(E),R=[])}else if(zr(g,U,d?.ignoreModifiers)||U.keys?.includes("*")){if(d?.ignoreEventWhen?.(g)||C&&o.current)return;if(Kr(g,U,d?.preventDefault),!Wr(g,U,d?.enabled)){Ft(g);return}v.current(g,U),C||(o.current=!0)}})}},M=g=>{g.code!==void 0&&(Ht(le(g.code)),(d?.keydown===void 0&&d?.keyup!==!0||d?.keydown)&&w(g))},V=g=>{g.code!==void 0&&(qt(le(g.code)),o.current=!1,d?.keyup&&w(g,!0))},I=i.current||l?.document||document;return I.addEventListener("keyup",V,l?.eventListenerOptions),I.addEventListener("keydown",M,l?.eventListenerOptions),p&&Me(c,d?.delimiter).forEach(g=>{p.addHotkey(Te(g,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata))}),()=>{I.removeEventListener("keyup",V,l?.eventListenerOptions),I.removeEventListener("keydown",M,l?.eventListenerOptions),p&&Me(c,d?.delimiter).forEach(g=>{p.removeHotkey(Te(g,d?.splitKey,d?.sequenceSplitKey,d?.useKey,d?.description,d?.metadata))}),R=[],E&&clearTimeout(E)}},[c,d,_]),i}function Pe(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}var ns=typeof window<"u"?j.useLayoutEffect:j.useEffect,_t=new WeakMap;function is(e,r){var t=hr(null,function(n){return e.forEach(function(i){return Pe(i,n)})});return ns(function(){var n=_t.get(t);if(n){var i=new Set(n),o=new Set(e),l=t.current;i.forEach(function(c){o.has(c)||Pe(c,null)}),o.forEach(function(c){i.has(c)||Pe(c,l)})}_t.set(t,e)},[e]),t}const os=e=>{const{ref:r,handleSubmit:t}=e;return is([gr(r),ss("mod+enter",t,{enableOnFormTags:!0,enableOnContentEditable:!0})])},as=e=>k.jsx("form",{...e});function ls(e){const{form:r,children:t,onSubmit:n,formComponent:i=as,isReadOnly:o,ref:l,id:c,...b}=e,S=j.useId(),v=c??S,d=j.useMemo(()=>i,[v]),_=j.useRef(void 0),{isSubmitting:p,isValidating:R,isDirty:E}=r.formState,w=Ct();w.useUpdateOptions({confirmOnClose:E});const M=C=>{typeof C=="function"&&(_.current=C)},V=C=>{const T=C&&"nativeEvent"in C?C:void 0;if(T?.stopPropagation(),!(p||R))return w.confirmClose(),r.handleSubmit((U,G)=>{const W=n(U,G);if(W instanceof Promise)return W.then(M);M(W)})(T)},I=()=>{_.current?.()},g=os({ref:l,handleSubmit:V});return k.jsxs(xr,{...r,children:[k.jsx(Nt,{form:r,isReadOnly:o,id:v,onAfterSuccessFeedback:I,children:k.jsx(d,{...b,ref:g,id:v,onSubmit:V,children:t})}),k.jsx(It,{})]})}ls.__docgenInfo={description:"",methods:[],displayName:"Form",props:{form:{required:!0,tsType:{name:"UseFormReturn",elements:[{name:"F"}],raw:"UseFormReturn<F>"},description:""},onSubmit:{required:!0,tsType:{name:"SubmitHandler",elements:[{name:"F"}],raw:"SubmitHandler<F>"},description:""},formComponent:{required:!1,tsType:{name:"FC",elements:[{name:"Omit",elements:[{name:"FC",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: Ref<HTMLFormElement>;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"onSubmit",value:{name:"union",raw:"FormEventHandler | FormOnSubmitHandler<never>",elements:[{name:"FormEventHandler"},{name:"SubmitHandler",elements:[{name:"never"}],raw:"SubmitHandler<F>"}],required:!1}},{key:"ref",value:{name:"Ref",elements:[{name:"HTMLFormElement"}],raw:"Ref<HTMLFormElement>",required:!1}}]}}],raw:`PropsWithChildren<{
  id: string;
  onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
  ref?: Ref<HTMLFormElement>;
}>`}],raw:`FC<
  PropsWithChildren<{
    id: string;
    onSubmit?: FormEventHandler | FormOnSubmitHandler<never>;
    ref?: Ref<HTMLFormElement>;
  }>
>`},{name:"literal",value:'"ref"'}],raw:'Omit<FormComponentType, "ref">'}],raw:'FC<Omit<FormComponentType, "ref">>'},description:""},isReadOnly:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","PropsWithChildren"]};const $t=e=>{const{children:r,...t}=e,{form:n,isReadOnly:i,id:o}=Ae(),l={Button:{isReadOnly:i,form:o,color:"secondary",variant:"soft",type:"button"}};return k.jsx(me,{onAction:()=>n.reset(),...t,children:k.jsx(Ue,{props:l,dependencies:[i,o],children:r})})};$t.__docgenInfo={description:"",methods:[],displayName:"FormResetAction"};const us=(e,r)=>{const{isSubmitting:t,isSubmitSuccessful:n}=e,i=j.useRef(void 0),o=fr.useNew({...r,onAction:()=>(i.current=Promise.withResolvers(),r?.onAction?.(),i.current.promise)});return j.useEffect(()=>{if(t){o.state.isBusy||o.execute();return}if(n){i.current?.resolve();return}i.current?.reject(new mr("Form submission failed"))},[t,n,i]),o},cs=e=>{const{children:r,...t}=e,{form:n}=Ae(),i=us(n.formState,t);return k.jsx(me,{actionModel:i,...t,children:r})},Gt=e=>{const{children:r,...t}=e,{onAfterSuccessFeedback:n,isReadOnly:i,id:o}=Ae(),l={Button:{isReadOnly:i,type:"submit",form:o}},c=k.jsx(cs,{...t,children:k.jsx(Ue,{props:l,dependencies:[i,o],children:r})});return n?k.jsx(me,{onAction:n,children:k.jsx(yr,{children:c})}):c};Gt.__docgenInfo={description:"",methods:[],displayName:"FormSubmitAction"};const Qe=e=>{const{children:r,reset:t,submit:n,...i}=e;return n?k.jsx(Gt,{...i,children:r}):t?k.jsx($t,{...i,children:r}):k.jsx(k.Fragment,{children:r})};Qe.__docgenInfo={description:"",methods:[],displayName:"FormAction",props:{reset:{required:!1,tsType:{name:"boolean"},description:""},submit:{required:!1,tsType:{name:"boolean"},description:""}},composes:["PropsWithChildren","SupportedActionProps"]};const ds=e=>{const{showFeedback:r,...t}=e;return k.jsx(Qe,{submit:!0,showFeedback:r,children:k.jsx(xe,{...t})})};ds.__docgenInfo={description:"",methods:[],displayName:"SubmitButton"};const fs=e=>k.jsx(Qe,{reset:!0,children:k.jsx(xe,{...e})});fs.__docgenInfo={description:"",methods:[],displayName:"ResetButton"};export{ls as F,fs as R,ds as S,jt as a,Es as t,ks as u};
