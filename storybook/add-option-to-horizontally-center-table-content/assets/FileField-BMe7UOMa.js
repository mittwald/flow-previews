import{f as d}from"./FieldError-DF-Z85M3.js";import{$ as F,a as g,d as y}from"./FieldError-Dc7wTCBj.js";import{r as m,R as r}from"./index-B-o1Wr-g.js";import{$ as x,a as P}from"./Input-In3k7nSs.js";import{c as h}from"./utils-7gTBvjqH.js";import{P as u,f as E}from"./flowComponent-CEd0CzY8.js";const I="flow--file-field--trigger",R={trigger:I},v=m.forwardRef((s,c)=>{const{children:f,isDisabled:o,onChange:e}=s,a=h(c),n=()=>{var t,i;(t=a.current)!=null&&t.value&&(a.current.value="",e==null||e(null)),(i=a.current)==null||i.click()},p=t=>{e==null||e(t.target.files)},l={Button:{onPress:n,className:R.trigger,isDisabled:o}};return r.createElement(u,{props:l,mergeInParentContext:!0},f,r.createElement(x,{style:{display:"none"},type:"file",ref:a,onChange:p}))});v.__docgenInfo={description:"@internal",methods:[],displayName:"FileInput",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: FileList | null) => void",signature:{arguments:[{type:{name:"union",raw:"FileList | null",elements:[{name:"FileList"},{name:"null"}]},name:"files"}],return:{name:"void"}}},description:""},isDisabled:{required:!1,tsType:{name:"boolean"},description:""}},composes:["PropsWithChildren"]};const C=E("FileField",s=>{const{children:c,refProp:f,isRequired:o,isInvalid:e,isDisabled:a,validationBehavior:n,onChange:p,...l}=s,t=m.useRef(null),i=F({value:void 0,validationBehavior:n,isInvalid:e});g({validationBehavior:n},i,t);const $=m.useMemo(()=>({...l,ref:t,"aria-invalid":i.displayValidation.isInvalid,value:void 0}),[i,o,...Object.values(l)]),b={Label:{className:d.label,optional:!s.isRequired},FieldDescription:{className:d.fieldDescription},FieldError:{className:d.customFieldError}};return r.createElement(P.Provider,{value:$},r.createElement(y.Provider,{value:i.displayValidation},r.createElement(u,{props:b},r.createElement("div",{"data-required":!!o||void 0,"data-invalid":i.displayValidation.isInvalid||void 0,className:d.formField},r.createElement(v,{ref:f,onChange:p,isDisabled:a},c)))))});C.__docgenInfo={description:"",methods:[],displayName:"FileField"};export{C as F};
