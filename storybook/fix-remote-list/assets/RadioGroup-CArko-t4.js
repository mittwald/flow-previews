import{$ as B,c as O,e as w,a as M,f as E,d as k,b as _}from"./utils-Bm37ngJk.js";import{a as L}from"./FieldError-C4lz7LlR.js";import{$ as N,a as T}from"./Form-BD87mkug.js";import{a as W}from"./Label-B_sU3NXB.js";import{a as G}from"./Text-I7rzu-gq.js";import{$ as h,e as A,c as H}from"./mergeRefs-DiwoqHxs.js";import{$ as F}from"./filterDOMProps-CeZl_uWj.js";import{r as y,R as D}from"./index-CgfFrydU.js";import{$ as K}from"./useFormReset-gF4HkNmA.js";import{$ as q}from"./usePress-CC9yd5Fh.js";import{$ as j}from"./useFocusable-CzgSXE3t.js";import{a as U,$ as z}from"./useFormValidation-yIPL_zyl.js";import{$ as J}from"./FocusScope--xlp8sQI.js";import{$ as Q,b as X,a as Y}from"./useFocusRing-wzjDdF0K.js";import{a as Z}from"./useLocalizedStringFormatter-BzGhSkyu.js";import{$ as ee}from"./VisuallyHidden-C4REVXC4.js";import{$ as ae}from"./useControlledState-YIijONQK.js";const S=new WeakMap;function ie(a,e,d){let{value:l,children:u,"aria-label":r,"aria-labelledby":s}=a;const i=a.isDisabled||e.isDisabled;let c=e.selectedValue===l,f=o=>{o.stopPropagation(),e.setSelectedValue(l)},{pressProps:n,isPressed:m}=q({isDisabled:i}),{pressProps:P,isPressed:x}=q({isDisabled:i,onPress(){var o;e.setSelectedValue(l),(o=d.current)===null||o===void 0||o.focus()}}),{focusableProps:R}=j(h(a,{onFocus:()=>e.setLastFocusedValue(l)}),d),b=h(n,R),I=F(a,{labelable:!0}),v=-1;e.selectedValue!=null?e.selectedValue===l&&(v=0):(e.lastFocusedValue===l||e.lastFocusedValue==null)&&(v=0),i&&(v=void 0);let{name:V,descriptionId:g,errorMessageId:$,validationBehavior:t}=S.get(e);return K(d,e.selectedValue,e.setSelectedValue),U({validationBehavior:t},e,d),{labelProps:h(P,{onClick:o=>o.preventDefault()}),inputProps:h(I,{...b,type:"radio",name:V,tabIndex:v,disabled:i,required:e.isRequired&&t==="native",checked:c,value:l,onChange:f,"aria-describedby":[a["aria-describedby"],e.isInvalid?$:null,g].filter(Boolean).join(" ")||void 0}),isDisabled:i,isSelected:c,isPressed:m||x}}function de(a,e){let{name:d,isReadOnly:l,isRequired:u,isDisabled:r,orientation:s="vertical",validationBehavior:i="aria"}=a,{direction:c}=Z(),{isInvalid:f,validationErrors:n,validationDetails:m}=e.displayValidation,{labelProps:P,fieldProps:x,descriptionProps:R,errorMessageProps:b}=N({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||n}),I=F(a,{labelable:!0}),{focusWithinProps:v}=Q({onBlurWithin($){var t;(t=a.onBlur)===null||t===void 0||t.call(a,$),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),V=$=>{let t;switch($.key){case"ArrowRight":c==="rtl"&&s!=="vertical"?t="prev":t="next";break;case"ArrowLeft":c==="rtl"&&s!=="vertical"?t="next":t="prev";break;case"ArrowDown":t="next";break;case"ArrowUp":t="prev";break;default:return}$.preventDefault();let o=J($.currentTarget,{from:$.target}),p;t==="next"?(p=o.nextNode(),p||(o.currentNode=$.currentTarget,p=o.firstChild())):(p=o.previousNode(),p||(o.currentNode=$.currentTarget,p=o.lastChild())),p&&(p.focus(),e.setSelectedValue(p.value))},g=A(d);return S.set(e,{name:g,descriptionId:R.id,errorMessageId:b.id,validationBehavior:i}),{radioGroupProps:h(I,{role:"radiogroup",onKeyDown:V,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":l||void 0,"aria-required":u||void 0,"aria-disabled":r||void 0,"aria-orientation":s,...x,...v}),labelProps:P,descriptionProps:R,errorMessageProps:b,isInvalid:f,validationErrors:n,validationDetails:m}}let re=Math.round(Math.random()*1e10),le=0;function te(a){let e=y.useMemo(()=>a.name||`radio-group-${re}-${++le}`,[a.name]);var d;let[l,u]=ae(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[r,s]=y.useState(null),i=z({...a,value:l}),c=n=>{!a.isReadOnly&&!a.isDisabled&&(u(n),i.commitValidation())},f=i.displayValidation.isInvalid;return{...i,name:e,selectedValue:l,setSelectedValue:c,lastFocusedValue:r,setLastFocusedValue:s,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(f?"invalid":null),isInvalid:f}}const oe=y.createContext(null),se=y.createContext(null),C=y.createContext(null),Ie=y.forwardRef(function(e,d){[e,d]=B(e,d,oe);let{validationBehavior:l}=E(T)||{};var u,r;let s=(r=(u=e.validationBehavior)!==null&&u!==void 0?u:l)!==null&&r!==void 0?r:"native",i=te({...e,validationBehavior:s}),[c,f]=k(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:n,labelProps:m,descriptionProps:P,errorMessageProps:x,...R}=de({...e,label:f,validationBehavior:s},i),b=M({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return D.createElement("div",{...n,...b,ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},D.createElement(_,{values:[[C,i],[W,{...m,ref:c,elementType:"span"}],[G,{slots:{description:P,errorMessage:x}}],[L,R]]},b.children))}),Fe=y.forwardRef(function(e,d){let{inputRef:l=null,...u}=e;[e,d]=B(u,d,se);let r=D.useContext(C),s=O(H(l,e.inputRef!==void 0?e.inputRef:null)),{labelProps:i,inputProps:c,isSelected:f,isDisabled:n,isPressed:m}=ie({...w(e),children:typeof e.children=="function"?!0:e.children},r,s),{isFocused:P,isFocusVisible:x,focusProps:R}=X(),b=n||r.isReadOnly,{hoverProps:I,isHovered:v}=Y({...e,isDisabled:b}),V=M({...e,defaultClassName:"react-aria-Radio",values:{isSelected:f,isPressed:m,isHovered:v,isFocused:P,isFocusVisible:x,isDisabled:n,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),g=F(e);return delete g.id,D.createElement("label",{...h(g,i,I,V),ref:d,"data-selected":f||void 0,"data-pressed":m||void 0,"data-hovered":v||void 0,"data-focused":P||void 0,"data-focus-visible":x||void 0,"data-disabled":n||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},D.createElement(ee,{elementType:"span"},D.createElement("input",{...h(c,R),ref:s})),V.children)});export{Ie as $,Fe as a};
