import{$ as V,a as k}from"./utils-xAJ0Toj9.js";import{a as U}from"./ProgressBar-DcFpY2St.js";import{$ as D}from"./LiveAnnouncer-CeCcBDbP.js";import{b as w}from"./Hidden-D-qqENuK.js";import{$ as h,f as C}from"./index-Du7KBi6Z.js";import{$ as E}from"./filterDOMProps-CghfNOdR.js";import{r as y,R as F}from"./iframe-Dyev7uqQ.js";import{$ as I}from"./usePress-DabLIItt.js";import{$ as O}from"./useFocusable-uBBnOUX9.js";import{a as S,$ as H}from"./useFocusRing-Bh9Ki2YC.js";function M(e,a){let{elementType:s="button",isDisabled:t,onPress:d,onPressStart:i,onPressEnd:x,onPressUp:g,onPressChange:r,preventFocusOnPress:c,allowFocusWhenDisabled:v,onClick:u,href:$,target:P,rel:o,type:f="button"}=e,n;s==="button"?n={type:f,disabled:t,form:e.form,formAction:e.formAction,formEncType:e.formEncType,formMethod:e.formMethod,formNoValidate:e.formNoValidate,formTarget:e.formTarget,name:e.name,value:e.value}:n={role:"button",href:s==="a"&&!t?$:void 0,target:s==="a"?P:void 0,type:s==="input"?f:void 0,disabled:s==="input"?t:void 0,"aria-disabled":!t||s==="input"?void 0:t,rel:s==="a"?o:void 0};let{pressProps:b,isPressed:m}=I({onPressStart:i,onPressEnd:x,onPressChange:r,onPress:d,onPressUp:g,onClick:u,isDisabled:t,preventFocusOnPress:c,ref:a}),{focusableProps:l}=O(e,a);v&&(l.tabIndex=t?-1:l.tabIndex);let T=h(l,b,E(e,{labelable:!0}));return{isPressed:m,buttonProps:h(n,T,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"],"aria-disabled":e["aria-disabled"]})}}const N=y.createContext({}),J=w(function(a,s){[a,s]=V(a,s,N),a=R(a);let t=a,{isPending:d}=t,{buttonProps:i,isPressed:x}=M(a,s),{focusProps:g,isFocused:r,isFocusVisible:c}=S(a),{hoverProps:v,isHovered:u}=H({...a,isDisabled:a.isDisabled||d}),$={isHovered:u,isPressed:(t.isPressed||x)&&!d,isFocused:r,isFocusVisible:c,isDisabled:a.isDisabled||!1,isPending:d??!1},P=k({...a,values:$,defaultClassName:"react-aria-Button"}),o=C(i.id),f=C(),n=i["aria-labelledby"];d&&(n?n=`${n} ${f}`:i["aria-label"]&&(n=`${o} ${f}`));let b=y.useRef(d);y.useEffect(()=>{let l={"aria-labelledby":n||o};!b.current&&r&&d?D(l,"assertive"):b.current&&r&&!d&&D(l,"assertive"),b.current=d},[d,r,n,o]);let m=E(a,{global:!0});return delete m.onClick,F.createElement("button",{...h(m,P,i,g,v),type:i.type==="submit"&&d?"button":i.type,id:o,ref:s,"aria-labelledby":n,slot:a.slot||void 0,"aria-disabled":d?"true":i["aria-disabled"],"data-disabled":a.isDisabled||void 0,"data-pressed":$.isPressed||void 0,"data-hovered":u||void 0,"data-focused":r||void 0,"data-pending":d||void 0,"data-focus-visible":c||void 0},F.createElement(U.Provider,{value:{id:f}},P.children))});function R(e){return e.isPending&&(e.onPress=void 0,e.onPressStart=void 0,e.onPressEnd=void 0,e.onPressChange=void 0,e.onPressUp=void 0,e.onKeyDown=void 0,e.onKeyUp=void 0,e.onClick=void 0,e.href=void 0),e}export{N as $,J as a,M as b};
