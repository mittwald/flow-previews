import{r as h,R as I,j as x}from"./iframe-B9O3ZODG.js";import{c as J,a as K}from"./IconApp-Bd3S2boz.js";import{I as L,a as Q}from"./IconCheckboxEmpty-Ckzx3xhi.js";import{f as U,P as X}from"./flowComponent-Dx9-gQDY.js";import{c as k}from"./clsx-B-dksMZM.js";import{u as Y}from"./useFieldComponent-CRvrWckq.js";import{$ as M,a as S,f as Z,b as _,c as ee,d as E,g as q}from"./utils-B6bG5pl_.js";import{c as ae}from"./RSPContexts-_UgIwAnW.js";import{$ as ie}from"./FieldError-BrC6eHcT.js";import{a as de,$ as F}from"./Form-BpuzTWI4.js";import{$ as le}from"./Label-CUW7vXaw.js";import{a as te}from"./Text-Bex48AEt.js";import{$ as V,a as ne}from"./index-Bk8h6op_.js";import{$ as g}from"./filterDOMProps-i7L6S0l1.js";import{$ as C,b as oe,a as j,c as se,d as re}from"./useFormValidation-Dlo1bwd1.js";import{$ as ce}from"./useControlledState-C-iuwE9o.js";import{b as fe,a as ue,$ as be}from"./useFocusRing-DApHxXgU.js";import{$ as ve}from"./usePress-CefnHgfW.js";import{$ as $e,a as N}from"./useToggleState-BoijUoy5.js";import{$ as me}from"./VisuallyHidden-C9d_MZuH.js";function w(a,e,d){let r=C({...a,value:e.isSelected}),{isInvalid:c,validationErrors:f,validationDetails:o}=r.displayValidation,{labelProps:l,inputProps:s,isSelected:n,isPressed:u,isDisabled:i,isReadOnly:t}=$e({...a,isInvalid:c},e,d);oe(a,r,d);let{isIndeterminate:b,isRequired:$,validationBehavior:v="aria"}=a;h.useEffect(()=>{d.current&&(d.current.indeterminate=!!b)});let{pressProps:P}=ve({isDisabled:i||t,onPress(){let{[j]:m}=a,{commitValidation:y}=m||r;y()}});return{labelProps:V(l,P,h.useMemo(()=>({onMouseDown:m=>m.preventDefault()}),[])),inputProps:{...s,checked:n,"aria-required":$&&v==="aria"||void 0,required:$&&v==="native"},isSelected:n,isPressed:u,isDisabled:i,isReadOnly:t,isInvalid:c,validationErrors:f,validationDetails:o}}const W=new WeakMap;function he(a,e){let{isDisabled:d,name:r,form:c,validationBehavior:f="aria"}=a,{isInvalid:o,validationErrors:l,validationDetails:s}=e.displayValidation,{labelProps:n,fieldProps:u,descriptionProps:i,errorMessageProps:t}=de({...a,labelElementType:"span",isInvalid:o,errorMessage:a.errorMessage||l});W.set(e,{name:r,form:c,descriptionId:i.id,errorMessageId:t.id,validationBehavior:f});let b=g(a,{labelable:!0}),{focusWithinProps:$}=fe({onBlurWithin:a.onBlur,onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange});return{groupProps:V(b,{role:"group","aria-disabled":d||void 0,...u,...$}),labelProps:n,descriptionProps:i,errorMessageProps:t,isInvalid:o,validationErrors:l,validationDetails:s}}function xe(a,e,d){const r=N({isReadOnly:a.isReadOnly||e.isReadOnly,isSelected:e.isSelected(a.value),defaultSelected:e.defaultValue.includes(a.value),onChange(m){m?e.addValue(a.value):e.removeValue(a.value),a.onChange&&a.onChange(m)}});let{name:c,form:f,descriptionId:o,errorMessageId:l,validationBehavior:s}=W.get(e);var n;s=(n=a.validationBehavior)!==null&&n!==void 0?n:s;let{realtimeValidation:u}=C({...a,value:r.isSelected,name:void 0,validationBehavior:"aria"}),i=h.useRef(se),t=()=>{e.setInvalid(a.value,u.isInvalid?u:i.current)};h.useEffect(t);let b=e.realtimeValidation.isInvalid?e.realtimeValidation:u,$=s==="native"?e.displayValidation:b;var v;let P=w({...a,isReadOnly:a.isReadOnly||e.isReadOnly,isDisabled:a.isDisabled||e.isDisabled,name:a.name||c,form:a.form||f,isRequired:(v=a.isRequired)!==null&&v!==void 0?v:e.isRequired,validationBehavior:s,[j]:{realtimeValidation:b,displayValidation:$,resetValidation:e.resetValidation,commitValidation:e.commitValidation,updateValidation(m){i.current=m,t()}}},r,d);return{...P,inputProps:{...P.inputProps,"aria-describedby":[a["aria-describedby"],e.isInvalid?l:null,o].filter(Boolean).join(" ")||void 0}}}function Pe(a={}){let[e,d]=ce(a.value,a.defaultValue||[],a.onChange),[r]=h.useState(e),c=!!a.isRequired&&e.length===0,f=h.useRef(new Map),o=C({...a,value:e}),l=o.displayValidation.isInvalid;var s,n;return{...o,value:e,defaultValue:(s=a.defaultValue)!==null&&s!==void 0?s:r,setValue(i){a.isReadOnly||a.isDisabled||d(i)},isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isSelected(i){return e.includes(i)},addValue(i){a.isReadOnly||a.isDisabled||e.includes(i)||(e=e.concat(i),d(e))},removeValue(i){a.isReadOnly||a.isDisabled||e.includes(i)&&d(e.filter(t=>t!==i))},toggleValue(i){a.isReadOnly||a.isDisabled||(e.includes(i)?d(e.filter(t=>t!==i)):d(e.concat(i)))},setInvalid(i,t){let b=new Map(f.current);t.isInvalid?b.set(i,t):b.delete(i),f.current=b,o.updateValidation(re(...b.values()))},validationState:(n=a.validationState)!==null&&n!==void 0?n:l?"invalid":null,isInvalid:l,isRequired:c}}const Re=h.createContext(null),H=h.createContext(null),Le=h.forwardRef(function(e,d){[e,d]=M(e,d,Re);let{validationBehavior:r}=S(F)||{};var c,f;let o=(f=(c=e.validationBehavior)!==null&&c!==void 0?c:r)!==null&&f!==void 0?f:"native",l=Pe({...e,validationBehavior:o}),[s,n]=Z(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:u,labelProps:i,descriptionProps:t,errorMessageProps:b,...$}=he({...e,label:n,validationBehavior:o},l),v=_({...e,values:{isDisabled:l.isDisabled,isReadOnly:l.isReadOnly,isRequired:e.isRequired||!1,isInvalid:l.isInvalid,state:l},defaultClassName:"react-aria-CheckboxGroup"}),P=g(e,{global:!0});return I.createElement("div",{...V(P,v,u),ref:d,slot:e.slot||void 0,"data-readonly":l.isReadOnly||void 0,"data-required":e.isRequired||void 0,"data-invalid":l.isInvalid||void 0,"data-disabled":e.isDisabled||void 0},I.createElement(ee,{values:[[H,l],[le,{...i,ref:s,elementType:"span"}],[te,{slots:{description:t,errorMessage:b}}],[ie,$]]},v.children))}),Ie=h.forwardRef(function(e,d){let{inputRef:r=null,...c}=e;[e,d]=M(c,d,ae);let{validationBehavior:f}=S(F)||{};var o,l;let s=(l=(o=e.validationBehavior)!==null&&o!==void 0?o:f)!==null&&l!==void 0?l:"native",n=h.useContext(H),u=E(h.useMemo(()=>ne(r,e.inputRef!==void 0?e.inputRef:null),[r,e.inputRef])),{labelProps:i,inputProps:t,isSelected:b,isDisabled:$,isReadOnly:v,isPressed:P,isInvalid:m}=n?xe({...q(e),value:e.value,children:typeof e.children=="function"?!0:e.children},n,u):w({...q(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:s},N(e),u),{isFocused:y,isFocusVisible:D,focusProps:z}=ue(),G=$||v,{hoverProps:A,isHovered:B}=be({...e,isDisabled:G}),O=_({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:b,isIndeterminate:e.isIndeterminate||!1,isPressed:P,isHovered:B,isFocused:y,isFocusVisible:D,isDisabled:$,isReadOnly:v,isInvalid:m,isRequired:e.isRequired||!1}}),p=g(e,{global:!0});return delete p.id,delete p.onClick,I.createElement("label",{...V(p,i,A,O),ref:d,slot:e.slot||void 0,"data-selected":b||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":P||void 0,"data-hovered":B||void 0,"data-focused":y||void 0,"data-focus-visible":D||void 0,"data-disabled":$||void 0,"data-readonly":v||void 0,"data-invalid":m||void 0,"data-required":e.isRequired||void 0},I.createElement(me,{elementType:"span"},I.createElement("input",{...V(t,z),ref:u})),O.children)});const Ve=[["path",{d:"M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3 -3v-14a3 3 0 0 1 3 -3zm-4 9h-6l-.117 .007a1 1 0 0 0 .117 1.993h6l.117 -.007a1 1 0 0 0 -.117 -1.993z",key:"svg-0"}]],ye=J("filled","square-minus-filled","SquareMinusFilled",Ve),T=a=>x.jsx(K,{...a,children:x.jsx(ye,{})});T.__docgenInfo={description:"",methods:[],displayName:"IconCheckboxIndeterminate"};const pe="flow--checkbox",ge="flow--checkbox--input",Ce="flow--checkbox--icon",R={checkbox:pe,input:ge,icon:Ce},De=U("Checkbox",a=>{const{children:e,className:d,ref:r,inputClassName:c,...f}=a,{FieldErrorView:o,FieldErrorCaptureContext:l,fieldPropsContext:s,fieldProps:n}=Y(a),u=E(r);return x.jsxs("div",{...n,className:k(R.checkbox,d,n.className),children:[x.jsx(l,{children:x.jsx(Ie,{...f,inputRef:u,className:k(c,R.input),children:({isSelected:i,isIndeterminate:t})=>x.jsxs(X,{props:s,children:[i?x.jsx(L,{className:R.icon}):t?x.jsx(T,{className:R.icon}):x.jsx(Q,{className:R.icon}),e]})})}),x.jsx(o,{})]})});De.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Checkbox"};export{Le as $,De as C};
