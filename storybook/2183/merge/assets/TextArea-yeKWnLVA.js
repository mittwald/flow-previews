import{r as w,j as c}from"./iframe-Be6XOKZ5.js";import{T as j}from"./TextFieldBase-TQWS-LqV.js";import{f as M,P as F}from"./flowComponent-6mfYofmL.js";import{d as V}from"./utils-DTrZMB6V.js";import{u as _}from"./useFieldComponent-DyzWtSt-.js";import{c as v}from"./clsx-B-dksMZM.js";import{u as k}from"./useControlledHostValueProps-BEPk0AyJ.js";import{$ as B}from"./TextField-CBVRktTd.js";const D="flow--text-area",I="flow--text-area--horizontal-resize",S="flow--text-area--vertical-resize",U="flow--text-area--resize",a={textArea:D,horizontalResize:I,verticalResize:S,resize:U},q=M("TextArea",r=>{const{children:g,placeholder:R,rows:s=5,autoResizeMaxRows:d=s,ref:H,allowVerticalResize:E,allowHorizontalResize:C,...f}=k(r);let{allowResize:e}=r;E?e="vertical":C&&(e="horizontal");const y=v(a.textArea,typeof e=="boolean"&&e?a.resize:null,e==="horizontal"?a.horizontalResize:e==="vertical"?a.verticalResize:null),o=V(H),m=t=>`calc(var(--line-height--m) * ${t} + (var(--form-control--padding-y) * 2))`,[n,$]=w.useState(!1),l=s!==d,u=e&&(!l||l&&n);w.useEffect(()=>{const t=o.current;if(!t)return;const T=t.offsetHeight;let i=!1;const x=()=>{i=!0},p=()=>{if(!i||n)return;t.offsetHeight!==T&&($(!0),i=!1)},z=()=>{i=!1};return window.addEventListener("mousedown",x),window.addEventListener("mousemove",p),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousedown",x),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",z)}},[n]);const b=()=>{if(o.current&&l&&!u){o.current.style.height="0px";const t=o.current.scrollHeight;o.current.style.height=t+2+"px"}},A=c.jsx(B,{rows:s,"aria-hidden":r["aria-hidden"],placeholder:R,className:y,ref:o,onChange:b,style:{minHeight:m(s),maxHeight:u?void 0:m(d)}}),{FieldErrorView:L,FieldErrorCaptureContext:N,fieldPropsContext:P,fieldProps:h}=_(r);return c.jsx(j,{...f,...h,className:v(f.className,h.className),FieldErrorView:L,FieldErrorCaptureContext:N,input:A,children:c.jsx(F,{props:P,children:g})})});q.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"TextArea"};export{q as T};
