import{$ as O,a as T,f as W,b as w,d as G,c as A,g as H}from"./utils-DAXmWa5w.js";import{$ as K}from"./FieldError-Cxb9ZjML.js";import{a as U,$ as j}from"./Form-CFtpyLOk.js";import{g as z}from"./ProgressBar-Du2Olg6q.js";import{C as J,l as Q,q as X,d as Y,p as Z}from"./SelectionIndicator-vxn3ib0k.js";import{a as ee}from"./browser-RW8IAkpU.js";import{$ as g,c as ae,b as ie}from"./mergeRefs-CL4-4jLa.js";import{$ as S}from"./filterDOMProps-i7L6S0l1.js";import{r as P,R as V}from"./iframe-xTeLnFvu.js";import{b as de,$ as le}from"./useFormValidation-CD-qIFlG.js";import{$ as re,h as te}from"./useFocusable-BaZ7v7IW.js";import{$ as E,g as oe,e as se,d as ne}from"./useFocusRing-DkBPZ0-v.js";import{$ as ce}from"./context-7tIPXbfR.js";import{$ as fe}from"./useFormReset-Co6bkbVB.js";const k=new WeakMap;function ue(a,e,d){let{value:l,children:v,"aria-label":r,"aria-labelledby":p,onPressStart:i,onPressEnd:c,onPressChange:s,onPress:t,onPressUp:o,onClick:u}=a;const f=a.isDisabled||e.isDisabled;let h=e.selectedValue===l,x=D=>{D.stopPropagation(),e.setSelectedValue(l)},{pressProps:R,isPressed:I}=E({onPressStart:i,onPressEnd:c,onPressChange:s,onPress:t,onPressUp:o,onClick:u,isDisabled:f}),{pressProps:M,isPressed:y}=E({onPressStart:i,onPressEnd:c,onPressChange:s,onPressUp:o,onClick:u,isDisabled:f,onPress(D){var q;t?.(D),e.setSelectedValue(l),(q=d.current)===null||q===void 0||q.focus()}}),{focusableProps:C}=re(g(a,{onFocus:()=>e.setLastFocusedValue(l)}),d),m=g(R,C),n=S(a,{labelable:!0}),$=-1;e.selectedValue!=null?e.selectedValue===l&&($=0):(e.lastFocusedValue===l||e.lastFocusedValue==null)&&($=0),f&&($=void 0);let{name:b,form:F,descriptionId:L,errorMessageId:N,validationBehavior:B}=k.get(e);return fe(d,e.defaultSelectedValue,e.setSelectedValue),de({validationBehavior:B},e,d),{labelProps:g(M,P.useMemo(()=>({onClick:D=>D.preventDefault(),onMouseDown:D=>D.preventDefault()}),[])),inputProps:g(n,{...m,type:"radio",name:b,form:F,tabIndex:$,disabled:f,required:e.isRequired&&B==="native",checked:h,value:l,onChange:x,"aria-describedby":[a["aria-describedby"],e.isInvalid?N:null,L].filter(Boolean).join(" ")||void 0}),isDisabled:f,isSelected:h,isPressed:I||y}}function $e(a,e){let{name:d,form:l,isReadOnly:v,isRequired:r,isDisabled:p,orientation:i="vertical",validationBehavior:c="aria"}=a,{direction:s}=ce(),{isInvalid:t,validationErrors:o,validationDetails:u}=e.displayValidation,{labelProps:f,fieldProps:h,descriptionProps:x,errorMessageProps:R}=U({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||o}),I=S(a,{labelable:!0}),{focusWithinProps:M}=oe({onBlurWithin(m){var n;(n=a.onBlur)===null||n===void 0||n.call(a,m),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),y=m=>{let n;switch(m.key){case"ArrowRight":s==="rtl"&&i!=="vertical"?n="prev":n="next";break;case"ArrowLeft":s==="rtl"&&i!=="vertical"?n="next":n="prev";break;case"ArrowDown":n="next";break;case"ArrowUp":n="prev";break;default:return}m.preventDefault();let $=J(m.currentTarget,{from:m.target,accept:F=>F instanceof te(F).HTMLInputElement&&F.type==="radio"}),b;n==="next"?(b=$.nextNode(),b||($.currentNode=m.currentTarget,b=$.firstChild())):(b=$.previousNode(),b||($.currentNode=m.currentTarget,b=$.lastChild())),b&&(b.focus(),e.setSelectedValue(b.value))},C=ae(d);return k.set(e,{name:C,form:l,descriptionId:x.id,errorMessageId:R.id,validationBehavior:c}),{radioGroupProps:g(I,{role:"radiogroup",onKeyDown:y,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":v||void 0,"aria-required":r||void 0,"aria-disabled":p||void 0,"aria-orientation":i,...h,...M}),labelProps:f,descriptionProps:x,errorMessageProps:R,isInvalid:t,validationErrors:o,validationDetails:u}}let be=Math.round(Math.random()*1e10),ve=0;function pe(a){let e=P.useMemo(()=>a.name||`radio-group-${be}-${++ve}`,[a.name]);var d;let[l,v]=Q(a.value,(d=a.defaultValue)!==null&&d!==void 0?d:null,a.onChange),[r]=P.useState(l),[p,i]=P.useState(null),c=le({...a,value:l}),s=u=>{!a.isReadOnly&&!a.isDisabled&&(v(u),c.commitValidation())},t=c.displayValidation.isInvalid;var o;return{...c,name:e,selectedValue:l,defaultSelectedValue:a.value!==void 0?r:(o=a.defaultValue)!==null&&o!==void 0?o:null,setSelectedValue:s,lastFocusedValue:p,setLastFocusedValue:i,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(t?"invalid":null),isInvalid:t}}const me=P.createContext(null),Pe=P.createContext(null),_=P.createContext(null),Ee=P.forwardRef(function(e,d){[e,d]=O(e,d,me);let{validationBehavior:l}=T(j)||{};var v,r;let p=(r=(v=e.validationBehavior)!==null&&v!==void 0?v:l)!==null&&r!==void 0?r:"native",i=pe({...e,validationBehavior:p}),[c,s]=W(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:t,labelProps:o,descriptionProps:u,errorMessageProps:f,...h}=$e({...e,label:s,validationBehavior:p},i),x=w({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"}),R=S(e,{global:!0});return V.createElement("div",{...g(R,x,t),ref:d,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},V.createElement(G,{values:[[_,i],[z,{...o,ref:c,elementType:"span"}],[ee,{slots:{description:u,errorMessage:f}}],[K,h]]},V.createElement(X,null,x.children)))}),Oe=P.forwardRef(function(e,d){let{inputRef:l=null,...v}=e;[e,d]=O(v,d,Pe);let r=V.useContext(_),p=A(P.useMemo(()=>ie(l,e.inputRef!==void 0?e.inputRef:null),[l,e.inputRef])),{labelProps:i,inputProps:c,isSelected:s,isDisabled:t,isPressed:o}=ue({...H(e),children:typeof e.children=="function"?!0:e.children},r,p),{isFocused:u,isFocusVisible:f,focusProps:h}=se(),x=t||r.isReadOnly,{hoverProps:R,isHovered:I}=ne({...e,isDisabled:x}),M=w({...e,defaultClassName:"react-aria-Radio",values:{isSelected:s,isPressed:o,isHovered:I,isFocused:u,isFocusVisible:f,isDisabled:t,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),y=S(e,{global:!0});return delete y.id,delete y.onClick,V.createElement("label",{...g(y,i,R,M),ref:d,"data-selected":s||void 0,"data-pressed":o||void 0,"data-hovered":I||void 0,"data-focused":u||void 0,"data-focus-visible":f||void 0,"data-disabled":t||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},V.createElement(Y,{elementType:"span"},V.createElement("input",{...g(c,h),ref:p})),V.createElement(Z.Provider,{value:{isSelected:s}},M.children))});export{Ee as $,Oe as a};
