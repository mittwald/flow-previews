import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-BdpSHsi2.js";import{f as C,P as E,A as O}from"./PropsContextProvider-CYaoj4SL.js";import{u as P}from"./DialogTriggerView-D1mdJEye.js";import{a as w}from"./Option-CIrSd2fX.js";import{T as A}from"./Text-D98B0EJd.js";import{$ as I}from"./useLocalizedStringFormatter-DnyHa0G6.js";import{$ as F}from"./useFilter-Ci6RWDlx.js";import{b as N}from"./useFocusRing-BmK03SYd.js";import{$ as D}from"./OverlayArrow-C6Yc-GKF.js";import{b as R}from"./Dialog-lTFCM1XE.js";const T={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},S="flow--autocomplete--popover",W="flow--autocomplete--empty",m={popover:S,empty:W},K=C("Autocomplete",f=>{const{children:u,...d}=f,{contains:b}=F({sensitivity:"base"}),x=I(T),c=l.useRef(null),n=l.useRef(null),e=P("Popover",{reuseControllerFromContext:!1}),r=e.useIsOpen(),h=N({onBlurWithin:e.close}),i={onKeyDown:o=>{o.key==="Enter"&&r&&o.preventDefault()},ref:n},$=()=>t.jsx(A,{className:m.empty,children:x.format("autocomplete.empty")}),y={SearchField:i,TextField:i,Option:{tunnelId:"options"},Popover:{className:m.popover}},g=o=>{o?r||e.open():e.close()},v=o=>{var a;const s=n.current;if(s){const p=(a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:a.set;p==null||p.call(s,String(o));const j=new Event("change",{bubbles:!0});s.dispatchEvent(j)}e.close()};return t.jsx(E,{props:y,mergeInParentContext:!0,dependencies:[r,e],children:t.jsx("div",{...h.focusWithinProps,ref:c,children:t.jsx(D,{getContainer:()=>c.current,children:t.jsxs(R,{onInputChange:g,filter:b,disableAutoFocusFirst:!0,...d,children:[u,t.jsx(w,{onAction:v,triggerRef:n,controller:e,renderEmptyState:$,isNonModal:!0,placement:"bottom start",children:t.jsx(O,{id:"options"})})]})})})})});K.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{K as A};
