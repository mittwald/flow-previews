import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-BdpSHsi2.js";import{f as C,P as E,A as v}from"./PropsContextProvider-Dx838hur.js";import{u as O}from"./DialogTriggerView-CSd1Bsh0.js";import{a as A}from"./Option-C8vPginV.js";import{T as P}from"./Text-BvHt_4Ei.js";import{$ as w}from"./useLocalizedStringFormatter-DnyHa0G6.js";import{$ as I}from"./useFilter-Ci6RWDlx.js";import{b as F}from"./useFocusRing-BmK03SYd.js";import{$ as D}from"./OverlayArrow-C6Yc-GKF.js";import{b as N}from"./Dialog-lTFCM1XE.js";const R={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},T="flow--autocomplete--empty",S={empty:T},W=C("Autocomplete",m=>{const{children:f,...u}=m,{contains:d}=I({sensitivity:"base"}),b=w(R),i=l.useRef(null),n=l.useRef(null),e=O("Popover",{reuseControllerFromContext:!1}),r=e.useIsOpen(),x=F({onBlurWithin:e.close}),p={onKeyDown:o=>{o.key==="Enter"&&r&&o.preventDefault()},ref:n},h=()=>t.jsx(P,{className:S.empty,children:b.format("autocomplete.empty")}),$={SearchField:p,TextField:p,Option:{tunnelId:"options"}},y=o=>{o?r||e.open():e.close()},g=o=>{var a;const s=n.current;if(s){const c=(a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:a.set;c==null||c.call(s,String(o));const j=new Event("change",{bubbles:!0});s.dispatchEvent(j)}e.close()};return t.jsx(E,{props:$,mergeInParentContext:!0,dependencies:[r,e],children:t.jsx("div",{...x.focusWithinProps,ref:i,children:t.jsx(D,{getContainer:()=>i.current,children:t.jsxs(N,{onInputChange:y,filter:d,disableAutoFocusFirst:!0,...u,children:[f,t.jsx(A,{onAction:g,triggerRef:n,controller:e,renderEmptyState:h,isNonModal:!0,placement:"bottom start",children:t.jsx(v,{id:"options"})})]})})})})});W.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{W as A};
