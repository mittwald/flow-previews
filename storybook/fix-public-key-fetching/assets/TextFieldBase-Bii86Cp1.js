import{j as u}from"./jsx-runtime-D_zvdyIk.js";import{r as s,R as C}from"./index-BZISi7jw.js";import{f as c}from"./FormField.module-B9AzUSUD.js";import{c as g}from"./clsx-B-dksMZM.js";import{C as q,P as j}from"./flowComponent-BQKp_5Ng.js";import{F as M}from"./FieldError-D27MoMaZ.js";import{F as O}from"./FieldDescription-DtEGO0XD.js";import{$ as L}from"./useLocalizedStringFormatter-CZn_2Om1.js";import{$ as F,a as H,f as S,d as _,e as w,g as A}from"./utils-BAtcVSHo.js";import{a as V}from"./FieldError-DGtg9YPD.js";import{a as W}from"./Form-qm5cnMB7.js";import{a as y}from"./Input-njpPCLyw.js";import{a as k}from"./Label--FbMCZJS.js";import{a as Z,b as z}from"./useFocusRing-D6MLu59I.js";import{$ as N}from"./index-Dfd2pZHs.js";import{a as G}from"./Text-CxIdO6ok.js";import{$ as J}from"./Hidden-kqRI_mPI.js";import{$ as K}from"./filterDOMProps-CeZl_uWj.js";import{$ as Q}from"./useTextField--bi5H5bl.js";const B=s.createContext({});let U=a=>{let{onHoverStart:e,onHoverChange:r,onHoverEnd:d,...t}=a;return t};const Fe=s.forwardRef(function(e,r){[e,r]=F(e,r,B);let{hoverProps:d,isHovered:t}=Z(e),{isFocused:i,isFocusVisible:n,focusProps:f}=z({isTextInput:!0,autoFocus:e.autoFocus}),l=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",o=H({...e,values:{isHovered:t,isFocused:i,isFocusVisible:n,isDisabled:e.disabled||!1,isInvalid:l},defaultClassName:"react-aria-TextArea"});return C.createElement("textarea",{...N(U(e),f,d),...o,ref:r,"data-focused":i||void 0,"data-disabled":e.disabled||void 0,"data-hovered":t||void 0,"data-focus-visible":n||void 0,"data-invalid":l||void 0})}),X=s.createContext(null),Y=J(function(e,r){[e,r]=F(e,r,X);let{validationBehavior:d}=S(W)||{};var t,i;let n=(i=(t=e.validationBehavior)!==null&&t!==void 0?t:d)!==null&&i!==void 0?i:"native",f=s.useRef(null),[l,o]=F({},f,y),[b,x]=_(!e["aria-label"]&&!e["aria-labelledby"]),[p,$]=s.useState("input"),{labelProps:m,inputProps:P,descriptionProps:D,errorMessageProps:I,...h}=Q({...w(e),inputElementType:p,label:x,validationBehavior:n},o),T=s.useCallback(v=>{o.current=v,v&&$(v instanceof HTMLTextAreaElement?"textarea":"input")},[o]),E=H({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:h.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),R=K(e);return delete R.id,C.createElement("div",{...R,...E,ref:r,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":h.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},C.createElement(A,{values:[[k,{...m,ref:b}],[y,{...N(P,l),ref:T}],[B,{...P,ref:T}],[G,{slots:{description:D,errorMessage:I}}],[V,h]]},E.children))}),ee={"de-DE":{"textFieldBase.characters":(a,e)=>`${e.select({0:()=>`${a.count}`,other:()=>`${a.count}/${a.maxCount}`},a.maxCount)} Zeichen`},"en-EN":{"textFieldBase.characters":(a,e)=>`${e.select({0:()=>`${a.count}`,other:()=>`${a.count}/${a.maxCount}`},a.maxCount)} characters`}},ae=a=>{var $;const{children:e,className:r,input:d,showCharacterCount:t,...i}=a,[n,f]=s.useState((($=a.value)==null?void 0:$.length)??0),l=g(c.formField,r),o=L(ee),b={Label:{className:c.label,optional:!a.isRequired},FieldDescription:{className:c.fieldDescription},FieldError:{className:c.customFieldError}},x=m=>{t&&f(m.length),a.onChange&&a.onChange(m)},p=o.format("textFieldBase.characters",{count:n,maxCount:a.maxLength??0});return u.jsx(q,{children:u.jsxs(Y,{...i,className:l,onChange:x,children:[d,u.jsx(j,{props:b,children:e}),t&&u.jsx(O,{className:c.fieldDescription,children:p}),u.jsx(M,{className:c.fieldError})]})})};ae.__docgenInfo={description:"",methods:[],displayName:"TextFieldBase",props:{ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""},input:{required:!0,tsType:{name:"ReactNode"},description:"The input element"},showCharacterCount:{required:!1,tsType:{name:"boolean"},description:"Whether a character count should be displayed inside the field description."}},composes:["PropsWithChildren"]};export{Fe as $,ae as T};
