import{$ as h,f as v,a as M}from"./utils-Dyxd3-sq.js";import{a as V,b as N}from"./Label-JOCFYh16.js";import{$ as p}from"./index-BzGnAInb.js";import{$ as x}from"./filterDOMProps-CghfNOdR.js";import{r as u,R as m}from"./iframe-CTxtjXon.js";import{$ as I}from"./context-OuuPOLWB.js";import{$ as w}from"./NumberFormatter-DNR9MAW-.js";function P(f,e=-1/0,r=1/0){return Math.min(Math.max(f,e),r)}function d(f,e){let r=f,a=0,l=e.toString(),t=l.toLowerCase().indexOf("e-");if(t>0)a=Math.abs(Math.floor(Math.log10(Math.abs(e))))+t;else{let o=l.indexOf(".");o>=0&&(a=l.length-o)}if(a>0){let o=Math.pow(10,a);r=Math.round(r*o)/o}return r}function F(f,e,r,a){e=Number(e),r=Number(r);let l=(f-(isNaN(e)?0:e))%a,t=d(Math.abs(l)*2>=a?f+Math.sign(l)*(a-Math.abs(l)):f-l,a);return isNaN(e)?!isNaN(r)&&t>r&&(t=Math.floor(d(r/a,a))*a):t<e?t=e:!isNaN(r)&&t>r&&(t=e+Math.floor(d((r-e)/a,a))*a),t=d(t,a),t}function y(f={}){let{locale:e}=I();return u.useMemo(()=>new w(e,f),[e,f])}function B(f){let{value:e=0,minValue:r=0,maxValue:a=100,valueLabel:l,isIndeterminate:t,formatOptions:o={style:"percent"}}=f,b=x(f,{labelable:!0}),{labelProps:c,fieldProps:n}=V({...f,labelElementType:"span"});e=P(e,r,a);let s=(e-r)/(a-r),$=y(o);if(!t&&!l){let i=o.style==="percent"?s:e;l=$.format(i)}return{progressBarProps:p(b,{...n,"aria-valuenow":t?void 0:e,"aria-valuemin":r,"aria-valuemax":a,"aria-valuetext":t?void 0:l,role:"progressbar"}),labelProps:c}}const O=u.createContext(null),j=u.forwardRef(function(e,r){[e,r]=h(e,r,O);let{value:a=0,minValue:l=0,maxValue:t=100,isIndeterminate:o=!1}=e;a=P(a,l,t);let[b,c]=v(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:n,labelProps:s}=B({...e,label:c}),$=o?void 0:(a-l)/(t-l)*100,i=M({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:$,valueText:n["aria-valuetext"],isIndeterminate:o}}),g=x(e,{global:!0});return m.createElement("div",{...p(g,i,n),ref:r,slot:e.slot||void 0},m.createElement(N.Provider,{value:{...s,ref:b,elementType:"span"}},i.children))});export{P as $,O as a,F as b,y as c,j as d};
