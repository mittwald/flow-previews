import{r as f,R as j,j as R}from"./iframe-LeKLDkYY.js";import{f as xe,P as le,A as we}from"./flowComponent-B87WjEVi.js";import{c as De}from"./clsx-B-dksMZM.js";import{B as ie}from"./Button-BbTRgfHO.js";import{p as Ve,d as Me}from"./IconWarning-DddVt0_L.js";import{$ as _,f as fe,a as W,d as be,c as ke,b as oe}from"./utils-1n9saaJJ.js";import{u as Re}from"./useMakeFocusable-a9qPG6ZB.js";import{$ as Ke}from"./useLocalizedStringFormatter-_ZYyHG1p.js";import{a as me,b as pe}from"./Label-C1dMHZA4.js";import{d as se,$ as A}from"./index-Bs8MTrz8.js";import{$ as he}from"./filterDOMProps-CghfNOdR.js";import{b as q,$ as ee,c as Se}from"./ProgressBar-QdK-gkty.js";import{$ as Fe}from"./useControlledState-82f8Q_fD.js";import{b as te,$ as ge,a as Ee}from"./useFocusRing-AniuyIk6.js";import{E as Ie,n as Ce}from"./useFocus-DpQgRw3u.js";import{g as Le,h as Ne}from"./usePress-kmLZVcf4.js";import{$ as $e}from"./context-wUV3k3U5.js";import{$ as je}from"./useFormReset-CXz6fjib.js";import{a as Ae,$ as He}from"./useFocusable-BqRn9RY3.js";import{$ as Ue}from"./VisuallyHidden-25_VPX5X.js";function ve(a){let{onMoveStart:e,onMove:t,onMoveEnd:s}=a,c=f.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:l,removeGlobalListener:$}=te(),b=se((o,g,p,n)=>{p===0&&n===0||(c.current.didMove||(c.current.didMove=!0,e==null||e({type:"movestart",pointerType:g,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})),t==null||t({type:"move",pointerType:g,deltaX:p,deltaY:n,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))}),h=se((o,g)=>{Le(),c.current.didMove&&(s==null||s({type:"moveend",pointerType:g,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))});return{moveProps:f.useMemo(()=>{let o={},g=()=>{Ne(),c.current.didMove=!1};{let n=d=>{if(d.pointerId===c.current.id){var m,i;let K=d.pointerType||"mouse";var T,D;b(d,K,d.pageX-((T=(m=c.current.lastPosition)===null||m===void 0?void 0:m.pageX)!==null&&T!==void 0?T:0),d.pageY-((D=(i=c.current.lastPosition)===null||i===void 0?void 0:i.pageY)!==null&&D!==void 0?D:0)),c.current.lastPosition={pageX:d.pageX,pageY:d.pageY}}},P=d=>{if(d.pointerId===c.current.id){let m=d.pointerType||"mouse";h(d,m),c.current.id=null,$(window,"pointermove",n,!1),$(window,"pointerup",P,!1),$(window,"pointercancel",P,!1)}};o.onPointerDown=d=>{d.button===0&&c.current.id==null&&(g(),d.stopPropagation(),d.preventDefault(),c.current.lastPosition={pageX:d.pageX,pageY:d.pageY},c.current.id=d.pointerId,l(window,"pointermove",n,!1),l(window,"pointerup",P,!1),l(window,"pointercancel",P,!1))}}let p=(n,P,d)=>{g(),b(n,"keyboard",P,d),h(n,"keyboard")};return o.onKeyDown=n=>{switch(n.key){case"Left":case"ArrowLeft":n.preventDefault(),n.stopPropagation(),p(n,-1,0);break;case"Right":case"ArrowRight":n.preventDefault(),n.stopPropagation(),p(n,1,0);break;case"Up":case"ArrowUp":n.preventDefault(),n.stopPropagation(),p(n,0,-1);break;case"Down":case"ArrowDown":n.preventDefault(),n.stopPropagation(),p(n,0,1);break}},o},[c,l,$,b,h])}}const Be=0,ze=100,Ge=1;function Xe(a){const{isDisabled:e=!1,minValue:t=Be,maxValue:s=ze,numberFormatter:c,step:l=Ge,orientation:$="horizontal"}=a;let b=f.useMemo(()=>{let r=(s-t)/10;return r=q(r,0,r+l,l),Math.max(r,l)},[l,s,t]),h=f.useCallback(r=>r==null?void 0:r.map((v,V)=>{let z=V===0?t:r[V-1],G=V===r.length-1?s:r[V+1];return q(v,z,G,l)}),[t,s,l]),w=f.useMemo(()=>h(de(a.value)),[a.value,h]),o=f.useMemo(()=>{var r;return h((r=de(a.defaultValue))!==null&&r!==void 0?r:[t])},[a.defaultValue,t,h]),g=ce(a.value,a.defaultValue,a.onChange),p=ce(a.value,a.defaultValue,a.onChangeEnd);const[n,P]=Fe(w,o,g);let[d]=f.useState(n);const[m,i]=f.useState(new Array(n.length).fill(!1)),T=f.useRef(new Array(n.length).fill(!0)),[D,K]=f.useState(void 0),x=f.useRef(n),y=f.useRef(m);let C=r=>{x.current=r,P(r)},L=r=>{y.current=r,i(r)};function B(r){return(r-t)/(s-t)}function X(r){return r===0?t:n[r-1]}function O(r){return r===n.length-1?s:n[r+1]}function H(r){return T.current[r]}function N(r,v){T.current[r]=v}function M(r,v){if(e||!H(r))return;const V=X(r),z=O(r);v=q(v,V,z,l);let G=ue(x.current,r,v);C(G)}function k(r,v){if(e||!H(r))return;v&&(x.current=n);const V=y.current[r];y.current=ue(y.current,r,v),L(y.current),p&&V&&!y.current.some(Boolean)&&p(x.current)}function S(r){return c.format(r)}function u(r,v){M(r,E(v))}function F(r){return Math.round((r-t)/l)*l+t}function E(r){const v=r*(s-t)+t;return ee(F(v),t,s)}function U(r,v=1){let V=Math.max(v,l);M(r,q(n[r]+V,t,s,l))}function Y(r,v=1){let V=Math.max(v,l);M(r,q(n[r]-V,t,s,l))}return{values:n,defaultValues:a.defaultValue!==void 0?o:d,getThumbValue:r=>n[r],setThumbValue:M,setThumbPercent:u,isThumbDragging:r=>m[r],setThumbDragging:k,focusedThumb:D,setFocusedThumb:K,getThumbPercent:r=>B(n[r]),getValuePercent:B,getThumbValueLabel:r=>S(n[r]),getFormattedValue:S,getThumbMinValue:X,getThumbMaxValue:O,getPercentValue:E,isThumbEditable:H,setThumbEditable:N,incrementThumb:U,decrementThumb:Y,step:l,pageSize:b,orientation:$,isDisabled:e}}function ue(a,e,t){return a[e]===t?a:[...a.slice(0,e),t,...a.slice(e+1)]}function de(a){if(a!=null)return Array.isArray(a)?a:[a]}function ce(a,e,t){return s=>{typeof a=="number"||typeof e=="number"?t==null||t(s[0]):t==null||t(s)}}const re=new WeakMap;function Z(a,e){let t=re.get(a);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Oe(a,e,t){let{labelProps:s,fieldProps:c}=me(a),l=a.orientation==="vertical";var $;re.set(e,{id:($=s.id)!==null&&$!==void 0?$:c.id,"aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]});let{direction:b}=$e(),{addGlobalListener:h,removeGlobalListener:w}=te();const o=f.useRef(null),g=b==="rtl",p=f.useRef(null),{moveProps:n}=ve({onMoveStart(){p.current=null},onMove({deltaX:i,deltaY:T}){if(!t.current)return;let{height:D,width:K}=t.current.getBoundingClientRect(),x=l?D:K;p.current==null&&o.current!=null&&(p.current=e.getThumbPercent(o.current)*x);let y=l?T:i;if((l||g)&&(y=-y),p.current+=y,o.current!=null&&t.current){const C=ee(p.current/x,0,1);e.setThumbPercent(o.current,C)}},onMoveEnd(){o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null)}});let P=f.useRef(void 0),d=(i,T,D,K)=>{if(t.current&&!a.isDisabled&&e.values.every((x,y)=>!e.isThumbDragging(y))){let{height:x,width:y,top:C,left:L}=t.current.getBoundingClientRect(),B=l?x:y,N=((l?K:D)-(l?C:L))/B;(b==="rtl"||l)&&(N=1-N);let M=e.getPercentValue(N),k,S=e.values.findIndex(u=>M-u<0);if(S===0)k=S;else if(S===-1)k=e.values.length-1;else{let u=e.values[S-1],F=e.values[S];Math.abs(u-M)<Math.abs(F-M)?k=S-1:k=S}k>=0&&e.isThumbEditable(k)?(i.preventDefault(),o.current=k,e.setFocusedThumb(k),P.current=T,e.setThumbDragging(o.current,!0),e.setThumbValue(k,M),h(window,"mouseup",m,!1),h(window,"touchend",m,!1),h(window,"pointerup",m,!1)):o.current=null}},m=i=>{var T,D;((D=i.pointerId)!==null&&D!==void 0?D:(T=i.changedTouches)===null||T===void 0?void 0:T[0].identifier)===P.current&&(o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null),w(window,"mouseup",m,!1),w(window,"touchend",m,!1),w(window,"pointerup",m,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var i;(i=document.getElementById(Z(e,0)))===null||i===void 0||i.focus(),Ie("keyboard")}),{labelProps:s,groupProps:{role:"group",...c},trackProps:A({onMouseDown(i){i.button!==0||i.altKey||i.ctrlKey||i.metaKey||d(i,void 0,i.clientX,i.clientY)},onPointerDown(i){i.pointerType==="mouse"&&(i.button!==0||i.altKey||i.ctrlKey||i.metaKey)||d(i,i.pointerId,i.clientX,i.clientY)},onTouchStart(i){d(i,i.changedTouches[0].identifier,i.changedTouches[0].clientX,i.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},n),outputProps:{htmlFor:e.values.map((i,T)=>Z(e,T)).join(" "),"aria-live":"off"}}}function Ye(a,e){let{index:t=0,isRequired:s,validationState:c,isInvalid:l,trackRef:$,inputRef:b,orientation:h=e.orientation,name:w,form:o}=a,g=a.isDisabled||e.isDisabled,p=h==="vertical",{direction:n}=$e(),{addGlobalListener:P,removeGlobalListener:d}=te(),m=re.get(e);var i;const{labelProps:T,fieldProps:D}=me({...a,id:Z(e,t),"aria-labelledby":`${m.id} ${(i=a["aria-labelledby"])!==null&&i!==void 0?i:""}`.trim()}),K=e.values[t],x=f.useCallback(()=>{b.current&&Ce(b.current)},[b]),y=e.focusedThumb===t;f.useEffect(()=>{y&&x()},[y,x]);let C=n==="rtl",L=f.useRef(null),{keyboardProps:B}=Ae({onKeyDown(u){let{getThumbMaxValue:F,getThumbMinValue:E,decrementThumb:U,incrementThumb:Y,setThumbValue:r,setThumbDragging:v,pageSize:V}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(u.key)){u.continuePropagation();return}switch(u.preventDefault(),v(t,!0),u.key){case"PageUp":Y(t,V);break;case"PageDown":U(t,V);break;case"Home":r(t,E(t));break;case"End":r(t,F(t));break}v(t,!1)}}),{moveProps:X}=ve({onMoveStart(){L.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:u,deltaY:F,pointerType:E,shiftKey:U}){const{getThumbPercent:Y,setThumbPercent:r,decrementThumb:v,incrementThumb:V,step:z,pageSize:G}=e;if(!$.current)return;let{width:Te,height:ye}=$.current.getBoundingClientRect(),ae=p?ye:Te;if(L.current==null&&(L.current=Y(t)*ae),E==="keyboard")u>0&&C||u<0&&!C||F>0?v(t,U?G:z):V(t,U?G:z);else{let Q=p?F:u;(p||C)&&(Q=-Q),L.current+=Q,r(t,ee(L.current/ae,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!g);const{focusableProps:O}=He(A(a,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),b);let H=f.useRef(void 0),N=u=>{x(),H.current=u,e.setThumbDragging(t,!0),P(window,"mouseup",M,!1),P(window,"touchend",M,!1),P(window,"pointerup",M,!1)},M=u=>{var F,E;((E=u.pointerId)!==null&&E!==void 0?E:(F=u.changedTouches)===null||F===void 0?void 0:F[0].identifier)===H.current&&(x(),e.setThumbDragging(t,!1),d(window,"mouseup",M,!1),d(window,"touchend",M,!1),d(window,"pointerup",M,!1))},k=e.getThumbPercent(t);(p||n==="rtl")&&(k=1-k);let S=g?{}:A(B,X,{onMouseDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||N()},onPointerDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||N(u.pointerId)},onTouchStart:u=>{N(u.changedTouches[0].identifier)}});return je(b,e.defaultValues[t],u=>{e.setThumbValue(t,u)}),{inputProps:A(O,D,{type:"range",tabIndex:g?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:K,name:w,form:o,disabled:g,"aria-orientation":h,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":s||void 0,"aria-invalid":l||c==="invalid"||void 0,"aria-errormessage":a["aria-errormessage"],"aria-describedby":[m["aria-describedby"],a["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[m["aria-details"],a["aria-details"]].filter(Boolean).join(" "),onChange:u=>{e.setThumbValue(t,parseFloat(u.target.value))}}),thumbProps:{...S,style:{position:"absolute",[p?"top":"left"]:`${k*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:T,isDragging:e.isThumbDragging(t),isDisabled:g,isFocused:y}}const qe=f.createContext(null),J=f.createContext(null),ne=f.createContext(null),Pe=f.createContext(null),We=f.forwardRef(function(e,t){[e,t]=_(e,t,qe);let s=f.useRef(null),c=Se(e.formatOptions),l=Xe({...e,numberFormatter:c}),[$,b]=fe(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:h,trackProps:w,labelProps:o,outputProps:g}=Oe({...e,label:b},l,s),p=W({...e,values:{orientation:l.orientation,isDisabled:l.isDisabled,state:l},defaultClassName:"react-aria-Slider"}),n=he(e,{global:!0});return delete n.id,j.createElement(be,{values:[[J,l],[ne,{...w,ref:s}],[Pe,g],[pe,{...o,ref:$}]]},j.createElement("div",{...A(n,p,h),ref:t,slot:e.slot||void 0,"data-orientation":l.orientation,"data-disabled":l.isDisabled||void 0}))}),Je=f.forwardRef(function(e,t){[e,t]=_(e,t,Pe);let{children:s,style:c,className:l,...$}=e,b=f.useContext(J),h=W({className:l,style:c,children:s,defaultChildren:b.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:b.orientation,isDisabled:b.isDisabled,state:b}});return j.createElement("output",{...$,...h,ref:t,"data-orientation":b.orientation||void 0,"data-disabled":b.isDisabled||void 0})}),Qe=f.forwardRef(function(e,t){[e,t]=_(e,t,ne);let s=f.useContext(J),{onHoverStart:c,onHoverEnd:l,onHoverChange:$,...b}=e,{hoverProps:h,isHovered:w}=ge({onHoverStart:c,onHoverEnd:l,onHoverChange:$}),o=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:s.orientation,isDisabled:s.isDisabled,isHovered:w,state:s}});return j.createElement("div",{...A(b,h),...o,ref:t,"data-hovered":w||void 0,"data-orientation":s.orientation||void 0,"data-disabled":s.isDisabled||void 0})}),Ze=f.forwardRef(function(e,t){let{inputRef:s=null}=e,c=f.useContext(J),{ref:l}=ke(ne),{index:$=0}=e,b=f.useRef(null),h=s||b,[w,o]=fe(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:g,inputProps:p,labelProps:n,isDragging:P,isFocused:d,isDisabled:m}=Ye({...e,index:$,trackRef:l,inputRef:h,label:o},c),{focusProps:i,isFocusVisible:T}=Ee(),{hoverProps:D,isHovered:K}=ge(e),x=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:c,isHovered:K,isDragging:P,isFocused:d,isFocusVisible:T,isDisabled:m}}),y=he(e,{global:!0});return delete y.id,j.createElement("div",{...A(y,g,D),...x,ref:t,style:{...g.style,...x.style},"data-hovered":K||void 0,"data-dragging":P||void 0,"data-focused":d||void 0,"data-focus-visible":T||void 0,"data-disabled":m||void 0},j.createElement(Ue,null,j.createElement("input",{ref:h,...A(p,i)})),j.createElement(be,{values:[[pe,{...n,ref:w}]]},x.children))}),_e="flow--slider",et="flow--slider--text",tt="flow--slider--value",rt="flow--slider--track",nt="flow--slider--fill",at="flow--slider--initial-marker",lt="flow--slider--handle",it="flow--slider--increment",ot="flow--slider--decrement",st="flow--slider--disabled",I={slider:_e,text:et,value:tt,track:rt,fill:nt,initialMarker:at,handle:lt,increment:it,decrement:ot,disabled:st},ut={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},dt=xe("Slider",a=>{const{className:e,children:t,name:s,isDisabled:c,defaultValue:l,showInitialMarker:$,isReadOnly:b,ref:h,inputRef:w,...o}=a,g=De(I.slider,c&&I.disabled,e),p=Ke(ut),n=oe(h),P=oe(w);Re(n,()=>{var m;(m=P.current)==null||m.focus()});const d={Label:{unstyled:!0,tunnelId:"label"}};return R.jsx(le,{props:d,children:R.jsxs(We,{...o,ref:n,className:g,isDisabled:c,defaultValue:l,children:[R.jsxs("div",{className:I.text,children:[R.jsx(Je,{className:I.value}),R.jsx(we,{id:"label"})]}),R.jsx(Qe,{className:I.track,children:({state:m})=>R.jsxs(le,{props:{Button:{isPending:!1,isFailed:!1,isSucceeded:!1,isReadOnly:b,excludeFromTabOrder:!0,isDisabled:c,variant:"plain",color:"secondary"}},children:[R.jsx(ie,{onPress:()=>m.decrementThumb(0),"aria-label":p.format("slider.decrement"),className:I.decrement,children:R.jsx(Ve,{})}),R.jsx(ie,{onPress:()=>m.incrementThumb(0),"aria-label":p.format("slider.increment"),className:I.increment,children:R.jsx(Me,{})}),R.jsx("div",{className:I.fill,style:{width:m.getThumbPercent(0)*100+"%"}}),$&&l&&typeof l=="number"&&R.jsx("div",{className:I.initialMarker,style:{left:`calc(${m.getValuePercent(l)*100}% - 2px)`}}),R.jsx(Ze,{inputRef:P,name:s,className:I.handle,isDisabled:b})]})}),t]})})});dt.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{dt as S};
