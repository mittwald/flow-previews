import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{c as x}from"./clsx-B-dksMZM.js";import"./index-BdpSHsi2.js";import{a as v,b as T}from"./ProgressBar-Dwuqfbjf.js";import{g as b}from"./getCategoricalColorByIndex-BIvTpnTO.js";import{W as D}from"./PropsContextProvider-DT5D5rm_.js";import{L as N,a as k}from"./Legend-BI-WvXxl.js";const q="flow--donut-chart",_="flow--donut-chart--border",V="flow--donut-chart--background",I="flow--donut-chart--value",L="flow--donut-chart--info",P="flow--donut-chart--fill",W="flow--donut-chart--success",z="flow--donut-chart--danger",O="flow--donut-chart--warning",R="flow--donut-chart--donut-chart-container",F="flow--donut-chart--bottom",S="flow--donut-chart--top",A="flow--donut-chart--right",B="flow--donut-chart--legend",E="flow--donut-chart--left",l={donutChart:q,border:_,background:V,value:I,"size-l":"flow--donut-chart--size-l",info:L,fill:P,success:W,danger:z,warning:O,donutChartContainer:R,bottom:F,top:S,right:A,legend:B,left:E},w=i=>{const{value:o=0,formatOptions:c,valueText:a}=i,s=v(c);if(a)return t.jsx("span",{className:l.value,children:a});const e=c?s.format(o):`${o} %`;return t.jsx("span",{className:l.value,children:t.jsx("b",{children:e})})};w.__docgenInfo={description:"",methods:[],displayName:"DonutChartValue",props:{value:{required:!1,tsType:{name:"number"},description:""},valueText:{required:!1,tsType:{name:"ReactNode"},description:""}},composes:["Pick"]};const y=i=>{const{center:o,value:c=0,radius:a,segments:s,maxValue:e}=i,n=2*a*Math.PI,r=100/e*c;if(!s)return t.jsx("circle",{className:l.fill,cx:o,cy:o,r:a,strokeDasharray:`${n} ${n}`,strokeDashoffset:n-r/100*n,transform:`rotate(-90 ${o} ${o})`});let d=0;return s.map((u,f)=>{const m=100/e*u.value,h=d;return d=d+360/100*m,t.jsx("circle",{cx:o,cy:o,r:a,strokeDasharray:`${n} ${n}`,strokeDashoffset:n-m/100*n,stroke:`var(--color--categorical--${u.color??b(f)})`,transform:`rotate(${-90+h} ${o} ${o})`})})};y.__docgenInfo={description:"",methods:[],displayName:"DonutChartFill",props:{center:{required:!0,tsType:{name:"number"},description:""},value:{required:!1,tsType:{name:"number"},description:""},radius:{required:!0,tsType:{name:"number"},description:""},maxValue:{required:!0,tsType:{name:"number"},description:""}},composes:["Pick"]};const C=i=>{const{value:o=0,segments:c,size:a,maxValue:s}=i,e=.5,n=a==="m"?8:12,r=n*4,d=r-n/2;return t.jsx(t.Fragment,{children:t.jsxs("svg",{width:r*4,height:r*4,viewBox:`0 0 ${r*2} ${r*2}`,fill:"none",strokeWidth:n,children:[t.jsx("circle",{className:l.background,cx:r,cy:r,r:d,strokeWidth:n}),t.jsx("circle",{className:l.border,cx:r,cy:r,r:r-e/2,strokeWidth:e}),t.jsx("circle",{className:l.border,cx:r,cy:r,r:r-n+e/2,strokeWidth:e}),t.jsx(y,{radius:d,center:r,value:o,segments:c,maxValue:s??100})]})})};C.__docgenInfo={description:"",methods:[],displayName:"Donut",props:{value:{required:!1,tsType:{name:"number"},description:""}},composes:["Pick"]};const $=i=>{const{segments:o,showLegend:c,formatOptions:a}=i,s=v(a);return!o||!c?null:t.jsx(N,{className:l.legend,children:o.map((e,n)=>t.jsx(k,{color:e.color??b(n),children:`${e.title} (${e.valueText??(a?s.format(e.value):`${e.value} %`)})`}))})};$.__docgenInfo={description:"",methods:[],displayName:"DonutChartLegend"};const M=i=>{const{size:o="m",status:c="info",className:a,value:s,segments:e,maxValue:n,formatOptions:r,valueText:d,showLegend:u=!0,legendPosition:f="right",...m}=i,h=x(l.donutChart,o==="l"&&l["size-l"],l[c],a),p=e?e.map(g=>g.value).reduce((g,j)=>g+j,0):void 0;return t.jsx(D,{if:u&&e,children:t.jsxs("div",{className:x(l.donutChartContainer,l[f]),children:[t.jsxs(T,{className:h,value:p??s,...m,children:[t.jsx(C,{value:p??s,segments:e,size:o,maxValue:n}),t.jsx(w,{value:p??s,formatOptions:r,valueText:d})]}),u&&e&&t.jsx($,{showLegend:u,segments:e,formatOptions:r})]})})};M.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"DonutChart",props:{size:{required:!1,tsType:{name:"union",raw:'"m" | "l"',elements:[{name:"literal",value:'"m"'},{name:"literal",value:'"l"'}]},description:'The size variant of the donut chart. @default "m"'},segments:{required:!1,tsType:{name:"Array",elements:[{name:"DonutChartSegment"}],raw:"DonutChartSegment[]"},description:"Divides the fill of the donut chart into segments"},valueText:{required:!1,tsType:{name:"ReactNode"},description:"An optional text to be displayed instead of the formatted value"},showLegend:{required:!1,tsType:{name:"boolean"},description:`Whether the legend component is shown when segments are used. @default:
true`},legendPosition:{required:!1,tsType:{name:"union",raw:'"top" | "left" | "bottom" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"left"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"right"'}]},description:'The position of the legend. @default "right"'}},composes:["Omit","PropsWithStatus"]};export{M as D};
