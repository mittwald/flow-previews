import{r as u,j as n}from"./iframe-5e2kPeup.js";import{f as O,P as C,A as P}from"./PropsContextProvider-DEH0t7hl.js";import{u as w}from"./DialogTriggerView-BuVkX4hm.js";import{a as A}from"./Option-C00maLqp.js";import{T as d}from"./Text-CEKkIKYs.js";import{$ as N}from"./useLocalizedStringFormatter-BSu4az1l.js";import{$ as F}from"./useFilter-BaJRM8fO.js";import{b as I}from"./useFocusRing-Xasmxdld.js";import{i as D}from"./OverlayArrow-GmN5SuYH.js";import{s as M}from"./Dialog-BrwhBbGd.js";const R={"de-DE":{"autocomplete.empty":"Keine passenden EintrÃ¤ge"},"en-US":{"autocomplete.empty":"No matching entries"}},S="flow--autocomplete--popover",T="flow--autocomplete--empty",a={popover:S,empty:T},W=O("Autocomplete",b=>{const{children:x,...h}=b,{contains:y}=F({sensitivity:"base"}),l=N(R),m=u.useRef(null),s=u.useRef(null),e=w("Popover",{reuseControllerFromContext:!1}),p=e.useIsOpen(),g=I({onBlurWithin:e.close}),f={onKeyDown:t=>{t.key==="Enter"&&p&&t.preventDefault()},ref:s},v=()=>n.jsx(d,{className:a.empty,children:l.format("autocomplete.empty")}),$={ContextMenu:{placement:"bottom start",controller:e,isNonModal:!0,renderEmptyState:()=>n.jsx(d,{className:a.empty,children:l.format("autocomplete.empty")}),onAction:t=>{var c;const o=s.current;if(o){const r=(c=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(o),"value"))==null?void 0:c.set;r==null||r.call(o,String(t));const i=new Event("change",{bubbles:!0});o.dispatchEvent(i)}},triggerRef:s},SearchField:f,TextField:f,Option:{tunnelId:"options"},Popover:{className:a.popover}},j=t=>{t?p||e.open():e.close()},E=t=>{var c;const o=s.current;if(o){const r=(c=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:c.set;r==null||r.call(o,String(t));const i=new Event("change",{bubbles:!0});o.dispatchEvent(i)}e.close()};return n.jsx(C,{props:$,mergeInParentContext:!0,dependencies:[p,e],children:n.jsx("div",{...g.focusWithinProps,ref:m,children:n.jsx(D,{getContainer:()=>m.current,children:n.jsxs(M,{onInputChange:j,filter:y,disableAutoFocusFirst:!0,...h,children:[x,n.jsx(A,{onAction:E,triggerRef:s,controller:e,renderEmptyState:v,isNonModal:!0,placement:"bottom start",children:n.jsx(P,{id:"options"})})]})})})})});W.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Autocomplete"};export{W as A};
