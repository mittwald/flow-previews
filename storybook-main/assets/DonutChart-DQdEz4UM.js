import{j as o}from"./iframe-Dpfie29P.js";import{c as x}from"./clsx-B-dksMZM.js";import{g as v,i as D}from"./ProgressBar-DBQgu7rG.js";import{g as w}from"./getCategoricalColorByIndex-BIvTpnTO.js";import{W as N}from"./Text-BxUYsUAw.js";import{a as k,L as T}from"./Legend-1oMFLGax.js";const q="flow--donut-chart",V="flow--donut-chart--border",_="flow--donut-chart--background",P="flow--donut-chart--value",W="flow--donut-chart--info",I="flow--donut-chart--fill",L="flow--donut-chart--success",z="flow--donut-chart--danger",O="flow--donut-chart--warning",F="flow--donut-chart--donut-chart-container",S="flow--donut-chart--bottom",B="flow--donut-chart--top",R="flow--donut-chart--right",A="flow--donut-chart--legend",E="flow--donut-chart--left",l={donutChart:q,border:V,background:_,value:P,"size-l":"flow--donut-chart--size-l",info:W,fill:I,success:L,danger:z,warning:O,donutChartContainer:F,bottom:S,top:B,right:R,legend:A,left:E},b=u=>{const{value:r=0,formatOptions:c,children:s}=u,a=v(c);if(s)return o.jsx("span",{className:l.value,children:s});const e=c?a.format(r):`${r} %`;return o.jsx("span",{className:l.value,children:o.jsx("b",{children:e})})};b.__docgenInfo={description:"",methods:[],displayName:"DonutChartValue",props:{value:{required:!1,tsType:{name:"number"},description:""}},composes:["Pick"]};const y=u=>{const{center:r,value:c=0,radius:s,segments:a,maxValue:e}=u,n=2*s*Math.PI,t=100/e*c;if(!a)return o.jsx("circle",{className:l.fill,cx:r,cy:r,r:s,strokeDasharray:`${n} ${n}`,strokeDashoffset:n-t/100*n,transform:`rotate(-90 ${r} ${r})`});let i=0;return a.map((d,m)=>{const h=100/e*d.value,f=i;return i=i+360/100*h,o.jsx("circle",{cx:r,cy:r,r:s,strokeDasharray:`${n} ${n}`,strokeDashoffset:n-h/100*n,stroke:`var(--color--categorical--${d.color??w(m)})`,transform:`rotate(${-90+f} ${r} ${r})`},m)})};y.__docgenInfo={description:"",methods:[],displayName:"DonutChartFill",props:{center:{required:!0,tsType:{name:"number"},description:""},value:{required:!1,tsType:{name:"number"},description:""},radius:{required:!0,tsType:{name:"number"},description:""},maxValue:{required:!0,tsType:{name:"number"},description:""}},composes:["Pick"]};const C=u=>{const{value:r=0,segments:c,size:s,maxValue:a}=u,e=.5,n=s==="m"?8:12,t=n*4,i=t-n/2;return o.jsx(o.Fragment,{children:o.jsxs("svg",{width:t*4,height:t*4,viewBox:`0 0 ${t*2} ${t*2}`,fill:"none",strokeWidth:n,children:[o.jsx("circle",{className:l.background,cx:t,cy:t,r:i,strokeWidth:n}),o.jsx("circle",{className:l.border,cx:t,cy:t,r:t-e/2,strokeWidth:e}),o.jsx("circle",{className:l.border,cx:t,cy:t,r:t-n+e/2,strokeWidth:e}),o.jsx(y,{radius:i,center:t,value:r,segments:c,maxValue:a??100})]})})};C.__docgenInfo={description:"",methods:[],displayName:"Donut",props:{value:{required:!1,tsType:{name:"number"},description:""}},composes:["Pick"]};const $=u=>{const{segments:r,showLegend:c,formatOptions:s}=u,a=v(s);return!r||!c?null:o.jsx(k,{className:l.legend,children:r.map((e,n)=>{const t=s?a.format(e.value):`${e.value} %`;return o.jsx(T,{color:e.color??w(n),children:`${e.title} (${e.valueText??t})`},e.title)})})};$.__docgenInfo={description:"",methods:[],displayName:"DonutChartLegend"};const M=u=>{const{size:r="m",status:c="info",className:s,value:a,segments:e,maxValue:n,formatOptions:t,showLegend:i=!0,legendPosition:d="right",children:m,...h}=u,f=x(l.donutChart,r==="l"&&l["size-l"],l[c],s),p=e?e.map(g=>g.value).reduce((g,j)=>g+j,0):void 0;return o.jsx(N,{if:i&&e,children:o.jsxs("div",{className:x(l.donutChartContainer,l[d]),children:[o.jsxs(D,{className:f,value:p??a,...h,children:[o.jsx(C,{value:p??a,segments:e,size:r,maxValue:n}),o.jsx(b,{value:p??a,formatOptions:t,children:m})]}),i&&e&&o.jsx($,{showLegend:i,segments:e,formatOptions:t})]})})};M.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"DonutChart",props:{size:{required:!1,tsType:{name:"union",raw:'"m" | "l"',elements:[{name:"literal",value:'"m"'},{name:"literal",value:'"l"'}]},description:'The size variant of the donut chart. @default "m"'},segments:{required:!1,tsType:{name:"Array",elements:[{name:"DonutChartSegment"}],raw:"DonutChartSegment[]"},description:"Divides the fill of the donut chart into segments"},showLegend:{required:!1,tsType:{name:"boolean"},description:`Whether the legend component is shown when segments are used. @default:
true`},legendPosition:{required:!1,tsType:{name:"union",raw:'"top" | "left" | "bottom" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"left"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"right"'}]},description:'The position of the legend. @default "right"'}},composes:["Omit","PropsWithStatus","PropsWithChildren"]};export{M as D};
