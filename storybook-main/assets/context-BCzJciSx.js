import{m as o,b as s,o as i}from"./flowComponent-BCoZzahf.js";import{u as a,a as r}from"./useStatic-wckFiMZJ.js";import{r as n}from"./iframe-Ci26vI3B.js";class t{isOpen=!1;onOpenHandlers=new Set;onCloseHandlers=new Set;constructor(e){o(this,{isOpen:i,open:s.bound,close:s.bound,toggle:s.bound,setOpen:s.bound}),this.isOpen=e?.isDefaultOpen??!1,e?.onOpen&&this.onOpenHandlers.add(e.onOpen),e?.onClose&&this.onCloseHandlers.add(e.onClose)}static useNew(e){return a(()=>new t(e))}addOnOpen(e){return this.onOpenHandlers.add(e),()=>{this.onOpenHandlers.delete(e)}}addOnClose(e){return this.onCloseHandlers.add(e),()=>{this.onCloseHandlers.delete(e)}}executeOnClose(){this.onCloseHandlers.forEach(e=>e())}executeOnOpen(){this.onOpenHandlers.forEach(e=>e())}open(){this.isOpen||(this.isOpen=!0,this.executeOnOpen())}close(){this.isOpen&&(this.isOpen=!1,this.executeOnClose())}toggle(){this.isOpen=!this.isOpen,this.isOpen?this.executeOnOpen():this.executeOnClose()}setOpen(e){this.isOpen=e,e?this.executeOnOpen():this.executeOnClose()}useIsOpen(){return r(()=>this.isOpen)}}const O=n.createContext({}),d=()=>n.useContext(O);export{t as O,O as o,d as u};
