import{r as m,R as b}from"./index-uCp2LrAq.js";import{c as W}from"./clsx-B-dksMZM.js";import"./IconApp-DPhDlLqA.js";import{y as H,z as T,A as G}from"./IconWarning-jMggdpOG.js";import{f as j,C as z}from"./flowComponent-vzWTOrGV.js";import{a as A}from"./RSPContexts-CJnKmcd7.js";import{a as B,c as p,d as J,b as E,f as K,g as L,h as Q}from"./utils-DZgOXw50.js";import{a as I,c as U,b as X,g as Y,h as Z,i as ee,e as O,f as ae}from"./Form-DZXnnIG4.js";import{a as ie}from"./Label-BQk6lJ-q.js";import{a as de}from"./Text-D6Zjnbf0.js";import{b as R}from"./index-CFQDndEx.js";import{$ as q}from"./filterDOMProps-CeZl_uWj.js";import{$ as le}from"./useControlledState-B8AA3oOY.js";import{$ as te,b as ne,c as re}from"./useFocusable-DIAzcF9v.js";import{$ as se,a as k}from"./useToggleState-iFxDBwox.js";import{$ as oe}from"./VisuallyHidden-xpUhodH8.js";function S(e,a,l){let s=I({...e,value:a.isSelected}),{isInvalid:o,validationErrors:t,validationDetails:d}=s.displayValidation,{labelProps:n,inputProps:f,isSelected:i,isPressed:r,isDisabled:c,isReadOnly:v}=se({...e,isInvalid:o},a,l);U(e,s,l);let{isIndeterminate:$,isRequired:u,validationBehavior:h="aria"}=e;return m.useEffect(()=>{l.current&&(l.current.indeterminate=!!$)}),{labelProps:n,inputProps:{...f,checked:i,"aria-required":u&&h==="aria"||void 0,required:u&&h==="native"},isSelected:i,isPressed:r,isDisabled:c,isReadOnly:v,isInvalid:o,validationErrors:t,validationDetails:d}}const M=new WeakMap;function ce(e,a){let{isDisabled:l,name:s,validationBehavior:o="aria"}=e,{isInvalid:t,validationErrors:d,validationDetails:n}=a.displayValidation,{labelProps:f,fieldProps:i,descriptionProps:r,errorMessageProps:c}=X({...e,labelElementType:"span",isInvalid:t,errorMessage:e.errorMessage||d});M.set(a,{name:s,descriptionId:r.id,errorMessageId:c.id,validationBehavior:o});let v=q(e,{labelable:!0}),{focusWithinProps:$}=te({onBlurWithin:e.onBlur,onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange});return{groupProps:R(v,{role:"group","aria-disabled":l||void 0,...i,...$}),labelProps:f,descriptionProps:r,errorMessageProps:c,isInvalid:t,validationErrors:d,validationDetails:n}}function fe(e,a,l){const s=k({isReadOnly:e.isReadOnly||a.isReadOnly,isSelected:a.isSelected(e.value),onChange(x){x?a.addValue(e.value):a.removeValue(e.value),e.onChange&&e.onChange(x)}});let{name:o,descriptionId:t,errorMessageId:d,validationBehavior:n}=M.get(a);var f;n=(f=e.validationBehavior)!==null&&f!==void 0?f:n;let{realtimeValidation:i}=I({...e,value:s.isSelected,name:void 0,validationBehavior:"aria"}),r=m.useRef(Y),c=()=>{a.setInvalid(e.value,i.isInvalid?i:r.current)};m.useEffect(c);let v=a.realtimeValidation.isInvalid?a.realtimeValidation:i,$=n==="native"?a.displayValidation:v;var u;let h=S({...e,isReadOnly:e.isReadOnly||a.isReadOnly,isDisabled:e.isDisabled||a.isDisabled,name:e.name||o,isRequired:(u=e.isRequired)!==null&&u!==void 0?u:a.isRequired,validationBehavior:n,[Z]:{realtimeValidation:v,displayValidation:$,resetValidation:a.resetValidation,commitValidation:a.commitValidation,updateValidation(x){r.current=x,c()}}},s,l);return{...h,inputProps:{...h.inputProps,"aria-describedby":[e["aria-describedby"],a.isInvalid?d:null,t].filter(Boolean).join(" ")||void 0}}}function ue(e={}){let[a,l]=le(e.value,e.defaultValue||[],e.onChange),s=!!e.isRequired&&a.length===0,o=m.useRef(new Map),t=I({...e,value:a}),d=t.displayValidation.isInvalid;var n;return{...t,value:a,setValue(i){e.isReadOnly||e.isDisabled||l(i)},isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isSelected(i){return a.includes(i)},addValue(i){e.isReadOnly||e.isDisabled||a.includes(i)||l(a.concat(i))},removeValue(i){e.isReadOnly||e.isDisabled||a.includes(i)&&l(a.filter(r=>r!==i))},toggleValue(i){e.isReadOnly||e.isDisabled||(a.includes(i)?l(a.filter(r=>r!==i)):l(a.concat(i)))},setInvalid(i,r){let c=new Map(o.current);r.isInvalid?c.set(i,r):c.delete(i),o.current=c,t.updateValidation(ee(...c.values()))},validationState:(n=e.validationState)!==null&&n!==void 0?n:d?"invalid":null,isInvalid:d,isRequired:s}}const be=m.createContext(null),_=m.createContext(null);function ve(e,a){[e,a]=B(e,a,be);let{validationBehavior:l}=p(O)||{};var s,o;let t=(o=(s=e.validationBehavior)!==null&&s!==void 0?s:l)!==null&&o!==void 0?o:"native",d=ue({...e,validationBehavior:t}),[n,f]=J(),{groupProps:i,labelProps:r,descriptionProps:c,errorMessageProps:v,...$}=ce({...e,label:f,validationBehavior:t},d),u=E({...e,values:{isDisabled:d.isDisabled,isReadOnly:d.isReadOnly,isRequired:e.isRequired||!1,isInvalid:d.isInvalid,state:d},defaultClassName:"react-aria-CheckboxGroup"});return b.createElement("div",{...i,...u,ref:a,slot:e.slot||void 0,"data-readonly":d.isReadOnly||void 0,"data-required":e.isRequired||void 0,"data-invalid":d.isInvalid||void 0,"data-disabled":e.isDisabled||void 0},b.createElement(K,{values:[[_,d],[ie,{...r,ref:n,elementType:"span"}],[de,{slots:{description:c,errorMessage:v}}],[ae,$]]},u.children))}function $e(e,a){let{inputRef:l=null,...s}=e;[e,a]=B(s,a,A);let{validationBehavior:o}=p(O)||{};var t,d;let n=(d=(t=e.validationBehavior)!==null&&t!==void 0?t:o)!==null&&d!==void 0?d:"native",f=m.useContext(_),i=L(Q(l,e.inputRef!==void 0?e.inputRef:null)),{labelProps:r,inputProps:c,isSelected:v,isDisabled:$,isReadOnly:u,isPressed:h,isInvalid:x}=f?fe({...e,value:e.value,children:typeof e.children=="function"?!0:e.children},f,i):S({...e,children:typeof e.children=="function"?!0:e.children,validationBehavior:n},k(e),i),{isFocused:y,isFocusVisible:V,focusProps:F}=ne(),N=$||u,{hoverProps:w,isHovered:g}=re({...e,isDisabled:N}),D=E({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:v,isIndeterminate:e.isIndeterminate||!1,isPressed:h,isHovered:g,isFocused:y,isFocusVisible:V,isDisabled:$,isReadOnly:u,isInvalid:x,isRequired:e.isRequired||!1}}),C=q(e);return delete C.id,b.createElement("label",{...R(C,r,w,D),ref:a,slot:e.slot||void 0,"data-selected":v||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":h||void 0,"data-hovered":g||void 0,"data-focused":y||void 0,"data-focus-visible":V||void 0,"data-disabled":$||void 0,"data-readonly":u||void 0,"data-invalid":x||void 0,"data-required":e.isRequired||void 0},b.createElement(oe,{elementType:"span"},b.createElement("input",{...R(c,F),ref:i})),D.children)}const me=m.forwardRef($e),Fe=m.forwardRef(ve),he="flow--checkbox",xe="flow--checkbox--icon",P={checkbox:he,icon:xe},Pe=j("Checkbox",e=>{const{children:a,className:l,refProp:s,...o}=e,t=W(P.checkbox,l);return b.createElement(z,null,b.createElement(me,{...o,className:t,ref:s},({isSelected:d,isIndeterminate:n})=>b.createElement(b.Fragment,null,d?b.createElement(H,{className:P.icon}):n?b.createElement(T,{className:P.icon}):b.createElement(G,{className:P.icon}),a)))});Pe.__docgenInfo={description:"",methods:[],displayName:"Checkbox"};export{Fe as $,Pe as C};
