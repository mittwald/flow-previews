import{r as f,R as N,j as k}from"./iframe-DoVgBQr5.js";import{f as ye,P as le,R as we}from"./flowComponent-KNPphWYF.js";import{c as De}from"./clsx-B-dksMZM.js";import{B as ie}from"./Button-2cUDiMZd.js";import{p as Ve,d as Me}from"./IconWarning-BITNguYJ.js";import{$ as _,f as fe,a as W,d as be,c as ke,b as oe}from"./utils-BUNxWnYj.js";import{u as Re}from"./useMakeFocusable-4hJKvVl2.js";import{u as Ke}from"./useFieldComponent-Dl5zd8_u.js";import{$ as Se}from"./useLocalizedStringFormatter-C282_ari.js";import{$ as me}from"./Label-8ulleTCg.js";import{d as se,$ as A}from"./index-jEdNOdxF.js";import{$ as pe}from"./filterDOMProps-i7L6S0l1.js";import{b as q,$ as ee,c as Fe}from"./ProgressBar-i7FI2__w.js";import{$ as Ee}from"./useControlledState-JsyFwj7N.js";import{b as te,$ as he,a as Ie}from"./useFocusRing-C7RfsB5U.js";import{E as Ce,n as Le}from"./useFocus-DgyX4ANK.js";import{g as je,h as Ne}from"./usePress-CMEqlp6n.js";import{a as ge}from"./useLabel-Dokwxw5N.js";import{$ as $e}from"./context-DKZO50eL.js";import{$ as Ae}from"./useFormReset-DOuAY3sG.js";import{a as He,$ as Ue}from"./useFocusable-CYiqpOWe.js";import{$ as Be}from"./VisuallyHidden-BzJhkBGh.js";function ve(n){let{onMoveStart:e,onMove:t,onMoveEnd:s}=n,c=f.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:i,removeGlobalListener:$}=te(),b=se((o,g,m,a)=>{m===0&&a===0||(c.current.didMove||(c.current.didMove=!0,e?.({type:"movestart",pointerType:g,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})),t?.({type:"move",pointerType:g,deltaX:m,deltaY:a,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))}),p=se((o,g)=>{je(),c.current.didMove&&s?.({type:"moveend",pointerType:g,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})});return{moveProps:f.useMemo(()=>{let o={},g=()=>{Ne(),c.current.didMove=!1};{let a=u=>{if(u.pointerId===c.current.id){var h,l;let K=u.pointerType||"mouse";var v,T;b(u,K,u.pageX-((v=(h=c.current.lastPosition)===null||h===void 0?void 0:h.pageX)!==null&&v!==void 0?v:0),u.pageY-((T=(l=c.current.lastPosition)===null||l===void 0?void 0:l.pageY)!==null&&T!==void 0?T:0)),c.current.lastPosition={pageX:u.pageX,pageY:u.pageY}}},y=u=>{if(u.pointerId===c.current.id){let h=u.pointerType||"mouse";p(u,h),c.current.id=null,$(window,"pointermove",a,!1),$(window,"pointerup",y,!1),$(window,"pointercancel",y,!1)}};o.onPointerDown=u=>{u.button===0&&c.current.id==null&&(g(),u.stopPropagation(),u.preventDefault(),c.current.lastPosition={pageX:u.pageX,pageY:u.pageY},c.current.id=u.pointerId,i(window,"pointermove",a,!1),i(window,"pointerup",y,!1),i(window,"pointercancel",y,!1))}}let m=(a,y,u)=>{g(),b(a,"keyboard",y,u),p(a,"keyboard")};return o.onKeyDown=a=>{switch(a.key){case"Left":case"ArrowLeft":a.preventDefault(),a.stopPropagation(),m(a,-1,0);break;case"Right":case"ArrowRight":a.preventDefault(),a.stopPropagation(),m(a,1,0);break;case"Up":case"ArrowUp":a.preventDefault(),a.stopPropagation(),m(a,0,-1);break;case"Down":case"ArrowDown":a.preventDefault(),a.stopPropagation(),m(a,0,1);break}},o},[c,i,$,b,p])}}const ze=0,Ge=100,Xe=1;function Oe(n){const{isDisabled:e=!1,minValue:t=ze,maxValue:s=Ge,numberFormatter:c,step:i=Xe,orientation:$="horizontal"}=n;let b=f.useMemo(()=>{let r=(s-t)/10;return r=q(r,0,r+i,i),Math.max(r,i)},[i,s,t]),p=f.useCallback(r=>r?.map((P,V)=>{let z=V===0?t:r[V-1],G=V===r.length-1?s:r[V+1];return q(P,z,G,i)}),[t,s,i]),D=f.useMemo(()=>p(de(n.value)),[n.value,p]),o=f.useMemo(()=>{var r;return p((r=de(n.defaultValue))!==null&&r!==void 0?r:[t])},[n.defaultValue,t,p]),g=ce(n.value,n.defaultValue,n.onChange),m=ce(n.value,n.defaultValue,n.onChangeEnd);const[a,y]=Ee(D,o,g);let[u]=f.useState(a);const[h,l]=f.useState(new Array(a.length).fill(!1)),v=f.useRef(new Array(a.length).fill(!0)),[T,K]=f.useState(void 0),w=f.useRef(a),x=f.useRef(h);let C=r=>{w.current=r,y(r)},L=r=>{x.current=r,l(r)};function B(r){return(r-t)/(s-t)}function X(r){return r===0?t:a[r-1]}function O(r){return r===a.length-1?s:a[r+1]}function H(r){return v.current[r]}function j(r,P){v.current[r]=P}function M(r,P){if(e||!H(r))return;const V=X(r),z=O(r);P=q(P,V,z,i);let G=ue(w.current,r,P);C(G)}function R(r,P){if(e||!H(r))return;P&&(w.current=a);const V=x.current[r];x.current=ue(x.current,r,P),L(x.current),m&&V&&!x.current.some(Boolean)&&m(w.current)}function S(r){return c.format(r)}function d(r,P){M(r,E(P))}function F(r){return Math.round((r-t)/i)*i+t}function E(r){const P=r*(s-t)+t;return ee(F(P),t,s)}function U(r,P=1){let V=Math.max(P,i);M(r,q(a[r]+V,t,s,i))}function Y(r,P=1){let V=Math.max(P,i);M(r,q(a[r]-V,t,s,i))}return{values:a,defaultValues:n.defaultValue!==void 0?o:u,getThumbValue:r=>a[r],setThumbValue:M,setThumbPercent:d,isThumbDragging:r=>h[r],setThumbDragging:R,focusedThumb:T,setFocusedThumb:K,getThumbPercent:r=>B(a[r]),getValuePercent:B,getThumbValueLabel:r=>S(a[r]),getFormattedValue:S,getThumbMinValue:X,getThumbMaxValue:O,getPercentValue:E,isThumbEditable:H,setThumbEditable:j,incrementThumb:U,decrementThumb:Y,step:i,pageSize:b,orientation:$,isDisabled:e}}function ue(n,e,t){return n[e]===t?n:[...n.slice(0,e),t,...n.slice(e+1)]}function de(n){if(n!=null)return Array.isArray(n)?n:[n]}function ce(n,e,t){return s=>{t?.(typeof n=="number"||typeof e=="number"?s[0]:s)}}const re=new WeakMap;function Z(n,e){let t=re.get(n);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Ye(n,e,t){let{labelProps:s,fieldProps:c}=ge(n),i=n.orientation==="vertical";var $;re.set(e,{id:($=s.id)!==null&&$!==void 0?$:c.id,"aria-describedby":n["aria-describedby"],"aria-details":n["aria-details"]});let{direction:b}=$e(),{addGlobalListener:p,removeGlobalListener:D}=te();const o=f.useRef(null),g=b==="rtl",m=f.useRef(null),{moveProps:a}=ve({onMoveStart(){m.current=null},onMove({deltaX:l,deltaY:v}){if(!t.current)return;let{height:T,width:K}=t.current.getBoundingClientRect(),w=i?T:K;m.current==null&&o.current!=null&&(m.current=e.getThumbPercent(o.current)*w);let x=i?v:l;if((i||g)&&(x=-x),m.current+=x,o.current!=null&&t.current){const C=ee(m.current/w,0,1);e.setThumbPercent(o.current,C)}},onMoveEnd(){o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null)}});let y=f.useRef(void 0),u=(l,v,T,K)=>{if(t.current&&!n.isDisabled&&e.values.every((w,x)=>!e.isThumbDragging(x))){let{height:w,width:x,top:C,left:L}=t.current.getBoundingClientRect(),B=i?w:x,j=((i?K:T)-(i?C:L))/B;(b==="rtl"||i)&&(j=1-j);let M=e.getPercentValue(j),R,S=e.values.findIndex(d=>M-d<0);if(S===0)R=S;else if(S===-1)R=e.values.length-1;else{let d=e.values[S-1],F=e.values[S];Math.abs(d-M)<Math.abs(F-M)?R=S-1:R=S}R>=0&&e.isThumbEditable(R)?(l.preventDefault(),o.current=R,e.setFocusedThumb(R),y.current=v,e.setThumbDragging(o.current,!0),e.setThumbValue(R,M),p(window,"mouseup",h,!1),p(window,"touchend",h,!1),p(window,"pointerup",h,!1)):o.current=null}},h=l=>{var v,T;((T=l.pointerId)!==null&&T!==void 0?T:(v=l.changedTouches)===null||v===void 0?void 0:v[0].identifier)===y.current&&(o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null),D(window,"mouseup",h,!1),D(window,"touchend",h,!1),D(window,"pointerup",h,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var l;(l=document.getElementById(Z(e,0)))===null||l===void 0||l.focus(),Ce("keyboard")}),{labelProps:s,groupProps:{role:"group",...c},trackProps:A({onMouseDown(l){l.button!==0||l.altKey||l.ctrlKey||l.metaKey||u(l,void 0,l.clientX,l.clientY)},onPointerDown(l){l.pointerType==="mouse"&&(l.button!==0||l.altKey||l.ctrlKey||l.metaKey)||u(l,l.pointerId,l.clientX,l.clientY)},onTouchStart(l){u(l,l.changedTouches[0].identifier,l.changedTouches[0].clientX,l.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},a),outputProps:{htmlFor:e.values.map((l,v)=>Z(e,v)).join(" "),"aria-live":"off"}}}function qe(n,e){let{index:t=0,isRequired:s,validationState:c,isInvalid:i,trackRef:$,inputRef:b,orientation:p=e.orientation,name:D,form:o}=n,g=n.isDisabled||e.isDisabled,m=p==="vertical",{direction:a}=$e(),{addGlobalListener:y,removeGlobalListener:u}=te(),h=re.get(e);var l;const{labelProps:v,fieldProps:T}=ge({...n,id:Z(e,t),"aria-labelledby":`${h.id} ${(l=n["aria-labelledby"])!==null&&l!==void 0?l:""}`.trim()}),K=e.values[t],w=f.useCallback(()=>{b.current&&Le(b.current)},[b]),x=e.focusedThumb===t;f.useEffect(()=>{x&&w()},[x,w]);let C=a==="rtl",L=f.useRef(null),{keyboardProps:B}=He({onKeyDown(d){let{getThumbMaxValue:F,getThumbMinValue:E,decrementThumb:U,incrementThumb:Y,setThumbValue:r,setThumbDragging:P,pageSize:V}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(d.key)){d.continuePropagation();return}switch(d.preventDefault(),P(t,!0),d.key){case"PageUp":Y(t,V);break;case"PageDown":U(t,V);break;case"Home":r(t,E(t));break;case"End":r(t,F(t));break}P(t,!1)}}),{moveProps:X}=ve({onMoveStart(){L.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:d,deltaY:F,pointerType:E,shiftKey:U}){const{getThumbPercent:Y,setThumbPercent:r,decrementThumb:P,incrementThumb:V,step:z,pageSize:G}=e;if(!$.current)return;let{width:Te,height:xe}=$.current.getBoundingClientRect(),ae=m?xe:Te;if(L.current==null&&(L.current=Y(t)*ae),E==="keyboard")d>0&&C||d<0&&!C||F>0?P(t,U?G:z):V(t,U?G:z);else{let Q=m?F:d;(m||C)&&(Q=-Q),L.current+=Q,r(t,ee(L.current/ae,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!g);const{focusableProps:O}=Ue(A(n,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),b);let H=f.useRef(void 0),j=d=>{w(),H.current=d,e.setThumbDragging(t,!0),y(window,"mouseup",M,!1),y(window,"touchend",M,!1),y(window,"pointerup",M,!1)},M=d=>{var F,E;((E=d.pointerId)!==null&&E!==void 0?E:(F=d.changedTouches)===null||F===void 0?void 0:F[0].identifier)===H.current&&(w(),e.setThumbDragging(t,!1),u(window,"mouseup",M,!1),u(window,"touchend",M,!1),u(window,"pointerup",M,!1))},R=e.getThumbPercent(t);(m||a==="rtl")&&(R=1-R);let S=g?{}:A(B,X,{onMouseDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||j()},onPointerDown:d=>{d.button!==0||d.altKey||d.ctrlKey||d.metaKey||j(d.pointerId)},onTouchStart:d=>{j(d.changedTouches[0].identifier)}});return Ae(b,e.defaultValues[t],d=>{e.setThumbValue(t,d)}),{inputProps:A(O,T,{type:"range",tabIndex:g?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:K,name:D,form:o,disabled:g,"aria-orientation":p,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":s||void 0,"aria-invalid":i||c==="invalid"||void 0,"aria-errormessage":n["aria-errormessage"],"aria-describedby":[h["aria-describedby"],n["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[h["aria-details"],n["aria-details"]].filter(Boolean).join(" "),onChange:d=>{e.setThumbValue(t,parseFloat(d.target.value))}}),thumbProps:{...S,style:{position:"absolute",[m?"top":"left"]:`${R*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:v,isDragging:e.isThumbDragging(t),isDisabled:g,isFocused:x}}const We=f.createContext(null),J=f.createContext(null),ne=f.createContext(null),Pe=f.createContext(null),Je=f.forwardRef(function(e,t){[e,t]=_(e,t,We);let s=f.useRef(null),c=Fe(e.formatOptions),i=Oe({...e,numberFormatter:c}),[$,b]=fe(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:p,trackProps:D,labelProps:o,outputProps:g}=Ye({...e,label:b},i,s),m=W({...e,values:{orientation:i.orientation,isDisabled:i.isDisabled,state:i},defaultClassName:"react-aria-Slider"}),a=pe(e,{global:!0});return delete a.id,N.createElement(be,{values:[[J,i],[ne,{...D,ref:s}],[Pe,g],[me,{...o,ref:$}]]},N.createElement("div",{...A(a,m,p),ref:t,slot:e.slot||void 0,"data-orientation":i.orientation,"data-disabled":i.isDisabled||void 0}))}),Qe=f.forwardRef(function(e,t){[e,t]=_(e,t,Pe);let{children:s,style:c,className:i,...$}=e,b=f.useContext(J),p=W({className:i,style:c,children:s,defaultChildren:b.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:b.orientation,isDisabled:b.isDisabled,state:b}});return N.createElement("output",{...$,...p,ref:t,"data-orientation":b.orientation||void 0,"data-disabled":b.isDisabled||void 0})}),Ze=f.forwardRef(function(e,t){[e,t]=_(e,t,ne);let s=f.useContext(J),{onHoverStart:c,onHoverEnd:i,onHoverChange:$,...b}=e,{hoverProps:p,isHovered:D}=he({onHoverStart:c,onHoverEnd:i,onHoverChange:$}),o=W({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:s.orientation,isDisabled:s.isDisabled,isHovered:D,state:s}});return N.createElement("div",{...A(b,p),...o,ref:t,"data-hovered":D||void 0,"data-orientation":s.orientation||void 0,"data-disabled":s.isDisabled||void 0})}),_e=f.forwardRef(function(e,t){let{inputRef:s=null}=e,c=f.useContext(J),{ref:i}=ke(ne),{index:$=0}=e,b=f.useRef(null),p=s||b,[D,o]=fe(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:g,inputProps:m,labelProps:a,isDragging:y,isFocused:u,isDisabled:h}=qe({...e,index:$,trackRef:i,inputRef:p,label:o},c),{focusProps:l,isFocusVisible:v}=Ie(),{hoverProps:T,isHovered:K}=he(e),w=W({...e,defaultClassName:"react-aria-SliderThumb",values:{state:c,isHovered:K,isDragging:y,isFocused:u,isFocusVisible:v,isDisabled:h}}),x=pe(e,{global:!0});return delete x.id,N.createElement("div",{...A(x,g,T),...w,ref:t,style:{...g.style,...w.style},"data-hovered":K||void 0,"data-dragging":y||void 0,"data-focused":u||void 0,"data-focus-visible":v||void 0,"data-disabled":h||void 0},N.createElement(Be,null,N.createElement("input",{ref:p,...A(m,l)})),N.createElement(be,{values:[[me,{...a,ref:D}]]},w.children))}),et="flow--slider",tt="flow--slider--text",rt="flow--slider--value",nt="flow--slider--track",at="flow--slider--fill",lt="flow--slider--initial-marker",it="flow--slider--handle",ot="flow--slider--increment",st="flow--slider--decrement",ut="flow--slider--disabled",I={slider:et,text:tt,value:rt,track:nt,fill:at,initialMarker:lt,handle:it,increment:ot,decrement:st,disabled:ut},dt={"de-DE":{"slider.decrement":"Wert verkleinern","slider.increment":"Wert erhöhen"},"en-US":{"slider.decrement":"Decrement value","slider.increment":"Increment value"}},ct=ye("Slider",n=>{const{className:e,children:t,name:s,isDisabled:c,defaultValue:i,showInitialMarker:$,isReadOnly:b,ref:p,inputRef:D,...o}=n,g=De(I.slider,c&&I.disabled,e),{FieldErrorView:m,fieldPropsContext:a,fieldProps:y}=Ke(n),u=Se(dt),h=oe(p),l=oe(D);Re(h,()=>{l.current?.focus()});const v={...a,Label:{unstyled:!0,tunnelId:"label",...a.Label}};return k.jsx("div",{...y,children:k.jsx(Je,{...o,ref:h,className:g,isDisabled:c,defaultValue:i,children:k.jsxs(le,{props:v,children:[k.jsxs("div",{className:I.text,children:[k.jsx(Qe,{className:I.value}),k.jsx(we,{id:"label"})]}),k.jsx(Ze,{className:I.track,children:({state:T})=>k.jsxs(le,{props:{Button:{isPending:!1,isFailed:!1,isSucceeded:!1,isReadOnly:b,excludeFromTabOrder:!0,isDisabled:c,variant:"plain",color:"secondary"}},children:[k.jsx(ie,{onPress:()=>T.decrementThumb(0),"aria-label":u.format("slider.decrement"),className:I.decrement,children:k.jsx(Ve,{})}),k.jsx(ie,{onPress:()=>T.incrementThumb(0),"aria-label":u.format("slider.increment"),className:I.increment,children:k.jsx(Me,{})}),k.jsx("div",{className:I.fill,style:{width:T.getThumbPercent(0)*100+"%"}}),$&&i&&typeof i=="number"&&k.jsx("div",{className:I.initialMarker,style:{left:`calc(${T.getValuePercent(i)*100}% - 2px)`}}),k.jsx(_e,{inputRef:l,name:s,className:I.handle,isDisabled:b})]})}),t,k.jsx(m,{})]})})})});ct.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"Slider"};export{ct as S};
