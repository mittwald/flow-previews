import{b as B,r as ue}from"./mergeRefs-Cx0s-cU7.js";import{r as C,R as le,j as q}from"./iframe-CqlVwSqw.js";import{k as pe}from"./useFocus-qWrFSXYF.js";import{$ as J}from"./ProgressBar-B0gZeOOM.js";import{$ as me}from"./context-QfY8Pr6d.js";import{$ as ve}from"./useControlledState-DZt2Tj7Y.js";import{$ as ge,a as $e}from"./utils-B7PoWZoE.js";import{$ as he}from"./filterDOMProps-CghfNOdR.js";import{e as xe,p as be,v as Ce}from"./PropsContextProvider-BuREg09C.js";function we(){return typeof window.ResizeObserver<"u"}function Q(t){const{ref:e,box:o,onResize:n}=t;C.useEffect(()=>{let l=e==null?void 0:e.current;if(l)if(we()){const r=new window.ResizeObserver(s=>{s.length&&n()});return r.observe(l,{box:o}),()=>{l&&r.unobserve(l)}}else return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)}},[n,e,o])}function qe(t,e=!0){let[o,n]=C.useState(!0),l=o&&e;return B(()=>{if(l&&t.current&&"getAnimations"in t.current)for(let r of t.current.getAnimations())r instanceof CSSTransition&&r.cancel()},[t,l]),ne(t,l,C.useCallback(()=>n(!1),[])),l}function Je(t,e){let[o,n]=C.useState(e?"open":"closed");switch(o){case"open":e||n("exiting");break;case"closed":case"exiting":e&&n("open");break}let l=o==="exiting";return ne(t,l,C.useCallback(()=>{n(r=>r==="exiting"?"closed":r)},[])),l}function ne(t,e,o){B(()=>{if(e&&t.current){if(!("getAnimations"in t.current)){o();return}let n=t.current.getAnimations();if(n.length===0){o();return}let l=!1;return Promise.all(n.map(r=>r.finished)).then(()=>{l||ue.flushSync(()=>{o()})}).catch(()=>{}),()=>{l=!0}}},[t,e,o])}const M={top:"top",bottom:"top",left:"left",right:"left"},X={top:"bottom",bottom:"top",left:"right",right:"left"},Ee={top:"left",left:"top"},K={top:"height",left:"width"},re={width:"totalWidth",height:"totalHeight"},Y={};let P=typeof document<"u"?window.visualViewport:null;function W(t){let e=0,o=0,n=0,l=0,r=0,s=0,i={};var $;let d=(($=P==null?void 0:P.scale)!==null&&$!==void 0?$:1)>1;if(t.tagName==="BODY"){let f=document.documentElement;n=f.clientWidth,l=f.clientHeight;var u;e=(u=P==null?void 0:P.width)!==null&&u!==void 0?u:n;var g;o=(g=P==null?void 0:P.height)!==null&&g!==void 0?g:l,i.top=f.scrollTop||t.scrollTop,i.left=f.scrollLeft||t.scrollLeft,P&&(r=P.offsetTop,s=P.offsetLeft)}else({width:e,height:o,top:r,left:s}=j(t)),i.top=t.scrollTop,i.left=t.scrollLeft,n=e,l=o;if(pe()&&(t.tagName==="BODY"||t.tagName==="HTML")&&d){i.top=0,i.left=0;var p;r=(p=P==null?void 0:P.pageTop)!==null&&p!==void 0?p:0;var a;s=(a=P==null?void 0:P.pageLeft)!==null&&a!==void 0?a:0}return{width:e,height:o,totalWidth:n,totalHeight:l,scroll:i,top:r,left:s}}function Pe(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function V(t,e,o,n,l,r,s){var i;let $=(i=l.scroll[t])!==null&&i!==void 0?i:0,d=n[K[t]],u=n.scroll[M[t]]+r,g=d+n.scroll[M[t]]-r,p=e-$+s[t]-n[M[t]],a=e-$+o+s[t]-n[M[t]];return p<u?u-p:a>g?Math.max(g-a,u-p):0}function Le(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function D(t){if(Y[t])return Y[t];let[e,o]=t.split(" "),n=M[e]||"right",l=Ee[n];M[o]||(o="center");let r=K[n],s=K[l];return Y[t]={placement:e,crossPlacement:o,axis:n,crossAxis:l,size:r,crossSize:s},Y[t]}function U(t,e,o,n,l,r,s,i,$,d){let{placement:u,crossPlacement:g,axis:p,crossAxis:a,size:f,crossSize:h}=n,c={};var m;c[a]=(m=t[a])!==null&&m!==void 0?m:0;var v,E,T,L;g==="center"?c[a]+=(((v=t[h])!==null&&v!==void 0?v:0)-((E=o[h])!==null&&E!==void 0?E:0))/2:g!==a&&(c[a]+=((T=t[h])!==null&&T!==void 0?T:0)-((L=o[h])!==null&&L!==void 0?L:0)),c[a]+=r;const x=t[a]-o[h]+$+d,H=t[a]+t[h]-$-d;if(c[a]=J(c[a],x,H),u===p){const I=i?s[f]:e[re[f]];c[X[p]]=Math.floor(I-t[p]+l)}else c[p]=Math.floor(t[p]+t[f]+l);return c}function Re(t,e,o,n,l,r,s,i){const $=n?o.height:e[re.height];var d;let u=t.top!=null?o.top+t.top:o.top+($-((d=t.bottom)!==null&&d!==void 0?d:0)-s);var g,p,a,f,h,c;let m=i!=="top"?Math.max(0,e.height+e.top+((g=e.scroll.top)!==null&&g!==void 0?g:0)-u-(((p=l.top)!==null&&p!==void 0?p:0)+((a=l.bottom)!==null&&a!==void 0?a:0)+r)):Math.max(0,u+s-(e.top+((f=e.scroll.top)!==null&&f!==void 0?f:0))-(((h=l.top)!==null&&h!==void 0?h:0)+((c=l.bottom)!==null&&c!==void 0?c:0)+r));return Math.min(e.height-r*2,m)}function ee(t,e,o,n,l,r){let{placement:s,axis:i,size:$}=r;var d,u;if(s===i)return Math.max(0,o[i]-t[i]-((d=t.scroll[i])!==null&&d!==void 0?d:0)+e[i]-((u=n[i])!==null&&u!==void 0?u:0)-n[X[i]]-l);var g;return Math.max(0,t[$]+t[i]+t.scroll[i]-e[i]-o[i]-o[$]-((g=n[i])!==null&&g!==void 0?g:0)-n[X[i]]-l)}function Se(t,e,o,n,l,r,s,i,$,d,u,g,p,a,f,h){let c=D(t),{size:m,crossAxis:v,crossSize:E,placement:T,crossPlacement:L}=c,x=U(e,i,o,c,u,g,d,p,f,h),H=u,I=ee(i,d,e,l,r+u,c);if(s&&n[m]>I){let G=D(`${X[T]} ${L}`),fe=U(e,i,o,G,u,g,d,p,f,h);ee(i,d,e,l,r+u,G)>I&&(c=G,x=fe,H=u)}let y="bottom";c.axis==="top"?c.placement==="top"?y="top":c.placement==="bottom"&&(y="bottom"):c.crossAxis==="top"&&(c.crossPlacement==="top"?y="bottom":c.crossPlacement==="bottom"&&(y="top"));let w=V(v,x[v],o[E],i,$,r,d);x[v]+=w;let S=Re(x,i,d,p,l,r,o.height,y);a&&a<S&&(S=a),o.height=Math.min(o.height,S),x=U(e,i,o,c,H,g,d,p,f,h),w=V(v,x[v],o[E],i,$,r,d),x[v]+=w;let _={},k=e[v]+.5*e[E]-x[v]-l[M[v]];const z=f/2+h;var O,N,A,R;const F=M[v]==="left"?((O=l.left)!==null&&O!==void 0?O:0)+((N=l.right)!==null&&N!==void 0?N:0):((A=l.top)!==null&&A!==void 0?A:0)+((R=l.bottom)!==null&&R!==void 0?R:0),Z=o[E]-F-f/2-h,se=e[v]+f/2-(x[v]+l[M[v]]),ce=e[v]+e[E]-f/2-(x[v]+l[M[v]]),de=J(k,se,ce);return _[v]=J(de,z,Z),{position:x,maxHeight:S,arrowOffsetLeft:_.left,arrowOffsetTop:_.top,placement:c.placement}}function Te(t){let{placement:e,targetNode:o,overlayNode:n,scrollNode:l,padding:r,shouldFlip:s,boundaryElement:i,offset:$,crossOffset:d,maxHeight:u,arrowSize:g=0,arrowBoundaryOffset:p=0}=t,a=n instanceof HTMLElement?_e(n):document.documentElement,f=a===document.documentElement;const h=window.getComputedStyle(a).position;let c=!!h&&h!=="static",m=f?j(o):te(o,a);if(!f){let{marginTop:_,marginLeft:k}=window.getComputedStyle(o);m.top+=parseInt(_,10)||0,m.left+=parseInt(k,10)||0}let v=j(n),E=Le(n);var T,L;v.width+=((T=E.left)!==null&&T!==void 0?T:0)+((L=E.right)!==null&&L!==void 0?L:0);var x,H;v.height+=((x=E.top)!==null&&x!==void 0?x:0)+((H=E.bottom)!==null&&H!==void 0?H:0);let I=Pe(l),y=W(i),w=W(a),S=i.tagName==="BODY"?j(a):te(a,i);return a.tagName==="HTML"&&i.tagName==="BODY"&&(w.scroll.top=0,w.scroll.left=0),Se(e,m,v,I,E,r,s,y,w,S,$,d,c,u,g,p)}function j(t){let{top:e,left:o,width:n,height:l}=t.getBoundingClientRect(),{scrollTop:r,scrollLeft:s,clientTop:i,clientLeft:$}=document.documentElement;return{top:e+r-i,left:o+s-$,width:n,height:l}}function te(t,e){let o=window.getComputedStyle(t),n;if(o.position==="fixed"){let{top:l,left:r,width:s,height:i}=t.getBoundingClientRect();n={top:l,left:r,width:s,height:i}}else{n=j(t);let l=j(e),r=window.getComputedStyle(e);l.top+=(parseInt(r.borderTopWidth,10)||0)-e.scrollTop,l.left+=(parseInt(r.borderLeftWidth,10)||0)-e.scrollLeft,n.top-=l.top,n.left-=l.left}return n.top-=parseInt(o.marginTop,10)||0,n.left-=parseInt(o.marginLeft,10)||0,n}function _e(t){let e=t.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!oe(e)&&(e=document.documentElement),e==null)for(e=t.parentElement;e&&!oe(e);)e=e.parentElement;return e||document.documentElement}function oe(t){let e=window.getComputedStyle(t);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const ye=new WeakMap;function ze(t){let{triggerRef:e,isOpen:o,onClose:n}=t;C.useEffect(()=>{if(!o||n===null)return;let l=r=>{let s=r.target;if(!e.current||s instanceof Node&&!s.contains(e.current)||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement)return;let i=n||ye.get(e.current);i&&i()};return window.addEventListener("scroll",l,!0),()=>{window.removeEventListener("scroll",l,!0)}},[o,n,e])}let b=typeof document<"u"?window.visualViewport:null;function Ke(t){let{direction:e}=me(),{arrowSize:o=0,targetRef:n,overlayRef:l,scrollRef:r=l,placement:s="bottom",containerPadding:i=12,shouldFlip:$=!0,boundaryElement:d=typeof document<"u"?document.body:null,offset:u=0,crossOffset:g=0,shouldUpdatePosition:p=!0,isOpen:a=!0,onClose:f,maxHeight:h,arrowBoundaryOffset:c=0}=t,[m,v]=C.useState(null),E=[p,s,l.current,n.current,r.current,i,$,d,u,g,a,e,h,c,o],T=C.useRef(b==null?void 0:b.scale);C.useEffect(()=>{a&&(T.current=b==null?void 0:b.scale)},[a]);let L=C.useCallback(()=>{if(p===!1||!a||!l.current||!n.current||!d||(b==null?void 0:b.scale)!==T.current)return;let w=null;if(r.current&&r.current.contains(document.activeElement)){var S;let R=(S=document.activeElement)===null||S===void 0?void 0:S.getBoundingClientRect(),F=r.current.getBoundingClientRect();var _;if(w={type:"top",offset:((_=R==null?void 0:R.top)!==null&&_!==void 0?_:0)-F.top},w.offset>F.height/2){w.type="bottom";var k;w.offset=((k=R==null?void 0:R.bottom)!==null&&k!==void 0?k:0)-F.bottom}}let z=l.current;if(!h&&l.current){var O;z.style.top="0px",z.style.bottom="";var N;z.style.maxHeight=((N=(O=window.visualViewport)===null||O===void 0?void 0:O.height)!==null&&N!==void 0?N:window.innerHeight)+"px"}let A=Te({placement:Ie(s,e),overlayNode:l.current,targetNode:n.current,scrollNode:r.current||l.current,padding:i,shouldFlip:$,boundaryElement:d,offset:u,crossOffset:g,maxHeight:h,arrowSize:o,arrowBoundaryOffset:c});if(A.position){if(z.style.top="",z.style.bottom="",z.style.left="",z.style.right="",Object.keys(A.position).forEach(R=>z.style[R]=A.position[R]+"px"),z.style.maxHeight=A.maxHeight!=null?A.maxHeight+"px":"",w&&document.activeElement&&r.current){let R=document.activeElement.getBoundingClientRect(),F=r.current.getBoundingClientRect(),Z=R[w.type]-F[w.type];r.current.scrollTop+=Z-w.offset}v(A)}},E);B(L,E),He(L),Q({ref:l,onResize:L}),Q({ref:n,onResize:L});let x=C.useRef(!1);B(()=>{let w,S=()=>{x.current=!0,clearTimeout(w),w=setTimeout(()=>{x.current=!1},500),L()},_=()=>{x.current&&S()};return b==null||b.addEventListener("resize",S),b==null||b.addEventListener("scroll",_),()=>{b==null||b.removeEventListener("resize",S),b==null||b.removeEventListener("scroll",_)}},[L]);let H=C.useCallback(()=>{x.current||f==null||f()},[f,x]);ze({triggerRef:n,isOpen:a,onClose:f&&H});var I,y;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...m==null?void 0:m.position,maxHeight:(I=m==null?void 0:m.maxHeight)!==null&&I!==void 0?I:"100vh"}},placement:(y=m==null?void 0:m.placement)!==null&&y!==void 0?y:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:m==null?void 0:m.arrowOffsetLeft,top:m==null?void 0:m.arrowOffsetTop}},updatePosition:L}}function He(t){B(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function Ie(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}const ie=C.createContext({});function Qe(t){let{getContainer:e}=t,{getContainer:o}=Ae();return le.createElement(ie.Provider,{value:{getContainer:e===null?void 0:e??o}},t.children)}function Ae(){var t;return(t=C.useContext(ie))!==null&&t!==void 0?t:{}}function We(t){let[e,o]=ve(t.isOpen,t.defaultOpen||!1,t.onOpenChange);const n=C.useCallback(()=>{o(!0)},[o]),l=C.useCallback(()=>{o(!1)},[o]),r=C.useCallback(()=>{o(!e)},[o,e]);return{isOpen:e,setOpen:o,open:n,close:l,toggle:r}}const Me=C.createContext({placement:"bottom"}),Ve=C.forwardRef(function(e,o){[e,o]=ge(e,o,Me);let n=e.placement,l={position:"absolute",transform:n==="top"||n==="bottom"?"translateX(-50%)":"translateY(-50%)"};n!=null&&(l[n]="100%");let r=$e({...e,defaultClassName:"react-aria-OverlayArrow",values:{placement:n}});r.style&&Object.keys(r.style).forEach(i=>r.style[i]===void 0&&delete r.style[i]);let s=he(e);return le.createElement("div",{...s,...r,style:{...l,...r.style},ref:o,"data-placement":n})}),ae=t=>{const{children:e}=t;return q.jsx(xe,{mode:"reset",children:q.jsx(be.Provider,{value:{},children:e})})};ae.__docgenInfo={description:"@flr-generate all",methods:[],displayName:"ClearPropsContext"};const ke=t=>{const e=C.useContext(Ce).ClearPropsContext??ae;return q.jsx(e,{...t})};ke.__docgenInfo={description:"",methods:[],displayName:"ClearPropsContextView"};export{Ve as $,ke as C,ye as a,Ke as b,Ae as c,We as d,Je as e,qe as f,Me as g,Q as h,Qe as i};
