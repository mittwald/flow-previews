import{r as u,R as ee,j as x}from"./iframe-BrFbgMdZ.js";import{f as T}from"./FormField.module-B9AzUSUD.js";import{c as fa}from"./clsx-B-dksMZM.js";import{f as ba,C as ma,P as $a}from"./PropsContextProvider-DlKSdUnj.js";import{F as pa}from"./FieldError-BCnk_DY_.js";import{B as me}from"./Button-DrqjXTlc.js";import{c as xa,q as va,r as Fa,d as La}from"./IconWarning-aBCbZP3e.js";import{R as Da}from"./ReactAriaControlledValueFix-tEBO8Uew.js";import{$ as Pa}from"./Button-dFM767hW.js";import{$ as Na,c as Ba,g as Ca,d as ga,a as Ea,e as ha}from"./utils-uGt6lEHy.js";import{$ as Va}from"./FieldError-DSdi5gGz.js";import{a as Sa,d as ya,$ as Ma}from"./Form-DphLKB0O.js";import{a as Ia,$ as ve,c as wa,b as ka}from"./Group-BgvCwvxg.js";import{$ as ja}from"./Label-Dtl4zIvG.js";import{a as Ra}from"./Text-B3veiim8.js";import{$ as Fe}from"./filterDOMProps-CghfNOdR.js";import{$ as Oa}from"./context-B0-ElNi2.js";import{$ as Ta}from"./useControlledState-n0b34ryi.js";import{b as C,$ as ae,c as $e}from"./ProgressBar-CACYrIaY.js";import{$ as pe}from"./NumberFormatter-DNR9MAW-.js";import{$ as Aa,a as Wa}from"./useSpinButton-BeeuaJpL.js";import{c as qa,$ as K,d as re,e as za}from"./mergeRefs-CglpECzs.js";import{i as Ka,E as _a,z as Ua,k as Za}from"./useFocus-D9Wd5vZ-.js";import{$ as Ya}from"./useFormReset-UpbI-Wf0.js";import{b as Ha}from"./useFocusRing-Dpc6yEcL.js";import{$ as Ga}from"./useEvent-8VQ1yeDi.js";import{$ as Xa}from"./useTextField-Hu8b04JP.js";import{$ as Ja}from"./useLocalizedStringFormatter-BeYnnAMh.js";function Qa(e,a){let{onScroll:r,isDisabled:n}=e,s=u.useCallback(i=>{i.ctrlKey||(i.preventDefault(),i.stopPropagation(),r&&r({deltaX:i.deltaX,deltaY:i.deltaY}))},[r]);Ga(a,"wheel",n?void 0:s)}function er(e){let{minValue:a,maxValue:r,step:n,formatOptions:s,value:i,defaultValue:c=NaN,onChange:p,locale:d,isDisabled:v,isReadOnly:F}=e;i===null&&(i=NaN),i!==void 0&&!isNaN(i)&&(n!==void 0&&!isNaN(n)?i=C(i,a,r,n):i=ae(i,a,r)),isNaN(c)||(n!==void 0&&!isNaN(n)?c=C(c,a,r,n):c=ae(c,a,r));let[t,l]=Ta(i,isNaN(c)?NaN:c,p),[b]=u.useState(t),[N,L]=u.useState(()=>isNaN(t)?"":new pe(d,s).format(t)),B=u.useMemo(()=>new Aa(d,s),[d,s]),E=u.useMemo(()=>B.getNumberingSystem(N),[B,N]),g=u.useMemo(()=>new pe(d,{...s,numberingSystem:E}),[d,s,E]),h=u.useMemo(()=>g.resolvedOptions(),[g]),D=u.useCallback(o=>isNaN(o)||o===null?"":g.format(o),[g]),P=Sa({...e,value:t}),m=n!==void 0&&!isNaN(n)?n:1;h.style==="percent"&&(n===void 0||isNaN(n))&&(m=.01);let[k,_]=u.useState(t),[j,U]=u.useState(d),[M,Z]=u.useState(s);(!Object.is(t,k)||d!==j||s!==M)&&(L(D(t)),_(t),U(d),Z(s));let f=u.useMemo(()=>B.parse(N),[B,N]),A=()=>{if(!N.length){l(NaN),L(i===void 0?"":D(t));return}if(isNaN(f)){L(D(t));return}let o;n===void 0||isNaN(n)?o=ae(f,a,r):o=C(f,a,r,n),o=B.parse(D(o)),l(o),L(D(i===void 0?o:t)),P.commitValidation()},I=(o,z=0)=>{let V=f;if(isNaN(V)){let S=isNaN(z)?0:z;return C(S,a,r,m)}else{let S=C(V,a,r,m);return o==="+"&&S>V||o==="-"&&S<V?S:C(le(o,V,m),a,r,m)}},R=()=>{let o=I("+",a);o===t&&L(D(o)),l(o),P.commitValidation()},Y=()=>{let o=I("-",r);o===t&&L(D(o)),l(o),P.commitValidation()},W=()=>{r!=null&&(l(C(r,a,r,m)),P.commitValidation())},H=()=>{a!=null&&(l(a),P.commitValidation())},q=u.useMemo(()=>!v&&!F&&(isNaN(f)||r===void 0||isNaN(r)||C(f,a,r,m)>f||le("+",f,m)<=r),[v,F,a,r,m,f]),G=u.useMemo(()=>!v&&!F&&(isNaN(f)||a===void 0||isNaN(a)||C(f,a,r,m)<f||le("-",f,m)>=a),[v,F,a,r,m,f]);return{...P,validate:o=>B.isValidPartialNumber(o,a,r),increment:R,incrementToMax:W,decrement:Y,decrementToMin:H,canIncrement:q,canDecrement:G,minValue:a,maxValue:r,numberValue:f,defaultNumberValue:isNaN(c)?b:c,setNumberValue:l,setInputValue:L,inputValue:N,commit:A}}function le(e,a,r){let n=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const s=a.toString().split("."),i=r.toString().split("."),c=s[1]&&s[1].length||0,p=i[1]&&i[1].length||0,d=Math.pow(10,Math.max(c,p));a=Math.round(a*d),r=Math.round(r*d),n=e==="+"?a+r:a-r,n/=d}return n}function xe(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function ar(e,a,r){let n=qa(t=>{let l=r.current;if(!l)return;let b=null;switch(t.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":b=l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentForward":b=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd+1):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteContentBackward":b=l.selectionEnd===l.selectionStart?l.value.slice(0,l.selectionStart-1)+l.value.slice(l.selectionStart):l.value.slice(0,l.selectionStart)+l.value.slice(l.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":b=l.value.slice(l.selectionStart);break;default:t.data!=null&&(b=l.value.slice(0,l.selectionStart)+t.data+l.value.slice(l.selectionEnd));break}(b==null||!a.validate(b))&&t.preventDefault()});u.useEffect(()=>{if(!xe()||!r.current)return;let t=r.current;return t.addEventListener("beforeinput",n,!1),()=>{t.removeEventListener("beforeinput",n,!1)}},[r,n]);let s=xe()?null:t=>{let l=t.target.value.slice(0,t.target.selectionStart)+t.data+t.target.value.slice(t.target.selectionEnd);a.validate(l)||t.preventDefault()},{labelProps:i,inputProps:c,descriptionProps:p,errorMessageProps:d,...v}=Xa(e,r),F=u.useRef(null);return{inputProps:K(c,{onBeforeInput:s,onCompositionStart(){let{value:t,selectionStart:l,selectionEnd:b}=r.current;F.current={value:t,selectionStart:l,selectionEnd:b}},onCompositionEnd(){if(r.current&&!a.validate(r.current.value)){let{value:t,selectionStart:l,selectionEnd:b}=F.current;r.current.value=t,r.current.setSelectionRange(l,b),a.setInputValue(t)}}}),labelProps:i,descriptionProps:p,errorMessageProps:d,...v}}var Le={};Le={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var De={};De={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var Pe={};Pe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var Ne={};Ne={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var Be={};Be={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var Ce={};Ce={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var ge={};ge={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Ee={};Ee={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var he={};he={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var Ve={};Ve={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var Se={};Se={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var ye={};ye={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Me={};Me={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var Ie={};Ie={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var we={};we={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var ke={};ke={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var je={};je={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var Re={};Re={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var Oe={};Oe={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Te={};Te={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Ae={};Ae={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var We={};We={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var qe={};qe={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var ze={};ze={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var Ke={};Ke={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var _e={};_e={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var Ue={};Ue={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var Ze={};Ze={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var Ye={};Ye={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var He={};He={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ge={};Ge={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var Xe={};Xe={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var Je={};Je={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Qe={};Qe={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};var ea={};ea={"ar-AE":Le,"bg-BG":De,"cs-CZ":Pe,"da-DK":Ne,"de-DE":Be,"el-GR":Ce,"en-US":ge,"es-ES":Ee,"et-EE":he,"fi-FI":Ve,"fr-FR":Se,"he-IL":ye,"hr-HR":Me,"hu-HU":Ie,"it-IT":we,"ja-JP":ke,"ko-KR":je,"lt-LT":Re,"lv-LV":Oe,"nb-NO":Te,"nl-NL":Ae,"pl-PL":We,"pt-BR":qe,"pt-PT":ze,"ro-RO":Ke,"ru-RU":_e,"sk-SK":Ue,"sl-SI":Ze,"sr-SP":Ye,"sv-SE":He,"tr-TR":Ge,"uk-UA":Xe,"zh-CN":Je,"zh-TW":Qe};function rr(e){return e&&e.__esModule?e.default:e}function lr(e,a,r){let{id:n,decrementAriaLabel:s,incrementAriaLabel:i,isDisabled:c,isReadOnly:p,isRequired:d,minValue:v,maxValue:F,autoFocus:t,label:l,formatOptions:b,onBlur:N=()=>{},onFocus:L,onFocusChange:B,onKeyDown:E,onKeyUp:g,description:h,errorMessage:D,isWheelDisabled:P,...m}=e,{increment:k,incrementToMax:_,decrement:j,decrementToMin:U,numberValue:M,inputValue:Z,commit:f,commitValidation:A}=a;const I=Ja(rr(ea),"@react-aria/numberfield");let R=re(n),{focusProps:Y}=Ka({onBlur(){f()}}),W=$e(b),H=u.useMemo(()=>W.resolvedOptions(),[W]),q=$e({...b,currencySign:void 0}),G=u.useMemo(()=>isNaN(M)?"":q.format(M),[q,M]),{spinButtonProps:te,incrementButtonProps:o,decrementButtonProps:z}=Wa({isDisabled:c,isReadOnly:p,isRequired:d,maxValue:F,minValue:v,onIncrement:k,onIncrementToMax:_,onDecrement:j,onDecrementToMin:U,value:M,textValue:G}),[V,S]=u.useState(!1),{focusWithinProps:aa}=Ha({isDisabled:c,onFocusWithinChange:S}),ra=u.useCallback($=>{Math.abs($.deltaY)<=Math.abs($.deltaX)||($.deltaY>0?k():$.deltaY<0&&j())},[j,k]);Qa({onScroll:ra,isDisabled:P||c||p||!V},r);var X;let ie=((X=H.maximumFractionDigits)!==null&&X!==void 0?X:0)>0,ne=a.minValue===void 0||isNaN(a.minValue)||a.minValue<0,O="numeric";_a()?ne?O="text":ie&&(O="decimal"):Ua()&&(ne?O="numeric":ie&&(O="decimal"));let la=$=>{a.validate($)&&a.setInputValue($)},ta=Fe(e),oe=u.useCallback($=>{$.nativeEvent.isComposing||($.key==="Enter"?(f(),A()):$.continuePropagation())},[f,A]),{isInvalid:ue,validationErrors:ia,validationDetails:na}=a.displayValidation,{labelProps:se,inputProps:oa,descriptionProps:ua,errorMessageProps:sa}=ar({...m,...ta,name:void 0,form:void 0,label:l,autoFocus:t,isDisabled:c,isReadOnly:p,isRequired:d,validate:void 0,[ya]:a,value:Z,defaultValue:"!",autoComplete:"off","aria-label":e["aria-label"]||void 0,"aria-labelledby":e["aria-labelledby"]||void 0,id:R,type:"text",inputMode:O,onChange:la,onBlur:N,onFocus:L,onFocusChange:B,onKeyDown:u.useMemo(()=>za(oe,E),[oe,E]),onKeyUp:g,description:h,errorMessage:D},a,r);Ya(r,a.defaultNumberValue,a.setNumberValue);let de=K(te,Y,oa,{role:null,"aria-roledescription":Za()?null:I.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});e.validationBehavior==="native"&&(de["aria-required"]=void 0);let ce=$=>{var Q;document.activeElement!==r.current&&($.pointerType==="mouse"?(Q=r.current)===null||Q===void 0||Q.focus():$.target.focus())},J=e["aria-label"]||(typeof e.label=="string"?e.label:""),y;J||(y=e.label!=null?se.id:e["aria-labelledby"]);let fe=re(),be=re(),da=K(o,{"aria-label":i||I.format("increase",{fieldLabel:J}).trim(),id:y&&!i?fe:null,"aria-labelledby":y&&!i?`${fe} ${y}`:null,"aria-controls":R,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:ce}),ca=K(z,{"aria-label":s||I.format("decrease",{fieldLabel:J}).trim(),id:y&&!s?be:null,"aria-labelledby":y&&!s?`${be} ${y}`:null,"aria-controls":R,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:ce});return{groupProps:{...aa,role:"group","aria-disabled":c,"aria-invalid":ue?"true":void 0},labelProps:se,inputProps:de,incrementButtonProps:da,decrementButtonProps:ca,errorMessageProps:sa,descriptionProps:ua,isInvalid:ue,validationErrors:ia,validationDetails:na}}const tr=u.createContext(null),ir=u.createContext(null),nr=u.forwardRef(function(a,r){[a,r]=Na(a,r,tr);let{validationBehavior:n}=Ba(Ma)||{};var s,i;let c=(i=(s=a.validationBehavior)!==null&&s!==void 0?s:n)!==null&&i!==void 0?i:"native",{locale:p}=Oa(),d=er({...a,locale:p,validationBehavior:c}),v=u.useRef(null),[F,t]=Ca(!a["aria-label"]&&!a["aria-labelledby"]),{labelProps:l,groupProps:b,inputProps:N,incrementButtonProps:L,decrementButtonProps:B,descriptionProps:E,errorMessageProps:g,...h}=lr({...ga(a),label:t,validationBehavior:c},d,v),D=Ea({...a,values:{state:d,isDisabled:a.isDisabled||!1,isInvalid:h.isInvalid||!1,isRequired:a.isRequired||!1},defaultClassName:"react-aria-NumberField"}),P=Fe(a,{global:!0});return delete P.id,ee.createElement(ha,{values:[[ir,d],[Ia,b],[ve,{...N,ref:v}],[ja,{...l,ref:F}],[Pa,{slots:{increment:L,decrement:B}}],[Ra,{slots:{description:E,errorMessage:g}}],[Va,h]]},ee.createElement("div",{...P,...D,ref:r,slot:a.slot||void 0,"data-disabled":a.isDisabled||void 0,"data-required":a.isRequired||void 0,"data-invalid":h.isInvalid||void 0}),a.name&&ee.createElement("input",{type:"hidden",name:a.name,form:a.form,value:isNaN(d.numberValue)?"":d.numberValue}))}),or="flow--number-field--group",ur="flow--number-field--input",sr="flow--number-field--decrement-button",dr="flow--number-field--increment-button",cr="flow--number-field--coarse-pointer-icon",w={group:or,input:ur,decrementButton:sr,incrementButton:dr,coarsePointerIcon:cr},fr=ba("NumberField",e=>{const{children:a,className:r,ref:n,defaultValue:s,isWheelDisabled:i=!0,...c}=e,p=fa(T.formField,r),d={Label:{className:T.label,optional:!e.isRequired},FieldDescription:{className:T.fieldDescription},FieldError:{className:T.customFieldError}};return x.jsx(ma,{children:x.jsxs(nr,{...c,isWheelDisabled:i,defaultValue:s,className:p,children:[x.jsxs(wa,{className:w.group,children:[x.jsxs(me,{ariaSlot:"decrement",className:w.decrementButton,size:"s",variant:"plain",color:"secondary",children:[x.jsx(xa,{}),x.jsx(va,{className:w.coarsePointerIcon})]}),x.jsx(Da,{inputContext:ve,props:e,children:x.jsx(ka,{className:w.input,ref:n})}),x.jsxs(me,{ariaSlot:"increment",className:w.incrementButton,size:"s",variant:"plain",color:"secondary",children:[x.jsx(Fa,{}),x.jsx(La,{className:w.coarsePointerIcon})]})]}),x.jsx($a,{props:d,children:a}),x.jsx(pa,{className:T.fieldError})]})})});fr.__docgenInfo={description:`@flr-generate all
@flr-clear-props-context`,methods:[],displayName:"NumberField"};export{fr as N};
