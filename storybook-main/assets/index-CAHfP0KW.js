import{r as x,R as o}from"./index-uCp2LrAq.js";import{c as k}from"./clsx-B-dksMZM.js";import{b as P,$ as K,f as _,C as S,P as L,j as U,N as z,A as C}from"./flowComponent-mx6gNTLC.js";import{d as J}from"./dynamic-DKDa4OpU.js";import{f as V,F as Q}from"./FormField.module-LvYbSK_w.js";import"./index-DZfY3KTC.js";import{d as X}from"./deepFindOfType-CMLjW25q.js";import"./IconApp-BIdwNI98.js";import{v as Y,C as Z,D as ee}from"./IconWarning-D8_Kmr9-.js";import{a as T,c as ae,d as ie,b as A,f as oe,g as de,h as re,e as te}from"./utils-CdQPmsSK.js";import{c as se,b as le,a as ne,e as ce,f as ue}from"./Form-CYvIfZY5.js";import{a as fe}from"./Label-CQOGn-Bz.js";import{a as me}from"./Text-CCrwicCI.js";import{$ as G}from"./filterDOMProps-CeZl_uWj.js";import{$ as be}from"./useControlledState-B8AA3oOY.js";import{$ as pe}from"./FocusScope-C7oaV3dv.js";import{a as $e,$ as ve,b as ge,c as he}from"./useFocusable-DNSguhwx.js";import{$ as Pe}from"./useLocalizedStringFormatter-BSZsX2U2.js";import{$ as xe}from"./useFormReset-BVAoG5kh.js";import{$ as q}from"./usePress-BYMZ8FXB.js";import{$ as Re}from"./VisuallyHidden-kdbq3tHP.js";import{C as ye}from"./ColumnLayout-B78AueES.js";const W=new WeakMap;function Ee(e,a,t){let{value:i,children:r,"aria-label":l,"aria-labelledby":d}=e;const s=e.isDisabled||a.isDisabled;let u=r!=null,n=l!=null||d!=null;!u&&!n&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let c=a.selectedValue===i,b=F=>{F.stopPropagation(),a.setSelectedValue(i)},{pressProps:v,isPressed:h}=q({isDisabled:s}),{pressProps:$,isPressed:R}=q({isDisabled:s,onPress(){a.setSelectedValue(i)}}),{focusableProps:y}=$e(P(e,{onFocus:()=>a.setLastFocusedValue(i)}),t),E=P(v,y),I=G(e,{labelable:!0}),N=-1;a.selectedValue!=null?a.selectedValue===i&&(N=0):(a.lastFocusedValue===i||a.lastFocusedValue==null)&&(N=0),s&&(N=void 0);let{name:p,descriptionId:f,errorMessageId:g,validationBehavior:m}=W.get(a);return xe(t,a.selectedValue,a.setSelectedValue),se({validationBehavior:m},a,t),{labelProps:P($,{onClick:F=>F.preventDefault()}),inputProps:P(I,{...E,type:"radio",name:p,tabIndex:N,disabled:s,required:a.isRequired&&m==="native",checked:c,value:i,onChange:b,"aria-describedby":[e["aria-describedby"],a.isInvalid?g:null,f].filter(Boolean).join(" ")||void 0}),isDisabled:s,isSelected:c,isPressed:h||R}}function Ie(e,a){let{name:t,isReadOnly:i,isRequired:r,isDisabled:l,orientation:d="vertical",validationBehavior:s="aria"}=e,{direction:u}=Pe(),{isInvalid:n,validationErrors:c,validationDetails:b}=a.displayValidation,{labelProps:v,fieldProps:h,descriptionProps:$,errorMessageProps:R}=le({...e,labelElementType:"span",isInvalid:a.isInvalid,errorMessage:e.errorMessage||c}),y=G(e,{labelable:!0}),{focusWithinProps:E}=ve({onBlurWithin(p){var f;(f=e.onBlur)===null||f===void 0||f.call(e,p),a.selectedValue||a.setLastFocusedValue(null)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),I=p=>{let f;switch(p.key){case"ArrowRight":u==="rtl"&&d!=="vertical"?f="prev":f="next";break;case"ArrowLeft":u==="rtl"&&d!=="vertical"?f="next":f="prev";break;case"ArrowDown":f="next";break;case"ArrowUp":f="prev";break;default:return}p.preventDefault();let g=pe(p.currentTarget,{from:p.target}),m;f==="next"?(m=g.nextNode(),m||(g.currentNode=p.currentTarget,m=g.firstChild())):(m=g.previousNode(),m||(g.currentNode=p.currentTarget,m=g.lastChild())),m&&(m.focus(),a.setSelectedValue(m.value))},N=K(t);return W.set(a,{name:N,descriptionId:$.id,errorMessageId:R.id,validationBehavior:s}),{radioGroupProps:P(y,{role:"radiogroup",onKeyDown:I,"aria-invalid":a.isInvalid||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":i||void 0,"aria-required":r||void 0,"aria-disabled":l||void 0,"aria-orientation":d,...h,...E}),labelProps:v,descriptionProps:$,errorMessageProps:R,isInvalid:n,validationErrors:c,validationDetails:b}}let Ne=Math.round(Math.random()*1e10),De=0;function Ce(e){let a=x.useMemo(()=>e.name||`radio-group-${Ne}-${++De}`,[e.name]);var t;let[i,r]=be(e.value,(t=e.defaultValue)!==null&&t!==void 0?t:null,e.onChange),[l,d]=x.useState(null),s=ne({...e,value:i}),u=c=>{!e.isReadOnly&&!e.isDisabled&&(r(c),s.commitValidation())},n=s.displayValidation.isInvalid;return{...s,name:a,selectedValue:i,setSelectedValue:u,lastFocusedValue:l,setLastFocusedValue:d,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,validationState:e.validationState||(n?"invalid":null),isInvalid:n}}const Ve=x.createContext(null),Fe=x.createContext(null),H=x.createContext(null);function Be(e,a){[e,a]=T(e,a,Ve);let{validationBehavior:t}=ae(ce)||{};var i,r;let l=(r=(i=e.validationBehavior)!==null&&i!==void 0?i:t)!==null&&r!==void 0?r:"native",d=Ce({...e,validationBehavior:l}),[s,u]=ie(),{radioGroupProps:n,labelProps:c,descriptionProps:b,errorMessageProps:v,...h}=Ie({...e,label:u,validationBehavior:l},d),$=A({...e,values:{orientation:e.orientation||"vertical",isDisabled:d.isDisabled,isReadOnly:d.isReadOnly,isRequired:d.isRequired,isInvalid:d.isInvalid,state:d},defaultClassName:"react-aria-RadioGroup"});return o.createElement("div",{...n,...$,ref:a,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":d.isInvalid||void 0,"data-disabled":d.isDisabled||void 0,"data-readonly":d.isReadOnly||void 0,"data-required":d.isRequired||void 0},o.createElement(oe,{values:[[H,d],[fe,{...c,ref:s,elementType:"span"}],[me,{slots:{description:b,errorMessage:v}}],[ue,h]]},$.children))}function we(e,a){let{inputRef:t=null,...i}=e;[e,a]=T(i,a,Fe);let r=o.useContext(H),l=de(re(t,e.inputRef!==void 0?e.inputRef:null)),{labelProps:d,inputProps:s,isSelected:u,isDisabled:n,isPressed:c}=Ee({...te(e),children:typeof e.children=="function"?!0:e.children},r,l),{isFocused:b,isFocusVisible:v,focusProps:h}=ge(),$=n||r.isReadOnly,{hoverProps:R,isHovered:y}=he({...e,isDisabled:$}),E=A({...e,defaultClassName:"react-aria-Radio",values:{isSelected:u,isPressed:c,isHovered:y,isFocused:b,isFocusVisible:v,isDisabled:n,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),I=G(e);return delete I.id,o.createElement("label",{...P(I,d,R,E),ref:a,"data-selected":u||void 0,"data-pressed":c||void 0,"data-hovered":y||void 0,"data-focused":b||void 0,"data-focus-visible":v||void 0,"data-disabled":n||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},o.createElement(Re,{elementType:"span"},o.createElement("input",{...P(s,h),ref:l})),E.children)}const ke=x.forwardRef(Be),_e=x.forwardRef(we),Ge="flow--radio-group",Me="flow--radio-group--segmented-group",Oe="flow--radio-group--segments",qe="flow--radio-group--segment",Se="flow--radio-group--checkmark",D={radioGroup:Ge,segmentedGroup:Me,segments:Oe,segment:qe,checkmark:Se},Le="flow--radio-group--radio-button",Te="flow--radio-group--radio-button--content",Ae="flow--radio-group--radio-button--label",B={radioButton:Le,content:Te,label:Ae},M=_("RadioButton",e=>{const{children:a,className:t,ref:i,...r}=e,l=k(B.radioButton,t),d={Text:{className:B.label},Content:{className:B.content}};return o.createElement(S,null,o.createElement(O,{...r,className:l,ref:i},o.createElement(L,{props:d},a)))});M.__docgenInfo={description:"",methods:[],displayName:"RadioButton"};M.__docgenInfo={description:"",methods:[],displayName:"RadioButton"};const j=_("RadioGroup",e=>{const{children:a,className:t,variant:i="default",s:r,m:l,l:d,...s}=e,u=k(V.formField,t);let n={Label:{className:V.label},FieldDescription:{className:V.fieldDescription,tunnelId:"fieldDescription"},FieldError:{className:V.customFieldError,tunnelId:"fieldError"},RadioButton:{tunnelId:"radios"},Radio:{tunnelId:"radios"}};i==="segmented"&&(n=U(n,{Radio:{className:D.segment,unstyled:!0,children:J(b=>o.createElement(o.Fragment,null,b.children,o.createElement(Y,{className:D.checkmark})))}}));const c=!!X(a,M);return i==="segmented"&&c&&console.warn("<RadioButton/> is not supported in 'segmented' variant of <RadioGroup />"),o.createElement(ke,{...s,className:u},o.createElement(z,null,o.createElement(L,{props:n,dependencies:[i]},a,i==="segmented"&&o.createElement("div",{className:D.segmentedGroup},o.createElement("div",{className:D.segments},o.createElement(C,{id:"radios"}))),i==="default"&&c&&o.createElement(ye,{s:r,m:l,l:d,className:D.radioGroup},o.createElement(C,{id:"radios"})),i==="default"&&!c&&o.createElement("div",{className:D.radioGroup},o.createElement(C,{id:"radios"})),o.createElement(C,{id:"fieldDescription"}),o.createElement(C,{id:"fieldError"}))),o.createElement(Q,{className:V.fieldError}))});j.__docgenInfo={description:"",methods:[],displayName:"RadioGroup"};const We="flow--radio-group--radio",He="flow--radio-group--radio--icon",w={radio:We,icon:He},O=_("Radio",e=>{const{children:a,className:t,unstyled:i=!1,ref:r,...l}=e,d=i?t:k(w.radio,t);return o.createElement(S,null,o.createElement(_e,{...l,className:d,ref:r},({isSelected:s})=>o.createElement(o.Fragment,null,s?!i&&o.createElement(Z,{className:w.icon}):!i&&o.createElement(ee,{className:w.icon}),a)))});O.__docgenInfo={description:"",methods:[],displayName:"Radio"};O.__docgenInfo={description:"",methods:[],displayName:"Radio"};j.__docgenInfo={description:"",methods:[],displayName:"RadioGroup"};export{j as R,O as a,M as b};
