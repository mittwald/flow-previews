import{$ as f}from"./mergeRefs-CjEz_01H.js";import{$ as O}from"./filterDOMProps-CghfNOdR.js";import{$ as R}from"./useFormReset-TshWv7lU.js";import{$ as g}from"./usePress-dFXSg5ro.js";import{$ as E}from"./useFocusable-ow-zpXhZ.js";import{$ as I}from"./useControlledState-BRJHAPjA.js";import{r as U}from"./iframe-Cvd7_oGo.js";function H(e,a,l){let{isDisabled:t=!1,isReadOnly:d=!1,value:s,name:c,form:i,children:$,"aria-label":V,"aria-labelledby":j,validationState:b="valid",isInvalid:u,onPressStart:m,onPressEnd:p,onPressChange:S,onPress:o,onPressUp:v,onClick:P}=e,x=r=>{r.stopPropagation(),a.setSelected(r.target.checked)},{pressProps:y,isPressed:h}=g({onPressStart:m,onPressEnd:p,onPressChange:S,onPress:o,onPressUp:v,onClick:P,isDisabled:t}),{pressProps:C,isPressed:k}=g({onPressStart:m,onPressEnd:p,onPressChange:S,onPressUp:v,onClick:P,onPress(r){var n;o==null||o(r),a.toggle(),(n=l.current)===null||n===void 0||n.focus()},isDisabled:t||d}),{focusableProps:_}=E(e,l),D=f(y,_),L=O(e,{labelable:!0});return R(l,a.defaultSelected,a.setSelected),{labelProps:f(C,{onClick:r=>r.preventDefault()}),inputProps:f(L,{"aria-invalid":u||b==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":d||void 0,onChange:x,disabled:t,...s==null?{}:{value:s},name:c,form:i,type:"checkbox",...D}),isSelected:a.isSelected,isPressed:h||k,isDisabled:t,isReadOnly:d,isInvalid:u||b==="invalid"}}function J(e={}){let{isReadOnly:a}=e,[l,t]=I(e.isSelected,e.defaultSelected||!1,e.onChange),[d]=U.useState(l);function s($){a||t($)}function c(){a||t(!l)}var i;return{isSelected:l,defaultSelected:(i=e.defaultSelected)!==null&&i!==void 0?i:d,setSelected:s,toggle:c}}export{H as $,J as a};
